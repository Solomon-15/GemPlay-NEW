/*! For license information please see main.bb80f392.js.LICENSE.txt */
(()=>{"use strict";var e={509:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var n=s(43),a=s(722),r=s(579);const i="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),o=e=>{let{user:t}=e;const[s,o]=(0,n.useState)(null),[l,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(null),[h,x]=(0,n.useState)(!0),[m,f]=(0,n.useState)("dashboard"),[p,g]=(0,n.useState)(null),[b,y]=(0,n.useState)("");(0,n.useEffect)((()=>{v();const e=setInterval(v,3e4);return()=>clearInterval(e)}),[]);const v=async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},[s,n,r]=await Promise.all([a.A.get("".concat(i,"/admin/security/dashboard"),{headers:t}),a.A.get("".concat(i,"/admin/security/alerts?limit=20"),{headers:t}),a.A.get("".concat(i,"/admin/security/monitoring-stats"),{headers:t})]);o(s.data),c(n.data),u(r.data),x(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438:",e),x(!1)}},j=async e=>{if(b.trim()){g(e);try{const t=localStorage.getItem("token");await a.A.post("".concat(i,"/admin/security/alerts/").concat(e,"/resolve"),{action_taken:b},{headers:{Authorization:"Bearer ".concat(t)}}),y(""),g(null),v(),alert("\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f:",t),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),g(null)}}else alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f")},w=e=>({LOW:"text-green-400",MEDIUM:"text-yellow-400",HIGH:"text-orange-400",CRITICAL:"text-red-400"}[e]||"text-gray-400"),N=e=>({LOW:"bg-green-900 bg-opacity-20 border-green-500",MEDIUM:"bg-yellow-900 bg-opacity-20 border-yellow-500",HIGH:"bg-orange-900 bg-opacity-20 border-orange-500",CRITICAL:"bg-red-900 bg-opacity-20 border-red-500"}[e]||"bg-gray-900 bg-opacity-20 border-gray-500"),k=e=>({LOW:"\u041d\u0438\u0437\u043a\u0438\u0439",MEDIUM:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",HIGH:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439",CRITICAL:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439"}[e]||e);return h?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438..."})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-text-secondary",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0435 30 \u0441\u0435\u043a\u0443\u043d\u0434"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-4 border-b border-border-primary",children:[(0,r.jsx)("button",{onClick:()=>f("dashboard"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("dashboard"===m?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),(0,r.jsx)("button",{onClick:()=>f("alerts"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("alerts"===m?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),(0,r.jsx)("button",{onClick:()=>f("stats"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("stats"===m?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]}),"dashboard"===m&&s&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,r.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-red-400",children:s.active_alerts||0})]}),(0,r.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})]})}),(0,r.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 IP"}),(0,r.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-orange-400",children:s.blocked_ips||0})]}),(0,r.jsx)("svg",{className:"w-8 h-8 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364L18.364 5.636"})})]})}),(0,r.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b"}),(0,r.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-yellow-400",children:s.suspicious_accounts||0})]}),(0,r.jsx)("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})}),(0,r.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435"}),(0,r.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-green-400",children:s.system_health||"OK"})]}),(0,r.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]}),(0,r.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,r.jsx)("div",{className:"space-y-3",children:s.recent_activity&&s.recent_activity.length>0?s.recent_activity.map(((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border-primary last:border-b-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(w(e.severity))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white text-sm",children:e.description}),(0,r.jsx)("p",{className:"text-text-secondary text-xs",children:new Date(e.timestamp).toLocaleString("ru-RU")})]})]}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(N(e.severity)),children:k(e.severity)})]},t))):(0,r.jsx)("p",{className:"text-text-secondary",children:"\u041d\u0435\u0434\u0430\u0432\u043d\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0435\u0442"})})]})]}),"alerts"===m&&(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),l.length>0?(0,r.jsx)("div",{className:"space-y-4",children:l.map((e=>{var t,s,n;return(0,r.jsx)("div",{className:"p-4 rounded-lg border ".concat(N(e.severity)),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("span",{className:"font-medium ".concat(w(e.severity)),children:k(e.severity)}),(0,r.jsx)("span",{className:"text-text-secondary",children:"\u2022"}),(0,r.jsx)("span",{className:"text-text-secondary text-sm",children:(n=e.alert_type,{SUSPICIOUS_LOGIN:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u0445\u043e\u0434",MULTIPLE_FAILED_LOGINS:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044b",UNUSUAL_BETTING_PATTERN:"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u0430\u044f \u0441\u0445\u0435\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a",HIGH_VALUE_TRANSACTION:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438",ACCOUNT_MANIPULATION:"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u0441 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c",POTENTIAL_BOT_ACTIVITY:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u0430\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0442\u0430",SYSTEM_ANOMALY:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0430\u043d\u043e\u043c\u0430\u043b\u0438\u044f"}[n]||n)})]}),(0,r.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:e.title}),(0,r.jsx)("p",{className:"text-text-secondary text-sm mb-2",children:e.description}),(0,r.jsxs)("div",{className:"text-xs text-text-secondary",children:[(0,r.jsxs)("span",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(null===(t=e.user_info)||void 0===t?void 0:t.username)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"]}),(0,r.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,r.jsxs)("span",{children:["IP: ",(null===(s=e.user_info)||void 0===s?void 0:s.ip_address)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"]}),(0,r.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,r.jsx)("span",{children:new Date(e.created_at).toLocaleString("ru-RU")})]})]}),"OPEN"===e.status&&(0,r.jsxs)("div",{className:"ml-4 space-y-2",children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",placeholder:"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f...",value:p===e.id?b:"",onChange:t=>{p===e.id&&y(t.target.value)},onFocus:()=>g(e.id),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded text-white text-sm"})}),(0,r.jsx)("button",{onClick:()=>j(e.id),disabled:p!==e.id||!b.trim(),className:"w-full px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:opacity-50 text-white text-sm rounded font-medium transition-colors",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"})]})]})},e.id)}))}):(0,r.jsx)("p",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439 \u043d\u0435\u0442"})]})}),"stats"===m&&d&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439:"}),(0,r.jsx)("span",{className:"text-white font-bold",children:d.total_alerts||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0451\u043d\u043d\u044b\u0445:"}),(0,r.jsx)("span",{className:"text-green-400 font-bold",children:d.resolved_alerts||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0445:"}),(0,r.jsx)("span",{className:"text-red-400 font-bold",children:d.open_alerts||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445:"}),(0,r.jsx)("span",{className:"text-red-400 font-bold",children:d.critical_alerts||0})]})]})]}),(0,r.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0435\u0441\u0441\u0438\u0438:"}),(0,r.jsx)("span",{className:"text-white font-bold",children:d.active_sessions||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u041d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044b (24\u0447):"}),(0,r.jsx)("span",{className:"text-orange-400 font-bold",children:d.failed_logins_24h||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 IP:"}),(0,r.jsx)("span",{className:"text-red-400 font-bold",children:d.blocked_ips||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b:"}),(0,r.jsx)("span",{className:"text-yellow-400 font-bold",children:d.suspicious_accounts||0})]})]})]})]})]})}},4:(e,t,s)=>{var n=s(853),a=s(43),r=s(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var S=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===S?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case x:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Provider";case f:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return C(e(t))}catch(s){}}return null}var A,M,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=Object.assign;function P(e){if(void 0===A)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||"",M=-1<s.stack.indexOf("\n    at")?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+A+e+M}var z=!1;function O(e,t){if(!e||z)return"";z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(a){var n=a}Reflect.construct(e,[],s)}else{try{s.call()}catch(r){n=r}e.call(s.prototype)}}else{try{throw Error()}catch(i){n=i}(s=e())&&"function"===typeof s.catch&&s.catch((function(){}))}}catch(cr){if(cr&&n&&"string"===typeof cr.stack)return[cr.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(1!==n||1!==a)do{if(n--,0>--a||l[n]!==c[a]){var d="\n"+l[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?P(s):""}function T(e){switch(e.tag){case 26:case 27:case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function R(e){try{var t="";do{t+=T(e),e=e.return}while(e);return t}catch(s){return"\nError generating stack: "+s.message+"\n"+s.stack}}function D(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function I(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function B(e){if(D(e)!==e)throw Error(i(188))}function F(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=F(e)))return t;e=e.sibling}return null}var W=Array.isArray,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},H=[],q=-1;function $(e){return{current:e}}function G(e){0>q||(e.current=H[q],H[q]=null,q--)}function Y(e,t){q++,H[q]=e.current,e.current=t}var Q=$(null),K=$(null),X=$(null),J=$(null);function Z(e,t){switch(Y(X,t),Y(K,e),Y(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xd(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Jd(e=Xd(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(Q),Y(Q,t)}function ee(){G(Q),G(K),G(X)}function te(e){null!==e.memoizedState&&Y(J,e);var t=Q.current,s=Jd(t,e.type);t!==s&&(Y(K,e),Y(Q,s))}function se(e){K.current===e&&(G(Q),G(K)),J.current===e&&(G(J),Du._currentValue=U)}var ne=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,re=n.unstable_cancelCallback,ie=n.unstable_shouldYield,oe=n.unstable_requestPaint,le=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,he=n.unstable_NormalPriority,xe=n.unstable_LowPriority,me=n.unstable_IdlePriority,fe=n.log,pe=n.unstable_setDisableYieldValue,ge=null,be=null;function ye(e){if("function"===typeof fe&&pe(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/we|0)|0},je=Math.log,we=Math.LN2;var Ne=128,ke=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t){var s=e.pendingLanes;if(0===s)return 0;var n=0,a=e.suspendedLanes,r=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&s;return 0!==o?0!==(s=o&~a)?n=_e(s):0!==(r&=o)?n=_e(r):e||0!==(i=o&~i)&&(n=_e(i)):0!==(o=s&~a)?n=_e(o):0!==r?n=_e(r):e||0!==(i=s&~i)&&(n=_e(i)),0===n?0:0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(i=t&-t)||32===a&&0!==(4194176&i))?t:n}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Me(){var e=Ne;return 0===(4194176&(Ne<<=1))&&(Ne=128),e}function Le(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ee(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ze(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ve(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194218&s}function Oe(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ve(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=V.p;return 0!==e?e:void 0===(e=window.event)?32:Ju(e.type)}var De=Math.random().toString(36).slice(2),Ie="__reactFiber$"+De,Be="__reactProps$"+De,Fe="__reactContainer$"+De,We="__reactEvents$"+De,Ve="__reactListeners$"+De,Ue="__reactHandles$"+De,He="__reactResources$"+De,qe="__reactMarker$"+De;function $e(e){delete e[Ie],delete e[Be],delete e[We],delete e[Ve],delete e[Ue]}function Ge(e){var t=e[Ie];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Fe]||s[Ie]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=cu(e);null!==e;){if(s=e[Ie])return s;e=cu(e)}return t}s=(e=s).parentNode}return null}function Ye(e){if(e=e[Ie]||e[Fe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ke(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[qe]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var st=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},rt={};function it(e,t,s){if(a=t,ne.call(rt,a)||!ne.call(at,a)&&(nt.test(a)?rt[a]=!0:(at[a]=!0,0)))if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+s)}var a}function ot(e,t,s){if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+s)}}function lt(e,t,s,n){if(null===n)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(s)}e.setAttributeNS(t,s,""+n)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var a=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=dt(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function xt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function pt(e,t,s,n,a,r,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?bt(e,i,ct(t)):null!=s?bt(e,i,ct(s)):null!=n&&e.removeAttribute("value"),null==a&&null!=r&&(e.defaultChecked=!!r),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function gt(e,t,s,n,a,r,i,o){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=s){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;s=null!=s?""+ct(s):"",t=null!=t?""+ct(t):s,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:a)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function bt(e,t,s){"number"===t&&xt(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function yt(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ct(s),t=null,a=0;a<e.length;a++){if(e[a].value===s)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,s){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=s)?e.defaultValue=null!=s?""+ct(s):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,s,n){if(null==t){if(null!=n){if(null!=s)throw Error(i(92));if(W(n)){if(1<n.length)throw Error(i(93));n=n[0]}s=n}null==s&&(s=""),t=s}s=ct(t),e.defaultValue=s,(n=e.textContent)===s&&""!==n&&null!==n&&(e.value=n)}function wt(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,s){var n=0===t.indexOf("--");null==s||"boolean"===typeof s||""===s?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,s):"number"!==typeof s||0===s||Nt.has(t)?"float"===t?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function _t(e,t,s){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=s){for(var n in s)!s.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&s[a]!==n&&kt(e,a,n)}else for(var r in t)t.hasOwnProperty(r)&&kt(e,r,t[r])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lt=null;function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,zt=null;function Ot(e){var t=Ye(e);if(t&&(e=t.stateNode)){var s=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(pt(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=n[Be]||null;if(!a)throw Error(i(90));pt(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<s.length;t++)(n=s[t]).form===e.form&&ht(n)}break e;case"textarea":vt(e,s.value,s.defaultValue);break e;case"select":null!=(t=s.value)&&yt(e,!!s.multiple,t,!1)}}}var Tt=!1;function Rt(e,t,s){if(Tt)return e(t,s);Tt=!0;try{return e(t)}finally{if(Tt=!1,(null!==Pt||null!==zt)&&(Bc(),Pt&&(t=Pt,e=zt,zt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Dt(e,t){var s=e.stateNode;if(null===s)return null;var n=s[Be]||null;if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(i(231,t,typeof s));return s}var It=!1;if(st)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(wh){It=!1}var Ft=null,Wt=null,Vt=null;function Ut(){if(Vt)return Vt;var e,t,s=Wt,n=s.length,a="value"in Ft?Ft.value:Ft.textContent,r=a.length;for(e=0;e<n&&s[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&s[n-t]===a[r-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function $t(){return!1}function Gt(e){function t(t,s,n,a,r){for(var i in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?qt:$t,this.isPropagationStopped=$t,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Yt,Qt,Kt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Gt(Xt),Zt=E({},Xt,{view:0,detail:0}),es=Gt(Zt),ts=E({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Yt=e.screenX-Kt.screenX,Qt=e.screenY-Kt.screenY):Qt=Yt=0,Kt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),ss=Gt(ts),ns=Gt(E({},ts,{dataTransfer:0})),as=Gt(E({},Zt,{relatedTarget:0})),rs=Gt(E({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),is=Gt(E({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),os=Gt(E({},Xt,{data:0})),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ds={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function us(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ds[e])&&!!t[e]}function hs(){return us}var xs=Gt(E({},Zt,{key:function(e){if(e.key){var t=ls[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ms=Gt(E({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),fs=Gt(E({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs})),ps=Gt(E({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),gs=Gt(E({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bs=Gt(E({},Xt,{newState:0,oldState:0})),ys=[9,13,27,32],vs=st&&"CompositionEvent"in window,js=null;st&&"documentMode"in document&&(js=document.documentMode);var ws=st&&"TextEvent"in window&&!js,Ns=st&&(!vs||js&&8<js&&11>=js),ks=String.fromCharCode(32),_s=!1;function Ss(e,t){switch(e){case"keyup":return-1!==ys.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var As=!1;var Ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ls(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ms[e.type]:"textarea"===t}function Es(e,t,s,n){Pt?zt?zt.push(n):zt=[n]:Pt=n,0<(t=Dd(t,"onChange")).length&&(s=new Jt("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ps=null,zs=null;function Os(e){Md(e,0)}function Ts(e){if(ht(Qe(e)))return e}function Rs(e,t){if("change"===e)return t}var Ds=!1;if(st){var Is;if(st){var Bs="oninput"in document;if(!Bs){var Fs=document.createElement("div");Fs.setAttribute("oninput","return;"),Bs="function"===typeof Fs.oninput}Is=Bs}else Is=!1;Ds=Is&&(!document.documentMode||9<document.documentMode)}function Ws(){Ps&&(Ps.detachEvent("onpropertychange",Vs),zs=Ps=null)}function Vs(e){if("value"===e.propertyName&&Ts(zs)){var t=[];Es(t,zs,e,Et(e)),Rt(Os,t)}}function Us(e,t,s){"focusin"===e?(Ws(),zs=s,(Ps=t).attachEvent("onpropertychange",Vs)):"focusout"===e&&Ws()}function Hs(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ts(zs)}function qs(e,t){if("click"===e)return Ts(t)}function $s(e,t){if("input"===e||"change"===e)return Ts(t)}var Gs="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ys(e,t){if(Gs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!ne.call(t,a)||!Gs(e[a],t[a]))return!1}return!0}function Qs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ks(e,t){var s,n=Qs(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qs(n)}}function Xs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Js(e){for(var t=xt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=xt((e=t.contentWindow).document)}return t}function Zs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function en(e,t){var s=Js(t);t=e.focusedElem;var n=e.selectionRange;if(s!==t&&t&&t.ownerDocument&&Xs(t.ownerDocument.documentElement,t)){if(null!==n&&Zs(t))if(e=n.start,void 0===(s=n.end)&&(s=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(s,t.value.length);else if((s=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){s=s.getSelection();var a=t.textContent.length,r=Math.min(n.start,a);n=void 0===n.end?r:Math.min(n.end,a),!s.extend&&r>n&&(a=n,n=r,r=a),a=Ks(t,r);var i=Ks(t,n);a&&i&&(1!==s.rangeCount||s.anchorNode!==a.node||s.anchorOffset!==a.offset||s.focusNode!==i.node||s.focusOffset!==i.offset)&&((e=e.createRange()).setStart(a.node,a.offset),s.removeAllRanges(),r>n?(s.addRange(e),s.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),s.addRange(e)))}for(e=[],s=t;s=s.parentNode;)1===s.nodeType&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(s=e[t]).element.scrollLeft=s.left,s.element.scrollTop=s.top}}var tn=st&&"documentMode"in document&&11>=document.documentMode,sn=null,nn=null,an=null,rn=!1;function on(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;rn||null==sn||sn!==xt(n)||("selectionStart"in(n=sn)&&Zs(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Ys(an,n)||(an=n,0<(n=Dd(nn,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=sn)))}function ln(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var cn={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},dn={},un={};function hn(e){if(dn[e])return dn[e];if(!cn[e])return e;var t,s=cn[e];for(t in s)if(s.hasOwnProperty(t)&&t in un)return dn[e]=s[t];return e}st&&(un=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);var xn=hn("animationend"),mn=hn("animationiteration"),fn=hn("animationstart"),pn=hn("transitionrun"),gn=hn("transitionstart"),bn=hn("transitioncancel"),yn=hn("transitionend"),vn=new Map,jn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wn(e,t){vn.set(e,t),et(t,[e])}var Nn=[],kn=0,_n=0;function Sn(){for(var e=kn,t=_n=kn=0;t<e;){var s=Nn[t];Nn[t++]=null;var n=Nn[t];Nn[t++]=null;var a=Nn[t];Nn[t++]=null;var r=Nn[t];if(Nn[t++]=null,null!==n&&null!==a){var i=n.pending;null===i?a.next=a:(a.next=i.next,i.next=a),n.pending=a}0!==r&&Ln(s,a,r)}}function Cn(e,t,s,n){Nn[kn++]=e,Nn[kn++]=t,Nn[kn++]=s,Nn[kn++]=n,_n|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function An(e,t,s,n){return Cn(e,t,s,n),En(e)}function Mn(e,t){return Cn(e,null,null,t),En(e)}function Ln(e,t,s){e.lanes|=s;var n=e.alternate;null!==n&&(n.lanes|=s);for(var a=!1,r=e.return;null!==r;)r.childLanes|=s,null!==(n=r.alternate)&&(n.childLanes|=s),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(a=!0)),e=r,r=r.return;a&&null!==t&&3===e.tag&&(r=e.stateNode,a=31-ve(s),null===(e=(r=r.hiddenUpdates)[a])?r[a]=[t]:e.push(t),t.lane=536870912|s)}function En(e){if(50<Mc)throw Mc=0,Lc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pn={},zn=new WeakMap;function On(e,t){if("object"===typeof e&&null!==e){var s=zn.get(e);return void 0!==s?s:(t={value:e,source:t,stack:R(t)},zn.set(e,t),t)}return{value:e,source:t,stack:R(t)}}var Tn=[],Rn=0,Dn=null,In=0,Bn=[],Fn=0,Wn=null,Vn=1,Un="";function Hn(e,t){Tn[Rn++]=In,Tn[Rn++]=Dn,Dn=e,In=t}function qn(e,t,s){Bn[Fn++]=Vn,Bn[Fn++]=Un,Bn[Fn++]=Wn,Wn=e;var n=Vn;e=Un;var a=32-ve(n)-1;n&=~(1<<a),s+=1;var r=32-ve(t)+a;if(30<r){var i=a-a%5;r=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Vn=1<<32-ve(t)+a|s<<a|n,Un=r+e}else Vn=1<<r|s<<a|n,Un=e}function $n(e){null!==e.return&&(Hn(e,1),qn(e,1,0))}function Gn(e){for(;e===Dn;)Dn=Tn[--Rn],Tn[Rn]=null,In=Tn[--Rn],Tn[Rn]=null;for(;e===Wn;)Wn=Bn[--Fn],Bn[Fn]=null,Un=Bn[--Fn],Bn[Fn]=null,Vn=Bn[--Fn],Bn[Fn]=null}var Yn=null,Qn=null,Kn=!1,Xn=null,Jn=!1,Zn=Error(i(519));function ea(e){throw ra(On(Error(i(418,"")),e)),Zn}function ta(e){var t=e.stateNode,s=e.type,n=e.memoizedProps;switch(t[Ie]=e,t[Be]=n,s){case"dialog":Ld("cancel",t),Ld("close",t);break;case"iframe":case"object":case"embed":Ld("load",t);break;case"video":case"audio":for(s=0;s<Cd.length;s++)Ld(Cd[s],t);break;case"source":Ld("error",t);break;case"img":case"image":case"link":Ld("error",t),Ld("load",t);break;case"details":Ld("toggle",t);break;case"input":Ld("invalid",t),gt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),ut(t);break;case"select":Ld("invalid",t);break;case"textarea":Ld("invalid",t),jt(t,n.value,n.defaultValue,n.children),ut(t)}"string"!==typeof(s=n.children)&&"number"!==typeof s&&"bigint"!==typeof s||t.textContent===""+s||!0===n.suppressHydrationWarning||Ud(t.textContent,s)?(null!=n.popover&&(Ld("beforetoggle",t),Ld("toggle",t)),null!=n.onScroll&&Ld("scroll",t),null!=n.onScrollEnd&&Ld("scrollend",t),null!=n.onClick&&(t.onclick=Hd),t=!0):t=!1,t||ea(e)}function sa(e){for(Yn=e.return;Yn;)switch(Yn.tag){case 3:case 27:return void(Jn=!0);case 5:case 13:return void(Jn=!1);default:Yn=Yn.return}}function na(e){if(e!==Yn)return!1;if(!Kn)return sa(e),Kn=!0,!1;var t,s=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zd(e.type,e.memoizedProps)),t=!t),t&&(s=!0),s&&Qn&&ea(e),sa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,s=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===s){Qn=lu(e.nextSibling);break e}s--}else"$"!==t&&"$!"!==t&&"$?"!==t||s++;e=e.nextSibling}Qn=null}}else Qn=Yn?lu(e.stateNode.nextSibling):null;return!0}function aa(){Qn=Yn=null,Kn=!1}function ra(e){null===Xn?Xn=[e]:Xn.push(e)}var ia=Error(i(460)),oa=Error(i(474)),la={then:function(){}};function ca(e){return"fulfilled"===(e=e.status)||"rejected"===e}function da(){}function ua(e,t,s){switch(void 0===(s=e[s])?e.push(t):s!==t&&(t.then(da,da),t=s),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ia)throw Error(i(483));throw e;default:if("string"===typeof t.status)t.then(da,da);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var s=t;s.status="fulfilled",s.value=e}}),(function(e){if("pending"===t.status){var s=t;s.status="rejected",s.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ia)throw Error(i(483));throw e}throw ha=t,ia}}var ha=null;function xa(){if(null===ha)throw Error(i(459));var e=ha;return ha=null,e}var ma=null,fa=0;function pa(e){var t=fa;return fa+=1,null===ma&&(ma=[]),ua(ma,e,t)}function ga(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ba(e,t){if(t.$$typeof===l)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function va(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Il(e,t)).index=0,e.sibling=null,e}function r(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=33554434,s):n:(t.flags|=33554434,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,s,n){return null===t||6!==t.tag?((t=Ul(s,e.mode,n)).return=e,t):((t=a(t,s)).return=e,t)}function h(e,t,s,n){var r=s.type;return r===u?m(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===j&&ya(r)===t.type)?(ga(t=a(t,s.props),s),t.return=e,t):(ga(t=Fl(s.type,s.key,s.props,null,e.mode,n),s),t.return=e,t)}function x(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Hl(s,e.mode,n)).return=e,t):((t=a(t,s.children||[])).return=e,t)}function m(e,t,s,n,r){return null===t||7!==t.tag?((t=Wl(s,e.mode,n,r)).return=e,t):((t=a(t,s)).return=e,t)}function f(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ul(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return ga(s=Fl(t.type,t.key,t.props,null,e.mode,s),t),s.return=e,s;case d:return(t=Hl(t,e.mode,s)).return=e,t;case j:return f(e,t=(0,t._init)(t._payload),s)}if(W(t)||_(t))return(t=Wl(t,e.mode,s,null)).return=e,t;if("function"===typeof t.then)return f(e,pa(t),s);if(t.$$typeof===p)return f(e,Co(e,t),s);ba(e,t)}return null}function g(e,t,s,n){var a=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return null!==a?null:l(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case c:return s.key===a?h(e,t,s,n):null;case d:return s.key===a?x(e,t,s,n):null;case j:return g(e,t,s=(a=s._init)(s._payload),n)}if(W(s)||_(s))return null!==a?null:m(e,t,s,n,null);if("function"===typeof s.then)return g(e,t,pa(s),n);if(s.$$typeof===p)return g(e,t,Co(e,s),n);ba(e,s)}return null}function b(e,t,s,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(s)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return h(t,e=e.get(null===n.key?s:n.key)||null,n,a);case d:return x(t,e=e.get(null===n.key?s:n.key)||null,n,a);case j:return b(e,t,s,n=(0,n._init)(n._payload),a)}if(W(n)||_(n))return m(t,e=e.get(s)||null,n,a,null);if("function"===typeof n.then)return b(e,t,s,pa(n),a);if(n.$$typeof===p)return b(e,t,s,Co(t,n),a);ba(t,n)}return null}function y(l,h,x,m){if("object"===typeof x&&null!==x&&x.type===u&&null===x.key&&(x=x.props.children),"object"===typeof x&&null!==x){switch(x.$$typeof){case c:e:{for(var v=x.key;null!==h;){if(h.key===v){if((v=x.type)===u){if(7===h.tag){s(l,h.sibling),(m=a(h,x.props.children)).return=l,l=m;break e}}else if(h.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===j&&ya(v)===h.type){s(l,h.sibling),ga(m=a(h,x.props),x),m.return=l,l=m;break e}s(l,h);break}t(l,h),h=h.sibling}x.type===u?((m=Wl(x.props.children,l.mode,m,x.key)).return=l,l=m):(ga(m=Fl(x.type,x.key,x.props,null,l.mode,m),x),m.return=l,l=m)}return o(l);case d:e:{for(v=x.key;null!==h;){if(h.key===v){if(4===h.tag&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){s(l,h.sibling),(m=a(h,x.children||[])).return=l,l=m;break e}s(l,h);break}t(l,h),h=h.sibling}(m=Hl(x,l.mode,m)).return=l,l=m}return o(l);case j:return y(l,h,x=(v=x._init)(x._payload),m)}if(W(x))return function(a,i,o,l){for(var c=null,d=null,u=i,h=i=0,x=null;null!==u&&h<o.length;h++){u.index>h?(x=u,u=null):x=u.sibling;var m=g(a,u,o[h],l);if(null===m){null===u&&(u=x);break}e&&u&&null===m.alternate&&t(a,u),i=r(m,i,h),null===d?c=m:d.sibling=m,d=m,u=x}if(h===o.length)return s(a,u),Kn&&Hn(a,h),c;if(null===u){for(;h<o.length;h++)null!==(u=f(a,o[h],l))&&(i=r(u,i,h),null===d?c=u:d.sibling=u,d=u);return Kn&&Hn(a,h),c}for(u=n(u);h<o.length;h++)null!==(x=b(u,a,h,o[h],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?h:x.key),i=r(x,i,h),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(a,e)})),Kn&&Hn(a,h),c}(l,h,x,m);if(_(x)){if("function"!==typeof(v=_(x)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,h=o,x=o=0,m=null,p=l.next();null!==h&&!p.done;x++,p=l.next()){h.index>x?(m=h,h=null):m=h.sibling;var y=g(a,h,p.value,c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(a,h),o=r(y,o,x),null===u?d=y:u.sibling=y,u=y,h=m}if(p.done)return s(a,h),Kn&&Hn(a,x),d;if(null===h){for(;!p.done;x++,p=l.next())null!==(p=f(a,p.value,c))&&(o=r(p,o,x),null===u?d=p:u.sibling=p,u=p);return Kn&&Hn(a,x),d}for(h=n(h);!p.done;x++,p=l.next())null!==(p=b(h,a,x,p.value,c))&&(e&&null!==p.alternate&&h.delete(null===p.key?x:p.key),o=r(p,o,x),null===u?d=p:u.sibling=p,u=p);return e&&h.forEach((function(e){return t(a,e)})),Kn&&Hn(a,x),d}(l,h,x=v.call(x),m)}if("function"===typeof x.then)return y(l,h,pa(x),m);if(x.$$typeof===p)return y(l,h,Co(l,x),m);ba(l,x)}return"string"===typeof x&&""!==x||"number"===typeof x||"bigint"===typeof x?(x=""+x,null!==h&&6===h.tag?(s(l,h.sibling),(m=a(h,x)).return=l,l=m):(s(l,h),(m=Ul(x,l.mode,m)).return=l,l=m),o(l)):s(l,h)}return function(e,t,s,n){try{fa=0;var a=y(e,t,s,n);return ma=null,a}catch(i){if(i===ia)throw i;var r=Rl(29,i,null,e.mode);return r.lanes=n,r.return=e,r}}}var ja=va(!0),wa=va(!1),Na=$(null),ka=$(0);function _a(e,t){Y(ka,e=dc),Y(Na,t),dc=e|t.baseLanes}function Sa(){Y(ka,dc),Y(Na,Na.current)}function Ca(){dc=ka.current,G(Na),G(ka)}var Aa=$(null),Ma=null;function La(e){var t=e.alternate;Y(Oa,1&Oa.current),Y(Aa,e),null===Ma&&(null===t||null!==Na.current||null!==t.memoizedState)&&(Ma=e)}function Ea(e){if(22===e.tag){if(Y(Oa,Oa.current),Y(Aa,e),null===Ma){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ma=e)}}else Pa()}function Pa(){Y(Oa,Oa.current),Y(Aa,Aa.current)}function za(e){G(Aa),Ma===e&&(Ma=null),G(Oa)}var Oa=$(0);function Ta(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Da=n.unstable_scheduleCallback,Ia=n.unstable_NormalPriority,Ba={$$typeof:p,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Ra,data:new Map,refCount:0}}function Wa(e){e.refCount--,0===e.refCount&&Da(Ia,(function(){e.controller.abort()}))}var Va=null,Ua=0,Ha=0,qa=null;function $a(){if(0===--Ua&&null!==Va){null!==qa&&(qa.status="fulfilled");var e=Va;Va=null,Ha=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ga=L.S;L.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Va){var s=Va=[];Ua=0,Ha=wd(),qa={status:"pending",value:void 0,then:function(e){s.push(e)}}}Ua++,t.then($a,$a)}(0,t),null!==Ga&&Ga(e,t)};var Ya=$(null);function Qa(){var e=Ya.current;return null!==e?e:sc.pooledCache}function Ka(e,t){Y(Ya,null===t?Ya.current:t.pool)}function Xa(){var e=Qa();return null===e?null:{parent:Ba._currentValue,pool:e}}var Ja=0,Za=null,er=null,tr=null,sr=!1,nr=!1,ar=!1,rr=0,ir=0,or=null,lr=0;function dr(){throw Error(i(321))}function ur(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Gs(e[s],t[s]))return!1;return!0}function hr(e,t,s,n,a,r){return Ja=r,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?Si:Ci,ar=!1,r=s(n,a),ar=!1,nr&&(r=mr(t,s,n,a)),xr(e),r}function xr(e){L.H=_i;var t=null!==er&&null!==er.next;if(Ja=0,tr=er=Za=null,sr=!1,ir=0,or=null,t)throw Error(i(300));null===e||Hi||null!==(e=e.dependencies)&&ko(e)&&(Hi=!0)}function mr(e,t,s,n){Za=e;var a=0;do{if(nr&&(or=null),ir=0,nr=!1,25<=a)throw Error(i(301));if(a+=1,tr=er=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}L.H=Ai,r=t(s,n)}while(nr);return r}function fr(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?jr(t):t,e=e.useState()[0],(null!==er?er.memoizedState:null)!==e&&(Za.flags|=1024),t}function pr(){var e=0!==rr;return rr=0,e}function gr(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function br(e){if(sr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}sr=!1}Ja=0,tr=er=Za=null,nr=!1,ir=rr=0,or=null}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===tr?Za.memoizedState=tr=e:tr=tr.next=e,tr}function vr(){if(null===er){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=er.next;var t=null===tr?Za.memoizedState:tr.next;if(null!==t)tr=t,er=e;else{if(null===e){if(null===Za.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(er=e).memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},null===tr?Za.memoizedState=tr=e:tr=tr.next=e}return tr}function jr(e){var t=ir;return ir+=1,null===or&&(or=[]),e=ua(or,e,t),t=Za,null===(null===tr?t.memoizedState:tr.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?Si:Ci),e}function wr(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return jr(e);if(e.$$typeof===p)return So(e)}throw Error(i(438,String(e)))}function Nr(e){var t=null,s=Za.updateQueue;if(null!==s&&(t=s.memoCache),null==t){var n=Za.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===s&&(s={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=s),s.memoCache=t,void 0===(s=t.data[t.index]))for(s=t.data[t.index]=Array(e),n=0;n<e;n++)s[n]=N;return t.index++,s}function kr(e,t){return"function"===typeof t?t(e):t}function _r(e){return Sr(vr(),er,e)}function Sr(e,t,s){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=s;var a=e.baseQueue,r=n.pending;if(null!==r){if(null!==a){var o=a.next;a.next=r.next,r.next=o}t.baseQueue=a=r,n.pending=null}if(r=e.baseState,null===a)e.memoizedState=r;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ac&h)===h:(Ja&h)===h){var x=d.revertLane;if(0===x)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ha&&(u=!0);else{if((Ja&x)===x){d=d.next,x===Ha&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=r):c=c.next=h,Za.lanes|=x,hc|=x}h=d.action,ar&&s(r,h),r=d.hasEagerState?d.eagerState:s(r,h)}else x={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=x,o=r):c=c.next=x,Za.lanes|=h,hc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=r:c.next=l,!Gs(r,e.memoizedState)&&(Hi=!0,u&&null!==(s=qa)))throw s;e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}return null===a&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Cr(e){var t=vr(),s=t.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,r=t.memoizedState;if(null!==a){s.pending=null;var o=a=a.next;do{r=e(r,o.action),o=o.next}while(o!==a);Gs(r,t.memoizedState)||(Hi=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),s.lastRenderedState=r}return[r,n]}function Ar(e,t,s){var n=Za,a=vr(),r=Kn;if(r){if(void 0===s)throw Error(i(407));s=s()}else s=t();var o=!Gs((er||a).memoizedState,s);if(o&&(a.memoizedState=s,Hi=!0),a=a.queue,Zr(Er.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||null!==tr&&1&tr.memoizedState.tag){if(n.flags|=2048,Yr(9,Lr.bind(null,n,a,s,t),{destroy:void 0},null),null===sc)throw Error(i(349));r||0!==(60&Ja)||Mr(n,t,s)}return s}function Mr(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=Za.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Lr(e,t,s,n){t.value=s,t.getSnapshot=n,Pr(t)&&zr(e)}function Er(e,t,s){return s((function(){Pr(t)&&zr(e)}))}function Pr(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Gs(e,s)}catch(n){return!0}}function zr(e){var t=Mn(e,2);null!==t&&zc(t,e,2)}function Or(e){var t=yr();if("function"===typeof e){var s=e;if(e=s(),ar){ye(!0);try{s()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:e},t}function Tr(e,t,s,n){return e.baseState=s,Sr(e,er,"function"===typeof n?n:kr)}function Rr(e,t,s,n,a){if(wi(e))throw Error(i(485));if(null!==(e=t.action)){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==L.T?s(!0):r.isTransition=!1,n(r),null===(s=t.pending)?(r.next=t.pending=r,Dr(t,r)):(r.next=s.next,t.pending=s.next=r)}}function Dr(e,t){var s=t.action,n=t.payload,a=e.state;if(t.isTransition){var r=L.T,i={};L.T=i;try{var o=s(a,n),l=L.S;null!==l&&l(i,o),Ir(e,t,o)}catch(c){Fr(e,t,c)}finally{L.T=r}}else try{Ir(e,t,r=s(a,n))}catch(d){Fr(e,t,d)}}function Ir(e,t,s){null!==s&&"object"===typeof s&&"function"===typeof s.then?s.then((function(s){Br(e,t,s)}),(function(s){return Fr(e,t,s)})):Br(e,t,s)}function Br(e,t,s){t.status="fulfilled",t.value=s,Wr(t),e.state=s,null!==(t=e.pending)&&((s=t.next)===t?e.pending=null:(s=s.next,t.next=s,Dr(e,s)))}function Fr(e,t,s){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=s,Wr(t),t=t.next}while(t!==n)}e.action=null}function Wr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vr(e,t){return t}function Ur(e,t){if(Kn){var s=sc.formState;if(null!==s){e:{var n=Za;if(Kn){if(Qn){t:{for(var a=Qn,r=Jn;8!==a.nodeType;){if(!r){a=null;break t}if(null===(a=lu(a.nextSibling))){a=null;break t}}a="F!"===(r=a.data)||"F"===r?a:null}if(a){Qn=lu(a.nextSibling),n="F!"===a.data;break e}}ea(n)}n=!1}n&&(t=s[0])}}return(s=yr()).memoizedState=s.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:t},s.queue=n,s=yi.bind(null,Za,n),n.dispatch=s,n=Or(!1),r=ji.bind(null,Za,!1,n.queue),a={state:t,dispatch:null,action:e,pending:null},(n=yr()).queue=a,s=Rr.bind(null,Za,a,r,s),a.dispatch=s,n.memoizedState=e,[t,s,!1]}function Hr(e){return qr(vr(),er,e)}function qr(e,t,s){t=Sr(e,t,Vr)[0],e=_r(kr)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?jr(t):t;var n=vr(),a=n.queue,r=a.dispatch;return s!==n.memoizedState&&(Za.flags|=2048,Yr(9,$r.bind(null,a,s),{destroy:void 0},null)),[t,r,e]}function $r(e,t){e.action=t}function Gr(e){var t=vr(),s=er;if(null!==s)return qr(t,s,e);vr(),t=t.memoizedState;var n=(s=vr()).queue.dispatch;return s.memoizedState=e,[t,n,!1]}function Yr(e,t,s,n){return e={tag:e,create:t,inst:s,deps:n,next:null},null===(t=Za.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Za.updateQueue=t),null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function Qr(){return vr().memoizedState}function Kr(e,t,s,n){var a=yr();Za.flags|=e,a.memoizedState=Yr(1|t,s,{destroy:void 0},void 0===n?null:n)}function Xr(e,t,s,n){var a=vr();n=void 0===n?null:n;var r=a.memoizedState.inst;null!==er&&null!==n&&ur(n,er.memoizedState.deps)?a.memoizedState=Yr(t,s,r,n):(Za.flags|=e,a.memoizedState=Yr(1|t,s,r,n))}function Jr(e,t){Kr(8390656,8,e,t)}function Zr(e,t){Xr(2048,8,e,t)}function ei(e,t){return Xr(4,2,e,t)}function ti(e,t){return Xr(4,4,e,t)}function si(e,t){if("function"===typeof t){e=e();var s=t(e);return function(){"function"===typeof s?s():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ni(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Xr(4,4,si.bind(null,t,e),s)}function ai(){}function ri(e,t){var s=vr();t=void 0===t?null:t;var n=s.memoizedState;return null!==t&&ur(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function ii(e,t){var s=vr();t=void 0===t?null:t;var n=s.memoizedState;if(null!==t&&ur(t,n[1]))return n[0];if(n=e(),ar){ye(!0);try{e()}finally{ye(!1)}}return s.memoizedState=[n,t],n}function oi(e,t,s){return void 0===s||0!==(1073741824&Ja)?e.memoizedState=t:(e.memoizedState=s,e=Pc(),Za.lanes|=e,hc|=e,s)}function li(e,t,s,n){return Gs(s,t)?s:null!==Na.current?(e=oi(e,s,n),Gs(e,t)||(Hi=!0),e):0===(42&Ja)?(Hi=!0,e.memoizedState=s):(e=Pc(),Za.lanes|=e,hc|=e,t)}function ci(e,t,s,n,a){var r=V.p;V.p=0!==r&&8>r?r:8;var i=L.T,o={};L.T=o,ji(e,!1,t,s);try{var l=a(),c=L.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=function(e,t){var s=[],n={status:"pending",value:null,reason:null,then:function(e){s.push(e)}};return e.then((function(){n.status="fulfilled",n.value=t;for(var e=0;e<s.length;e++)(0,s[e])(t)}),(function(e){for(n.status="rejected",n.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)})),n}(l,n);vi(e,t,d,Ec())}else vi(e,t,n,Ec())}catch(u){vi(e,t,{then:function(){},status:"rejected",reason:u},Ec())}finally{V.p=r,L.T=i}}function di(){}function ui(e,t,s,n){if(5!==e.tag)throw Error(i(476));var a=hi(e).queue;ci(e,a,t,U,null===s?di:function(){return xi(e),s(n)})}function hi(e){var t=e.memoizedState;if(null!==t)return t;var s={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:U},next:null}).next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:s},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function xi(e){vi(e,hi(e).next.queue,{},Ec())}function mi(){return So(Du)}function fi(){return vr().memoizedState}function pi(){return vr().memoizedState}function gi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var s=Ec(),n=zo(t,e=Po(s),s);return null!==n&&(zc(n,t,s),Oo(n,t,s)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function bi(e,t,s){var n=Ec();s={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},wi(e)?Ni(t,s):null!==(s=An(e,t,s,n))&&(zc(s,e,n),ki(s,t,n))}function yi(e,t,s){vi(e,t,s,Ec())}function vi(e,t,s,n){var a={lane:n,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(wi(e))Ni(t,a);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=r(i,s);if(a.hasEagerState=!0,a.eagerState=o,Gs(o,i))return Cn(e,t,a,0),null===sc&&Sn(),!1}catch(l){}if(null!==(s=An(e,t,a,n)))return zc(s,e,n),ki(s,t,n),!0}return!1}function ji(e,t,s,n){if(n={lane:2,revertLane:wd(),action:n,hasEagerState:!1,eagerState:null,next:null},wi(e)){if(t)throw Error(i(479))}else null!==(t=An(e,s,n,2))&&zc(t,e,2)}function wi(e){var t=e.alternate;return e===Za||null!==t&&t===Za}function Ni(e,t){nr=sr=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ki(e,t,s){if(0!==(4194176&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Oe(e,s)}}var _i={readContext:So,use:wr,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr};_i.useCacheRefresh=dr,_i.useMemoCache=dr,_i.useHostTransitionStatus=dr,_i.useFormState=dr,_i.useActionState=dr,_i.useOptimistic=dr;var Si={readContext:So,use:wr,useCallback:function(e,t){return yr().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Jr,useImperativeHandle:function(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Kr(4194308,4,si.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){Kr(4,2,e,t)},useMemo:function(e,t){var s=yr();t=void 0===t?null:t;var n=e();if(ar){ye(!0);try{e()}finally{ye(!1)}}return s.memoizedState=[n,t],n},useReducer:function(e,t,s){var n=yr();if(void 0!==s){var a=s(t);if(ar){ye(!0);try{s(t)}finally{ye(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=bi.bind(null,Za,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yr().memoizedState=e},useState:function(e){var t=(e=Or(e)).queue,s=yi.bind(null,Za,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:ai,useDeferredValue:function(e,t){return oi(yr(),e,t)},useTransition:function(){var e=Or(!1);return e=ci.bind(null,Za,e.queue,!0,!1),yr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var n=Za,a=yr();if(Kn){if(void 0===s)throw Error(i(407));s=s()}else{if(s=t(),null===sc)throw Error(i(349));0!==(60&ac)||Mr(n,t,s)}a.memoizedState=s;var r={value:s,getSnapshot:t};return a.queue=r,Jr(Er.bind(null,n,r,e),[e]),n.flags|=2048,Yr(9,Lr.bind(null,n,r,s,t),{destroy:void 0},null),s},useId:function(){var e=yr(),t=sc.identifierPrefix;if(Kn){var s=Un;t=":"+t+"R"+(s=(Vn&~(1<<32-ve(Vn)-1)).toString(32)+s),0<(s=rr++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=lr++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return yr().memoizedState=gi.bind(null,Za)}};Si.useMemoCache=Nr,Si.useHostTransitionStatus=mi,Si.useFormState=Ur,Si.useActionState=Ur,Si.useOptimistic=function(e){var t=yr();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=ji.bind(null,Za,!0,s),s.dispatch=t,[e,t]};var Ci={readContext:So,use:wr,useCallback:ri,useContext:So,useEffect:Zr,useImperativeHandle:ni,useInsertionEffect:ei,useLayoutEffect:ti,useMemo:ii,useReducer:_r,useRef:Qr,useState:function(){return _r(kr)},useDebugValue:ai,useDeferredValue:function(e,t){return li(vr(),er.memoizedState,e,t)},useTransition:function(){var e=_r(kr)[0],t=vr().memoizedState;return["boolean"===typeof e?e:jr(e),t]},useSyncExternalStore:Ar,useId:fi};Ci.useCacheRefresh=pi,Ci.useMemoCache=Nr,Ci.useHostTransitionStatus=mi,Ci.useFormState=Hr,Ci.useActionState=Hr,Ci.useOptimistic=function(e,t){return Tr(vr(),0,e,t)};var Ai={readContext:So,use:wr,useCallback:ri,useContext:So,useEffect:Zr,useImperativeHandle:ni,useInsertionEffect:ei,useLayoutEffect:ti,useMemo:ii,useReducer:Cr,useRef:Qr,useState:function(){return Cr(kr)},useDebugValue:ai,useDeferredValue:function(e,t){var s=vr();return null===er?oi(s,e,t):li(s,er.memoizedState,e,t)},useTransition:function(){var e=Cr(kr)[0],t=vr().memoizedState;return["boolean"===typeof e?e:jr(e),t]},useSyncExternalStore:Ar,useId:fi};function Mi(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:E({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}Ai.useCacheRefresh=pi,Ai.useMemoCache=Nr,Ai.useHostTransitionStatus=mi,Ai.useFormState=Gr,Ai.useActionState=Gr,Ai.useOptimistic=function(e,t){var s=vr();return null!==er?Tr(s,0,e,t):(s.baseState=e,[e,s.queue.dispatch])};var Li={isMounted:function(e){return!!(e=e._reactInternals)&&D(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ec(),a=Po(n);a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=zo(e,a,n))&&(zc(t,e,n),Oo(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ec(),a=Po(n);a.tag=1,a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=zo(e,a,n))&&(zc(t,e,n),Oo(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ec(),n=Po(s);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=zo(e,n,s))&&(zc(t,e,s),Oo(t,e,s))}};function Ei(e,t,s,n,a,r,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,i):!t.prototype||!t.prototype.isPureReactComponent||(!Ys(s,n)||!Ys(a,r))}function Pi(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Li.enqueueReplaceState(t,t.state,null)}function zi(e,t){var s=t;if("ref"in t)for(var n in s={},t)"ref"!==n&&(s[n]=t[n]);if(e=e.defaultProps)for(var a in s===t&&(s=E({},s)),e)void 0===s[a]&&(s[a]=e[a]);return s}var Oi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ti(e){Oi(e)}function Ri(e){console.error(e)}function Di(e){Oi(e)}function Ii(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(s){setTimeout((function(){throw s}))}}function Bi(e,t,s){try{(0,e.onCaughtError)(s.value,{componentStack:s.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout((function(){throw n}))}}function Fi(e,t,s){return(s=Po(s)).tag=3,s.payload={element:null},s.callback=function(){Ii(e,t)},s}function Wi(e){return(e=Po(e)).tag=3,e}function Vi(e,t,s,n){var a=s.type.getDerivedStateFromError;if("function"===typeof a){var r=n.value;e.payload=function(){return a(r)},e.callback=function(){Bi(t,s,n)}}var i=s.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Bi(t,s,n),"function"!==typeof a&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Ui=Error(i(461)),Hi=!1;function qi(e,t,s,n){t.child=null===e?wa(t,null,s,n):ja(t,e.child,s,n)}function $i(e,t,s,n,a){s=s.render;var r=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return _o(t),n=hr(e,t,s,i,r,a),o=pr(),null===e||Hi?(Kn&&o&&$n(t),t.flags|=1,qi(e,t,n,a),t.child):(gr(e,t,a),xo(e,t,a))}function Gi(e,t,s,n,a){if(null===e){var r=s.type;return"function"!==typeof r||Dl(r)||void 0!==r.defaultProps||null!==s.compare?((e=Fl(s.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Yi(e,t,r,n,a))}if(r=e.child,!mo(e,a)){var i=r.memoizedProps;if((s=null!==(s=s.compare)?s:Ys)(i,n)&&e.ref===t.ref)return xo(e,t,a)}return t.flags|=1,(e=Il(r,n)).ref=t.ref,e.return=t,t.child=e}function Yi(e,t,s,n,a){if(null!==e){var r=e.memoizedProps;if(Ys(r,n)&&e.ref===t.ref){if(Hi=!1,t.pendingProps=n=r,!mo(e,a))return t.lanes=e.lanes,xo(e,t,a);0!==(131072&e.flags)&&(Hi=!0)}}return Ji(e,t,s,n,a)}function Qi(e,t,s){var n=t.pendingProps,a=n.children,r=0!==(2&t.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(Xi(e,t),"hidden"===n.mode||r){if(0!==(128&t.flags)){if(n=null!==i?i.baseLanes|s:s,null!==e){for(a=t.child=e.child,r=0;null!==a;)r=r|a.lanes|a.childLanes,a=a.sibling;t.childLanes=r&~n}else t.childLanes=0,t.child=null;return Ki(e,t,n,s)}if(0===(536870912&s))return t.lanes=t.childLanes=536870912,Ki(e,t,null!==i?i.baseLanes|s:s,s);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ka(0,null!==i?i.cachePool:null),null!==i?_a(t,i):Sa(),Ea(t)}else null!==i?(Ka(0,i.cachePool),_a(t,i),Pa(),t.memoizedState=null):(null!==e&&Ka(0,null),Sa(),Pa());return qi(e,t,a,s),t.child}function Ki(e,t,s,n){var a=Qa();return a=null===a?null:{parent:Ba._currentValue,pool:a},t.memoizedState={baseLanes:s,cachePool:a},null!==e&&Ka(0,null),Sa(),Ea(t),null!==e&&No(e,t,n,!0),null}function Xi(e,t){var s=t.ref;if(null===s)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof s&&"object"!==typeof s)throw Error(i(284));null!==e&&e.ref===s||(t.flags|=2097664)}}function Ji(e,t,s,n,a){return _o(t),s=hr(e,t,s,n,void 0,a),n=pr(),null===e||Hi?(Kn&&n&&$n(t),t.flags|=1,qi(e,t,s,a),t.child):(gr(e,t,a),xo(e,t,a))}function Zi(e,t,s,n,a,r){return _o(t),t.updateQueue=null,s=mr(t,n,s,a),xr(e),n=pr(),null===e||Hi?(Kn&&n&&$n(t),t.flags|=1,qi(e,t,s,r),t.child):(gr(e,t,r),xo(e,t,r))}function eo(e,t,s,n,a){if(_o(t),null===t.stateNode){var r=Pn,i=s.contextType;"object"===typeof i&&null!==i&&(r=So(i)),r=new s(n,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=Li,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=n,r.state=t.memoizedState,r.refs={},Lo(t),i=s.contextType,r.context="object"===typeof i&&null!==i?So(i):Pn,r.state=t.memoizedState,"function"===typeof(i=s.getDerivedStateFromProps)&&(Mi(t,s,i,n),r.state=t.memoizedState),"function"===typeof s.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(i=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),i!==r.state&&Li.enqueueReplaceState(r,r.state,null),Io(t,n,r,a),Do(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){r=t.stateNode;var o=t.memoizedProps,l=zi(s,o);r.props=l;var c=r.context,d=s.contextType;i=Pn,"object"===typeof d&&null!==d&&(i=So(d));var u=s.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o||c!==i)&&Pi(t,r,n,i),Mo=!1;var h=t.memoizedState;r.state=h,Io(t,n,r,a),Do(),c=t.memoizedState,o||h!==c||Mo?("function"===typeof u&&(Mi(t,s,u,n),c=t.memoizedState),(l=Mo||Ei(t,s,l,n,h,c,i))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),r.props=n,r.state=c,r.context=i,n=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Eo(e,t),d=zi(s,i=t.memoizedProps),r.props=d,u=t.pendingProps,h=r.context,c=s.contextType,l=Pn,"object"===typeof c&&null!==c&&(l=So(c)),(c="function"===typeof(o=s.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==u||h!==l)&&Pi(t,r,n,l),Mo=!1,h=t.memoizedState,r.state=h,Io(t,n,r,a),Do();var x=t.memoizedState;i!==u||h!==x||Mo||null!==e&&null!==e.dependencies&&ko(e.dependencies)?("function"===typeof o&&(Mi(t,s,o,n),x=t.memoizedState),(d=Mo||Ei(t,s,d,n,h,x,l)||null!==e&&null!==e.dependencies&&ko(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,x,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,x,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),r.props=n,r.state=x,r.context=l,n=d):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,Xi(e,t),n=0!==(128&t.flags),r||n?(r=t.stateNode,s=n&&"function"!==typeof s.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&n?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,s,a)):qi(e,t,s,a),t.memoizedState=r.state,e=t.child):e=xo(e,t,a),e}function to(e,t,s,n){return aa(),t.flags|=256,qi(e,t,s,n),t.child}var so={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Xa()}}function ao(e,t,s){return e=null!==e?e.childLanes&~s:0,t&&(e|=fc),e}function ro(e,t,s){var n,a=t.pendingProps,r=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Oa.current)),n&&(r=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(Kn){if(r?La(t):Pa(),Kn){var l,c=Qn;if(l=c){e:{for(l=c,c=Jn;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=lu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Wn?{id:Vn,overflow:Un}:null,retryLane:536870912},(l=Rl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Yn=t,Qn=null,l=!0):l=!1}l||ea(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;za(t)}return c=a.children,a=a.fallback,r?(Pa(),c=oo({mode:"hidden",children:c},r=t.mode),a=Wl(a,r,s,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(r=t.child).memoizedState=no(s),r.childLanes=ao(e,n,s),t.memoizedState=so,a):(La(t),io(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(La(t),t.flags&=-257,t=lo(e,t,s)):null!==t.memoizedState?(Pa(),t.child=e.child,t.flags|=128,t=null):(Pa(),r=a.fallback,c=t.mode,a=oo({mode:"visible",children:a.children},c),(r=Wl(r,c,s,null)).flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,ja(t,e.child,null,s),(a=t.child).memoizedState=no(s),a.childLanes=ao(e,n,s),t.memoizedState=so,t=r);else if(La(t),"$!"===c.data){if(n=c.nextSibling&&c.nextSibling.dataset)var d=n.dgst;n=d,(a=Error(i(419))).stack="",a.digest=n,ra({value:a,source:null,stack:null}),t=lo(e,t,s)}else if(Hi||No(e,t,s,!1),n=0!==(s&e.childLanes),Hi||n){if(null!==(n=sc)){if(0!==(42&(a=s&-s)))a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==l.retryLane)throw l.retryLane=a,Mn(e,a),zc(n,e,a),Ui}"$?"===c.data||qc(),t=lo(e,t,s)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ld.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qn=lu(c.nextSibling),Yn=t,Kn=!0,Xn=null,Jn=!1,null!==e&&(Bn[Fn++]=Vn,Bn[Fn++]=Un,Bn[Fn++]=Wn,Vn=e.id,Un=e.overflow,Wn=t),(t=io(t,a.children)).flags|=4096);return t}return r?(Pa(),r=a.fallback,c=t.mode,d=(l=e.child).sibling,(a=Il(l,{mode:"hidden",children:a.children})).subtreeFlags=31457280&l.subtreeFlags,null!==d?r=Il(d,r):(r=Wl(r,c,s,null)).flags|=2,r.return=t,a.return=t,a.sibling=r,t.child=a,a=r,r=t.child,null===(c=e.child.memoizedState)?c=no(s):(null!==(l=c.cachePool)?(d=Ba._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Xa(),c={baseLanes:c.baseLanes|s,cachePool:l}),r.memoizedState=c,r.childLanes=ao(e,n,s),t.memoizedState=so,a):(La(t),e=(s=e.child).sibling,(s=Il(s,{mode:"visible",children:a.children})).return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s)}function io(e,t){return(t=oo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function oo(e,t){return Vl(e,t,0,null)}function lo(e,t,s){return ja(t,e.child,null,s),(e=io(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function co(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),jo(e.return,t,s)}function uo(e,t,s,n,a){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=s,r.tailMode=a)}function ho(e,t,s){var n=t.pendingProps,a=n.revealOrder,r=n.tail;if(qi(e,t,n.children,s),0!==(2&(n=Oa.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&co(e,s,t);else if(19===e.tag)co(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(Y(Oa,n),a){case"forwards":for(s=t.child,a=null;null!==s;)null!==(e=s.alternate)&&null===Ta(e)&&(a=s),s=s.sibling;null===(s=a)?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),uo(t,!1,a,s,r);break;case"backwards":for(s=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ta(e)){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}uo(t,!0,s,null,r);break;case"together":uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(s&t.childLanes)){if(null===e)return null;if(No(e,t,s,!1),0===(s&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(s=Il(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Il(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function mo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ko(e))}function fo(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps)Hi=!0;else{if(!mo(e,s)&&0===(128&t.flags))return Hi=!1,function(e,t,s){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),yo(t,Ba,e.memoizedState.cache),aa();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:yo(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(La(t),t.flags|=128,null):0!==(s&t.child.childLanes)?ro(e,t,s):(La(t),null!==(e=xo(e,t,s))?e.sibling:null);La(t);break;case 19:var a=0!==(128&e.flags);if((n=0!==(s&t.childLanes))||(No(e,t,s,!1),n=0!==(s&t.childLanes)),a){if(n)return ho(e,t,s);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Y(Oa,Oa.current),n)break;return null;case 22:case 23:return t.lanes=0,Qi(e,t,s);case 24:yo(t,Ba,e.memoizedState.cache)}return xo(e,t,s)}(e,t,s);Hi=0!==(131072&e.flags)}else Hi=!1,Kn&&0!==(1048576&t.flags)&&qn(t,In,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,a=n._init;if(n=a(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((a=n.$$typeof)===g){t.tag=11,t=$i(null,t,n,e,s);break e}if(a===v){t.tag=14,t=Gi(null,t,n,e,s);break e}}throw t=C(n)||n,Error(i(306,t,""))}Dl(n)?(e=zi(n,e),t.tag=1,t=eo(null,t,n,e,s)):(t.tag=0,t=Ji(null,t,n,e,s))}return t;case 0:return Ji(e,t,t.type,t.pendingProps,s);case 1:return eo(e,t,n=t.type,a=zi(n,t.pendingProps),s);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(i(387));var r=t.pendingProps;n=(a=t.memoizedState).element,Eo(e,t),Io(t,r,null,s);var o=t.memoizedState;if(r=o.cache,yo(t,Ba,r),r!==a.cache&&wo(t,[Ba],s,!0),Do(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=to(e,t,r,s);break e}if(r!==n){ra(n=On(Error(i(424)),t)),t=to(e,t,r,s);break e}for(Qn=lu(t.stateNode.containerInfo.firstChild),Yn=t,Kn=!0,Xn=null,Jn=!0,s=wa(t,null,r,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(aa(),r===n){t=xo(e,t,s);break e}qi(e,t,r,s)}t=t.child}return t;case 26:return Xi(e,t),null===e?(s=gu(t.type,null,t.pendingProps,null))?t.memoizedState=s:Kn||(s=t.type,e=t.pendingProps,(n=Kd(X.current).createElement(s))[Ie]=t,n[Be]=e,Gd(n,s,e),Xe(n),t.stateNode=n):t.memoizedState=gu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Kn&&(n=t.stateNode=du(t.type,t.pendingProps,X.current),Yn=t,Jn=!0,Qn=lu(n.firstChild)),n=t.pendingProps.children,null!==e||Kn?qi(e,t,n,s):t.child=ja(t,null,n,s),Xi(e,t),t.child;case 5:return null===e&&Kn&&((a=n=Qn)&&(null!==(n=function(e,t,s,n){for(;1===e.nodeType;){var a=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(null==a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===r)return e}if(null===(e=lu(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,Jn))?(t.stateNode=n,Yn=t,Qn=lu(n.firstChild),Jn=!1,a=!0):a=!1),a||ea(t)),te(t),a=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,n=r.children,Zd(a,r)?n=null:null!==o&&Zd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=hr(e,t,fr,null,null,s),Du._currentValue=a),Xi(e,t),qi(e,t,n,s),t.child;case 6:return null===e&&Kn&&((e=s=Qn)&&(null!==(s=function(e,t,s){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!s)return null;if(null===(e=lu(e.nextSibling)))return null}return e}(s,t.pendingProps,Jn))?(t.stateNode=s,Yn=t,Qn=null,e=!0):e=!1),e||ea(t)),null;case 13:return ro(e,t,s);case 4:return Z(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ja(t,null,n,s):qi(e,t,n,s),t.child;case 11:return $i(e,t,t.type,t.pendingProps,s);case 7:return qi(e,t,t.pendingProps,s),t.child;case 8:case 12:return qi(e,t,t.pendingProps.children,s),t.child;case 10:return n=t.pendingProps,yo(t,t.type,n.value),qi(e,t,n.children,s),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,_o(t),n=n(a=So(a)),t.flags|=1,qi(e,t,n,s),t.child;case 14:return Gi(e,t,t.type,t.pendingProps,s);case 15:return Yi(e,t,t.type,t.pendingProps,s);case 19:return ho(e,t,s);case 22:return Qi(e,t,s);case 24:return _o(t),n=So(Ba),null===e?(null===(a=Qa())&&(a=sc,r=Fa(),a.pooledCache=r,r.refCount++,null!==r&&(a.pooledCacheLanes|=s),a=r),t.memoizedState={parent:n,cache:a},Lo(t),yo(t,Ba,a)):(0!==(e.lanes&s)&&(Eo(e,t),Io(t,null,null,s),Do()),a=e.memoizedState,r=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),yo(t,Ba,n)):(n=r.cache,yo(t,Ba,n),n!==a.cache&&wo(t,[Ba],s,!0))),qi(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var po=$(null),go=null,bo=null;function yo(e,t,s){Y(po,t._currentValue),t._currentValue=s}function vo(e){e._currentValue=po.current,G(po)}function jo(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function wo(e,t,s,n){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var r=a.dependencies;if(null!==r){var o=a.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=s,null!==(l=r.alternate)&&(l.lanes|=s),jo(r.return,s,e),n||(o=null);break e}r=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=s,null!==(r=o.alternate)&&(r.lanes|=s),jo(o,s,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function No(e,t,s,n){e=null;for(var a=t,r=!1;null!==a;){if(!r)if(0!==(524288&a.flags))r=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Gs(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===J.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Du):e=[Du])}a=a.return}null!==e&&wo(t,e,s,n),t.flags|=262144}function ko(e){for(e=e.firstContext;null!==e;){if(!Gs(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _o(e){go=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function So(e){return Ao(go,e)}function Co(e,t){return null===go&&_o(e),Ao(e,t)}function Ao(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},null===bo){if(null===e)throw Error(i(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return s}var Mo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Po(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zo(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&tc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=En(e),Ln(e,null,s),t}return Cn(e,n,t,s),En(e)}function Oo(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Oe(e,s)}}function To(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var a=null,r=null;if(null!==(s=s.firstBaseUpdate)){do{var i={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};null===r?a=r=i:r=r.next=i,s=s.next}while(null!==s);null===r?a=r=t:r=r.next=t}else a=r=t;return s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Ro=!1;function Do(){if(Ro){if(null!==qa)throw qa}}function Io(e,t,s,n){Ro=!1;var a=e.updateQueue;Mo=!1;var r=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?r=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=a.baseState;for(i=0,d=c=l=null,o=r;;){var h=-536870913&o.lane,x=h!==o.lane;if(x?(ac&h)===h:(n&h)===h){0!==h&&h===Ha&&(Ro=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,f=o;h=t;var p=s;switch(f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=E({},u,h);break e;case 2:Mo=!0}}null!==(h=o.callback)&&(e.flags|=64,x&&(e.flags|=8192),null===(x=a.callbacks)?a.callbacks=[h]:x.push(h))}else x={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=x,l=u):d=d.next=x,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(x=o).next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===r&&(a.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=u}}function Bo(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Fo(e,t){var s=e.callbacks;if(null!==s)for(e.callbacks=null,e=0;e<s.length;e++)Bo(s[e],t)}function Wo(e,t){try{var s=t.updateQueue,n=null!==s?s.lastEffect:null;if(null!==n){var a=n.next;s=a;do{if((s.tag&e)===e){n=void 0;var r=s.create,i=s.inst;n=r(),i.destroy=n}s=s.next}while(s!==a)}}catch(o){ad(t,t.return,o)}}function Vo(e,t,s){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=s;try{o()}catch(c){ad(a,l,c)}}}n=n.next}while(n!==r)}}catch(c){ad(t,t.return,c)}}function Uo(e){var t=e.updateQueue;if(null!==t){var s=e.stateNode;try{Fo(t,s)}catch(n){ad(e,e.return,n)}}}function Ho(e,t,s){s.props=zi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){ad(e,t,n)}}function qo(e,t){try{var s=e.ref;if(null!==s){var n=e.stateNode;switch(e.tag){case 26:case 27:case 5:var a=n;break;default:a=n}"function"===typeof s?e.refCleanup=s(a):s.current=a}}catch(r){ad(e,t,r)}}function $o(e,t){var s=e.ref,n=e.refCleanup;if(null!==s)if("function"===typeof n)try{n()}catch(a){ad(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof s)try{s(null)}catch(r){ad(e,t,r)}else s.current=null}function Go(e){var t=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(a){ad(e,e.return,a)}}function Yo(e,t,s){try{var n=e.stateNode;!function(e,t,s,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,o=null,l=null,c=null,d=null,u=null;for(m in s){var h=s[m];if(s.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(m)||qd(e,t,m,null,n,h)}}for(var x in n){var m=n[x];if(h=s[x],n.hasOwnProperty(x)&&(null!=m||null!=h))switch(x){case"type":r=m;break;case"name":a=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==h&&qd(e,t,x,m,n,h)}}return void pt(e,o,l,c,d,u,r,a);case"select":for(r in m=o=l=x=null,s)if(c=s[r],s.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(r)||qd(e,t,r,null,n,c)}for(a in n)if(r=n[a],c=s[a],n.hasOwnProperty(a)&&(null!=r||null!=c))switch(a){case"value":x=r;break;case"defaultValue":l=r;break;case"multiple":o=r;default:r!==c&&qd(e,t,a,r,n,c)}return t=l,s=o,n=m,void(null!=x?yt(e,!!s,x,!1):!!n!==!!s&&(null!=t?yt(e,!!s,t,!0):yt(e,!!s,s?[]:"",!1)));case"textarea":for(l in m=x=null,s)if(a=s[l],s.hasOwnProperty(l)&&null!=a&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:qd(e,t,l,null,n,a)}for(o in n)if(a=n[o],r=s[o],n.hasOwnProperty(o)&&(null!=a||null!=r))switch(o){case"value":x=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==r&&qd(e,t,o,a,n,r)}return void vt(e,x,m);case"option":for(var f in s)if(x=s[f],s.hasOwnProperty(f)&&null!=x&&!n.hasOwnProperty(f))if("selected"===f)e.selected=!1;else qd(e,t,f,null,n,x);for(c in n)if(x=n[c],m=s[c],n.hasOwnProperty(c)&&x!==m&&(null!=x||null!=m))if("selected"===c)e.selected=x&&"function"!==typeof x&&"symbol"!==typeof x;else qd(e,t,c,x,n,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in s)x=s[p],s.hasOwnProperty(p)&&null!=x&&!n.hasOwnProperty(p)&&qd(e,t,p,null,n,x);for(d in n)if(x=n[d],m=s[d],n.hasOwnProperty(d)&&x!==m&&(null!=x||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(i(137,t));break;default:qd(e,t,d,x,n,m)}return;default:if(St(t)){for(var g in s)x=s[g],s.hasOwnProperty(g)&&void 0!==x&&!n.hasOwnProperty(g)&&$d(e,t,g,void 0,n,x);for(u in n)x=n[u],m=s[u],!n.hasOwnProperty(u)||x===m||void 0===x&&void 0===m||$d(e,t,u,x,n,m);return}}for(var b in s)x=s[b],s.hasOwnProperty(b)&&null!=x&&!n.hasOwnProperty(b)&&qd(e,t,b,null,n,x);for(h in n)x=n[h],m=s[h],!n.hasOwnProperty(h)||x===m||null==x&&null==m||qd(e,t,h,x,n,m)}(n,e.type,s,t),n[Be]=t}catch(a){ad(e,e.return,a)}}function Qo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ko(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Hd));else if(4!==n&&27!==n&&null!==(e=e.child))for(Xo(e,t,s),e=e.sibling;null!==e;)Xo(e,t,s),e=e.sibling}function Jo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&27!==n&&null!==(e=e.child))for(Jo(e,t,s),e=e.sibling;null!==e;)Jo(e,t,s),e=e.sibling}var Zo=!1,el=!1,tl=!1,sl="function"===typeof WeakSet?WeakSet:Set,nl=null,al=!1;function rl(e,t,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:bl(e,s),4&n&&Wo(5,s);break;case 1:if(bl(e,s),4&n)if(e=s.stateNode,null===t)try{e.componentDidMount()}catch(o){ad(s,s.return,o)}else{var a=zi(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ad(s,s.return,l)}}64&n&&Uo(s),512&n&&qo(s,s.return);break;case 3:if(bl(e,s),64&n&&null!==(n=s.updateQueue)){if(e=null,null!==s.child)switch(s.child.tag){case 27:case 5:case 1:e=s.child.stateNode}try{Fo(n,e)}catch(o){ad(s,s.return,o)}}break;case 26:bl(e,s),512&n&&qo(s,s.return);break;case 27:case 5:bl(e,s),null===t&&4&n&&Go(s),512&n&&qo(s,s.return);break;case 12:default:bl(e,s);break;case 13:bl(e,s),4&n&&ul(e,s);break;case 22:if(!(a=null!==s.memoizedState||Zo)){t=null!==t&&null!==t.memoizedState||el;var r=Zo,i=el;Zo=a,(el=t)&&!i?vl(e,s,0!==(8772&s.subtreeFlags)):bl(e,s),Zo=r,el=i}512&n&&("manual"===s.memoizedProps.mode?qo(s,s.return):$o(s,s.return))}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ol=null,ll=!1;function cl(e,t,s){for(s=s.child;null!==s;)dl(e,t,s),s=s.sibling}function dl(e,t,s){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,s)}catch(i){}switch(s.tag){case 26:el||$o(s,t),cl(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode).parentNode.removeChild(s);break;case 27:el||$o(s,t);var n=ol,a=ll;for(ol=s.stateNode,cl(e,t,s),t=(s=s.stateNode).attributes;t.length;)s.removeAttributeNode(t[0]);$e(s),ol=n,ll=a;break;case 5:el||$o(s,t);case 6:a=ol;var r=ll;if(ol=null,cl(e,t,s),ll=r,null!==(ol=a))if(ll)try{e=ol,n=s.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)}catch(o){ad(s,t,o)}else try{ol.removeChild(s.stateNode)}catch(o){ad(s,t,o)}break;case 18:null!==ol&&(ll?(t=ol,s=s.stateNode,8===t.nodeType?iu(t.parentNode,s):1===t.nodeType&&iu(t,s),ph(t)):iu(ol,s.stateNode));break;case 4:n=ol,a=ll,ol=s.stateNode.containerInfo,ll=!0,cl(e,t,s),ol=n,ll=a;break;case 0:case 11:case 14:case 15:el||Vo(2,s,t),el||Vo(4,s,t),cl(e,t,s);break;case 1:el||($o(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount&&Ho(s,t,n)),cl(e,t,s);break;case 21:cl(e,t,s);break;case 22:el||$o(s,t),el=(n=el)||null!==s.memoizedState,cl(e,t,s),el=n;break;default:cl(e,t,s)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{ph(e)}catch(s){ad(t,t.return,s)}}function hl(e,t){var s=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new sl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var n=cd.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))}))}function xl(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var a=s[n],r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:ol=l.stateNode,ll=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===ol)throw Error(i(160));dl(r,o,a),ol=null,ll=!1,null!==(r=a.alternate)&&(r.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}var ml=null;function fl(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xl(t,e),pl(e),4&n&&(Vo(3,e,e.return),Wo(3,e),Vo(5,e,e.return));break;case 1:xl(t,e),pl(e),512&n&&(el||null===s||$o(s,s.return)),64&n&&Zo&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===s?n:s.concat(n))));break;case 26:var a=ml;if(xl(t,e),pl(e),512&n&&(el||null===s||$o(s,s.return)),4&n){var r=null!==s?s.memoizedState:null;if(n=e.memoizedState,null===s)if(null===n)if(null===e.stateNode){e:{n=e.type,s=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":(!(r=a.getElementsByTagName("title")[0])||r[qe]||r[Ie]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=a.createElement(n),a.head.insertBefore(r,a.querySelector("head > title"))),Gd(r,n,s),r[Ie]=e,Xe(r),n=r;break e;case"link":var o=Au("link","href",a).get(n+(s.href||""));if(o)for(var l=0;l<o.length;l++)if((r=o[l]).getAttribute("href")===(null==s.href?null:s.href)&&r.getAttribute("rel")===(null==s.rel?null:s.rel)&&r.getAttribute("title")===(null==s.title?null:s.title)&&r.getAttribute("crossorigin")===(null==s.crossOrigin?null:s.crossOrigin)){o.splice(l,1);break t}Gd(r=a.createElement(n),n,s),a.head.appendChild(r);break;case"meta":if(o=Au("meta","content",a).get(n+(s.content||"")))for(l=0;l<o.length;l++)if((r=o[l]).getAttribute("content")===(null==s.content?null:""+s.content)&&r.getAttribute("name")===(null==s.name?null:s.name)&&r.getAttribute("property")===(null==s.property?null:s.property)&&r.getAttribute("http-equiv")===(null==s.httpEquiv?null:s.httpEquiv)&&r.getAttribute("charset")===(null==s.charSet?null:s.charSet)){o.splice(l,1);break t}Gd(r=a.createElement(n),n,s),a.head.appendChild(r);break;default:throw Error(i(468,n))}r[Ie]=e,Xe(r),n=r}e.stateNode=n}else Mu(a,e.type,e.stateNode);else e.stateNode=Nu(a,n,e.memoizedProps);else r!==n?(null===r?null!==s.stateNode&&(s=s.stateNode).parentNode.removeChild(s):r.count--,null===n?Mu(a,e.type,e.stateNode):Nu(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Yo(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(4&n&&null===e.alternate){a=e.stateNode,r=e.memoizedProps;try{for(var c=a.firstChild;c;){var d=c.nextSibling,u=c.nodeName;c[qe]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===c.rel.toLowerCase()||a.removeChild(c),c=d}for(var h=e.type,x=a.attributes;x.length;)a.removeAttributeNode(x[0]);Gd(a,h,r),a[Ie]=e,a[Be]=r}catch(f){ad(e,e.return,f)}}case 5:if(xl(t,e),pl(e),512&n&&(el||null===s||$o(s,s.return)),32&e.flags){a=e.stateNode;try{wt(a,"")}catch(f){ad(e,e.return,f)}}4&n&&null!=e.stateNode&&Yo(e,a=e.memoizedProps,null!==s?s.memoizedProps:a),1024&n&&(tl=!0);break;case 6:if(xl(t,e),pl(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(f){ad(e,e.return,f)}}break;case 3:if(Cu=null,a=ml,ml=xu(t.containerInfo),xl(t,e),ml=a,pl(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{ph(t.containerInfo)}catch(f){ad(e,e.return,f)}tl&&(tl=!1,gl(e));break;case 4:n=ml,ml=xu(e.stateNode.containerInfo),xl(t,e),pl(e),ml=n;break;case 12:xl(t,e),pl(e);break;case 13:xl(t,e),pl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==s&&null!==s.memoizedState)&&(vc=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,hl(e,n)));break;case 22:if(512&n&&(el||null===s||$o(s,s.return)),c=null!==e.memoizedState,d=null!==s&&null!==s.memoizedState,Zo=(u=Zo)||c,el=(h=el)||d,xl(t,e),el=h,Zo=u,pl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&n&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Zo||el,null===s||d||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(s=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===s){d=s=t;try{if(a=d.stateNode,c)"function"===typeof(r=a.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{o=d.stateNode;var m=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){ad(d,d.return,f)}}}else if(6===t.tag){if(null===s){d=t;try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(f){ad(d,d.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(s=n.retryQueue)&&(n.retryQueue=null,hl(e,s))));break;case 19:xl(t,e),pl(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,hl(e,n)));break;case 21:break;default:xl(t,e),pl(e)}}function pl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var s=e.return;null!==s;){if(Qo(s)){var n=s;break e}s=s.return}throw Error(i(160))}switch(n.tag){case 27:var a=n.stateNode;Jo(e,Ko(e),a);break;case 5:var r=n.stateNode;32&n.flags&&(wt(r,""),n.flags&=-33),Jo(e,Ko(e),r);break;case 3:case 4:var o=n.stateNode.containerInfo;Xo(e,Ko(e),o);break;default:throw Error(i(161))}}}catch(l){ad(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)rl(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vo(4,t,t.return),yl(t);break;case 1:$o(t,t.return);var s=t.stateNode;"function"===typeof s.componentWillUnmount&&Ho(t,t.return,s),yl(t);break;case 26:case 27:case 5:$o(t,t.return),yl(t);break;case 22:$o(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function vl(e,t,s){for(s=s&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,a=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:vl(a,r,s),Wo(4,r);break;case 1:if(vl(a,r,s),"function"===typeof(a=(n=r).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){ad(n,n.return,c)}if(null!==(a=(n=r).updateQueue)){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Bo(l[a],o)}catch(c){ad(n,n.return,c)}}s&&64&i&&Uo(r),qo(r,r.return);break;case 26:case 27:case 5:vl(a,r,s),s&&null===n&&4&i&&Go(r),qo(r,r.return);break;case 12:default:vl(a,r,s);break;case 13:vl(a,r,s),s&&4&i&&ul(a,r);break;case 22:null===r.memoizedState&&vl(a,r,s),qo(r,r.return)}t=t.sibling}}function jl(e,t){var s=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==s&&(null!=e&&e.refCount++,null!=s&&Wa(s))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e))}function Nl(e,t,s,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t,s,n),t=t.sibling}function kl(e,t,s,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Nl(e,t,s,n),2048&a&&Wo(9,t);break;case 3:Nl(e,t,s,n),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e)));break;case 12:if(2048&a){Nl(e,t,s,n),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,o=r.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ad(t,t.return,l)}}else Nl(e,t,s,n);break;case 23:break;case 22:r=t.stateNode,null!==t.memoizedState?4&r._visibility?Nl(e,t,s,n):Sl(e,t):4&r._visibility?Nl(e,t,s,n):(r._visibility|=4,_l(e,t,s,n,0!==(10256&t.subtreeFlags))),2048&a&&jl(t.alternate,t);break;case 24:Nl(e,t,s,n),2048&a&&wl(t.alternate,t);break;default:Nl(e,t,s,n)}}function _l(e,t,s,n,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,i=t,o=s,l=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:_l(r,i,o,l,a),Wo(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?4&d._visibility?_l(r,i,o,l,a):Sl(r,i):(d._visibility|=4,_l(r,i,o,l,a)),a&&2048&c&&jl(i.alternate,i);break;case 24:_l(r,i,o,l,a),a&&2048&c&&wl(i.alternate,i);break;default:_l(r,i,o,l,a)}t=t.sibling}}function Sl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var s=e,n=t,a=n.flags;switch(n.tag){case 22:Sl(s,n),2048&a&&jl(n.alternate,n);break;case 24:Sl(s,n),2048&a&&wl(n.alternate,n);break;default:Sl(s,n)}t=t.sibling}}var Cl=8192;function Al(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)Ml(e),e=e.sibling}function Ml(e){switch(e.tag){case 26:Al(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,s){if(null===Eu)throw Error(i(475));var n=Eu;if("stylesheet"===t.type&&("string"!==typeof s.media||!1!==matchMedia(s.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=bu(s.href),r=e.querySelector(yu(a));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=zu.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=r,void Xe(r);r=e.ownerDocument||e,s=vu(s),(a=uu.get(a))&&_u(s,a),Xe(r=r.createElement("link"));var o=r;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Gd(r,"link",s),t.instance=r}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=zu.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(ml,e.memoizedState,e.memoizedProps);break;case 5:default:Al(e);break;case 3:case 4:var t=ml;ml=xu(e.stateNode.containerInfo),Al(e),ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Al(e),Cl=t):Al(e))}}function Ll(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function El(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];nl=n,Ol(n,e)}Ll(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Pl(e),e=e.sibling}function Pl(e){switch(e.tag){case 0:case 11:case 15:El(e),2048&e.flags&&Vo(9,e,e.return);break;case 3:case 12:default:El(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,zl(e)):El(e)}}function zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];nl=n,Ol(n,e)}Ll(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Vo(8,t,t.return),zl(t);break;case 22:4&(s=t.stateNode)._visibility&&(s._visibility&=-5,zl(t));break;default:zl(t)}e=e.sibling}}function Ol(e,t){for(;null!==nl;){var s=nl;switch(s.tag){case 0:case 11:case 15:Vo(8,s,t);break;case 23:case 22:if(null!==s.memoizedState&&null!==s.memoizedState.cachePool){var n=s.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Wa(s.memoizedState.cache)}if(null!==(n=s.child))n.return=s,nl=n;else e:for(s=e;null!==nl;){var a=(n=nl).sibling,r=n.return;if(il(n),n===s){nl=null;break e}if(null!==a){a.return=r,nl=a;break e}nl=r}}}function Tl(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,s,n){return new Tl(e,t,s,n)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Il(e,t){var s=e.alternate;return null===s?((s=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=31457280&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Bl(e,t){e.flags&=31457282;var s=e.alternate;return null===s?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,s,n,a,r){var o=0;if(n=e,"function"===typeof e)Dl(e)&&(o=1);else if("string"===typeof e)o=function(e,t,s){if(1===s||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,s,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Wl(s.children,a,r,t);case h:o=8,a|=24;break;case x:return(e=Rl(12,s,t,2|a)).elementType=x,e.lanes=r,e;case b:return(e=Rl(13,s,t,a)).elementType=b,e.lanes=r,e;case y:return(e=Rl(19,s,t,a)).elementType=y,e.lanes=r,e;case w:return Vl(s,a,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:case p:o=10;break e;case f:o=9;break e;case g:o=11;break e;case v:o=14;break e;case j:o=16,n=null;break e}o=29,s=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=Rl(o,s,t,a)).elementType=e,t.type=n,t.lanes=r,t}function Wl(e,t,s,n){return(e=Rl(7,e,n,t)).lanes=s,e}function Vl(e,t,s,n){(e=Rl(22,e,n,t)).elementType=w,e.lanes=s;var a={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=a._current;if(null===e)throw Error(i(456));if(0===(2&a._pendingVisibility)){var t=Mn(e,2);null!==t&&(a._pendingVisibility|=2,zc(t,e,2))}},attach:function(){var e=a._current;if(null===e)throw Error(i(456));if(0!==(2&a._pendingVisibility)){var t=Mn(e,2);null!==t&&(a._pendingVisibility&=-3,zc(t,e,2))}}};return e.stateNode=a,e}function Ul(e,t,s){return(e=Rl(6,e,null,t)).lanes=s,e}function Hl(e,t,s){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ql(e){e.flags|=4}function $l(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Lu(t)){if(null!==(t=Aa.current)&&((4194176&ac)===ac?null!==Ma:(62914560&ac)!==ac&&0===(536870912&ac)||t!==Ma))throw ha=la,oa;e.flags|=8192}}function Gl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Le():536870912,e.lanes|=t,pc|=t)}function Yl(e,t){if(!Kn)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=31457280&a.subtreeFlags,n|=31457280&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Kl(e,t,s){var n=t.pendingProps;switch(Gn(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Ql(t),null;case 3:return s=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vo(Ba),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(na(t)?ql(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xn&&(Tc(Xn),Xn=null))),Ql(t),null;case 26:return s=t.memoizedState,null===e?(ql(t),null!==s?(Ql(t),$l(t,s)):(Ql(t),t.flags&=-16777217)):s?s!==e.memoizedState?(ql(t),Ql(t),$l(t,s)):(Ql(t),t.flags&=-16777217):(e.memoizedProps!==n&&ql(t),Ql(t),t.flags&=-16777217),null;case 27:se(t),s=X.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ql(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Ql(t),null}e=Q.current,na(t)?ta(t):(e=du(a,n,s),t.stateNode=e,ql(t))}return Ql(t),null;case 5:if(se(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ql(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Ql(t),null}if(e=Q.current,na(t))ta(t);else{switch(a=Kd(X.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?a.createElement("select",{is:n.is}):a.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?a.createElement(s,{is:n.is}):a.createElement(s)}}e[Ie]=t,e[Be]=n;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Gd(e,s,n),s){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ql(t)}}return Ql(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&ql(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=X.current,na(t)){if(e=t.stateNode,s=t.memoizedProps,n=null,null!==(a=Yn))switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===s||null!==n&&!0===n.suppressHydrationWarning||Ud(e.nodeValue,s)))||ea(t)}else(e=Kd(e).createTextNode(n))[Ie]=t,t.stateNode=e}return Ql(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=na(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Ie]=t}else aa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),a=!1}else null!==Xn&&(Tc(Xn),Xn=null),a=!0;if(!a)return 256&t.flags?(za(t),t):(za(t),null)}if(za(t),0!==(128&t.flags))return t.lanes=s,t;if(s=null!==n,e=null!==e&&null!==e.memoizedState,s){a=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(a=n.alternate.memoizedState.cachePool.pool);var r=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),Gl(t,t.updateQueue),Ql(t),null;case 4:return ee(),null===e&&zd(t.stateNode.containerInfo),Ql(t),null;case 10:return vo(t.type),Ql(t),null;case 19:if(G(Oa),null===(a=t.memoizedState))return Ql(t),null;if(n=0!==(128&t.flags),null===(r=a.rendering))if(n)Yl(a,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=Ta(e))){for(t.flags|=128,Yl(a,!1),e=r.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=s,s=t.child;null!==s;)Bl(s,e),s=s.sibling;return Y(Oa,1&Oa.current|2),t.child}e=e.sibling}null!==a.tail&&le()>jc&&(t.flags|=128,n=!0,Yl(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Ta(r))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),Yl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!r.alternate&&!Kn)return Ql(t),null}else 2*le()-a.renderingStartTime>jc&&536870912!==s&&(t.flags|=128,n=!0,Yl(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=a.last)?e.sibling=r:t.child=r,a.last=r)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=le(),t.sibling=null,e=Oa.current,Y(Oa,n?1&e|2:1&e),t):(Ql(t),null);case 22:case 23:return za(t),Ca(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&s)&&0===(128&t.flags)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null!==(s=t.updateQueue)&&Gl(t,s.retryQueue),s=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==s&&(t.flags|=2048),null!==e&&G(Ya),null;case 24:return s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vo(Ba),Ql(t),null;case 25:return null}throw Error(i(156,t.tag))}function Xl(e,t){switch(Gn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vo(Ba),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return se(t),null;case 13:if(za(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));aa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(Oa),null;case 4:return ee(),null;case 10:return vo(t.type),null;case 22:case 23:return za(t),Ca(),null!==e&&G(Ya),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vo(Ba),null;default:return null}}function Jl(e,t){switch(Gn(t),t.tag){case 3:vo(Ba),ee();break;case 26:case 27:case 5:se(t);break;case 4:ee();break;case 13:za(t);break;case 19:G(Oa);break;case 10:vo(t.type);break;case 22:case 23:za(t),Ca(),null!==e&&G(Ya);break;case 24:vo(Ba)}}var Zl={getCacheForType:function(e){var t=So(Ba),s=t.data.get(e);return void 0===s&&(s=e(),t.data.set(e,s)),s}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,sc=null,nc=null,ac=0,rc=0,ic=null,oc=!1,lc=!1,cc=!1,dc=0,uc=0,hc=0,xc=0,mc=0,fc=0,pc=0,gc=null,bc=null,yc=!1,vc=0,jc=1/0,wc=null,Nc=null,kc=!1,_c=null,Sc=0,Cc=0,Ac=null,Mc=0,Lc=null;function Ec(){if(0!==(2&tc)&&0!==ac)return ac&-ac;if(null!==L.T){return 0!==Ha?Ha:wd()}return Re()}function Pc(){0===fc&&(fc=0===(536870912&ac)||Kn?Me():536870912);var e=Aa.current;return null!==e&&(e.flags|=32),fc}function zc(e,t,s){(e===sc&&2===rc||null!==e.cancelPendingCommit)&&(Wc(e,0),Ic(e,ac,fc,!1)),Pe(e,s),0!==(2&tc)&&e===sc||(e===sc&&(0===(2&tc)&&(xc|=s),4===uc&&Ic(e,ac,fc,!1)),pd(e))}function Oc(e,t,s){if(0!==(6&tc))throw Error(i(327));for(var n=!s&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),a=n?function(e,t){var s=tc;tc|=2;var n=Uc(),a=Hc();sc!==e||ac!==t?(wc=null,jc=le()+500,Wc(e,t)):lc=Ce(e,t);e:for(;;)try{if(0!==rc&&null!==nc){t=nc;var r=ic;t:switch(rc){case 1:rc=0,ic=null,Xc(e,t,r,1);break;case 2:if(ca(r)){rc=0,ic=null,Kc(t);break}t=function(){2===rc&&sc===e&&(rc=7),pd(e)},r.then(t,t);break e;case 3:rc=7;break e;case 4:rc=5;break e;case 7:ca(r)?(rc=0,ic=null,Kc(t)):(rc=0,ic=null,Xc(e,t,r,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Lu(o)){rc=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var d=l.return;null!==d?(nc=d,Jc(d)):nc=null}break t}}rc=0,ic=null,Xc(e,t,r,5);break;case 6:rc=0,ic=null,Xc(e,t,r,6);break;case 8:Fc(),uc=6;break e;default:throw Error(i(462))}}Yc();break}catch(u){Vc(e,u)}return bo=go=null,L.H=n,L.A=a,tc=s,null!==nc?0:(sc=null,ac=0,Sn(),uc)}(e,t):$c(e,t,!0),r=n;;){if(0===a){lc&&!n&&Ic(e,t,0,!1);break}if(6===a)Ic(e,t,0,!oc);else{if(s=e.current.alternate,r&&!Dc(s)){a=$c(e,t,!1),r=!1;continue}if(2===a){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,o).flags|=256),2!==(o=$c(l,o,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=r,xc|=r,a=4;break e}r=bc,bc=a,null!==r&&Tc(r)}a=o}if(r=!1,2!==a)continue}}if(1===a){Wc(e,0),Ic(e,t,0,!0);break}e:{switch(n=e,a){case 0:case 1:throw Error(i(345));case 4:if((4194176&t)===t){Ic(n,t,fc,!oc);break e}break;case 2:bc=null;break;case 3:case 5:break;default:throw Error(i(329))}if(n.finishedWork=s,n.finishedLanes=t,(62914560&t)===t&&10<(r=vc+300-le())){if(Ic(n,t,fc,!oc),0!==Se(n,0))break e;n.timeoutHandle=tu(Rc.bind(null,n,s,bc,wc,yc,t,fc,xc,pc,oc,2,-0,0),r)}else Rc(n,s,bc,wc,yc,t,fc,xc,pc,oc,0,-0,0)}}break}pd(e)}function Tc(e){null===bc?bc=e:bc.push.apply(bc,e)}function Rc(e,t,s,n,a,r,o,l,c,d,u,h,x){var m=t.subtreeFlags;if((8192&m||16785408===(16785408&m))&&(Eu={stylesheets:null,count:0,unsuspend:Pu},Ml(t),null!==(t=function(){if(null===Eu)throw Error(i(475));var e=Eu;return e.stylesheets&&0===e.count&&Tu(e,e.stylesheets),0<e.count?function(t){var s=setTimeout((function(){if(e.stylesheets&&Tu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}())))return e.cancelPendingCommit=t(ed.bind(null,e,s,n,a,o,l,c,1,h,x)),void Ic(e,r,o,!d);ed(e,s,n,a,o,l,c,u,h,x)}function Dc(e){for(var t=e;;){var s=t.tag;if((0===s||11===s||15===s)&&16384&t.flags&&(null!==(s=t.updateQueue)&&null!==(s=s.stores)))for(var n=0;n<s.length;n++){var a=s[n],r=a.getSnapshot;a=a.value;try{if(!Gs(r(),a))return!1}catch(i){return!1}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ic(e,t,s,n){t&=~mc,t&=~xc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var r=31-ve(a),i=1<<r;n[r]=-1,a&=~i}0!==s&&ze(e,s,t)}function Bc(){return 0!==(6&tc)||(gd(0,!1),!1)}function Fc(){if(null!==nc){if(0===rc)var e=nc.return;else bo=go=null,br(e=nc),ma=null,fa=0,e=nc;for(;null!==e;)Jl(e.alternate,e),e=e.return;nc=null}}function Wc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;-1!==s&&(e.timeoutHandle=-1,su(s)),null!==(s=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,s()),Fc(),sc=e,nc=s=Il(e.current,null),ac=t,rc=0,ic=null,oc=!1,lc=Ce(e,t),cc=!1,pc=fc=mc=xc=hc=uc=0,bc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var a=31-ve(n),r=1<<a;t|=e[a],n&=~r}return dc=t,Sn(),s}function Vc(e,t){Za=null,L.H=_i,t===ia?(t=xa(),rc=3):t===oa?(t=xa(),rc=4):rc=t===Ui?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(uc=1,Ii(e,On(t,e.current)))}function Uc(){var e=L.H;return L.H=_i,null===e?_i:e}function Hc(){var e=L.A;return L.A=Zl,e}function qc(){uc=4,oc||(4194176&ac)!==ac&&null!==Aa.current||(lc=!0),0===(134217727&hc)&&0===(134217727&xc)||null===sc||Ic(sc,ac,fc,!1)}function $c(e,t,s){var n=tc;tc|=2;var a=Uc(),r=Hc();sc===e&&ac===t||(wc=null,Wc(e,t)),t=!1;var i=uc;e:for(;;)try{if(0!==rc&&null!==nc){var o=nc,l=ic;switch(rc){case 8:Fc(),i=6;break e;case 3:case 2:case 6:null===Aa.current&&(t=!0);var c=rc;if(rc=0,ic=null,Xc(e,o,l,c),s&&lc){i=0;break e}break;default:c=rc,rc=0,ic=null,Xc(e,o,l,c)}}Gc(),i=uc;break}catch(d){Vc(e,d)}return t&&e.shellSuspendCounter++,bo=go=null,tc=n,L.H=a,L.A=r,null===nc&&(sc=null,ac=0,Sn()),i}function Gc(){for(;null!==nc;)Qc(nc)}function Yc(){for(;null!==nc&&!ie();)Qc(nc)}function Qc(e){var t=fo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function Kc(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Zi(s,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Zi(s,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:br(t);default:Jl(s,t),t=fo(s,t=nc=Bl(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?Jc(e):nc=t}function Xc(e,t,s,n){bo=go=null,br(t),ma=null,fa=0;var a=t.return;try{if(function(e,t,s,n,a){if(s.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=s.alternate)&&No(t,s,a,!0),null!==(s=Aa.current)){switch(s.tag){case 13:return null===Ma?qc():null===s.alternate&&0===uc&&(uc=3),s.flags&=-257,s.flags|=65536,s.lanes=a,n===la?s.flags|=16384:(null===(t=s.updateQueue)?s.updateQueue=new Set([n]):t.add(n),rd(e,n,a)),!1;case 22:return s.flags|=65536,n===la?s.flags|=16384:(null===(t=s.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=t):null===(s=t.retryQueue)?t.retryQueue=new Set([n]):s.add(n),rd(e,n,a)),!1}throw Error(i(435,s.tag))}return rd(e,n,a),qc(),!1}if(Kn)return null!==(t=Aa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Zn&&ra(On(e=Error(i(422),{cause:n}),s))):(n!==Zn&&ra(On(t=Error(i(423),{cause:n}),s)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,n=On(n,s),To(e,a=Fi(e.stateNode,n,a)),4!==uc&&(uc=2)),!1;var r=Error(i(520),{cause:n});if(r=On(r,s),null===gc?gc=[r]:gc.push(r),4!==uc&&(uc=2),null===t)return!0;n=On(n,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=a&-a,s.lanes|=e,To(s,e=Fi(s.stateNode,n,e)),!1;case 1:if(t=s.type,r=s.stateNode,0===(128&s.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))))return s.flags|=65536,a&=-a,s.lanes|=a,Vi(a=Wi(a),e,s,n),To(s,a),!1}s=s.return}while(null!==s);return!1}(e,a,t,s,ac))return uc=1,Ii(e,On(s,e.current)),void(nc=null)}catch(r){if(null!==a)throw nc=a,r;return uc=1,Ii(e,On(s,e.current)),void(nc=null)}32768&t.flags?(Kn||1===n?e=!0:lc||0!==(536870912&ac)?e=!1:(oc=e=!0,(2===n||3===n||6===n)&&(null!==(n=Aa.current)&&13===n.tag&&(n.flags|=16384))),Zc(t,e)):Jc(t)}function Jc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,oc);e=t.return;var s=Kl(t.alternate,t,dc);if(null!==s)return void(nc=s);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Zc(e,t){do{var s=Xl(e.alternate,e);if(null!==s)return s.flags&=32767,void(nc=s);if(null!==(s=e.return)&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=s}while(null!==e);uc=6,nc=null}function ed(e,t,s,n,a,r,o,l,c,d){var u=L.T,h=V.p;try{V.p=2,L.T=null,function(e,t,s,n,a,r,o,l){do{sd()}while(null!==_c);if(0!==(6&tc))throw Error(i(327));var c=e.finishedWork;if(n=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d=c.lanes|c.childLanes;if(function(e,t,s,n,a,r){var i=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(s=i&~s;0<s;){var d=31-ve(s),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var x=h[d];null!==x&&(x.lane&=-536870913)}s&=~u}0!==n&&ze(e,n,0),0!==r&&0===a&&0!==e.tag&&(e.suspendedLanes|=r&~(i&~t))}(e,n,d|=_n,r,o,l),e===sc&&(nc=sc=null,ac=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||kc||(kc=!0,Cc=d,Ac=s,function(e,t){ae(e,t)}(he,(function(){return sd(),null}))),s=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||s?(s=L.T,L.T=null,r=V.p,V.p=2,o=tc,tc|=4,function(e,t){if(e=e.containerInfo,Yd=qu,Zs(e=Js(e))){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var a=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{s.nodeType,r.nodeType}catch(p){s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,x=null;t:for(;;){for(var m;h!==s||0!==a&&3!==h.nodeType||(l=o+a),h!==r||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)x=h,h=m;for(;;){if(h===e)break t;if(x===s&&++d===a&&(l=o),x===r&&++u===n&&(c=o),null!==(m=h.nextSibling))break;x=(h=x).parentNode}h=m}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qd={focusedElem:e,selectionRange:s},qu=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(r=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,s=t,a=r.memoizedProps,r=r.memoizedState,n=s.stateNode;try{var f=zi(s.type,a,(s.elementType,s.type));e=n.getSnapshotBeforeUpdate(f,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){ad(s,s.return,g)}}break;case 3:if(0!==(1024&e))if(9===(s=(e=t.stateNode.containerInfo).nodeType))ou(e);else if(1===s)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}f=al,al=!1}(e,c),fl(c,e),en(Qd,e.containerInfo),qu=!!Yd,Qd=Yd=null,e.current=c,rl(e,c.alternate,c),oe(),tc=o,V.p=r,L.T=s):e.current=c,kc?(kc=!1,_c=e,Sc=n):td(e,d),d=e.pendingLanes,0===d&&(Nc=null),function(e){if(be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),pd(e),null!==t)for(a=e.onRecoverableError,c=0;c<t.length;c++)d=t[c],a(d.value,{componentStack:d.stack});0!==(3&Sc)&&sd(),d=e.pendingLanes,0!==(4194218&n)&&0!==(42&d)?e===Lc?Mc++:(Mc=0,Lc=e):Mc=0,gd(0,!1)}(e,t,s,n,h,a,r,o)}finally{L.T=u,V.p=h}}function td(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wa(t)))}function sd(){if(null!==_c){var e=_c,t=Cc;Cc=0;var s=Te(Sc),n=L.T,a=V.p;try{if(V.p=32>s?32:s,L.T=null,null===_c)var r=!1;else{s=Ac,Ac=null;var o=_c,l=Sc;if(_c=null,Sc=0,0!==(6&tc))throw Error(i(331));var c=tc;if(tc|=4,Pl(o.current),kl(o,o.current,l,s),tc=c,gd(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,o)}catch(d){}r=!0}return r}finally{V.p=a,L.T=n,td(e,t)}}return!1}function nd(e,t,s){t=On(s,t),null!==(e=zo(e,t=Fi(e.stateNode,t,2),2))&&(Pe(e,2),pd(e))}function ad(e,t,s){if(3===e.tag)nd(e,e,s);else for(;null!==t;){if(3===t.tag){nd(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Nc||!Nc.has(n))){e=On(s,e),null!==(n=zo(t,s=Wi(2),2))&&(Vi(s,n,t,e),Pe(n,2),pd(n));break}}t=t.return}}function rd(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new ec;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(s)||(cc=!0,a.add(s),e=id.bind(null,e,t,s),t.then(e,e))}function id(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,sc===e&&(ac&s)===s&&(4===uc||3===uc&&(62914560&ac)===ac&&300>le()-vc?0===(2&tc)&&Wc(e,0):mc|=s,pc===ac&&(pc=0)),pd(e)}function od(e,t){0===t&&(t=Le()),null!==(e=Mn(e,t))&&(Pe(e,t),pd(e))}function ld(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),od(e,s)}function cd(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(s=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),od(e,s)}var dd=null,ud=null,hd=!1,xd=!1,md=!1,fd=0;function pd(e){var t;e!==ud&&null===e.next&&(null===ud?dd=ud=e:ud=ud.next=e),xd=!0,hd||(hd=!0,t=bd,au((function(){0!==(6&tc)?ae(de,t):t()})))}function gd(e,t){if(!md&&xd){md=!0;do{for(var s=!1,n=dd;null!==n;){if(!t)if(0!==e){var a=n.pendingLanes;if(0===a)var r=0;else{var i=n.suspendedLanes,o=n.pingedLanes;r=(1<<31-ve(42|e)+1)-1,r=201326677&(r&=a&~(i&~o))?201326677&r|1:r?2|r:0}0!==r&&(s=!0,jd(n,r))}else r=ac,0===(3&(r=Se(n,n===sc?r:0)))||Ce(n,r)||(s=!0,jd(n,r));n=n.next}}while(s);md=!1}}function bd(){xd=hd=!1;var e=0;0!==fd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==eu&&(eu=e,!0);return eu=null,!1}()&&(e=fd),fd=0);for(var t=le(),s=null,n=dd;null!==n;){var a=n.next,r=yd(n,t);0===r?(n.next=null,null===s?dd=a:s.next=a,null===a&&(ud=s)):(s=n,(0!==e||0!==(3&r))&&(xd=!0)),n=a}gd(e,!1)}function yd(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var i=31-ve(r),o=1<<i,l=a[i];-1===l?0!==(o&s)&&0===(o&n)||(a[i]=Ae(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}if(s=ac,s=Se(e,e===(t=sc)?s:0),n=e.callbackNode,0===s||e===t&&2===rc||null!==e.cancelPendingCommit)return null!==n&&null!==n&&re(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&s)||Ce(e,s)){if((t=s&-s)===e.callbackPriority)return t;switch(null!==n&&re(n),Te(s)){case 2:case 8:s=ue;break;case 32:default:s=he;break;case 268435456:s=me}return n=vd.bind(null,e),s=ae(s,n),e.callbackPriority=t,e.callbackNode=s,t}return null!==n&&null!==n&&re(n),e.callbackPriority=2,e.callbackNode=null,2}function vd(e,t){var s=e.callbackNode;if(sd()&&e.callbackNode!==s)return null;var n=ac;return 0===(n=Se(e,e===sc?n:0))?null:(Oc(e,n,t),yd(e,le()),null!=e.callbackNode&&e.callbackNode===s?vd.bind(null,e):null)}function jd(e,t){if(sd())return null;Oc(e,t,!0)}function wd(){return 0===fd&&(fd=Me()),fd}function Nd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Mt(""+e)}function kd(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}for(var _d=0;_d<jn.length;_d++){var Sd=jn[_d];wn(Sd.toLowerCase(),"on"+(Sd[0].toUpperCase()+Sd.slice(1)))}wn(xn,"onAnimationEnd"),wn(mn,"onAnimationIteration"),wn(fn,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(pn,"onTransitionRun"),wn(gn,"onTransitionStart"),wn(bn,"onTransitionCancel"),wn(yn,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ad=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function Md(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&a.isPropagationStopped())break e;r=o,a.currentTarget=c;try{r(a)}catch(d){Oi(d)}a.currentTarget=null,r=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==r&&a.isPropagationStopped())break e;r=o,a.currentTarget=c;try{r(a)}catch(d){Oi(d)}a.currentTarget=null,r=l}}}}function Ld(e,t){var s=t[We];void 0===s&&(s=t[We]=new Set);var n=e+"__bubble";s.has(n)||(Od(t,e,2,!1),s.add(n))}function Ed(e,t,s){var n=0;t&&(n|=4),Od(s,e,n,t)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[Pd]){e[Pd]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Ad.has(t)||Ed(t,!1,e),Ed(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Pd]||(t[Pd]=!0,Ed("selectionchange",!1,t))}}function Od(e,t,s,n){switch(Ju(t)){case 2:var a=$u;break;case 8:a=Gu;break;default:a=Yu}s=a.bind(null,t,s,e),a=void 0,!It||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):void 0!==a?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Td(e,t,s,n,a){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=Ge(o)))return;if(5===(l=i.tag)||6===l||26===l||27===l){n=r=i;continue e}o=o.parentNode}}n=n.return}Rt((function(){var n=r,a=Et(s),i=[];e:{var o=vn.get(e);if(void 0!==o){var l=Jt,c=e;switch(e){case"keypress":if(0===Ht(s))break e;case"keydown":case"keyup":l=xs;break;case"focusin":c="focus",l=as;break;case"focusout":c="blur",l=as;break;case"beforeblur":case"afterblur":l=as;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ns;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=fs;break;case xn:case mn:case fn:l=rs;break;case yn:l=ps;break;case"scroll":case"scrollend":l=es;break;case"wheel":l=gs;break;case"copy":case"cut":case"paste":l=is;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ms;break;case"toggle":case"beforetoggle":l=bs}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==o?o+"Capture":null:o;d=[];for(var x,m=n;null!==m;){var f=m;if(x=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===x||null===h||null!=(f=Dt(m,h))&&d.push(Rd(m,f,x)),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,s,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===Lt||!(c=s.relatedTarget||s.fromElement)||!Ge(c)&&!c[Fe])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=s.relatedTarget||s.toElement)?Ge(c):null)&&(u=D(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=n),l!==c)){if(d=ss,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=ms,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:Qe(l),x=null==c?o:Qe(c),(o=new d(f,m+"leave",l,s,a)).target=u,o.relatedTarget=x,f=null,Ge(a)===n&&((d=new d(h,m+"enter",c,s,a)).target=x,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,x=d=l;x;x=Id(x))m++;for(x=0,f=h;f;f=Id(f))x++;for(;0<m-x;)d=Id(d),m--;for(;0<x-m;)h=Id(h),x--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Id(d),h=Id(h)}d=null}else d=null;null!==l&&Bd(i,o,l,d,!1),null!==c&&null!==u&&Bd(i,u,c,d,!0)}if("select"===(l=(o=n?Qe(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var p=Rs;else if(Ls(o))if(Ds)p=$s;else{p=Hs;var g=Us}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&St(n.elementType)&&(p=Rs):p=qs;switch(p&&(p=p(e,n))?Es(i,p,s,a):(g&&g(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&bt(o,"number",o.value)),g=n?Qe(n):window,e){case"focusin":(Ls(g)||"true"===g.contentEditable)&&(sn=g,nn=n,an=null);break;case"focusout":an=nn=sn=null;break;case"mousedown":rn=!0;break;case"contextmenu":case"mouseup":case"dragend":rn=!1,on(i,s,a);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":on(i,s,a)}var b;if(vs)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else As?Ss(e,s)&&(y="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(y="onCompositionStart");y&&(Ns&&"ko"!==s.locale&&(As||"onCompositionStart"!==y?"onCompositionEnd"===y&&As&&(b=Ut()):(Wt="value"in(Ft=a)?Ft.value:Ft.textContent,As=!0)),0<(g=Dd(n,y)).length&&(y=new os(y,e,null,s,a),i.push({event:y,listeners:g}),b?y.data=b:null!==(b=Cs(s))&&(y.data=b))),(b=ws?function(e,t){switch(e){case"compositionend":return Cs(t);case"keypress":return 32!==t.which?null:(_s=!0,ks);case"textInput":return(e=t.data)===ks&&_s?null:e;default:return null}}(e,s):function(e,t){if(As)return"compositionend"===e||!vs&&Ss(e,t)?(e=Ut(),Vt=Wt=Ft=null,As=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ns&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(y=Dd(n,"onBeforeInput")).length&&(g=new os("onBeforeInput","beforeinput",null,s,a),i.push({event:g,listeners:y}),g.data=b)),function(e,t,s,n,a){if("submit"===t&&s&&s.stateNode===a){var r=Nd((a[Be]||null).action),i=n.submitter;i&&null!==(t=(t=i[Be]||null)?Nd(t.formAction):i.getAttribute("formAction"))&&(r=t,i=null);var o=new Jt("action","action",null,n,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==fd){var e=i?kd(a,i):new FormData(a);ui(s,{pending:!0,data:e,method:a.method,action:r},null,e)}}else"function"===typeof r&&(o.preventDefault(),e=i?kd(a,i):new FormData(a),ui(s,{pending:!0,data:e,method:a.method,action:r},r,e))},currentTarget:a}]})}}(i,e,n,s,a)}Md(i,t)}))}function Rd(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Dd(e,t){for(var s=t+"Capture",n=[];null!==e;){var a=e,r=a.stateNode;5!==(a=a.tag)&&26!==a&&27!==a||null===r||(null!=(a=Dt(e,s))&&n.unshift(Rd(e,a,r)),null!=(a=Dt(e,t))&&n.push(Rd(e,a,r))),e=e.return}return n}function Id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Bd(e,t,s,n,a){for(var r=t._reactName,i=[];null!==s&&s!==n;){var o=s,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Dt(s,r))&&i.unshift(Rd(s,c,l)):a||null!=(c=Dt(s,r))&&i.push(Rd(s,c,l))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Fd=/\r\n?/g,Wd=/\u0000|\uFFFD/g;function Vd(e){return("string"===typeof e?e:""+e).replace(Fd,"\n").replace(Wd,"")}function Ud(e,t){return t=Vd(t),Vd(e)===t}function Hd(){}function qd(e,t,s,n,a,r){switch(s){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||wt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&wt(e,""+n);break;case"className":ot(e,"class",n);break;case"tabIndex":ot(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,s,n);break;case"style":_t(e,n,r);break;case"data":if("object"!==t){ot(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==s)){e.removeAttribute(s);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(s);break}n=Mt(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===s?("input"!==t&&qd(e,t,"name",a.name,a,null),qd(e,t,"formEncType",a.formEncType,a,null),qd(e,t,"formMethod",a.formMethod,a,null),qd(e,t,"formTarget",a.formTarget,a,null)):(qd(e,t,"encType",a.encType,a,null),qd(e,t,"method",a.method,a,null),qd(e,t,"target",a.target,a,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(s);break}n=Mt(""+n),e.setAttribute(s,n);break;case"onClick":null!=n&&(e.onclick=Hd);break;case"onScroll":null!=n&&Ld("scroll",e);break;case"onScrollEnd":null!=n&&Ld("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(s=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}s=Mt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":!0===n?e.setAttribute(s,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":Ld("beforetoggle",e),Ld("toggle",e),it(e,"popover",n);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":it(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||"o"!==s[0]&&"O"!==s[0]||"n"!==s[1]&&"N"!==s[1])&&it(e,s=Ct.get(s)||s,n)}}function $d(e,t,s,n,a,r){switch(s){case"style":_t(e,n,r);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(s=n.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=s}}break;case"children":"string"===typeof n?wt(e,n):("number"===typeof n||"bigint"===typeof n)&&wt(e,""+n);break;case"onScroll":null!=n&&Ld("scroll",e);break;case"onScrollEnd":null!=n&&Ld("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(s)||("o"!==s[0]||"n"!==s[1]||(a=s.endsWith("Capture"),t=s.slice(2,a?s.length-7:void 0),"function"===typeof(r=null!=(r=e[Be]||null)?r[s]:null)&&e.removeEventListener(t,r,a),"function"!==typeof n)?s in e?e[s]=n:!0===n?e.setAttribute(s,""):it(e,s,n):("function"!==typeof r&&null!==r&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,n,a)))}}function Gd(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ld("error",e),Ld("load",e);var n,a=!1,r=!1;for(n in s)if(s.hasOwnProperty(n)){var o=s[n];if(null!=o)switch(n){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qd(e,t,n,o,s,null)}}return r&&qd(e,t,"srcSet",s.srcSet,s,null),void(a&&qd(e,t,"src",s.src,s,null));case"input":Ld("invalid",e);var l=n=o=r=null,c=null,d=null;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];if(null!=u)switch(a){case"name":r=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:qd(e,t,a,u,s,null)}}return gt(e,n,l,c,d,o,r,!1),void ut(e);case"select":for(r in Ld("invalid",e),a=o=n=null,s)if(s.hasOwnProperty(r)&&null!=(l=s[r]))switch(r){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:qd(e,t,r,l,s,null)}return t=n,s=o,e.multiple=!!a,void(null!=t?yt(e,!!a,t,!1):null!=s&&yt(e,!!a,s,!0));case"textarea":for(o in Ld("invalid",e),n=r=a=null,s)if(s.hasOwnProperty(o)&&null!=(l=s[o]))switch(o){case"value":a=l;break;case"defaultValue":r=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:qd(e,t,o,l,s,null)}return jt(e,a,r,n),void ut(e);case"option":for(c in s)if(s.hasOwnProperty(c)&&null!=(a=s[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else qd(e,t,c,a,s,null);return;case"dialog":Ld("cancel",e),Ld("close",e);break;case"iframe":case"object":Ld("load",e);break;case"video":case"audio":for(a=0;a<Cd.length;a++)Ld(Cd[a],e);break;case"image":Ld("error",e),Ld("load",e);break;case"details":Ld("toggle",e);break;case"embed":case"source":case"link":Ld("error",e),Ld("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in s)if(s.hasOwnProperty(d)&&null!=(a=s[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qd(e,t,d,a,s,null)}return;default:if(St(t)){for(u in s)s.hasOwnProperty(u)&&(void 0!==(a=s[u])&&$d(e,t,u,a,s,void 0));return}}for(l in s)s.hasOwnProperty(l)&&(null!=(a=s[l])&&qd(e,t,l,a,s,null))}var Yd=null,Qd=null;function Kd(e){return 9===e.nodeType?e:e.ownerDocument}function Xd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var eu=null;var tu="function"===typeof setTimeout?setTimeout:void 0,su="function"===typeof clearTimeout?clearTimeout:void 0,nu="function"===typeof Promise?Promise:void 0,au="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nu?function(e){return nu.resolve(null).then(e).catch(ru)}:tu;function ru(e){setTimeout((function(){throw e}))}function iu(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&8===a.nodeType)if("/$"===(s=a.data)){if(0===n)return e.removeChild(a),void ph(t);n--}else"$"!==s&&"$?"!==s&&"$!"!==s||n++;s=a}while(s);ph(t)}function ou(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ou(s),$e(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===s.rel.toLowerCase())continue}e.removeChild(s)}}function lu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}function du(e,t,s){switch(t=Kd(s),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}var uu=new Map,hu=new Set;function xu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var mu=V.d;V.d={f:function(){var e=mu.f(),t=Bc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?xi(t):mu.r(e)},D:function(e){mu.D(e),pu("dns-prefetch",e,null)},C:function(e,t){mu.C(e,t),pu("preconnect",e,t)},L:function(e,t,s){mu.L(e,t,s);var n=fu;if(n&&e&&t){var a='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&s&&s.imageSrcSet?(a+='[imagesrcset="'+ft(s.imageSrcSet)+'"]',"string"===typeof s.imageSizes&&(a+='[imagesizes="'+ft(s.imageSizes)+'"]')):a+='[href="'+ft(e)+'"]';var r=a;switch(t){case"style":r=bu(e);break;case"script":r=ju(e)}uu.has(r)||(e=E({rel:"preload",href:"image"===t&&s&&s.imageSrcSet?void 0:e,as:t},s),uu.set(r,e),null!==n.querySelector(a)||"style"===t&&n.querySelector(yu(r))||"script"===t&&n.querySelector(wu(r))||(Gd(t=n.createElement("link"),"link",e),Xe(t),n.head.appendChild(t)))}},m:function(e,t){mu.m(e,t);var s=fu;if(s&&e){var n=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+ft(n)+'"][href="'+ft(e)+'"]',r=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ju(e)}if(!uu.has(r)&&(e=E({rel:"modulepreload",href:e},t),uu.set(r,e),null===s.querySelector(a))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(wu(r)))return}Gd(n=s.createElement("link"),"link",e),Xe(n),s.head.appendChild(n)}}},X:function(e,t){mu.X(e,t);var s=fu;if(s&&e){var n=Ke(s).hoistableScripts,a=ju(e),r=n.get(a);r||((r=s.querySelector(wu(a)))||(e=E({src:e,async:!0},t),(t=uu.get(a))&&Su(e,t),Xe(r=s.createElement("script")),Gd(r,"link",e),s.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(a,r))}},S:function(e,t,s){mu.S(e,t,s);var n=fu;if(n&&e){var a=Ke(n).hoistableStyles,r=bu(e);t=t||"default";var i=a.get(r);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(yu(r)))o.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},s),(s=uu.get(r))&&_u(e,s);var l=i=n.createElement("link");Xe(l),Gd(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,ku(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(r,i)}}},M:function(e,t){mu.M(e,t);var s=fu;if(s&&e){var n=Ke(s).hoistableScripts,a=ju(e),r=n.get(a);r||((r=s.querySelector(wu(a)))||(e=E({src:e,async:!0,type:"module"},t),(t=uu.get(a))&&Su(e,t),Xe(r=s.createElement("script")),Gd(r,"link",e),s.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(a,r))}}};var fu="undefined"===typeof document?null:document;function pu(e,t,s){var n=fu;if(n&&"string"===typeof t&&t){var a=ft(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof s&&(a+='[crossorigin="'+s+'"]'),hu.has(a)||(hu.add(a),e={rel:e,crossOrigin:s,href:t},null===n.querySelector(a)&&(Gd(t=n.createElement("link"),"link",e),Xe(t),n.head.appendChild(t)))}}function gu(e,t,s,n){var a,r,o,l,c=(c=X.current)?xu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof s.precedence&&"string"===typeof s.href?(t=bu(s.href),(n=(s=Ke(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===s.rel&&"string"===typeof s.href&&"string"===typeof s.precedence){e=bu(s.href);var d=Ke(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(yu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),uu.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},uu.set(e,s),d||(a=c,r=e,o=s,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=a.createElement("link"),l.preload=r,r.addEventListener("load",(function(){return l.loading|=1})),r.addEventListener("error",(function(){return l.loading|=2})),Gd(r,"link",o),Xe(r),a.head.appendChild(r))))),t&&null===n)throw Error(i(528,""));return u}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=s.async,"string"===typeof(s=s.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=ju(s),(n=(s=Ke(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function bu(e){return'href="'+ft(e)+'"'}function yu(e){return'link[rel="stylesheet"]['+e+"]"}function vu(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function ju(e){return'[src="'+ft(e)+'"]'}function wu(e){return"script[async]"+e}function Nu(e,t,s){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ft(s.href)+'"]');if(n)return t.instance=n,Xe(n),n;var a=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return Xe(n=(e.ownerDocument||e).createElement("style")),Gd(n,"style",a),ku(n,s.precedence,e),t.instance=n;case"stylesheet":a=bu(s.href);var r=e.querySelector(yu(a));if(r)return t.state.loading|=4,t.instance=r,Xe(r),r;n=vu(s),(a=uu.get(a))&&_u(n,a),Xe(r=(e.ownerDocument||e).createElement("link"));var o=r;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Gd(r,"link",n),t.state.loading|=4,ku(r,s.precedence,e),t.instance=r;case"script":return r=ju(s.src),(a=e.querySelector(wu(r)))?(t.instance=a,Xe(a),a):(n=s,(a=uu.get(r))&&Su(n=E({},s),a),Xe(a=(e=e.ownerDocument||e).createElement("script")),Gd(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,ku(n,s.precedence,e));return t.instance}function ku(e,t,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,r=a,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===s.nodeType?s.head:s).insertBefore(e,t.firstChild)}function _u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Su(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cu=null;function Au(e,t,s){if(null===Cu){var n=new Map,a=Cu=new Map;a.set(s,n)}else(n=(a=Cu).get(s))||(n=new Map,a.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),a=0;a<s.length;a++){var r=s[a];if(!(r[qe]||r[Ie]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var i=r.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(r):n.set(i,[r])}}return n}function Mu(e,t,s){(e=e.ownerDocument||e).head.insertBefore(s,"title"===t?e.querySelector("head > title"):null)}function Lu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Eu=null;function Pu(){}function zu(){if(this.count--,0===this.count)if(this.stylesheets)Tu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Ou=null;function Tu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Ou=new Map,t.forEach(Ru,e),Ou=null,zu.call(e))}function Ru(e,t){if(!(4&t.state.loading)){var s=Ou.get(e);if(s)var n=s.get(null);else{s=new Map,Ou.set(e,s);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var i=a[r];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(s.set(i.dataset.precedence,i),n=i)}n&&s.set(null,n)}i=(a=t.instance).getAttribute("data-precedence"),(r=s.get(i)||n)===n&&s.set(null,a),s.set(i,a),this.count++,n=zu.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),r?r.parentNode.insertBefore(a,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Du={$$typeof:p,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Iu(e,t,s,n,a,r,i,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Bu(e,t,s,n,a,r,i,o,l,c,d,u){return e=new Iu(e,t,s,i,o,l,c,u),t=1,!0===r&&(t|=24),r=Rl(3,null,null,t),e.current=r,r.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:s,cache:t},Lo(r),e}function Fu(e){return e?e=Pn:Pn}function Wu(e,t,s,n,a,r){a=Fu(a),null===n.context?n.context=a:n.pendingContext=a,(n=Po(t)).payload={element:s},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(s=zo(e,n,t))&&(zc(s,0,t),Oo(s,e,t))}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function Uu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function Hu(e){if(13===e.tag){var t=Mn(e,67108864);null!==t&&zc(t,0,67108864),Uu(e,67108864)}}var qu=!0;function $u(e,t,s,n){var a=L.T;L.T=null;var r=V.p;try{V.p=2,Yu(e,t,s,n)}finally{V.p=r,L.T=a}}function Gu(e,t,s,n){var a=L.T;L.T=null;var r=V.p;try{V.p=8,Yu(e,t,s,n)}finally{V.p=r,L.T=a}}function Yu(e,t,s,n){if(qu){var a=Qu(n);if(null===a)Td(e,t,n,Ku,s),oh(e,n);else if(function(e,t,s,n,a){switch(t){case"focusin":return eh=lh(eh,e,t,s,n,a),!0;case"dragenter":return th=lh(th,e,t,s,n,a),!0;case"mouseover":return sh=lh(sh,e,t,s,n,a),!0;case"pointerover":var r=a.pointerId;return nh.set(r,lh(nh.get(r)||null,e,t,s,n,a)),!0;case"gotpointercapture":return r=a.pointerId,ah.set(r,lh(ah.get(r)||null,e,t,s,n,a)),!0}return!1}(a,e,t,s,n))n.stopPropagation();else if(oh(e,n),4&t&&-1<ih.indexOf(e)){for(;null!==a;){var r=Ye(a);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var i=_e(r.pendingLanes);if(0!==i){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-ve(i);o.entanglements[1]|=l,i&=~l}pd(r),0===(6&tc)&&(jc=le()+500,gd(0,!1))}}break;case 13:null!==(o=Mn(r,2))&&zc(o,0,2),Bc(),Uu(r,2)}if(null===(r=Qu(n))&&Td(e,t,n,Ku,s),r===a)break;a=r}null!==a&&n.stopPropagation()}else Td(e,t,n,null,s)}}function Qu(e){return Xu(e=Et(e))}var Ku=null;function Xu(e){if(Ku=null,null!==(e=Ge(e))){var t=D(e);if(null===t)e=null;else{var s=t.tag;if(13===s){if(null!==(e=I(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ku=e,null}function Ju(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case xe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Zu=!1,eh=null,th=null,sh=null,nh=new Map,ah=new Map,rh=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oh(e,t){switch(e){case"focusin":case"focusout":eh=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":sh=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(t.pointerId)}}function lh(e,t,s,n,a,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:r,targetContainers:[a]},null!==t&&(null!==(t=Ye(t))&&Hu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function ch(e){var t=Ge(e.target);if(null!==t){var s=D(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=I(s)))return e.blockedOn=t,void function(e,t){var s=V.p;try{return V.p=e,t()}finally{V.p=s}}(e.priority,(function(){if(13===s.tag){var e=Ec(),t=Mn(s,e);null!==t&&zc(t,0,e),Uu(s,e)}}))}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function dh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qu(e.nativeEvent);if(null!==s)return null!==(t=Ye(s))&&Hu(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);Lt=n,s.target.dispatchEvent(n),Lt=null,t.shift()}return!0}function uh(e,t,s){dh(e)&&s.delete(t)}function hh(){Zu=!1,null!==eh&&dh(eh)&&(eh=null),null!==th&&dh(th)&&(th=null),null!==sh&&dh(sh)&&(sh=null),nh.forEach(uh),ah.forEach(uh)}function xh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hh)))}var mh=null;function fh(e){mh!==e&&(mh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,(function(){mh===e&&(mh=null);for(var t=0;t<e.length;t+=3){var s=e[t],n=e[t+1],a=e[t+2];if("function"!==typeof n){if(null===Xu(n||s))continue;break}var r=Ye(s);null!==r&&(e.splice(t,3),t-=3,ui(r,{pending:!0,data:a,method:s.method,action:n},n,a))}})))}function ph(e){function t(t){return xh(t,e)}null!==eh&&xh(eh,e),null!==th&&xh(th,e),null!==sh&&xh(sh,e),nh.forEach(t),ah.forEach(t);for(var s=0;s<rh.length;s++){var n=rh[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<rh.length&&null===(s=rh[0]).blockedOn;)ch(s),null===s.blockedOn&&rh.shift();if(null!=(s=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<s.length;n+=3){var a=s[n],r=s[n+1],i=a[Be]||null;if("function"===typeof r)i||fh(s);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,i=r[Be]||null)o=i.formAction;else if(null!==Xu(a))continue}else o=i.action;"function"===typeof o?s[n+1]=o:(s.splice(n,3),n-=3),fh(s)}}}function gh(e){this._internalRoot=e}function bh(e){this._internalRoot=e}bh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wu(t.current,Ec(),e,t,null,null)},bh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&sd(),Wu(e.current,2,null,e,null,null),Bc(),t[Fe]=null}},bh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var s=0;s<rh.length&&0!==t&&t<rh[s].priority;s++);rh.splice(s,0,e),0===s&&ch(e)}};var yh=a.version;if("19.0.0"!==yh)throw Error(i(527,yh,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=D(e)))throw Error(i(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(n=a.return)){s=n;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===s)return B(a),e;if(r===n)return B(a),t;r=r.sibling}throw Error(i(188))}if(s.return!==n.return)s=a,n=r;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,n=r;break}if(l===n){o=!0,n=a,s=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===s){o=!0,s=r,n=a;break}if(l===n){o=!0,n=r,s=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(s.alternate!==n)throw Error(i(190))}if(3!==s.tag)throw Error(i(188));return s.stateNode.current===s?e:t}(t),e=null===(e=null!==e?F(e):null)?null:e.stateNode};var vh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ge=jh.inject(vh),be=jh}catch(Nh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var s=!1,n="",a=Ti,r=Ri,l=Di;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Bu(e,1,!1,null,0,s,n,a,r,l,0,null),e[Fe]=t.current,zd(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,s){if(!o(e))throw Error(i(299));var n=!1,a="",r=Ti,l=Ri,c=Di,d=null;return null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(a=s.identifierPrefix),void 0!==s.onUncaughtError&&(r=s.onUncaughtError),void 0!==s.onCaughtError&&(l=s.onCaughtError),void 0!==s.onRecoverableError&&(c=s.onRecoverableError),void 0!==s.unstable_transitionCallbacks&&s.unstable_transitionCallbacks,void 0!==s.formState&&(d=s.formState)),(t=Bu(e,1,!0,t,0,n,a,r,l,c,0,d)).context=Fu(null),s=t.current,(a=Po(n=Ec())).callback=null,zo(s,a,n),t.current.lanes=n,Pe(t,n),pd(t),e[Fe]=t.current,zd(e),new bh(t)},t.version="19.0.0"},672:(e,t,s)=>{var n=s(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.flushSync=function(e){var t=l.T,s=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=s,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var s=t.as,n=c(s,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:r}):"script"===s&&i.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var s=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var s=t.as,n=c(s,t.crossOrigin);i.d.L(e,s,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var s=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,s){return l.H.useFormState(e,t,s)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(4)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(672)},799:(e,t)=>{var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var r in n={},t)"key"!==r&&(n[r]=t[r]);else n=t;return t=n.ref,{$$typeof:s,type:e,key:a,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=a,t.jsxs=a},288:(e,t)=>{var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,p={};function g(e,t,s){this.props=e,this.context=t,this.refs=p,this.updater=s||m}function b(){}function y(e,t,s){this.props=e,this.context=t,this.refs=p,this.updater=s||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,f(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function k(e,t,n,a,r,i){return n=i.ref,{$$typeof:s,type:e,key:t,ref:void 0!==n?n:null,props:i}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(){}function M(e,t,a,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case s:case n:d=!0;break;case h:return M((d=e._init)(e._payload),t,a,r,i)}}if(d)return i=i(e),d=""===r?"."+C(e,0):r,j(i)?(a="",null!=d&&(a=d.replace(S,"$&/")+"/"),M(i,t,a,"",(function(e){return e}))):null!=i&&(_(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+d,i=k(l.type,c,void 0,0,0,l.props)),t.push(i)),1;d=0;var u,m=""===r?".":r+":";if(j(e))for(var f=0;f<e.length;f++)d+=M(r=e[f],t,a,o=m+C(r,f),i);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=x&&u[x]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(r=e.next()).done;)d+=M(r=r.value,t,a,o=m+C(r,f++),i);else if("object"===o){if("function"===typeof e.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function L(e,t,s){if(null==e)return e;var n=[],a=0;return M(e,n,"","",(function(e){return t.call(s,e,a++)})),n}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function z(){}t.Children={map:L,forEach:function(e,t,s){L(e,(function(){t.apply(this,arguments)}),s)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=f({},e.props),a=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!N.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(n[r]=t[r]);var r=arguments.length-2;if(1===r)n.children=s;else if(1<r){for(var i=Array(r),o=0;o<r;o++)i[o]=arguments[o+2];n.children=i}return k(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,s){var n,a={},r=null;if(null!=t)for(n in void 0!==t.key&&(r=""+t.key),t)N.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var i=arguments.length-2;if(1===i)a.children=s;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===a[n]&&(a[n]=i[n]);return k(e,r,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,s={};w.T=s;try{var n=e(),a=w.S;null!==a&&a(s,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(z,P)}catch(r){P(r)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,s){return w.H.useActionState(e,t,s)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,s){return w.H.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,s){return w.H.useReducer(e,t,s)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,s){return w.H.useSyncExternalStore(e,t,s)},t.useTransition=function(){return w.H.useTransition()},t.version="19.0.0"},43:(e,t,s)=>{e.exports=s(288)},579:(e,t,s)=>{e.exports=s(799)},896:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,a=e[n];if(!(0<r(a,t)))break e;e[n]=t,e[s]=a,s=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,s))c<a&&0>r(d,l)?(e[n]=d,e[c]=s,n=c):(e[n]=l,e[o]=s,n=o);else{if(!(c<a&&0>r(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function r(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,x=3,m=!1,f=!1,p=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function j(e){if(p=!1,v(e),!f)if(null!==n(c))f=!0,E();else{var t=n(d);null!==t&&P(j,t.startTime-e)}}var w,N=!1,k=-1,_=5,S=-1;function C(){return!(t.unstable_now()-S<_)}function A(){if(N){var e=t.unstable_now();S=e;var s=!0;try{e:{f=!1,p&&(p=!1,b(k),k=-1),m=!0;var r=x;try{t:{for(v(e),h=n(c);null!==h&&!(h.expirationTime>e&&C());){var i=h.callback;if("function"===typeof i){h.callback=null,x=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,v(e),s=!0;break t}h===n(c)&&a(c),v(e)}else a(c);h=n(c)}if(null!==h)s=!0;else{var l=n(d);null!==l&&P(j,l.startTime-e),s=!1}}break e}finally{h=null,x=r,m=!1}s=void 0}}finally{s?w():N=!1}}}if("function"===typeof y)w=function(){y(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,L=M.port2;M.port1.onmessage=A,w=function(){L.postMessage(null)}}else w=function(){g(A,0)};function E(){N||(N=!0,w())}function P(e,s){k=g((function(){e(t.unstable_now())}),s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,E())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var s=x;x=t;try{return e()}finally{x=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=x;x=e;try{return t()}finally{x=s}},t.unstable_scheduleCallback=function(e,a,r){var i=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?i+r:i:r=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>i?(e.sortIndex=r,s(d,e),null===n(c)&&e===n(d)&&(p?(b(k),k=-1):p=!0,P(j,r-i))):(e.sortIndex=o,s(c,e),f||m||(f=!0,E())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=x;return function(){var s=x;x=t;try{return e.apply(this,arguments)}finally{x=s}}}},853:(e,t,s)=>{e.exports=s(896)},705:(e,t,s)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function r(e,t,s){return(t=a(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{A:()=>r})},379:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(705);function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function r(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){(0,n.A)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},722:(e,t,s)=>{s.d(t,{A:()=>Ct});var n={};function a(e,t){return function(){return e.apply(t,arguments)}}s.r(n),s.d(n,{hasBrowserEnv:()=>oe,hasStandardBrowserEnv:()=>ce,hasStandardBrowserWebWorkerEnv:()=>de,navigator:()=>le,origin:()=>ue});const{toString:r}=Object.prototype,{getPrototypeOf:i}=Object,o=(l=Object.create(null),e=>{const t=r.call(e);return l[t]||(l[t]=t.slice(8,-1).toLowerCase())});var l;const c=e=>(e=e.toLowerCase(),t=>o(t)===e),d=e=>t=>typeof t===e,{isArray:u}=Array,h=d("undefined");const x=c("ArrayBuffer");const m=d("string"),f=d("function"),p=d("number"),g=e=>null!==e&&"object"===typeof e,b=e=>{if("object"!==o(e))return!1;const t=i(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y=c("Date"),v=c("File"),j=c("Blob"),w=c("FileList"),N=c("URLSearchParams"),[k,_,S,C]=["ReadableStream","Request","Response","Headers"].map(c);function A(e,t){let s,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let i;for(s=0;s<r;s++)i=n[s],t.call(null,e[i],i,e)}}function M(e,t){t=t.toLowerCase();const s=Object.keys(e);let n,a=s.length;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,E=e=>!h(e)&&e!==L;const P=(z="undefined"!==typeof Uint8Array&&i(Uint8Array),e=>z&&e instanceof z);var z;const O=c("HTMLFormElement"),T=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),R=c("RegExp"),D=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};A(s,((s,a)=>{let r;!1!==(r=t(s,a,e))&&(n[a]=r||s)})),Object.defineProperties(e,n)};const I=c("AsyncFunction"),B=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),n=[],L.addEventListener("message",(e=>{let{source:t,data:a}=e;t===L&&a===s&&n.length&&n.shift()()}),!1),e=>{n.push(e),L.postMessage(s,"*")}):e=>setTimeout(e);var s,n})("function"===typeof setImmediate,f(L.postMessage)),F="undefined"!==typeof queueMicrotask?queueMicrotask.bind(L):"undefined"!==typeof process&&process.nextTick||B,W={isArray:u,isArrayBuffer:x,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&f(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||f(e.append)&&("formdata"===(t=o(e))||"object"===t&&f(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&x(e.buffer),t},isString:m,isNumber:p,isBoolean:e=>!0===e||!1===e,isObject:g,isPlainObject:b,isReadableStream:k,isRequest:_,isResponse:S,isHeaders:C,isUndefined:h,isDate:y,isFile:v,isBlob:j,isRegExp:R,isFunction:f,isStream:e=>g(e)&&f(e.pipe),isURLSearchParams:N,isTypedArray:P,isFileList:w,forEach:A,merge:function e(){const{caseless:t}=E(this)&&this||{},s={},n=(n,a)=>{const r=t&&M(s,a)||a;b(s[r])&&b(n)?s[r]=e(s[r],n):b(n)?s[r]=e({},n):u(n)?s[r]=n.slice():s[r]=n};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&A(arguments[a],n);return s},extend:function(e,t,s){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return A(t,((t,n)=>{s&&f(t)?e[n]=a(t,s):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,n)=>{let a,r,o;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),r=a.length;r-- >0;)o=a[r],n&&!n(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==s&&i(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:c,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return-1!==n&&n===s},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!p(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=s.next())&&!n.done;){const s=n.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const n=[];for(;null!==(s=e.exec(t));)n.push(s);return n},isHTMLForm:O,hasOwnProperty:T,hasOwnProp:T,reduceDescriptors:D,freezeMethods:e=>{D(e,((t,s)=>{if(f(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const n=e[s];f(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},n=e=>{e.forEach((e=>{s[e]=!0}))};return u(e)?n(e):n(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:M,global:L,isContextDefined:E,isSpecCompliantForm:function(e){return!!(e&&f(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),s=(e,n)=>{if(g(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=u(e)?[]:{};return A(e,((e,t)=>{const r=s(e,n+1);!h(r)&&(a[t]=r)})),t[n]=void 0,a}}return e};return s(e,0)},isAsyncFn:I,isThenable:e=>e&&(g(e)||f(e))&&f(e.then)&&f(e.catch),setImmediate:B,asap:F};function V(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const U=V.prototype,H={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{H[e]={value:e}})),Object.defineProperties(V,H),Object.defineProperty(U,"isAxiosError",{value:!0}),V.from=(e,t,s,n,a,r)=>{const i=Object.create(U);return W.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),V.call(i,e.message,t,s,n,a),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const q=V;function $(e){return W.isPlainObject(e)||W.isArray(e)}function G(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Y(e,t,s){return e?e.concat(t).map((function(e,t){return e=G(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}const Q=W.toFlatObject(W,{},null,(function(e){return/^is[A-Z]/.test(e)}));const K=function(e,t,s){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(s=W.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!W.isUndefined(t[e])}))).metaTokens,a=s.visitor||c,r=s.dots,i=s.indexes,o=(s.Blob||"undefined"!==typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(!o&&W.isBlob(e))throw new q("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,a){let o=e;if(e&&!a&&"object"===typeof e)if(W.endsWith(s,"{}"))s=n?s:s.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some($)}(e)||(W.isFileList(e)||W.endsWith(s,"[]"))&&(o=W.toArray(e)))return s=G(s),o.forEach((function(e,n){!W.isUndefined(e)&&null!==e&&t.append(!0===i?Y([s],n,r):null===i?s:s+"[]",l(e))})),!1;return!!$(e)||(t.append(Y(a,s,r),l(e)),!1)}const d=[],u=Object.assign(Q,{defaultVisitor:c,convertValue:l,isVisitable:$});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(s,n){if(!W.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+n.join("."));d.push(s),W.forEach(s,(function(s,r){!0===(!(W.isUndefined(s)||null===s)&&a.call(t,s,W.isString(r)?r.trim():r,n,u))&&e(s,n?n.concat(r):[r])})),d.pop()}}(e),t};function X(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function J(e,t){this._pairs=[],e&&K(e,this,t)}const Z=J.prototype;Z.append=function(e,t){this._pairs.push([e,t])},Z.toString=function(e){const t=e?function(t){return e.call(this,t,X)}:X;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ee=J;function te(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function se(e,t,s){if(!t)return e;const n=s&&s.encode||te;W.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let r;if(r=a?a(t,s):W.isURLSearchParams(t)?t.toString():new ee(t,s).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const ne=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var re=s(379);const ie={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ee,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},oe="undefined"!==typeof window&&"undefined"!==typeof document,le="object"===typeof navigator&&navigator||void 0,ce=oe&&(!le||["ReactNative","NativeScript","NS"].indexOf(le.product)<0),de="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ue=oe&&window.location.href||"http://localhost",he=(0,re.A)((0,re.A)({},n),ie);const xe=function(e){function t(e,s,n,a){let r=e[a++];if("__proto__"===r)return!0;const i=Number.isFinite(+r),o=a>=e.length;if(r=!r&&W.isArray(n)?n.length:r,o)return W.hasOwnProp(n,r)?n[r]=[n[r],s]:n[r]=s,!i;n[r]&&W.isObject(n[r])||(n[r]=[]);return t(e,s,n[r],a)&&W.isArray(n[r])&&(n[r]=function(e){const t={},s=Object.keys(e);let n;const a=s.length;let r;for(n=0;n<a;n++)r=s[n],t[r]=e[r];return t}(n[r])),!i}if(W.isFormData(e)&&W.isFunction(e.entries)){const s={};return W.forEachEntry(e,((e,n)=>{t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,s,0)})),s}return null};const me={transitional:ae,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,a=W.isObject(e);a&&W.isHTMLForm(e)&&(e=new FormData(e));if(W.isFormData(e))return n?JSON.stringify(xe(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return K(e,new he.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,n){return he.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=W.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return K(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,s){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||me.transitional,s=t&&t.forcedJSONParsing,n="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(s&&!this.responseType||n)){const s=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw q.from(a,q.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:he.classes.FormData,Blob:he.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],(e=>{me.headers[e]={}}));const fe=me,pe=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ge=Symbol("internals");function be(e){return e&&String(e).trim().toLowerCase()}function ye(e){return!1===e||null==e?e:W.isArray(e)?e.map(ye):String(e)}function ve(e,t,s,n,a){return W.isFunction(n)?n.call(this,t,s):(a&&(t=s),W.isString(t)?W.isString(n)?-1!==t.indexOf(n):W.isRegExp(n)?n.test(t):void 0:void 0)}class je{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function a(e,t,s){const a=be(t);if(!a)throw new Error("header name must be a non-empty string");const r=W.findKey(n,a);(!r||void 0===n[r]||!0===s||void 0===s&&!1!==n[r])&&(n[r||t]=ye(e))}const r=(e,t)=>W.forEach(e,((e,s)=>a(e,s,t)));if(W.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let s,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),s=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!s||t[s]&&pe[s]||("set-cookie"===s?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)})),t})(e),t);else if(W.isHeaders(e))for(const[i,o]of e.entries())a(o,i,s);else null!=e&&a(t,e,s);return this}get(e,t){if(e=be(e)){const s=W.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}(e);if(W.isFunction(t))return t.call(this,e,s);if(W.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=be(e)){const s=W.findKey(this,e);return!(!s||void 0===this[s]||t&&!ve(0,this[s],s,t))}return!1}delete(e,t){const s=this;let n=!1;function a(e){if(e=be(e)){const a=W.findKey(s,e);!a||t&&!ve(0,s[a],a,t)||(delete s[a],n=!0)}}return W.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const a=t[s];e&&!ve(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,s={};return W.forEach(this,((n,a)=>{const r=W.findKey(s,a);if(r)return t[r]=ye(n),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(a):String(a).trim();i!==a&&delete t[a],t[i]=ye(n),s[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return W.forEach(this,((s,n)=>{null!=s&&!1!==s&&(t[n]=e&&W.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,s]=e;return t+": "+s})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ge]=this[ge]={accessors:{}}).accessors,s=this.prototype;function n(e){const n=be(e);t[n]||(!function(e,t){const s=W.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+s,{value:function(e,s,a){return this[n].call(this,t,e,s,a)},configurable:!0})}))}(s,e),t[n]=!0)}return W.isArray(e)?e.forEach(n):n(e),this}}je.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(je.prototype,((e,t)=>{let{value:s}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[n]=e}}})),W.freezeMethods(je);const we=je;function Ne(e,t){const s=this||fe,n=t||s,a=we.from(n.headers);let r=n.data;return W.forEach(e,(function(e){r=e.call(s,r,a.normalize(),t?t.status:void 0)})),a.normalize(),r}function ke(e){return!(!e||!e.__CANCEL__)}function _e(e,t,s){q.call(this,null==e?"canceled":e,q.ERR_CANCELED,t,s),this.name="CanceledError"}W.inherits(_e,q,{__CANCEL__:!0});const Se=_e;function Ce(e,t,s){const n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(new q("Request failed with status code "+s.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Ae=function(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a,r=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];a||(a=l),s[r]=o,n[r]=l;let d=i,u=0;for(;d!==r;)u+=s[d++],d%=e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Me=function(e,t){let s,n,a=0,r=1e3/t;const i=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=r,s=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=r?i(l,e):(s=l,n||(n=setTimeout((()=>{n=null,i(s)}),r-t)))},()=>s&&i(s)]},Le=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=Ae(50,250);return Me((s=>{const r=s.loaded,i=s.lengthComputable?s.total:void 0,o=r-n,l=a(o);n=r;e({loaded:r,total:i,progress:i?r/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&r<=i?(i-r)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),s)},Ee=(e,t)=>{const s=null!=e;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Pe=e=>function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return W.asap((()=>e(...s)))},ze=he.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,he.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(he.origin),he.navigator&&/(msie|trident)/i.test(he.navigator.userAgent)):()=>!0,Oe=he.hasStandardBrowserEnv?{write(e,t,s,n,a,r){const i=[e+"="+encodeURIComponent(t)];W.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),W.isString(n)&&i.push("path="+n),W.isString(a)&&i.push("domain="+a),!0===r&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Te(e,t,s){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Re=e=>e instanceof we?(0,re.A)({},e):e;function De(e,t){t=t||{};const s={};function n(e,t,s,n){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:n},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function a(e,t,s,a){return W.isUndefined(t)?W.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function r(e,t){if(!W.isUndefined(t))return n(void 0,t)}function i(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(s,a,r){return r in t?n(s,a):r in e?n(void 0,s):void 0}const l={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,s)=>a(Re(e),Re(t),0,!0)};return W.forEach(Object.keys(Object.assign({},e,t)),(function(n){const r=l[n]||a,i=r(e[n],t[n],n);W.isUndefined(i)&&r!==o||(s[n]=i)})),s}const Ie=e=>{const t=De({},e);let s,{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=we.from(o),t.url=se(Te(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(n))if(he.hasStandardBrowserEnv||he.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(he.hasStandardBrowserEnv&&(a&&W.isFunction(a)&&(a=a(t)),a||!1!==a&&ze(t.url))){const e=r&&i&&Oe.read(i);e&&o.set(r,e)}return t},Be="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const n=Ie(e);let a=n.data;const r=we.from(n.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:x}=n;function m(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function p(){if(!f)return;const n=we.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Ce((function(e){t(e),m()}),(function(e){s(e),m()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(p)},f.onabort=function(){f&&(s(new q("Request aborted",q.ECONNABORTED,e,f)),f=null)},f.onerror=function(){s(new q("Network Error",q.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||ae;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),s(new q(t,a.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,f)),f=null},void 0===a&&r.setContentType(null),"setRequestHeader"in f&&W.forEach(r.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),W.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),x&&([l,d]=Le(x,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=Le(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{f&&(s(!t||t.type?new Se(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===he.protocols.indexOf(g)?s(new q("Unsupported protocol "+g+":",q.ERR_BAD_REQUEST,e)):f.send(a||null)}))},Fe=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,n=new AbortController;const a=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof q?t:new Se(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,a(new q("timeout ".concat(t," of ms exceeded"),q.ETIMEDOUT))}),t);const i=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:o}=n;return o.unsubscribe=()=>W.asap(i),o}};function We(e,t){this.v=e,this.k=t}function Ve(e){return function(){return new Ue(e.apply(this,arguments))}}function Ue(e){var t,s;function n(t,s){try{var r=e[t](s),i=r.value,o=i instanceof We;Promise.resolve(o?i.v:i).then((function(s){if(o){var l="return"===t?"return":"next";if(!i.k||s.done)return n(l,s);s=e[l](s).value}a(r.done?"return":"normal",s)}),(function(e){n("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):s=null}this._invoke=function(e,a){return new Promise((function(r,i){var o={key:e,arg:a,resolve:r,reject:i,next:null};s?s=s.next=o:(t=s=o,n(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function He(e){return new We(e,0)}function qe(e){var t={},s=!1;function n(t,n){return s=!0,n=new Promise((function(s){s(e[t](n))})),{done:!1,value:new We(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):n("return",e)}),t}function $e(e){var t,s,n,a=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(s&&null!=(t=e[s]))return t.call(e);if(n&&null!=(t=e[n]))return new Ge(t.call(e));s="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Ge(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ge=function(e){this.s=e,this.n=e.next},Ge.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Ge(e)}Ue.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ue.prototype.next=function(e){return this._invoke("next",e)},Ue.prototype.throw=function(e){return this._invoke("throw",e)},Ue.prototype.return=function(e){return this._invoke("return",e)};const Ye=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let n,a=0;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},Qe=function(){var e=Ve((function*(e,t){var s,n=!1,a=!1;try{for(var r,i=$e(Ke(e));n=!(r=yield He(i.next())).done;n=!1){const e=r.value;yield*qe($e(Ye(e,t)))}}catch(o){a=!0,s=o}finally{try{n&&null!=i.return&&(yield He(i.return()))}finally{if(a)throw s}}}));return function(t,s){return e.apply(this,arguments)}}(),Ke=function(){var e=Ve((function*(e){if(e[Symbol.asyncIterator])return void(yield*qe($e(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield He(t.read());if(e)break;yield s}}finally{yield He(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Xe=(e,t,s,n)=>{const a=Qe(e,t);let r,i=0,o=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return o(),void e.close();let r=n.byteLength;if(s){let e=i+=r;s(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},Je="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ze=Je&&"function"===typeof ReadableStream,et=Je&&("function"===typeof TextEncoder?(tt=new TextEncoder,e=>tt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var tt;const st=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return!!e(...s)}catch(a){return!1}},nt=Ze&&st((()=>{let e=!1;const t=new Request(he.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),at=Ze&&st((()=>W.isReadableStream(new Response("").body))),rt={stream:at&&(e=>e.body)};var it;Je&&(it=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!rt[e]&&(rt[e]=W.isFunction(it[e])?t=>t[e]():(t,s)=>{throw new q("Response type '".concat(e,"' is not supported"),q.ERR_NOT_SUPPORT,s)})})));const ot=async(e,t)=>{const s=W.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){const t=new Request(he.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e)?(await et(e)).byteLength:void 0)})(t):s},lt=Je&&(async e=>{let{url:t,method:s,data:n,signal:a,cancelToken:r,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Ie(e);c=c?(c+"").toLowerCase():"text";let x,m=Fe([a,r&&r.toAbortSignal()],i);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let p;try{if(l&&nt&&"get"!==s&&"head"!==s&&0!==(p=await ot(d,n))){let e,s=new Request(t,{method:"POST",body:n,duplex:"half"});if(W.isFormData(n)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=Ee(p,Le(Pe(l)));n=Xe(s.body,65536,e,t)}}W.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;x=new Request(t,(0,re.A)((0,re.A)({},h),{},{signal:m,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:a?u:void 0}));let r=await fetch(x);const i=at&&("stream"===c||"response"===c);if(at&&(o||i&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=W.toFiniteNumber(r.headers.get("content-length")),[s,n]=o&&Ee(t,Le(Pe(o),!0))||[];r=new Response(Xe(r.body,65536,s,(()=>{n&&n(),f&&f()})),e)}c=c||"text";let g=await rt[W.findKey(rt,c)||"text"](r,e);return!i&&f&&f(),await new Promise(((t,s)=>{Ce(t,s,{data:g,headers:we.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:x})}))}catch(g){if(f&&f(),g&&"TypeError"===g.name&&/fetch/i.test(g.message))throw Object.assign(new q("Network Error",q.ERR_NETWORK,e,x),{cause:g.cause||g});throw q.from(g,g&&g.code,e,x)}}),ct={http:null,xhr:Be,fetch:lt};W.forEach(ct,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(s){}Object.defineProperty(e,"adapterName",{value:t})}}));const dt=e=>"- ".concat(e),ut=e=>W.isFunction(e)||null===e||!1===e,ht=e=>{e=W.isArray(e)?e:[e];const{length:t}=e;let s,n;const a={};for(let r=0;r<t;r++){let t;if(s=e[r],n=s,!ut(s)&&(n=ct[(t=String(s)).toLowerCase()],void 0===n))throw new q("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+r]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")}));let s=t?e.length>1?"since :\n"+e.map(dt).join("\n"):" "+dt(e[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function xt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Se(null,e)}function mt(e){xt(e),e.headers=we.from(e.headers),e.data=Ne.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ht(e.adapter||fe.adapter)(e).then((function(t){return xt(e),t.data=Ne.call(e,e.transformResponse,t),t.headers=we.from(t.headers),t}),(function(t){return ke(t)||(xt(e),t&&t.response&&(t.response.data=Ne.call(e,e.transformResponse,t.response),t.response.headers=we.from(t.response.headers))),Promise.reject(t)}))}const ft="1.8.4",pt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{pt[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const gt={};pt.transitional=function(e,t,s){function n(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,a,r)=>{if(!1===e)throw new q(n(a," has been removed"+(t?" in "+t:"")),q.ERR_DEPRECATED);return t&&!gt[a]&&(gt[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,a,r)}},pt.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const bt={assertOptions:function(e,t,s){if("object"!==typeof e)throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const r=n[a],i=t[r];if(i){const t=e[r],s=void 0===t||i(t,r,e);if(!0!==s)throw new q("option "+r+" must be "+s,q.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new q("Unknown option "+r,q.ERR_BAD_OPTION)}},validators:pt},yt=bt.validators;class vt{constructor(e){this.defaults=e,this.interceptors={request:new ne,response:new ne}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(n){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=De(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:a}=t;void 0!==s&&bt.assertOptions(s,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),null!=n&&(W.isFunction(n)?t.paramsSerializer={serialize:n}:bt.assertOptions(n,{encode:yt.function,serialize:yt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bt.assertOptions(t,{baseUrl:yt.spelling("baseURL"),withXsrfToken:yt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=a&&W.merge(a.common,a[t.method]);a&&W.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=we.concat(r,a);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[mt.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(x){t.call(this,x);break}}try{c=mt.call(this,h)}catch(x){return Promise.reject(x)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return se(Te((e=De(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],(function(e){vt.prototype[e]=function(t,s){return this.request(De(s||{},{method:e,url:t,data:(s||{}).data}))}})),W.forEach(["post","put","patch"],(function(e){function t(t){return function(s,n,a){return this.request(De(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:n}))}}vt.prototype[e]=t(),vt.prototype[e+"Form"]=t(!0)}));const jt=vt;class wt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{s.subscribe(e),t=e})).then(e);return n.cancel=function(){s.unsubscribe(t)},n},e((function(e,n,a){s.reason||(s.reason=new Se(e,n,a),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wt((function(t){e=t})),cancel:e}}}const Nt=wt;const kt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kt).forEach((e=>{let[t,s]=e;kt[s]=t}));const _t=kt;const St=function e(t){const s=new jt(t),n=a(jt.prototype.request,s);return W.extend(n,jt.prototype,s,{allOwnKeys:!0}),W.extend(n,s,null,{allOwnKeys:!0}),n.create=function(s){return e(De(t,s))},n}(fe);St.Axios=jt,St.CanceledError=Se,St.CancelToken=Nt,St.isCancel=ke,St.VERSION=ft,St.toFormData=K,St.AxiosError=q,St.Cancel=St.CanceledError,St.all=function(e){return Promise.all(e)},St.spread=function(e){return function(t){return e.apply(null,t)}},St.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},St.mergeConfig=De,St.AxiosHeaders=we,St.formToJSON=e=>xe(W.isHTMLForm(e)?new FormData(e):e),St.getAdapter=ht,St.HttpStatusCode=_t,St.default=St;const Ct=St}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=s(43),a=s(391),r=s(379),i=s(722);const o="https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com/api";var l=s(579);const c=e=>{var t,s,a,c,d,u;let{isCollapsed:h}=e;const[x,m]=(0,n.useState)(!1),f=(0,n.useRef)(null),p=(0,n.useRef)(null),{notifications:g,unreadCount:b,loading:y,fetchNotifications:v,markAsRead:j,markAllAsRead:w,getNotificationIcon:N,timeAgo:k}=(()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(0),[l,c]=(0,n.useState)(!1),d=async()=>{try{c(!0);const e=localStorage.getItem("token");if(!e)return;const s=await i.A.get("".concat(o,"/notifications"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data),a(s.data.filter((e=>!e.read)).length)}catch(e){console.error("Error fetching notifications:",e)}finally{c(!1)}};return(0,n.useEffect)((()=>{d();const e=setInterval(d,3e4);return()=>clearInterval(e)}),[]),{notifications:e,unreadCount:s,loading:l,fetchNotifications:d,markAsRead:async e=>{try{const s=localStorage.getItem("token");await i.A.post("".concat(o,"/notifications/").concat(e,"/mark-read"),{},{headers:{Authorization:"Bearer ".concat(s)}}),t((t=>t.map((t=>t.id===e?(0,r.A)((0,r.A)({},t),{},{read:!0}):t)))),a((e=>Math.max(0,e-1)))}catch(s){console.error("Error marking notification as read:",s)}},markAllAsRead:async()=>{try{const e=localStorage.getItem("token");await i.A.post("".concat(o,"/notifications/mark-all-read"),{},{headers:{Authorization:"Bearer ".concat(e)}}),t((e=>e.map((e=>(0,r.A)((0,r.A)({},e),{},{read:!0}))))),a(0)}catch(e){console.error("Error marking all notifications as read:",e)}},getNotificationIcon:e=>{switch(e){case"GIFT_RECEIVED":return{icon:"\ud83c\udf81",color:"text-green-400"};case"GAME_WON":return{icon:"\ud83c\udfc6",color:"text-yellow-400"};case"GAME_LOST":return{icon:"\ud83d\ude1e",color:"text-red-400"};case"BALANCE_LOW":return{icon:"\ud83d\udcb0",color:"text-orange-400"};default:return{icon:"\u2139\ufe0f",color:"text-blue-400"}}},timeAgo:e=>{const t=new Date,s=new Date(e),n=Math.floor((t-s)/6e4);return n<1?"Just now":n<60?"".concat(n,"m ago"):n<1440?"".concat(Math.floor(n/60),"h ago"):"".concat(Math.floor(n/1440),"d ago")}}})(),{position:_,calculatePosition:S}=(e=>{const[t,s]=(0,n.useState)({right:0,top:"100%"});return{position:t,calculatePosition:()=>{if(!e.current)return;const t=e.current.getBoundingClientRect(),n=(window.innerWidth,window.innerHeight),a=400;let r={right:0,top:"100%",left:"auto",bottom:"auto",maxHeight:"".concat(a,"px")};t.right-320<0&&(r.left=0,r.right="auto");const i=n-t.bottom-8,o=t.top-8;i<a&&o>i?(r.bottom="100%",r.top="auto",r.maxHeight="".concat(Math.min(o,a),"px")):r.maxHeight="".concat(Math.min(i,a),"px"),s(r)}}})(f),C=e=>{p.current&&!p.current.contains(e.target)&&f.current&&!f.current.contains(e.target)&&m(!1)};return(0,n.useEffect)((()=>{if(x)return document.addEventListener("mousedown",C),window.addEventListener("resize",S),()=>{document.removeEventListener("mousedown",C),window.removeEventListener("resize",S)}}),[x,S]),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{ref:f,onClick:()=>{x||(S(),v()),m(!x)},className:"p-2 hover:bg-surface-card rounded-lg transition-colors relative ".concat(h?"w-full flex justify-center":""),children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),b>0&&(0,l.jsx)("span",{className:"absolute -top-1 -right-1 min-w-[1.25rem] h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1",children:b>99?"99+":b})]}),x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 z-[9998]",onClick:()=>m(!1)}),(0,l.jsxs)("div",{ref:p,className:"fixed z-[9999] w-80 bg-surface-card border border-border-primary rounded-lg shadow-2xl overflow-hidden",style:(0,r.A)((0,r.A)({},_),{},{right:"auto"!==_.right?"".concat((null===(t=f.current)||void 0===t?void 0:t.getBoundingClientRect().right)-((null===(s=f.current)||void 0===s?void 0:s.getBoundingClientRect().width)||0)-320+((null===(a=f.current)||void 0===a?void 0:a.getBoundingClientRect().width)||0),"px"):_.right,left:"auto"!==_.left?"".concat(null===(c=f.current)||void 0===c?void 0:c.getBoundingClientRect().left,"px"):_.left,top:"auto"!==_.top?"".concat(((null===(d=f.current)||void 0===d?void 0:d.getBoundingClientRect().bottom)||0)+8,"px"):_.top,bottom:"auto"!==_.bottom?"".concat(window.innerHeight-((null===(u=f.current)||void 0===u?void 0:u.getBoundingClientRect().top)||0)+8,"px"):_.bottom,maxHeight:_.maxHeight,minWidth:"320px",maxWidth:"320px"}),children:[(0,l.jsxs)("div",{className:"px-4 py-3 border-b border-border-primary flex items-center justify-between bg-surface-card",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-white",children:"Notifications"}),b>0&&(0,l.jsx)("button",{onClick:w,className:"text-xs text-accent-primary hover:text-accent-secondary transition-colors",children:"Mark all read"})]}),(0,l.jsx)("div",{className:"overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",style:{maxHeight:"calc(100% - 120px)",minHeight:"200px"},children:0===g.length?(0,l.jsxs)("div",{className:"px-4 py-8 text-center text-text-secondary",children:[(0,l.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,l.jsx)("div",{className:"text-sm",children:"No notifications yet"}),(0,l.jsx)("div",{className:"text-xs mt-1",children:"You'll see notifications here when something happens"})]}):(0,l.jsx)("div",{className:"space-y-0",children:g.map((e=>{const{icon:t,color:s}=N(e.type);return(0,l.jsx)("div",{onClick:()=>{e.read||j(e.id)},className:"px-4 py-3 border-b border-border-primary last:border-b-0 hover:bg-surface-sidebar cursor-pointer transition-colors ".concat(e.read?"":"bg-accent-primary bg-opacity-5"),children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"text-lg ".concat(s," flex-shrink-0 mt-0.5"),children:t}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("h4",{className:"text-sm font-medium ".concat(e.read?"text-text-secondary":"text-white"),children:e.title}),!e.read&&(0,l.jsx)("div",{className:"w-2 h-2 bg-accent-primary rounded-full flex-shrink-0"})]}),(0,l.jsx)("p",{className:"text-xs ".concat(e.read?"text-gray-500":"text-text-secondary"," leading-relaxed mb-1"),children:e.message}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:k(e.created_at)})]})]})},e.id)}))})}),g.length>0&&(0,l.jsx)("div",{className:"px-4 py-2 border-t border-border-primary bg-surface-sidebar",children:(0,l.jsx)("button",{onClick:()=>m(!1),className:"w-full text-xs text-text-secondary hover:text-white transition-colors text-center",children:"Close notifications"})})]})]})]})},d=e=>{var t;let{currentView:s,setCurrentView:n,user:a,isCollapsed:r,setIsCollapsed:i,onOpenAdminPanel:o,onLogout:d}=e;const u=[{id:"lobby",label:"Lobby",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),color:"text-gray-400"},{id:"my-bets",label:"My Bets",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),color:"text-gray-400"},{id:"shop",label:"Shop",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})}),color:"text-gray-400"},{id:"inventory",label:"Inventory",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),color:"text-gray-400"},{id:"leaderboard",label:"Leaderboard",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"text-gray-400"},{id:"profile",label:"Profile",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),color:"text-gray-400"},{id:"history",label:"History",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"text-gray-400"},{id:"notification-demo",label:"Notifications",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5V12h-5l5-5 5 5h-5v5zM4 4h16v2H4V4zM4 8h16v2H4V8zM4 12h16v2H4v-2z"})}),color:"text-gray-400"},{id:"monitoring",label:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433",icon:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:"text-red-400",adminOnly:!0},{id:"admin-panel",label:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c",icon:(0,l.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),color:"text-purple-400",adminOnly:!0}];return(0,l.jsxs)("div",{className:"bg-surface-sidebar border-r border-border-primary transition-all duration-300 flex flex-col h-full ".concat(r?"w-16":"w-64"),children:[(0,l.jsxs)("div",{className:"p-4 border-b border-border-primary ".concat(r?"px-2":""),children:[(0,l.jsxs)("div",{className:"flex items-center ".concat(r?"justify-center":"justify-between"),children:[!r&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 flex items-center justify-center",children:(0,l.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-8 h-8 object-contain"})}),(0,l.jsx)("span",{className:"font-russo text-2xl text-accent-primary",children:"GemPLAY"})]}),r&&(0,l.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,l.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-8 h-8 object-contain"})}),!r&&(0,l.jsx)("button",{onClick:()=>i(!r),className:"p-1 hover:bg-surface-card rounded-lg transition-colors",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),(0,l.jsx)("div",{className:"".concat(r?"flex justify-center mt-2":"mt-3 flex justify-center"),children:(0,l.jsx)(c,{isCollapsed:r})}),r&&(0,l.jsx)("div",{className:"flex justify-center mt-2",children:(0,l.jsx)("button",{onClick:()=>i(!r),className:"p-2 hover:bg-surface-card rounded-lg transition-colors",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-300 rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})})]}),(0,l.jsx)("nav",{className:"flex-1 py-4",children:(0,l.jsx)("ul",{className:"space-y-1 ".concat(r?"px-1":"px-2"),children:u.map((e=>e.adminOnly&&(!a||"ADMIN"!==a.role&&"SUPER_ADMIN"!==a.role)?null:(0,l.jsx)("li",{children:(0,l.jsxs)("button",{onClick:()=>{"admin-panel"===e.id?o():n(e.id)},className:"w-full flex items-center transition-all duration-300 group relative overflow-hidden ".concat(r?"justify-center p-2 mx-1 rounded-lg":"px-3 py-3 rounded-lg"," ").concat(s===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary":"hover:bg-surface-card ".concat(e.color," hover:text-white")),title:r?e.label:"",children:[s===e.id&&(0,l.jsx)("div",{className:"absolute inset-0 border border-accent-primary bg-accent-primary/10 border-opacity-40 rounded-lg ".concat(r?"border-opacity-50":"border-l-4 border-accent-primary border-opacity-100 border-t-0 border-r-0 border-b-0 bg-accent-primary/15")}),(0,l.jsx)("div",{className:"relative z-10 transition-all duration-300 ".concat(s===e.id?"text-accent-primary":"".concat(e.color," group-hover:text-white")," ").concat(r?"flex items-center justify-center group-hover:scale-110 group-hover:translate-x-1":""),children:e.icon}),!r&&(0,l.jsx)("span",{className:"ml-3 font-rajdhani font-semibold tracking-wide relative z-10",children:e.label})]})},e.id)))})}),!r&&a&&(0,l.jsxs)("div",{className:"p-4 border-t border-border-primary",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"font-russo text-white text-sm",children:a.username.charAt(0).toUpperCase()})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"font-rajdhani font-semibold text-white truncate",children:a.username}),(0,l.jsxs)("p",{className:"font-roboto text-sm text-green-400",children:["$",(null===(t=a.virtual_balance)||void 0===t?void 0:t.toFixed(2))||"0.00"]})]})]}),(0,l.jsxs)("button",{onClick:d,className:"w-full flex items-center justify-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 group",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"LOGOUT"]})]}),r&&a&&(0,l.jsx)("div",{className:"p-2 border-t border-border-primary",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"font-russo text-white text-xs",children:a.username.charAt(0).toUpperCase()})}),(0,l.jsx)("button",{onClick:d,className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all duration-300 group flex items-center justify-center",title:"Logout",children:(0,l.jsx)("svg",{className:"w-4 h-4 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})};let u=null;const h=()=>{if(!u){const e=new Set;u={registerRefreshCallback:t=>(e.add(t),()=>{e.delete(t)}),triggerLobbyRefresh:()=>{e.forEach((e=>{try{e()}catch(t){console.error("Error in global lobby refresh callback:",t)}}))}}}return u},x="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),m=(0,n.createContext)(),f=()=>{const e=(0,n.useContext)(m);if(!e)throw new Error("useGems must be used within a GemsProvider");return e},p=e=>{let{children:t}=e;const[s,a]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null);(0,n.useEffect)((()=>{u();const e=h().registerRefreshCallback((()=>{console.log("\ud83d\udc8e GemsContext auto-refresh triggered by global operation"),u()}));return()=>{e()}}),[]);const u=async()=>{o(!0);try{const e=localStorage.getItem("token");if(!e)return console.warn("No token found, using default gem definitions"),a(f()),void o(!1);const t=(await i.A.get("".concat(x,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}})).data||[],s=await i.A.get("".concat(x,"/gems/definitions")),n=(s.data||[]).map((e=>{const s=t.find((t=>t.type===e.type));return{type:e.type,name:e.name,price:e.price,color:e.color,icon:p(e.type),rarity:e.rarity,quantity:s?s.quantity:0,frozen_quantity:s?s.frozen_quantity:0,available_quantity:s?s.quantity-s.frozen_quantity:0,total_value:s?s.quantity*e.price:0,available_value:s?(s.quantity-s.frozen_quantity)*e.price:0,frozen_value:s?s.frozen_quantity*e.price:0,has_gems:!!s&&s.quantity>0,has_available:!!s&&s.quantity-s.frozen_quantity>0,last_updated:s?s.updated_at:null}}));a(n),d(new Date),o(!1)}catch(e){console.error("Error fetching inventory data:",e);try{const e=await i.A.get("".concat(x,"/gems/definitions")),t=(e.data||[]).map((e=>({type:e.type,name:e.name,price:e.price,color:e.color,icon:p(e.type),rarity:e.rarity,quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null})));a(t)}catch(t){console.error("Error fetching gem definitions:",t),a(f())}o(!1)}},f=()=>[{type:"Ruby",name:"Ruby",price:1,color:"#ef4444",icon:"/gems/gem-red.svg",rarity:"common",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Amber",name:"Amber",price:2,color:"#f97316",icon:"/gems/gem-orange.svg",rarity:"common",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Topaz",name:"Topaz",price:5,color:"#eab308",icon:"/gems/gem-yellow.svg",rarity:"uncommon",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Emerald",name:"Emerald",price:10,color:"#22c55e",icon:"/gems/gem-green.svg",rarity:"rare",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Aquamarine",name:"Aquamarine",price:25,color:"#06b6d4",icon:"/gems/gem-cyan.svg",rarity:"epic",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Sapphire",name:"Sapphire",price:50,color:"#3b82f6",icon:"/gems/gem-blue.svg",rarity:"legendary",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Magic",name:"Magic",price:100,color:"#a855f7",icon:"/gems/gem-purple.svg",rarity:"mythic",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null}],p=e=>({Ruby:"/gems/gem-red.svg",Amber:"/gems/gem-orange.svg",Topaz:"/gems/gem-yellow.svg",Emerald:"/gems/gem-green.svg",Aquamarine:"/gems/gem-cyan.svg",Sapphire:"/gems/gem-blue.svg",Magic:"/gems/gem-purple.svg"}[e]||"/gems/gem-red.svg"),g=e=>s.find((t=>t.type===e||t.name===e)),b={gemsData:s,loading:r,lastUpdate:c,gemsDefinitions:s,getGemByType:g,getGemValue:e=>{const t=g(e);return t?t.price:0},getGemIcon:e=>{const t=g(e);return t?t.icon:"/gems/gem-red.svg"},getAvailableGems:()=>s.filter((e=>e.has_available)),getAllGemsWithQuantity:()=>s.filter((e=>e.has_gems)),getSortedGems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"price",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return[...s].sort(((s,n)=>"asc"===t?s[e]-n[e]:n[e]-s[e]))},getTotalPortfolioValue:()=>s.reduce(((e,t)=>e+t.total_value),0),getAvailablePortfolioValue:()=>s.reduce(((e,t)=>e+t.available_value),0),getFrozenPortfolioValue:()=>s.reduce(((e,t)=>e+t.frozen_value),0),refreshInventory:async()=>{await u()},validateGemOperation:e=>{for(const[t,s]of Object.entries(e)){const e=g(t);if(!e)return{valid:!1,error:"Unknown gem type: ".concat(t)};if(e.available_quantity<s)return{valid:!1,error:"Insufficient ".concat(t," gems. Available: ").concat(e.available_quantity,", Required: ").concat(s)}}return{valid:!0}},getGemIconPath:p};return(0,l.jsx)(m.Provider,{value:b,children:t})},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!==typeof e||isNaN(e))return t?"0,00":"0";const s={minimumFractionDigits:t?2:0,maximumFractionDigits:t?2:0,useGrouping:!0};return(t?e:Math.floor(e)).toLocaleString("en-US",s).replace(/,/g," ").replace(".",",")},b=function(e){return"$".concat(g(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]))},y=e=>"$".concat(g(e,!0)),v=e=>"number"!==typeof e||isNaN(e)?"$0":"$".concat(Math.floor(e).toLocaleString("en-US")),j=e=>{let{user:t}=e;const{gemsData:s,loading:n}=f(),a=e=>{let{gemType:t}=e;const n=s.find((e=>e.type===t));if(!n)return null;const{name:a,icon:r,color:i,price:o,quantity:c,frozen_quantity:d,available_quantity:u,has_gems:h,has_available:x}=n;return(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 text-center transition-all duration-300 ".concat(h?"hover:scale-105 hover:shadow-lg":""),style:{border:"1px solid ".concat(i).concat(h?"60":"20"),boxShadow:h?"0 0 8px ".concat(i,"20"):"none"},children:[(0,l.jsx)("div",{className:"flex justify-center mb-2",children:(0,l.jsx)("div",{className:"w-12 h-12 flex items-center justify-center",children:(0,l.jsx)("img",{src:r,alt:a,className:"w-10 h-10 object-contain transition-all duration-300 ".concat(h?"brightness-100":"brightness-50 opacity-40"),style:{filter:h?"drop-shadow(0 0 6px ".concat(i,"60)"):"grayscale(100%)"}})})}),(0,l.jsx)("h3",{className:"font-rajdhani text-sm font-bold mb-1 transition-colors duration-300 ".concat(h?"text-white":"text-gray-500"),children:a}),(0,l.jsx)("div",{className:"font-rajdhani text-lg font-bold mb-2 transition-colors duration-300",style:{color:h?i:"#6b7280"},children:b(o)}),(0,l.jsx)("div",{className:"space-y-1",children:h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"font-rajdhani text-xs text-green-400 font-medium",children:[u," Available"]}),d>0&&(0,l.jsxs)("div",{className:"font-rajdhani text-xs text-orange-400 font-medium",children:[d," Frozen"]})]}):(0,l.jsx)("div",{className:"font-rajdhani text-xs text-gray-600",children:"0 Owned"})})]})};return n?(0,l.jsx)("div",{className:"max-w-6xl mx-auto mb-6",children:(0,l.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[...Array(7)].map(((e,t)=>(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-20 rounded-lg p-3 animate-pulse",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gray-600 rounded-full mx-auto mb-2"}),(0,l.jsx)("div",{className:"w-16 h-3 bg-gray-600 rounded mx-auto mb-2"}),(0,l.jsx)("div",{className:"w-12 h-4 bg-gray-600 rounded mx-auto mb-2"}),(0,l.jsx)("div",{className:"w-14 h-3 bg-gray-600 rounded mx-auto"})]},t)))})}):(0,l.jsx)("div",{className:"max-w-6xl mx-auto mb-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[(0,l.jsx)(a,{gemType:"Ruby"}),(0,l.jsx)(a,{gemType:"Amber"}),(0,l.jsx)(a,{gemType:"Topaz"}),(0,l.jsx)(a,{gemType:"Emerald"}),(0,l.jsx)(a,{gemType:"Aquamarine"}),(0,l.jsx)(a,{gemType:"Sapphire"}),(0,l.jsx)(a,{gemType:"Magic"})]})})},w=e=>{var t;let{game:s,isMyBet:n=!1,isOngoing:a=!1,isBot:i=!1,onAccept:o,onCancel:c,onOpenJoinBattle:d,onUpdateUser:u,currentTime:h=new Date,user:x}=e;const{gemsDefinitions:m,getGemByType:p}=f();console.log("\ud83d\udd04 PlayerCard render:",{gameId:s.game_id||s.id,timestamp:(new Date).toISOString()});const g=s.bet_gems?Object.entries(s.bet_gems).reduce(((e,t)=>{let[s,n]=t;const a=p(s);return e+(a?a.price*n:0)}),0):0,b=(()=>{if(!s.created_at)return null;const e=new Date(s.created_at),t=new Date(e.getTime()+864e5);if(t-h<=0)return null;const n=t.getHours(),a=t.getMinutes();return"".concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))})(),y=s.bet_gems?Object.entries(s.bet_gems).map((e=>{let[t,s]=e;const n=p(t);return n?(0,r.A)((0,r.A)({},n),{},{quantity:s}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price)):[];return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"".concat(n&&"ACTIVE"===s.status?"bg-[#23233e] border-[#23d364] border-opacity-40 hover:border-opacity-60":"".concat("bg-[#09295e]"," border-[#23d364] border-opacity-30 hover:border-opacity-50")," border rounded-lg p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:i?(0,l.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-700 flex items-center justify-center text-white text-lg",children:"\ud83e\udd16"}):(0,l.jsx)("img",{src:(()=>{var e;if(i)return"\ud83e\udd16";return"female"===((null===(e=s.creator)||void 0===e?void 0:e.gender)||"male")?"/Women.svg":"/Men.svg"})(),alt:"Player Avatar",className:"w-12 h-12 rounded-full bg-surface-sidebar p-1"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,l.jsx)("h3",{className:"text-white font-rajdhani font-bold text-lg truncate",children:i?"Bot":(j=(null===(t=s.creator)||void 0===t?void 0:t.username)||"Player",j?j.length>15?j.substring(0,15)+"...":j:"Player")}),n&&(0,l.jsx)("span",{className:"bg-blue-600 text-white text-xs font-rajdhani font-bold px-2 py-1 rounded",children:"My Bet"}),i&&(0,l.jsx)("span",{className:"bg-blue-600 text-white text-xs font-rajdhani font-bold px-2 py-1 rounded",children:"HUMAN"===s.bot_type?"Human-like":"AI"})]}),(0,l.jsx)("div",{className:"flex items-center space-x-1 mb-2 overflow-x-auto",children:y.map(((e,t)=>(0,l.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[(0,l.jsx)("img",{src:e.icon,alt:e.name,className:"w-4 h-4"}),(0,l.jsx)("span",{className:"text-text-secondary text-xs font-rajdhani",children:e.quantity}),t<y.length-1&&(0,l.jsx)("span",{className:"text-text-secondary text-xs",children:"\u2022"})]},e.type)))}),(0,l.jsx)("div",{className:"text-green-400 font-rajdhani font-bold text-xl",children:v(g)}),b&&(0,l.jsxs)("div",{className:"text-text-secondary text-xs font-rajdhani mt-1",children:["Auto-cancel: ",b]})]}),(0,l.jsx)("div",{className:"flex-shrink-0",children:n?"ACTIVE"===s.status?(0,l.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-gray-600 text-gray-400 font-rajdhani font-bold rounded-lg cursor-not-allowed",children:"In Progress"}):(0,l.jsx)("button",{onClick:()=>{c&&c(s.game_id||s.id)},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 hover:scale-105",children:"Cancel"}):(0,l.jsx)("button",{onClick:()=>{o?o(s.game_id||s.id):d&&d(s)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 hover:scale-105",children:"Accept"})})]})})});var j},N=(0,n.createContext)(),k=()=>{const e=(0,n.useContext)(N);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},_=e=>{let{children:t}=e;const[s,a]=(0,n.useState)([]),i=(0,n.useCallback)((e=>{const t=Date.now()+Math.random(),s=(0,r.A)({id:t,type:"info",duration:5e3},e);return a((e=>[...e,s])),t}),[]),o=(0,n.useCallback)((e=>{a((t=>t.filter((t=>t.id!==e))))}),[]),c=(0,n.useCallback)((()=>{a([])}),[]),d=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"success",message:e},t))}),[i]),u=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"error",message:e},t))}),[i]),h=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"warning",message:e},t))}),[i]),x=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"info",message:e},t))}),[i]),m=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"success",message:e,isRussian:!0},t))}),[i]),f=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"error",message:e,isRussian:!0},t))}),[i]),p=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"warning",message:e,isRussian:!0},t))}),[i]),g=(0,n.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i((0,r.A)({type:"info",message:e,isRussian:!0},t))}),[i]),b={notifications:s,addNotification:i,removeNotification:o,clearAllNotifications:c,showSuccess:d,showError:u,showWarning:h,showInfo:x,showSuccessRU:m,showErrorRU:f,showWarningRU:p,showInfoRU:g};return(0,l.jsx)(N.Provider,{value:b,children:t})},S={LOW:["Ruby","Amber"],MID:["Topaz","Emerald","Aquamarine"],HIGH:["Sapphire","Magic"]},C=(e,t)=>{const s=Math.round(100*t),n=[];for(const c of e){const e=Math.round(100*c.price);for(let t=0;t<c.availableQuantity;t++)n.push({type:c.type,name:c.name,price:c.price,priceCents:e,icon:c.icon,color:c.color})}const a=new Array(s+1).fill(!1);a[0]=!0;const r=new Array(s+1).fill(-1);for(let c=0;c<n.length;c++){const e=n[c].priceCents;for(let t=s;t>=e;t--)a[t-e]&&!a[t]&&(a[t]=!0,r[t]=c)}if(!a[s])return{success:!1,combination:[]};const i=[];let o=s;for(;o>0&&-1!==r[o];){const e=n[r[o]];i.push(e),o-=e.priceCents}const l={};for(const c of i){const e=c.type;l[e]||(l[e]=0),l[e]++}return{success:!0,combination:Object.entries(l).map((t=>{let[s,n]=t;const a=e.find((e=>e.type===s));return{type:s,name:a.name,price:a.price,quantity:n,totalValue:a.price*n,icon:a.icon,color:a.color}}))}},A=e=>e.filter((e=>e.available_quantity>0)).map((e=>({type:e.type,name:e.name,price:e.price,availableQuantity:e.available_quantity,icon:e.icon,color:e.color}))),M=(e,t,s)=>{switch(e){case"small":return((e,t)=>{const s=A(e);if(0===s.length)return{success:!1,combination:[],message:"No gems available in inventory."};const n=[...s].sort(((e,t)=>e.price-t.price));let a=t;const r={};for(;a>0;){let e=!1;for(const t of n){const s=r[t.type]||0;if(s<t.availableQuantity&&t.price<=a){r[t.type]=s+1,a-=t.price,e=!0;break}}if(!e){let e=!1;for(const t of n){const s=r[t.type]||0;if(s<t.availableQuantity&&t.price===a){r[t.type]=s+1,a=0,e=!0;break}}if(!e){const e=C(s,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Small strategy: Found exact combination for $".concat(t.toFixed(2))}:{success:!1,combination:[],message:"Not enough gems in inventory to form this bet. Please adjust your balance or select manually."}}}}const i=Object.entries(r).map((e=>{let[t,n]=e;const a=s.find((e=>e.type===t));return{type:t,name:a.name,price:a.price,quantity:n,totalValue:a.price*n,icon:a.icon,color:a.color}})),o=i.reduce(((e,t)=>e+t.totalValue),0);return{success:!0,combination:i.sort(((e,t)=>e.price-t.price)),message:"Small strategy: Found exact combination for $".concat(o.toFixed(2))}})(t,s);case"smart":return((e,t)=>{const s=A(e);if(0===s.length)return{success:!1,combination:[],message:"No gems available in inventory."};const n={low:s.filter((e=>S.LOW.includes(e.type))),mid:s.filter((e=>S.MID.includes(e.type))),high:s.filter((e=>S.HIGH.includes(e.type)))};n.low.sort(((e,t)=>e.price-t.price)),n.mid.sort(((e,t)=>e.price-t.price)),n.high.sort(((e,t)=>t.price-e.price));const a={};let r=t;const i=(e,t)=>{let s=0;for(;r>0&&s<t&&e.length>0;){let n=!1;for(const i of e){const e=a[i.type]||0;if(e<i.availableQuantity&&i.price<=r&&i.price<=t-s){a[i.type]=e+1,r-=i.price,s+=i.price,n=!0;break}}if(!n)break}return s},o=.6*t,l=.3*t,c=.1*t;if(i(n.mid,o),i(n.low,l),i(n.high,c),r>0){const e=[...n.mid,...n.low,...n.high];for(;r>0;){let t=!1;for(const s of e){const e=a[s.type]||0;if(e<s.availableQuantity&&s.price<=r){a[s.type]=e+1,r-=s.price,t=!0;break}}if(!t){for(const s of e){const e=a[s.type]||0;if(e<s.availableQuantity&&s.price===r){a[s.type]=e+1,r=0,t=!0;break}}if(!t)break}}}if(r>0){const e=C(s,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Smart strategy: Found balanced combination for $".concat(t.toFixed(2))}:{success:!1,combination:[],message:"Not enough gems in inventory to form this bet. Please adjust your balance or select manually."}}const d=Object.entries(a).map((e=>{let[t,n]=e;const a=s.find((e=>e.type===t));return{type:t,name:a.name,price:a.price,quantity:n,totalValue:a.price*n,icon:a.icon,color:a.color}})),u=d.reduce(((e,t)=>e+t.totalValue),0);return{success:!0,combination:d.sort(((e,t)=>e.price-t.price)),message:"Smart strategy: Found balanced combination for $".concat(u.toFixed(2))}})(t,s);case"big":return((e,t)=>{const s=A(e);if(0===s.length)return{success:!1,combination:[],message:"No gems available in inventory."};const n=[...s].sort(((e,t)=>t.price-e.price));let a=t;const r={};for(;a>0;){let e=!1;for(const t of n){const s=r[t.type]||0;if(s<t.availableQuantity&&t.price<=a){r[t.type]=s+1,a-=t.price,e=!0;break}}if(!e){for(const t of n){const s=r[t.type]||0;if(s<t.availableQuantity&&t.price===a){r[t.type]=s+1,a=0,e=!0;break}}if(!e){const e=C(s,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Big strategy: Found combination with fewest gems for $".concat(t.toFixed(2))}:{success:!1,combination:[],message:"Not enough gems in inventory to form this bet. Please adjust your balance or select manually."}}}}const i=Object.entries(r).map((e=>{let[t,n]=e;const a=s.find((e=>e.type===t));return{type:t,name:a.name,price:a.price,quantity:n,totalValue:a.price*n,icon:a.icon,color:a.color}})),o=i.reduce(((e,t)=>e+t.totalValue),0);return{success:!0,combination:i.sort(((e,t)=>e.price-t.price)),message:"Big strategy: Found combination with fewest gems for $".concat(o.toFixed(2))}})(t,s);default:return{success:!1,combination:[],message:"Invalid strategy selected."}}},L=e=>{let{user:t,onClose:s,onUpdateUser:a}=e;const{gemsData:i,validateGemOperation:o,refreshInventory:c}=f(),{showSuccess:d,showError:u}=k(),[x,m]=(0,n.useState)(1),[p,g]=(0,n.useState)(!1),[b,j]=(0,n.useState)(""),[w,N]=(0,n.useState)({}),[_,S]=(0,n.useState)(0),[C,A]=(0,n.useState)(""),L=3e3,E=.06,P=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}],z=[{id:1,name:"Gem Selection",description:"Choose gems and amount"},{id:2,name:"Move",description:"Choose your move"},{id:3,name:"Confirm",description:"Create bet"}];(0,n.useEffect)((()=>{const e=Object.entries(w).reduce(((e,t)=>{let[s,n]=t;const a=i.find((e=>e.type===s));return e+(a?a.price*n:0)}),0);S(e)}),[w,i]);const O=e=>{if(!b||parseFloat(b)<=0)return void u("Please enter bet amount first");const t=parseFloat(b);g(!0);try{const s=M(e,i,t);if(s.success){const e={};s.combination.forEach((t=>{e[t.type]=t.quantity})),N(e),d(s.message)}else u(s.message)}catch(s){console.error("Error calculating gem combination:",s),u("Error calculating gem combination")}finally{g(!1)}},T=(e,t)=>{const s=i.find((t=>t.type===e));if(!s)return;const n=s.available_quantity,a=Math.max(0,Math.min(n,t));N((t=>{if(a<=0){const s=(0,r.A)({},t);return delete s[e],s}return(0,r.A)((0,r.A)({},t),{},{[e]:a})}))},R=()=>!!C||(u("Please select your move"),!1),D=()=>{const e=Object.entries(w).map((e=>{let[t,s]=e;const n=i.find((e=>e.type===t));return n?(0,r.A)((0,r.A)({},n),{},{quantity:s}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price));return 0===e.length?(0,l.jsx)("div",{className:"text-text-secondary text-sm text-center py-4",children:"No gems selected. Choose amount and strategy above."}):(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e=>{const t=e.quantity*e.price;return(0,l.jsxs)("div",{className:"flex items-center space-x-1 bg-surface-sidebar rounded-lg px-3 py-2 border border-opacity-30",style:{borderColor:e.color},children:[(0,l.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,l.jsxs)("span",{className:"text-text-secondary text-xs font-rajdhani",children:["x",e.quantity]}),(0,l.jsxs)("span",{className:"text-green-400 text-xs font-rajdhani font-bold",children:["= ",v(t)]})]},e.type)}))})};return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg w-full max-w-lg max-h-[90vh] overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-primary",children:[(0,l.jsx)("h2",{className:"text-white font-russo text-xl",children:"Create Bet"}),(0,l.jsx)("button",{onClick:s,className:"text-text-secondary hover:text-white transition-colors",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,l.jsx)("div",{className:"flex items-center space-x-2",children:z.map(((e,t)=>(0,l.jsxs)(n.Fragment,{children:[(0,l.jsxs)("div",{className:"flex-1 flex items-center space-x-2 ".concat(x>=e.id?"text-accent-primary":"text-text-secondary"),children:[(0,l.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(x>=e.id?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:e.id}),(0,l.jsx)("span",{className:"text-xs font-rajdhani hidden sm:block",children:e.name})]}),t<z.length-1&&(0,l.jsx)("div",{className:"w-8 h-0.5 ".concat(x>e.id?"bg-accent-primary":"bg-surface-sidebar")})]},e.id)))})}),(0,l.jsxs)("div",{className:"px-4 overflow-y-auto max-h-96",children:[1===x&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"sticky top-0 bg-surface-card border-b border-border-primary p-4 -mx-4 mb-0 z-10",children:[(0,l.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Bet Amount"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"number",value:b,onChange:e=>{return t=e.target.value,void j(t);var t},placeholder:"Enter amount...",min:1,max:L,className:"w-full px-4 py-3 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white text-xl font-rajdhani font-bold text-center focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 text-xl font-bold",children:"$"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-text-secondary text-sm mt-2",children:[(0,l.jsxs)("span",{children:["Min: $",1]}),(0,l.jsxs)("span",{children:["Max: $",L]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Auto Combination"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,l.jsx)("button",{onClick:()=>O("small"),disabled:!b||parseFloat(b)<=0||p,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",title:"\ud83d\udd34 Use more cheap gems (Ruby, Amber, Topaz)",children:p?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udd34 Small"}),(0,l.jsx)("button",{onClick:()=>O("smart"),disabled:!b||parseFloat(b)<=0||p,className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",title:"\ud83d\udfe2 Balanced mid-range gems (60% mid, 30% low, 10% high)",children:p?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe2 Smart"}),(0,l.jsx)("button",{onClick:()=>O("big"),disabled:!b||parseFloat(b)<=0||p,className:"px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",title:"\ud83d\udfe3 Use fewer expensive gems (Magic, Sapphire, Aquamarine)",children:p?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe3 Big"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,l.jsx)("label",{className:"text-white font-rajdhani text-lg",children:"Selected Gems"}),(0,l.jsxs)("div",{className:"font-rajdhani text-xl font-bold ".concat(b&&Math.abs(_-parseFloat(b))<.01?"text-green-400":_>0?"text-orange-400":"text-text-secondary"),children:[v(_),b&&parseFloat(b)>0&&(0,l.jsxs)("span",{className:"text-text-secondary text-sm ml-2",children:["/ ",y(parseFloat(b))]})]})]}),(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4 min-h-16 border border-border-primary",children:D()}),b&&parseFloat(b)>0&&Math.abs(_-parseFloat(b))>.01&&(0,l.jsxs)("div",{className:"mt-2 text-orange-400 text-sm font-rajdhani",children:["\u26a0\ufe0f Selected gems total ($",_,") doesn't match bet amount ($",parseFloat(b),"). Use auto-combination buttons or adjust manually."]})]}),(0,l.jsxs)("div",{className:"pb-4",children:[(0,l.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Your Inventory"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 max-h-64 overflow-y-auto",children:i.map((e=>{const t=w[e.type]||0;return e.has_gems?(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 border border-opacity-20",style:{borderColor:e.color},children:[(0,l.jsxs)("div",{className:"text-center mb-2",children:[(0,l.jsx)("img",{src:e.icon,alt:e.name,className:"w-8 h-8 mx-auto mb-1"}),(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:e.name}),(0,l.jsx)("div",{className:"text-text-secondary text-xs",children:v(e.price)})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between space-x-1",children:[(0,l.jsx)("button",{onClick:()=>T(e.type,t-1),disabled:t<=0,className:"w-6 h-6 bg-red-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"\u2212"}),(0,l.jsxs)("div",{className:"text-center flex-1",children:[(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold text-sm",children:t}),(0,l.jsxs)("div",{className:"text-text-secondary text-xs",children:["/",e.available_quantity]})]}),(0,l.jsx)("button",{onClick:()=>T(e.type,t+1),disabled:t>=e.available_quantity,className:"w-6 h-6 bg-green-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"+"})]})]},e.type):null}))})]})]}),2===x&&(0,l.jsx)("div",{className:"py-4",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Choose Your Move"}),(0,l.jsx)("p",{className:"text-text-secondary",children:"Select your strategy for the battle"}),(0,l.jsxs)("div",{className:"text-green-400 font-rajdhani text-lg mt-2",children:["Betting: ",v(_)]})]}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-4",children:P.map((e=>(0,l.jsxs)("button",{onClick:()=>A(e.id),className:"p-6 rounded-lg border-2 transition-all duration-300 hover:scale-105 ".concat(C===e.id?"border-accent-primary bg-accent-primary bg-opacity-20":"border-surface-sidebar hover:border-accent-primary border-opacity-50"),children:[(0,l.jsx)("img",{src:e.icon,alt:e.name,className:"w-16 h-16 mx-auto mb-3"}),(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg",children:e.name})]},e.id)))})]})}),3===x&&(0,l.jsx)("div",{className:"py-4",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-4",children:"Confirm Your Bet"})}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Bet Amount:"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold",children:v(_)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Commission (6%):"}),(0,l.jsx)("span",{className:"text-orange-400 font-rajdhani font-bold",children:y(_*E)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Your Move:"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold capitalize",children:C})]}),(0,l.jsxs)("div",{className:"border-t border-border-primary pt-3 mt-3",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm mb-2",children:"Selected Gems (from Inventory):"}),(0,l.jsx)("div",{className:"space-y-2",children:D()})]})]}),(0,l.jsx)("div",{className:"bg-yellow-900 bg-opacity-20 border border-yellow-500 border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsxs)("div",{className:"text-yellow-400 text-sm",children:[(0,l.jsx)("div",{className:"font-bold mb-1",children:"Important:"}),(0,l.jsx)("div",{children:"Your gems and commission will be frozen in inventory until the game completes. The bet will auto-cancel in 24 hours if no opponent joins."})]})]})})]})})]}),(0,l.jsx)("div",{className:"p-4 border-t border-border-primary",children:(0,l.jsxs)("div",{className:"flex space-x-3",children:[x>1&&(0,l.jsx)("button",{onClick:()=>{x>1&&m(x-1)},disabled:p,className:"px-4 py-2 bg-surface-sidebar text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:"Back"}),x<3?(0,l.jsx)("button",{onClick:()=>{let e=!1;switch(x){case 1:e=(()=>{const e=parseFloat(b);if(isNaN(e)||e<1||e>L)return u("Bet amount must be between $".concat(1," and $").concat(L)),!1;if(0===Object.keys(w).length)return u("Please select at least one gem"),!1;if(Math.abs(_-e)>.01)return u("Selected gems total ($".concat(_,") must match bet amount ($").concat(e,"). Use auto-combination buttons or adjust manually.")),!1;const s=o(w);if(!s.valid)return u(s.error),!1;const n=_*E,a=((null===t||void 0===t?void 0:t.virtual_balance)||0)-((null===t||void 0===t?void 0:t.frozen_balance)||0);return!(a<n)||(u("Insufficient balance for commission. Required: ".concat(y(n),", Available: ").concat(y(a))),!1)})();break;case 2:e=R()}e&&x<3&&m(x+1)},disabled:p,className:"flex-1 px-4 py-2 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:"Next"}):(0,l.jsx)("button",{onClick:async()=>{if(R()){g(!0);try{const e=await fetch("".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api/games/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({move:C,bet_gems:w})}),t=await e.json();if(e.ok){d("Bet created! ".concat(y(_*E)," (6%) frozen until game completion.")),await c(),null===a||void 0===a||a();h().triggerLobbyRefresh(),console.log("\ud83c\udfae Bet created - triggering lobby refresh"),s()}else u(t.detail||"Failed to create bet")}catch(e){u("Network error. Please try again.")}finally{g(!1)}}},disabled:p,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:p?"Creating...":"Create Bet"})]})})]})})},E=e=>{let{targetAmount:t,commissionAmount:s,selectedGems:n,onSelectedGemsChange:a,gemsData:i,loading:o,onStrategySelect:c,showError:d}=e;const u=e=>{try{return"number"!==typeof e||isNaN(e)?"$0.00":"$".concat(e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))}catch(t){return console.error("Error formatting currency:",t),"$0.00"}},h=Object.entries(n).reduce(((e,t)=>{let[s,n]=t;const a=i.find((e=>e.type===s));return e+(a?a.price*n:0)}),0),x=(e,t)=>{const s=i.find((t=>t.type===e));if(!s)return;const o=s.available_quantity,l=Math.max(0,Math.min(o,t)),c=(0,r.A)({},n);l<=0?delete c[e]:c[e]=l,a(c)},m=e=>{try{const s=M(e,i,t);if(s.success){const t={};s.combination.forEach((e=>{t[e.type]=e.quantity})),a(t),c&&c(e)}else d(s.message)}catch(s){console.error("Error calculating gem combination:",s),d("Error calculating gem combination")}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Match Opponent's Bet"}),(0,l.jsx)("div",{className:"text-green-400 font-rajdhani text-2xl font-bold",children:u(t)}),(0,l.jsxs)("div",{className:"text-blue-400 font-rajdhani text-lg",children:["Your Bet: ",u(h)]}),s>0&&(0,l.jsxs)("div",{className:"text-orange-400 font-rajdhani text-sm",children:["Commission: ",u(s)]}),Math.abs(h-t)>.01&&(0,l.jsxs)("div",{className:"text-red-400 text-sm mt-1",children:["\u26a0\ufe0f Amount mismatch: ",u(Math.abs(h-t))]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h4",{className:"text-white font-rajdhani text-lg",children:"Auto Combination"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,l.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),m("small")},disabled:o,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm",title:"\ud83d\udd34 Use more cheap gems (Ruby, Amber, then others)",children:o?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udd34 Small"}),(0,l.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),m("smart")},disabled:o,className:"px-3 py-2 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm",title:"\ud83d\udfe2 Balanced mid-range gems (60% mid, 30% low, 10% high)",children:o?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe2 Smart"}),(0,l.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),m("big")},disabled:o,className:"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm",title:"\ud83d\udfe3 Use fewer expensive gems (Magic, Sapphire, then others)",children:o?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe3 Big"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"text-white font-rajdhani font-bold mb-2",children:"Selected Gems"}),Object.keys(n).length>0?(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(n).map((e=>{let[t,s]=e;const n=i.find((e=>e.type===t));return n?(0,r.A)((0,r.A)({},n),{},{quantity:s}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price)).map((e=>{const t=e.quantity*e.price;return(0,l.jsxs)("div",{className:"flex items-center space-x-1 bg-surface-card rounded-lg px-3 py-2 border border-opacity-30",style:{borderColor:e.color},children:[(0,l.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,l.jsxs)("span",{className:"text-text-secondary text-xs font-rajdhani",children:["x",e.quantity]}),(0,l.jsxs)("span",{className:"text-green-400 text-xs font-rajdhani font-bold",children:["= ",u(t)]})]},e.type)}))}):(0,l.jsx)("div",{className:"text-text-secondary text-center py-4",children:"No gems selected. Use Auto Combination or select manually below."})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h5",{className:"text-white font-rajdhani font-bold",children:"Your Inventory"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-3",children:i&&Array.isArray(i)?i.map((e=>{const t=e.available_quantity||0,s=n[e.type]||0;return!e.has_available&&s<=0?null:(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 border border-opacity-20 min-w-[140px]",style:{borderColor:e.color},children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:e.name}),(0,l.jsx)("div",{className:"text-text-secondary text-xs",children:u(e.price)})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),x(e.type,Math.max(0,s-1))},disabled:s<=0,className:"w-5 h-5 bg-red-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"\u2212"}),(0,l.jsxs)("div",{className:"flex-1 text-center",children:[(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:s}),(0,l.jsxs)("div",{className:"text-text-secondary text-xs",children:["/",t]})]}),(0,l.jsx)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),x(e.type,s+1)},disabled:s>=t,className:"w-5 h-5 bg-green-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"+"})]})]},e.type)})):(0,l.jsx)("div",{className:"text-center text-text-secondary py-4 w-full",children:"Loading gems..."})})]})]})},P=e=>{var t,s;let{targetAmount:n,totalGemValue:a,selectedMove:r,onSelectedMoveChange:i}=e;const o=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}];return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Choose Your Move"}),(0,l.jsx)("p",{className:"text-text-secondary mb-2",children:"Select your strategy for the battle"}),(0,l.jsxs)("div",{className:"text-green-400 font-rajdhani text-lg",children:["Betting: ",v(a)]})]}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-4",children:o.map((e=>(0,l.jsx)("button",{onClick:t=>{var s;t.preventDefault(),t.stopPropagation(),s=e.id,i&&i(s)},className:"p-6 rounded-lg border-2 transition-all duration-300 hover:scale-105 ".concat(r===e.id?"border-accent-primary bg-accent-primary bg-opacity-20":"border-border-primary hover:border-accent-primary"),children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,l.jsx)("img",{src:e.icon,alt:e.name,className:"w-16 h-16"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold",children:e.name})]})},e.id)))}),r&&(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("div",{className:"inline-block bg-accent-primary bg-opacity-20 border border-accent-primary rounded-lg px-4 py-2",children:(0,l.jsxs)("span",{className:"text-accent-primary font-rajdhani font-bold",children:["Selected: ",null===(t=o.find((e=>e.id===r)))||void 0===t?void 0:t.name]})})}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"text-white font-rajdhani font-bold mb-3",children:"Battle Summary"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Target Amount:"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold",children:v(n)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Your Bet:"}),(0,l.jsx)("span",{className:"text-green-400 font-rajdhani font-bold",children:v(a)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Your Move:"}),(0,l.jsx)("span",{className:"text-accent-primary font-rajdhani font-bold",children:r?null===(s=o.find((e=>e.id===r)))||void 0===s?void 0:s.name:"Not selected"})]})]})]}),(0,l.jsxs)("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-600 rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-blue-400 font-rajdhani font-bold mb-2",children:"\u26a1 Battle Rules"}),(0,l.jsxs)("ul",{className:"text-blue-300 text-sm space-y-1",children:[(0,l.jsx)("li",{children:"\u2022 Rock beats Scissors"}),(0,l.jsx)("li",{children:"\u2022 Paper beats Rock"}),(0,l.jsx)("li",{children:"\u2022 Scissors beats Paper"}),(0,l.jsx)("li",{children:"\u2022 Winner takes all gems"})]})]})]})},z=e=>{var t,s,a,r,i,o,c,d,u,h,x,m;let{battleResult:f,selectedMove:p,targetAmount:g,totalGemValue:b,commissionAmount:j,playerData:w,onClose:N}=e;const[k,_]=n.useState(30);n.useEffect((()=>{const e=setInterval((()=>{_((e=>e<=1?(N(),0):e-1))}),1e3);return()=>clearInterval(e)}),[N]);const S=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}],{result:C="draw",opponentMove:A="rock",gameData:M=null}=f||{},L=(()=>{switch(C){case"win":return{title:"VICTORY!",color:"text-green-400",bgColor:"bg-green-900",borderColor:"border-green-600"};case"lose":return{title:"DEFEAT!",color:"text-red-400",bgColor:"bg-red-900",borderColor:"border-red-600"};default:return{title:"DRAW!",color:"text-yellow-400",bgColor:"bg-yellow-900",borderColor:"border-yellow-600"}}})();return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center py-4",children:[(0,l.jsx)("h3",{className:"text-5xl font-russo mb-6 ".concat(L.color," animate-pulse"),children:L.title}),(0,l.jsxs)("div",{className:"text-text-secondary text-sm",children:["Auto-closing in ",k," seconds"]})]}),(0,l.jsx)("div",{className:"".concat(L.bgColor," bg-opacity-10 border-2 ").concat(L.borderColor," rounded-xl p-6"),children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full border-4 ".concat("win"===C?"border-green-400":"lose"===C?"border-red-400":"border-yellow-400"," bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"),children:(0,l.jsx)("span",{className:"text-white font-russo text-xl",children:(null===w||void 0===w||null===(t=w.player)||void 0===t||null===(s=t.username)||void 0===s||null===(a=s.charAt(0))||void 0===a?void 0:a.toUpperCase())||"Y"})}),(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg mb-2",children:(null===w||void 0===w||null===(r=w.player)||void 0===r?void 0:r.username)||"You"}),(0,l.jsx)("div",{className:"text-sm font-bold ".concat("win"===C?"text-green-400":"lose"===C?"text-red-400":"text-yellow-400"),children:"win"===C?"WINNER":"lose"===C?"LOSER":"DRAW"}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("img",{src:null===(i=S.find((e=>e.id===p)))||void 0===i?void 0:i.icon,alt:p,className:"w-16 h-16 mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-accent-primary font-rajdhani capitalize font-bold",children:null===(o=S.find((e=>e.id===p)))||void 0===o?void 0:o.name})]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-4xl font-russo text-white mb-2",children:"VS"}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"Rock Paper Scissors"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full border-4 ".concat("lose"===C?"border-green-400":"win"===C?"border-red-400":"border-yellow-400"," bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center"),children:(0,l.jsx)("span",{className:"text-white font-russo text-xl",children:(null===w||void 0===w||null===(c=w.opponent)||void 0===c||null===(d=c.username)||void 0===d||null===(u=d.charAt(0))||void 0===u?void 0:u.toUpperCase())||"O"})}),(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg mb-2",children:(null===w||void 0===w||null===(h=w.opponent)||void 0===h?void 0:h.username)||"Opponent"}),(0,l.jsx)("div",{className:"text-sm font-bold ".concat("lose"===C?"text-green-400":"win"===C?"text-red-400":"text-yellow-400"),children:"lose"===C?"WINNER":"win"===C?"LOSER":"DRAW"}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("img",{src:null===(x=S.find((e=>e.id===A)))||void 0===x?void 0:x.icon,alt:A,className:"w-16 h-16 mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-accent-primary font-rajdhani capitalize font-bold",children:null===(m=S.find((e=>e.id===A)))||void 0===m?void 0:m.name})]})]})]})}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-xl p-6 border border-border-primary",children:[(0,l.jsx)("h5",{className:"text-white font-rajdhani font-bold text-xl mb-4 text-center",children:"\ud83d\udcb0 Battle Summary"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,l.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Total Bet Amount:"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold text-lg",children:v(b)})]}),j>0&&(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,l.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Platform Commission (6%):"}),(0,l.jsxs)("span",{className:"text-orange-400 font-rajdhani font-bold",children:["-",y(j)]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,l.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Prize Pool:"}),(0,l.jsx)("span",{className:"text-green-400 font-rajdhani font-bold text-lg",children:v(2*b-j)})]}),(0,l.jsxs)("div",{className:"pt-3 border-t-2 border-accent-primary border-opacity-30",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold text-lg",children:"Your Result:"}),(0,l.jsx)("span",{className:"font-rajdhani font-bold text-xl ".concat(L.color),children:"win"===C?"+".concat(v(2*b-j)):"lose"===C?"-".concat(v(b)):"\xb1".concat(v(0))})]}),(0,l.jsx)("div",{className:"text-center mt-2",children:(0,l.jsx)("span",{className:"text-sm font-rajdhani ".concat(L.color),children:"win"===C?"You won all gems!":"lose"===C?"You lost your gems!":"All gems returned!"})})]})]}),M&&(0,l.jsxs)("div",{className:"text-xs text-text-secondary text-center mt-4 pt-3 border-t border-border-primary border-opacity-20",children:["Game ID: ",M.id]})]}),(0,l.jsxs)("div",{className:"".concat(L.bgColor," bg-opacity-20 border ").concat(L.borderColor," rounded-lg p-4"),children:[(0,l.jsx)("div",{className:"".concat(L.color," font-rajdhani font-bold mb-2"),children:"win"===C?"\ud83c\udf89 Congratulations!":"lose"===C?"\ud83d\udc94 Better luck next time!":"\ud83e\udd1d Fair game!"}),(0,l.jsx)("div",{className:"text-white text-sm",children:"win"===C?"You won the battle and received all the gems!":"lose"===C?"You lost the battle. Your gems went to the opponent.":"It's a draw! All gems are returned to their original owners."})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),N&&N()},className:"w-full py-4 text-white font-rajdhani font-bold text-lg rounded-xl hover:scale-105 transition-all duration-300 ".concat("win"===C?"bg-gradient-to-r from-green-600 to-green-700":"lose"===C?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"),children:["win"===C?"\ud83c\udf89 Claim Victory!":"lose"===C?"\ud83d\udc94 Accept Defeat":"\ud83e\udd1d Continue Playing"," (OK)"]}),(0,l.jsxs)("div",{className:"text-center text-text-secondary text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsxs)("span",{children:["Window closes automatically in ",k," seconds"]})]}),(0,l.jsx)("div",{className:"mt-1",children:"Your balance and gems have been updated automatically"})]})]})]})},O=e=>{let{bet:t,user:s,onClose:a,onUpdateUser:r}=e;if(!t||!s||!a)return console.error("JoinBattleModal: Missing required props",{bet:t,user:s,onClose:a}),null;const i=(null===t||void 0===t?void 0:t.bet_amount)||0,o=(null===t||void 0===t?void 0:t.is_bot_game)||!1,c=o?0:.06*i,[d,u]=(0,n.useState)(1),[x,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(60),[b,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(3),[w,N]=(0,n.useState)({}),[_,S]=(0,n.useState)(""),[C,A]=(0,n.useState)(null),{gemsData:L=[],refreshInventory:O=()=>{}}=f()||{},{showSuccess:T,showError:R}=k()||{},D=async()=>{(()=>{if(!_)return R("Please select your move"),!1;if(0===Object.keys(w).length)return R("Please select gems to match opponent's bet"),!1;const e=Object.entries(w).reduce(((e,t)=>{let[s,n]=t;const a=L.find((e=>e.type===s));return e+(a?a.price*n:0)}),0);if(Math.abs(e-i)>.01)return R("Selected gems value ($".concat(e.toFixed(2),") must match opponent's bet ($").concat(i.toFixed(2),")")),!1;for(const[t,s]of Object.entries(w)){const e=L.find((e=>e.type===t));if(!e)return R("Invalid gem type: ".concat(t)),!1;if(e.available_quantity<s)return R("Insufficient ".concat(e.name," gems. Available: ").concat(e.available_quantity,", Required: ").concat(s)),!1}if(!o){const e=.06*i,t=((null===s||void 0===s?void 0:s.virtual_balance)||0)-((null===s||void 0===s?void 0:s.frozen_balance)||0);if(t<e)return R("Insufficient balance for commission. Required: $".concat(e.toFixed(2),", Available: $").concat(t.toFixed(2))),!1}return!0})()&&(m(!0),y(!0),j(3),await new Promise((e=>{let t=3;const s=setInterval((()=>{t<=1?(clearInterval(s),y(!1),e()):(t--,j(t))}),1e3)})),await(async()=>{m(!0);try{console.log("\ud83c\udfae === ASYNC BATTLE JOIN ==="),console.log("\ud83c\udfae Joining battle:",{gameId:t.id,selectedMove:_,selectedGems:w,userId:s.id});const e=await fetch("".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api/games/").concat(t.id,"/join"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({move:_,gems:w})});if(!e.ok){const t=await e.json();throw new Error(t.detail||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043a \u0438\u0433\u0440\u0435")}const n=await e.json();if(console.log("\ud83c\udfae Async battle result:",n),"COMPLETED"!==n.status)throw new Error("Game did not complete immediately. This indicates a backend issue.");const a=n.winner_id===s.id?"win":n.winner_id?"lose":"draw";A({result:a,opponentMove:n.creator_move,gameData:n}),await O(),r&&r(),h().triggerLobbyRefresh(),console.log("\u2694\ufe0f Battle joined/completed - triggering lobby refresh"),u(3),T("Battle completed! ".concat("win"===a?"Victory!":"lose"===a?"Defeat!":"Draw!"))}catch(e){console.error("\ud83d\udea8 Async battle join error:",e),R(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043a \u0431\u0438\u0442\u0432\u0435")}finally{m(!1)}})())};(0,n.useEffect)((()=>{if(d>=3)return;const e=setInterval((()=>{g((e=>e<=1?(a(),0):e-1))}),1e3);return()=>clearInterval(e)}),[d,a]);const I=e=>{m(!0);try{const t=M(e,L,i);if(t.success){const s={};t.combination.forEach((e=>{s[e.type]=e.quantity})),N(s);const n={small:"Small",smart:"Smart",big:"Big"};T(t.message||"".concat(n[e]," strategy: exact combination for $").concat(i.toFixed(2)))}else R(t.message||"Insufficient gems to create exact combination")}catch(t){console.error("Error with strategy selection:",t),R(t.message||"Error with automatic gem selection")}finally{m(!1)}},B=[{id:1,name:"Gem Selection",description:"Select your gems"},{id:2,name:"Move Selection",description:"Choose your move"},{id:3,name:"Battle Result",description:"Battle result"}],F=(null===s||void 0===s?void 0:s.virtual_balance)||0,W=(null===s||void 0===s?void 0:s.frozen_balance)||0,V=F-W;if(!o&&V<c)return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg w-full max-w-md p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-russo text-white mb-4",children:"\u26a0\ufe0f Insufficient Funds"}),(0,l.jsxs)("p",{className:"text-text-secondary mb-4",children:["You need at least $",c.toFixed(2)," for commission (6%) to join this bet."]}),(0,l.jsxs)("p",{className:"text-text-secondary mb-4",children:["Balance: $",F.toFixed(2)," | Frozen: $",W.toFixed(2)," | Available: $",V.toFixed(2)]}),(0,l.jsx)("button",{onClick:a,className:"w-full py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Close"})]})});const U=L.reduce(((e,t)=>e+t.available_quantity*t.price),0);if(U<i)return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg w-full max-w-md p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-russo text-white mb-4",children:"\u26a0\ufe0f Insufficient Gems"}),(0,l.jsxs)("p",{className:"text-text-secondary mb-4",children:["You don't have enough gems to match this bet amount of $",i.toFixed(2),"."]}),(0,l.jsxs)("p",{className:"text-text-secondary mb-4",children:["Your total gem value: $",U.toFixed(2)]}),(0,l.jsx)("button",{onClick:a,className:"w-full py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Close"})]})});const H=()=>{const e=Object.entries(w).reduce(((e,t)=>{let[s,n]=t;const a=L.find((e=>e.type===s));return e+(a?a.price*n:0)}),0);switch(d){case 1:return Object.keys(w).length>0&&Math.abs(e-i)<=.01;case 2:return""!==_;default:return!1}};return(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:[b&&(0,l.jsx)("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"countdown-number text-white font-russo text-9xl transform transition-all duration-500",style:{filter:"drop-shadow(0 0 30px rgba(255, 255, 255, 0.8))"},children:v},v),(0,l.jsx)("div",{className:"text-white font-rajdhani text-2xl mt-8 opacity-90 animate-pulse",children:"\u2694\ufe0f Starting Battle..."}),(0,l.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,l.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,l.jsx)("div",{className:"w-96 h-96 border-2 border-white border-opacity-20 rounded-full animate-ping"}),(0,l.jsx)("div",{className:"absolute inset-4 border border-accent-primary border-opacity-40 rounded-full animate-pulse"})]})})]})}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-primary",children:[(0,l.jsx)("h2",{className:"text-white font-russo text-xl",children:"Join Battle"}),d<=2&&(0,l.jsxs)("div",{className:"flex items-center space-x-2 ".concat(p<=15?"text-red-400":"text-yellow-400"),children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsxs)("span",{className:"font-rajdhani font-bold text-lg ".concat(p<=15?"animate-pulse":""),children:[Math.floor(p/60),":",(p%60).toString().padStart(2,"0")]})]}),(0,l.jsx)("button",{type:"button",onClick:a,className:"text-text-secondary hover:text-white transition-colors",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,l.jsx)("div",{className:"flex items-center space-x-2",children:B.map(((e,t)=>(0,l.jsxs)(n.Fragment,{children:[(0,l.jsxs)("div",{className:"flex-1 flex items-center space-x-2 ".concat(d>=e.id?"text-accent-primary":"text-text-secondary"),children:[(0,l.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(d>=e.id?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:e.id}),(0,l.jsx)("span",{className:"text-xs font-rajdhani hidden sm:block",children:e.name})]}),t<B.length-1&&(0,l.jsx)("div",{className:"w-8 h-0.5 ".concat(d>e.id?"bg-accent-primary":"bg-surface-sidebar")})]},e.id)))})}),d<=2&&p<=15&&(0,l.jsx)("div",{className:"px-4 py-2 bg-red-900 bg-opacity-20 border-b border-red-600",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-red-400",children:[(0,l.jsx)("svg",{className:"w-4 h-4 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsxs)("span",{className:"text-sm font-rajdhani font-bold animate-pulse",children:["Warning: Only ",p," seconds remaining!"]})]})}),(0,l.jsx)("div",{className:"p-4 overflow-y-auto max-h-96",children:(()=>{var e;const n=Object.entries(w).reduce(((e,t)=>{let[s,n]=t;const a=L.find((e=>e.type===s));return e+(a?a.price*n:0)}),0);switch(d){case 1:return(0,l.jsx)(E,{targetAmount:i,commissionAmount:c,selectedGems:w,onSelectedGemsChange:N,gemsData:L,loading:x,onStrategySelect:I,showError:R});case 2:return(0,l.jsx)(P,{targetAmount:i,totalGemValue:n,selectedMove:_,onSelectedMoveChange:S});case 3:return(0,l.jsx)(z,{battleResult:C,selectedMove:_,targetAmount:i,totalGemValue:n,commissionAmount:c,playerData:{player:s,opponent:(null===t||void 0===t?void 0:t.creator)||(null===C||void 0===C||null===(e=C.gameData)||void 0===e?void 0:e.creator)||{username:"Opponent"}},onClose:a});default:return(0,l.jsx)("div",{className:"p-4 text-white",children:"Unknown Step"})}})()}),d<=2&&(0,l.jsx)("div",{className:"p-4 border-t border-border-primary",children:(0,l.jsxs)("div",{className:"flex space-x-3",children:[d>1&&(0,l.jsx)("button",{type:"button",onClick:()=>{u((e=>Math.max(1,e-1)))},disabled:x,className:"px-4 py-2 bg-surface-sidebar text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:"Back"}),(0,l.jsx)("button",{type:"button",onClick:()=>{2===d?D():H()&&u((e=>e+1))},disabled:x||!H(),className:"flex-1 px-4 py-2 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:2===d?"Start Battle!":"Next"})]})})]})]})},T="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),R=e=>{let{user:t,onUpdateUser:s,setCurrentView:a}=e;const{showSuccess:o,showError:c}=k(),[d,u]=(0,n.useState)({available:0,gems:0,total:0}),[x,m]=(0,n.useState)([]),[f,p]=(0,n.useState)([]),[g,b]=(0,n.useState)([]),[y,v]=(0,n.useState)([]),[N,_]=(0,n.useState)([]),[S,C]=(0,n.useState)(!0),[A,M]=(0,n.useState)("live-players"),[E,P]=(0,n.useState)(!1),[z,R]=(0,n.useState)(null),[D,I]=(0,n.useState)(!1),[B,F]=(0,n.useState)({myBets:1,availableBets:1,ongoingBattles:1,availableBots:1,ongoingBotBattles:1}),[W,V]=(0,n.useState)({live_players:{my_bets:10,available_bets:10,ongoing_battles:10},bot_players:{available_bots:10,ongoing_bot_battles:10}});(0,n.useEffect)((()=>{U(),H();const e=setInterval(H,1e4),t=h().registerRefreshCallback((()=>{console.log("\ud83d\udd04 Lobby auto-refresh triggered by operation"),H()}));return()=>{clearInterval(e),t()}}),[]);const U=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(T,"/admin/interface-settings"),{headers:{Authorization:"Bearer ".concat(e)}});V(t.data)}catch(e){console.error("Error fetching interface settings:",e)}},H=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(T,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}}),s=await i.A.get("".concat(T,"/games/available"),{headers:{Authorization:"Bearer ".concat(e)}}),n=await i.A.get("".concat(T,"/games/my-bets"),{headers:{Authorization:"Bearer ".concat(e)}}),a=await i.A.get("".concat(T,"/bots/active-games"),{headers:{Authorization:"Bearer ".concat(e)}});u({available:t.data.virtual_balance||0,gems:t.data.total_gem_value||0,total:t.data.total_value||0});const r=s.data||[];p(r.filter((e=>!e.is_bot_game)));const o=a.data||[];v(o);const l=n.data||[];m(l.filter((e=>"WAITING"===e.status))),b(l.filter((e=>"ACTIVE"===e.status))),_(l.filter((e=>"ACTIVE"===e.status&&e.is_bot_game))),C(!1)}catch(e){console.error("Error fetching lobby data:",e),C(!1)}},q=e=>{const t=y.some((t=>(t.game_id||t.id)===(e.game_id||e.id)))||N.some((t=>(t.game_id||t.id)===(e.game_id||e.id))),s=(0,r.A)((0,r.A)({},e),{},{is_bot_game:t});R(s),I(!0)},$=e=>{let{title:t,icon:s,count:n,children:a,color:r="text-blue-400"}=e;return(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:r,children:s}),(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:t})]}),(0,l.jsx)("span",{className:"px-2 py-1 bg-accent-dark text-white text-xs rounded-full font-rajdhani",children:n})]}),a]})},G=e=>{let{currentPage:t,totalItems:s,onPageChange:n,section:a,itemsPerPage:r}=e;const i=Math.ceil(s/r);return i<=1?null:(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[(0,l.jsx)("button",{onClick:()=>n(a,Math.max(1,t-1)),disabled:1===t,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50",children:"Previous"}),(0,l.jsxs)("span",{className:"font-roboto text-text-secondary",children:[t," of ",i]}),(0,l.jsx)("button",{onClick:()=>n(a,Math.min(i,t+1)),disabled:t===i,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50",children:"Next"})]})},Y=(e,t)=>{F((s=>(0,r.A)((0,r.A)({},s),{},{[e]:t})))},Q=async e=>{try{const t=localStorage.getItem("token"),n=await i.A.delete("".concat(T,"/games/").concat(e,"/cancel"),{headers:{Authorization:"Bearer ".concat(t)}});if(console.log("Cancel bet response:",n.data),n.data&&n.data.success){o("Bet cancelled successfully");h().triggerLobbyRefresh(),console.log("\u274c Bet cancelled - triggering lobby refresh"),await H(),s&&s()}else console.error("Cancel bet failed - no success field:",n.data),c("Failed to cancel bet - unexpected response format")}catch(a){var t,n;console.error("Error cancelling bet:",a),console.error("Error response:",null===(t=a.response)||void 0===t?void 0:t.data);let e="Failed to cancel bet";if(null!==(n=a.response)&&void 0!==n&&n.data){const t=a.response.data;"string"===typeof t?e=t:t.detail?"string"===typeof t.detail?e=t.detail:Array.isArray(t.detail)&&(e=t.detail.map((e=>e.msg||e.message||"Validation error")).join(", ")):t.message?e=t.message:t.error&&(e=t.error)}else a.message&&(e=a.message);c(e),await H()}},K=(e,t,s)=>{const n=(t-1)*s,a=n+s;return e.slice(n,a)};if(S)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading Lobby..."})});const X=()=>(0,l.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,l.jsxs)($,{title:"My Bets",count:x.length,color:"text-green-400",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[K(x,B.myBets,W.live_players.my_bets).map((e=>(0,l.jsx)(w,{game:e,user:t,isMyBet:!0,onCancel:Q,onUpdateUser:()=>{H(),s&&s()},currentTime:new Date},e.game_id||e.id))),0===x.length&&(0,l.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"You have no active bets"})]}),(0,l.jsx)(G,{currentPage:B.myBets,totalItems:x.length,onPageChange:Y,section:"myBets",itemsPerPage:W.live_players.my_bets})]}),(0,l.jsxs)($,{title:"Available Bets",count:f.length,color:"text-blue-400",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[K(f,B.availableBets,W.live_players.available_bets).map((e=>(0,l.jsx)(w,{game:e,user:t,onOpenJoinBattle:q,onUpdateUser:()=>{H(),s&&s()},currentTime:new Date},e.game_id||e.id))),0===f.length&&(0,l.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No available bets"})]}),(0,l.jsx)(G,{currentPage:B.availableBets,totalItems:f.length,onPageChange:Y,section:"availableBets",itemsPerPage:W.live_players.available_bets})]}),(0,l.jsxs)($,{title:"Ongoing Battles",count:g.length,color:"text-orange-400",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[K(g,B.ongoingBattles,W.live_players.ongoing_battles).map((e=>(0,l.jsx)(w,{game:e,isOngoing:!0,currentTime:new Date},e.game_id||e.id))),0===g.length&&(0,l.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No active battles"})]}),(0,l.jsx)(G,{currentPage:B.ongoingBattles,totalItems:g.length,onPageChange:Y,section:"ongoingBattles",itemsPerPage:W.live_players.ongoing_battles})]})]}),J=()=>(0,l.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,l.jsxs)($,{title:"Available Bots",count:y.length,color:"text-cyan-400",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[K(y,B.availableBots,W.bot_players.available_bots).map((e=>(0,l.jsx)(w,{game:e,user:t,onOpenJoinBattle:q,onUpdateUser:()=>{H(),s&&s()},currentTime:new Date,isBot:!0},e.game_id||e.id))),0===y.length&&(0,l.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No available bots"})]}),(0,l.jsx)(G,{currentPage:B.availableBots,totalItems:y.length,onPageChange:Y,section:"availableBots",itemsPerPage:W.bot_players.available_bots})]}),(0,l.jsxs)($,{title:"Ongoing Bot Battles",count:N.length,color:"text-red-400",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[K(N,B.ongoingBotBattles,W.bot_players.ongoing_bot_battles).map((e=>(0,l.jsx)(w,{game:e,user:t,isOngoing:!0,isBot:!0,onUpdateUser:()=>{H(),s&&s()},currentTime:new Date},e.game_id||e.id))),0===N.length&&(0,l.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No ongoing bot battles"})]}),(0,l.jsx)(G,{currentPage:B.ongoingBotBattles,totalItems:N.length,onPageChange:Y,section:"ongoingBotBattles",itemsPerPage:W.bot_players.ongoing_bot_battles})]})]});return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Game Lobby"}),(0,l.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Join battles, create bets, and dominate the arena"})]}),(0,l.jsx)(j,{user:t}),(0,l.jsx)("div",{className:"text-center mb-8",children:(0,l.jsxs)("button",{onClick:()=>P(!0),className:"px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white font-rajdhani font-bold text-xl rounded-lg hover:scale-105 hover:from-green-400 hover:to-green-500 transition-all duration-300 shadow-lg hover:shadow-green-500/50",children:[(0,l.jsx)("svg",{className:"w-6 h-6 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"CREATE BET"]})}),(0,l.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,l.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"live-players",label:"Live Players",icon:"\ud83d\udc65",count:f.length+x.length+g.length},{id:"bot-players",label:"Bot Players",icon:"\ud83e\udd16",count:y.length+N.length}].map((e=>(0,l.jsxs)("button",{onClick:()=>M(e.id),className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(A===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,l.jsx)("span",{className:"mr-2",children:e.icon}),e.label,(0,l.jsx)("span",{className:"ml-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:e.count})]},e.id)))})}),(0,l.jsxs)("div",{children:["live-players"===A&&(0,l.jsx)(X,{}),"bot-players"===A&&(0,l.jsx)(J,{})]}),E&&(0,l.jsx)(L,{user:t,onClose:()=>P(!1),onUpdateUser:s}),D&&z&&(0,l.jsx)(O,{bet:{id:z.game_id||z.id,bet_amount:z.bet_amount,bet_gems:z.bet_gems,creator:z.creator,is_bot_game:z.is_bot_game},user:t,onClose:()=>{R(null),I(!1)},onUpdateUser:()=>{H(),s&&s()}})]})},D="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),I=e=>{let{user:t}=e;const[s,a]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)("active"),[u,h]=(0,n.useState)(1);(0,n.useEffect)((()=>{x()}),[]);const x=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(D,"/games/my-bets"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data||[]),o(!1)}catch(e){console.error("Error fetching my bets:",e),a([]),o(!1)}},m=()=>{const e=s.filter((e=>e&&e.status));switch(c){case"active":return e.filter((e=>"WAITING"===e.status||"ACTIVE"===e.status));case"completed":return e.filter((e=>"COMPLETED"===e.status));case"cancelled":return e.filter((e=>"CANCELLED"===e.status));default:return e}},f=e=>{switch(e){case"WAITING":return"bg-yellow-600 text-yellow-100";case"ACTIVE":return"bg-orange-600 text-orange-100";case"COMPLETED":return"bg-green-600 text-green-100";case"CANCELLED":return"bg-red-600 text-red-100";case"UNKNOWN":return"bg-gray-500 text-gray-100";default:return"bg-gray-600 text-gray-100"}},p=e=>{const t="rounded-lg p-4 transition-all duration-300";return"ACTIVE"===e.status?"".concat(t," bg-[#23233e] border-[#23d364] border-opacity-40 hover:border-opacity-60 border"):"".concat(t," bg-[#09295e] border-[#23d364] border-opacity-30 hover:border-opacity-50 border")},g=e=>{let{bet:s}=e;return(0,l.jsxs)("div",{className:p(s),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,l.jsxs)("span",{className:"font-russo text-white",children:["#",s.id?s.id.slice(-4):"N/A"]})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-rajdhani font-bold text-white",children:["Game #",s.id?s.id.substring(0,8):"Unknown"]}),(0,l.jsx)("p",{className:"font-roboto text-xs text-text-secondary",children:s.created_at?new Date(s.created_at).toLocaleString():"Unknown date"})]})]}),(0,l.jsx)("span",{className:"px-3 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(f(s.status||"UNKNOWN")),children:"ACTIVE"===s.status?"In Progress":s.status||"UNKNOWN"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Bet Amount:"}),(0,l.jsxs)("p",{className:"font-rajdhani text-green-400 font-bold",children:["$",s.bet_amount||"0"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Opponent:"}),(0,l.jsx)("p",{className:"font-rajdhani text-white",children:s.opponent_username||"Waiting..."})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Gems:"}),(0,l.jsx)("p",{className:"font-rajdhani text-white text-sm",children:s.bet_gems&&Object.keys(s.bet_gems).length>0?Object.entries(s.bet_gems).map((e=>{let[t,s]=e;return"".concat(t,": ").concat(s)})).join(", "):"No gems"})]}),"COMPLETED"===s.status&&t&&s.winner_id&&(0,l.jsx)("div",{className:"pt-3 border-t border-accent-primary border-opacity-30",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Result:"}),(0,l.jsx)("span",{className:"font-rajdhani font-bold ".concat(s.winner_id===t.id?"text-green-400":"text-red-400"),children:s.winner_id===t.id?"WON":"LOST"})]})})]})};if(r)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading My Bets..."})});const b=m(),y=(()=>{const e=m(),t=10*(u-1),s=t+10;return e.slice(t,s)})(),v=Math.ceil(b.length/10);return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"My Bets"}),(0,l.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Track your betting history and active games"})]}),(0,l.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,l.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"active",label:"Active Bets",count:s.filter((e=>e&&("WAITING"===e.status||"ACTIVE"===e.status))).length},{id:"completed",label:"Completed",count:s.filter((e=>e&&"COMPLETED"===e.status)).length},{id:"cancelled",label:"Cancelled",count:s.filter((e=>e&&"CANCELLED"===e.status)).length}].map((e=>(0,l.jsxs)("button",{onClick:()=>{d(e.id),h(1)},className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(c===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[e.label,(0,l.jsx)("span",{className:"ml-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:e.count})]},e.id)))})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8 max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Total Bets"}),(0,l.jsx)("p",{className:"font-roboto text-2xl font-bold text-accent-primary",children:s.length})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Won"}),(0,l.jsx)("p",{className:"font-roboto text-2xl font-bold text-green-400",children:t?s.filter((e=>"COMPLETED"===e.status&&e.winner_id===t.id)).length:0})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Lost"}),(0,l.jsx)("p",{className:"font-roboto text-2xl font-bold text-red-400",children:t?s.filter((e=>"COMPLETED"===e.status&&e.winner_id&&e.winner_id!==t.id)).length:0})]})]}),(0,l.jsx)("div",{className:"max-w-4xl mx-auto",children:y.length>0?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map((e=>(0,l.jsx)(g,{bet:e},e.id)))}):(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfaf"}),(0,l.jsxs)("h2",{className:"font-russo text-2xl text-accent-secondary mb-2",children:["No ",c," bets"]}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"active"===c?"Create your first bet to get started!":"You don't have any ".concat(c," bets yet.")})]})}),v>1&&(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,l.jsx)("button",{onClick:()=>h(Math.max(1,u-1)),disabled:1===u,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Previous"}),(0,l.jsx)("div",{className:"flex space-x-1",children:[...Array(v)].map(((e,t)=>(0,l.jsx)("button",{onClick:()=>h(t+1),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(u===t+1?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white"),children:t+1},t+1)))}),(0,l.jsx)("button",{onClick:()=>h(Math.min(v,u+1)),disabled:u===v,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Next"})]})]})},B=e=>{let{user:t}=e;const[s,a]=(0,n.useState)(null),[r,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),u="https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com",x=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(u,"/api/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data)}catch(e){console.error("Error fetching balance:",e)}},m=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(u,"/api/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data||[])}catch(e){console.error("Error fetching gems:",e)}},f=async()=>{d(!0),await Promise.all([x(),m()]),d(!1)};(0,n.useEffect)((()=>{if(null!==t&&void 0!==t&&t.id){f();const e=h().registerRefreshCallback((()=>{f()}));return()=>{e()}}}),[null===t||void 0===t?void 0:t.id]);const p=(()=>{if(!s)return null;const e=s.virtual_balance,t=s.frozen_balance,n=r.reduce(((e,t)=>e+t.quantity),0),a=r.reduce(((e,t)=>e+t.frozen_quantity),0),i=s.available_gem_value,o=s.total_gem_value-s.available_gem_value,l=s.total_value;return{balance:{total:e,frozen:t,available:e-t},gems:{totalCount:n,totalValue:s.total_gem_value,frozenCount:a,frozenValue:o,availableValue:i},total:{value:l}}})(),g=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2});return c||!p?(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"}),(0,l.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"}),(0,l.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"})]}):(0,l.jsxs)("div",{className:"flex space-x-1 sm:space-x-2 md:space-x-4 overflow-x-auto",children:[(0,l.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-shrink-0 shadow-sm",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1",children:"Balance"}),(0,l.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-lg font-bold text-green-400 break-words whitespace-nowrap",children:["$",g(p.balance.total)]}),p.balance.frozen>0&&(0,l.jsxs)("div",{className:"text-xs text-orange-400 hidden sm:block",children:["Frozen: $",g(p.balance.frozen)]}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary hidden md:block",children:["$",g(p.balance.available)]})]})}),(0,l.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-shrink-0 shadow-sm",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1",children:"Gems"}),(0,l.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-lg font-bold text-purple-400 break-words whitespace-nowrap",children:[g(p.gems.totalCount),"/",g(p.gems.totalValue)]}),p.gems.frozenCount>0&&(0,l.jsxs)("div",{className:"text-xs text-orange-400 hidden sm:block",children:["Frozen: ",g(p.gems.frozenCount),"/",g(p.gems.frozenValue)]}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary hidden md:block",children:["$",g(p.gems.availableValue)]})]})}),(0,l.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-shrink-0 shadow-sm",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1",children:"Total"}),(0,l.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-lg font-bold text-accent-primary break-words whitespace-nowrap",children:["$",g(p.total.value)]}),(0,l.jsx)("div",{className:"text-xs text-text-secondary hidden md:block",children:(()=>{const e=p.balance.frozen+p.gems.frozenValue,t=p.total.value-e;return"".concat(g(t))})()})]})})]})},F="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),W=e=>{let{user:t,onUpdateUser:s,setCurrentView:a}=e;const[r,o]=(0,n.useState)("overview"),[c,d]=(0,n.useState)(""),[u,x]=(0,n.useState)(!1),m=async()=>{const e=parseFloat(c);if(!e||e<=0)return void alert("Please enter a valid amount");const n=t.daily_limit_max-t.daily_limit_used;if(e>n)alert("You can only add up to ".concat(y(n).replace("$","$")," more today"));else{x(!0);try{const t=localStorage.getItem("token"),n=await i.A.post("".concat(F,"/auth/add-balance"),{amount:e},{headers:{Authorization:"Bearer ".concat(t)}});d("");h().triggerLobbyRefresh(),console.log("\ud83d\udcb5 Added $".concat(e," balance - triggering lobby refresh")),s&&s(),alert(n.data.message)}catch(o){var a,r;alert((null===(a=o.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"Error adding balance")}finally{x(!1)}}},f=()=>(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"font-russo text-white text-2xl",children:t.username.charAt(0).toUpperCase()})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-white mb-2",children:t.username}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary mb-1",children:t.email}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-rajdhani font-bold ".concat("ADMIN"===t.role||"SUPER_ADMIN"===t.role?"bg-red-600 text-red-100":"bg-blue-600 text-blue-100"),children:t.role}),(0,l.jsx)("span",{className:"px-3 py-1 bg-green-600 text-green-100 rounded-full text-xs font-rajdhani font-bold",children:t.status})]})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Balance"}),(0,l.jsx)("p",{className:"font-roboto text-xl font-bold text-green-400",children:y(t.virtual_balance||0)})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Games Played"}),(0,l.jsx)("p",{className:"font-roboto text-xl font-bold text-blue-400",children:t.total_games_played||0})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-accent-primary/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-accent-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Games Won"}),(0,l.jsx)("p",{className:"font-roboto text-xl font-bold text-accent-primary",children:t.total_games_won||0})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-purple-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Win Rate"}),(0,l.jsxs)("p",{className:"font-roboto text-xl font-bold text-purple-400",children:[t.total_games_played>0?Math.round(t.total_games_won/t.total_games_played*100):0,"%"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Account Information"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Member Since:"}),(0,l.jsx)("span",{className:"font-rajdhani text-white",children:new Date(t.created_at).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Last Login:"}),(0,l.jsx)("span",{className:"font-rajdhani text-white",children:t.last_login?new Date(t.last_login).toLocaleDateString():"Never"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Email Verified:"}),(0,l.jsx)("span",{className:"font-rajdhani font-bold ".concat(t.email_verified?"text-green-400":"text-red-400"),children:t.email_verified?"Yes":"No"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Gender:"}),(0,l.jsx)("span",{className:"font-rajdhani text-white capitalize",children:t.gender})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Gaming Statistics"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Total Wagered:"}),(0,l.jsx)("span",{className:"font-rajdhani text-white",children:y(t.total_amount_wagered||0)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Total Won:"}),(0,l.jsx)("span",{className:"font-rajdhani text-green-400",children:y(t.total_amount_won||0)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Net Profit:"}),(0,l.jsx)("span",{className:"font-rajdhani font-bold ".concat((t.total_amount_won||0)-(t.total_amount_wagered||0)>=0?"text-green-400":"text-red-400"),children:y((t.total_amount_won||0)-(t.total_amount_wagered||0))})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Daily Limit Used:"}),(0,l.jsxs)("span",{className:"font-rajdhani text-white",children:[y(t.daily_limit_used||0)," / ",y(t.daily_limit_max||1e3)]})]})]})]})]})]}),p=()=>{const e=t.daily_limit_max-t.daily_limit_used,s=e>0;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Balance Management"}),(0,l.jsxs)("div",{className:"mb-6 p-4 bg-surface-sidebar rounded-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Daily Deposit Limit:"}),(0,l.jsx)("span",{className:"font-rajdhani text-white font-bold",children:y(t.daily_limit_max)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Used Today:"}),(0,l.jsx)("span",{className:"font-rajdhani text-warning font-bold",children:y(t.daily_limit_used)})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"Remaining:"}),(0,l.jsx)("span",{className:"font-rajdhani font-bold ".concat(s?"text-green-400":"text-red-400"),children:y(e)})]}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,t.daily_limit_used/t.daily_limit_max*100),"%")}})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-2",children:"Add Virtual Dollars to Balance"}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("input",{type:"number",min:"1",max:e,value:c,onChange:e=>d(e.target.value),placeholder:"Enter amount",className:"flex-1 px-4 py-3 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani text-center focus:outline-none focus:border-accent-primary",disabled:!s}),(0,l.jsx)("button",{onClick:m,disabled:!s||u||!c,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(s&&!u&&c?"bg-gradient-accent text-white hover:scale-105 hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:u?"ADDING...":"ADD BALANCE"})]})]}),!s&&(0,l.jsx)("p",{className:"font-roboto text-red-400 text-sm",children:"Daily limit reached. Limit resets at 00:00 server time."}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[100,500,e].map((e=>(0,l.jsx)("button",{onClick:()=>d(e.toString()),disabled:!s||e<=0,className:"py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 ".concat(s&&e>0?"bg-surface-sidebar border border-accent-primary border-opacity-30 text-white hover:bg-accent-primary hover:text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"),children:y(e>0?e:0)},e)))})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Other Settings"}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-center py-8",children:"Additional profile settings will be available in future updates."})]})]})};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary",children:[(0,l.jsx)("div",{className:"md:hidden sticky top-0 z-30 bg-surface-sidebar border-b border-border-primary p-4",children:(0,l.jsx)(B,{user:t})}),(0,l.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,l.jsx)("div",{className:"md:hidden mb-6",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-russo text-lg text-accent-primary mb-4",children:"Additional Sections"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("button",{onClick:()=>a&&a("history"),className:"flex items-center justify-center space-x-2 p-3 bg-surface-sidebar border border-border-primary rounded-lg hover:bg-surface-card transition-colors",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{className:"font-rajdhani text-white text-sm",children:"History"})]}),(0,l.jsxs)("button",{onClick:()=>a&&a("notification-demo"),className:"flex items-center justify-center space-x-2 p-3 bg-surface-sidebar border border-border-primary rounded-lg hover:bg-surface-card transition-colors",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,l.jsx)("span",{className:"font-rajdhani text-white text-sm",children:"Notifications"})]})]})]})}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-2xl sm:text-3xl md:text-6xl text-accent-primary mb-4",children:"Profile"}),(0,l.jsx)("p",{className:"font-roboto text-base sm:text-lg md:text-xl text-text-secondary px-4",children:"Manage your account and view your gaming statistics"})]}),(0,l.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,l.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"overview",label:"Overview",icon:"\ud83d\udc64"},{id:"settings",label:"Settings",icon:"\u2699\ufe0f"}].map((e=>(0,l.jsxs)("button",{onClick:()=>o(e.id),className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(r===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,l.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id)))})}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:["overview"===r&&(0,l.jsx)(f,{}),"settings"===r&&(0,l.jsx)(p,{})]})]})]})},V="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),U=e=>{let{user:t,onUpdateUser:s}=e;const{showSuccess:a,showError:o}=k(),{getGemIconPath:c,refreshInventory:d}=f(),[u,x]=(0,n.useState)([]),[m,p]=(0,n.useState)(null),[g,b]=(0,n.useState)(!0),[v,w]=(0,n.useState)(null),[N,_]=(0,n.useState)({});(0,n.useEffect)((()=>{S(),C()}),[]);const S=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(V,"/gems/definitions"),{headers:{Authorization:"Bearer ".concat(e)}});x(t.data)}catch(e){console.error("Error fetching gems:",e)}},C=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(V,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});p(t.data),b(!1)}catch(e){console.error("Error fetching balance:",e),b(!1)}};return g?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading Shop..."})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"Gem Shop"}),(0,l.jsx)("p",{className:"font-roboto text-xl text-text-secondary",children:"Purchase NFT Gems with Virtual Dollars"})]}),(0,l.jsx)(j,{user:t}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:u.map(((e,t)=>{const n=N[e.type]||1,u=e.price*n,x=m&&m.virtual_balance>=u;return(0,l.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl group cursor-pointer",style:{backgroundColor:"#081730",border:"1px solid ".concat(e.color),boxShadow:"0 0 20px ".concat(e.color,"40")},onMouseEnter:t=>{t.currentTarget.style.border="2px solid #23d364",t.currentTarget.style.boxShadow="0 0 30px #23d36440, 0 0 20px ".concat(e.color,"60")},onMouseLeave:t=>{t.currentTarget.style.border="1px solid ".concat(e.color),t.currentTarget.style.boxShadow="0 0 20px ".concat(e.color,"40")},children:[(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative transition-all duration-300 group-hover:scale-110",children:[(0,l.jsx)("div",{className:"absolute inset-0 animate-pulse transition-all duration-300 group-hover:scale-125",style:{background:"radial-gradient(circle, ".concat(e.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,l.jsx)("img",{src:c(e.type),alt:e.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10 transition-all duration-300 group-hover:scale-110 group-hover:brightness-125",style:{filter:"drop-shadow(0 0 10px ".concat(e.color,"40)")}})]})}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-white mb-2 transition-all duration-300 group-hover:text-green-400",children:e.name}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-sm mb-3",children:e.rarity}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("span",{className:"font-rajdhani text-2xl font-bold text-green-400",children:y(e.price)}),(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"font-roboto text-text-secondary text-sm block mb-2",children:"Quantity:"}),(0,l.jsx)("input",{type:"number",min:"1",max:"1000",value:n,onChange:t=>((e,t)=>{_((s=>(0,r.A)((0,r.A)({},s),{},{[e]:Math.max(1,parseInt(t)||1)})))})(e.type,t.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani text-center"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Total: "}),(0,l.jsx)("span",{className:"font-rajdhani text-xl font-bold ".concat(x?"text-green-400":"text-red-400"),children:y(u)})]}),(0,l.jsx)("button",{onClick:()=>(async e=>{const t=N[e]||1;w(e);try{const n=localStorage.getItem("token");await i.A.post("".concat(V,"/gems/buy?gem_type=").concat(e,"&quantity=").concat(t),{},{headers:{Authorization:"Bearer ".concat(n)}}),a("Successfully purchased ".concat(t," ").concat(e," gem").concat(t>1?"s":"","!")),await C(),await d(),h().triggerLobbyRefresh(),console.log("\ud83d\udc8e Bought ".concat(t," ").concat(e," gems - triggering lobby refresh")),s&&s()}catch(l){var n,r;const e=(null===(n=l.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Error buying gems. Please try again.";o(e)}finally{w(null)}})(e.type),disabled:!x||v===e.type,className:"w-full py-3 px-6 rounded-lg font-rajdhani font-bold text-lg transition-all duration-300 uppercase tracking-wider ".concat(x&&v!==e.type?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(x?e.color:"#666"),color:x?e.color:"#666",boxShadow:x?"0 0 15px ".concat(e.color,"30"):"none"},children:v===e.type?"BUYING...":"BUY"})]})]},t)}))})})]})},H="https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com/api",q=e=>{let{isOpen:t,onClose:s,gemType:a,quantity:r,gemPrice:o,senderName:c,senderEmail:d,onGiftSuccess:u}=e;const{showSuccess:x,showError:m}=k(),[f,p]=(0,n.useState)(""),[g,b]=(0,n.useState)(null),[j,w]=(0,n.useState)(!1),[N,_]=(0,n.useState)(!1),[S,C]=(0,n.useState)(null),A=o*r,M=.03*A,L=A;(0,n.useEffect)((()=>{S&&clearTimeout(S);const e=setTimeout((()=>{(async e=>{if(e.trim()){w(!0);try{const t=localStorage.getItem("token"),s=await i.A.get("".concat(H,"/users/search?query=").concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}});s.data&&s.data.length>0?b(s.data[0]):b(null)}catch(t){console.error("Error searching recipient:",t),b(null)}finally{w(!1)}}else b(null)})(f)}),500);return C(e),()=>{e&&clearTimeout(e)}}),[f]);return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-accent-primary",children:"\ud83c\udf81 Gift Confirmation"}),(0,l.jsx)("button",{onClick:s,className:"text-text-secondary hover:text-white transition-colors",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"mb-4 p-3 bg-surface-sidebar rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:"From:"}),(0,l.jsxs)("div",{className:"text-white font-rajdhani font-semibold",children:[c," (",d,")"]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"To (email or username):"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Enter recipient's email or username...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:border-accent-primary focus:outline-none"}),j&&(0,l.jsx)("div",{className:"absolute right-3 top-2.5",children:(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-accent-primary border-t-transparent rounded-full animate-spin"})})]}),g&&(0,l.jsx)("div",{className:"mt-2 p-3 bg-green-900 bg-opacity-20 border border-green-500 border-opacity-30 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-green-400 font-medium",children:g.username}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:g.email})]})]})}),f&&!g&&!j&&(0,l.jsx)("div",{className:"mt-2 p-3 bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,l.jsx)("div",{className:"text-red-400 text-sm",children:"User not found"})]})})]}),(0,l.jsxs)("div",{className:"mb-6 p-4 bg-surface-sidebar rounded-lg",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"Gift Details:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Gem:"}),(0,l.jsxs)("span",{className:"text-white font-medium",children:[r,"x ",a]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Value:"}),(0,l.jsx)("span",{className:"text-white font-medium",children:v(A)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Commission (3%):"}),(0,l.jsxs)("span",{className:"text-orange-400 font-medium",children:["-",y(M)]})]}),(0,l.jsx)("div",{className:"border-t border-border-primary pt-2 mt-2",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Recipient will receive:"}),(0,l.jsxs)("span",{className:"text-green-400 font-bold",children:[r,"x ",a," (",v(L),")"]})]})})]})]}),(0,l.jsx)("div",{className:"mb-6 p-3 bg-yellow-900 bg-opacity-20 border border-yellow-500 border-opacity-30 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsxs)("div",{className:"text-yellow-400 text-sm",children:[(0,l.jsx)("div",{className:"font-medium mb-1",children:"Warning!"}),(0,l.jsx)("div",{children:"This action cannot be undone. Make sure you've entered the correct recipient."})]})]})}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:s,className:"flex-1 px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-text-secondary hover:text-white hover:border-accent-primary transition-colors font-rajdhani font-medium",children:"Cancel"}),(0,l.jsx)("button",{onClick:async()=>{if(g)if(g.email!==d){_(!0);try{const e=localStorage.getItem("token");await i.A.post("".concat(H,"/gems/gift?recipient_email=").concat(g.email,"&gem_type=").concat(a,"&quantity=").concat(r),{},{headers:{Authorization:"Bearer ".concat(e)}});x("You sent a gift to ".concat(g.username,". A commission of ").concat(y(M)," has been deducted from your balance."));h().triggerLobbyRefresh(),u&&u(),s()}catch(n){var e,t;m((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error sending gift")}finally{_(!1)}}else m("Cannot send a gift to yourself");else m("Please select a valid recipient")},disabled:!g||N,className:"flex-1 px-4 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(g&&!N?"bg-accent-primary hover:bg-accent-primary/80 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:N?(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,l.jsx)("span",{children:"Sending..."})]}):"Confirm Gift"})]})]})}):null},$="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),G=e=>{let{user:t,onUpdateUser:s}=e;const{getGemIconPath:a}=f(),{showSuccess:o,showError:c}=k(),[d,u]=(0,n.useState)([]),[x,m]=(0,n.useState)(null),[p,g]=(0,n.useState)(!0),[b,y]=(0,n.useState)(null),[j,w]=(0,n.useState)({}),[N,_]=(0,n.useState)(null),[S,C]=(0,n.useState)(!1),[A,M]=(0,n.useState)(null);(0,n.useEffect)((()=>{L(),E();const e=setInterval((()=>{E(),L()}),1e4);return()=>clearInterval(e)}),[]);const L=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat($,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data)}catch(e){console.error("Error fetching inventory:",e)}},E=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat($,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});m(t.data),g(!1)}catch(e){console.error("Error fetching balance:",e),g(!1)}},P=(()=>{if(!x)return null;const e=x.virtual_balance,t=x.frozen_balance,s=d.reduce(((e,t)=>e+t.quantity),0),n=d.reduce(((e,t)=>e+t.frozen_quantity),0),a=x.available_gem_value,r=x.total_gem_value-x.available_gem_value,i=x.total_value;return{balance:{total:e,frozen:t,available:e-t},gems:{totalCount:s,totalValue:x.total_gem_value,frozenCount:n,frozenValue:r,availableValue:a},total:{value:i}}})(),z=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),O=e=>{let{id:t,tooltip:s,children:a}=e;const[r,i]=(0,n.useState)({top:0,left:0}),o=e=>{const s=e.currentTarget.getBoundingClientRect();i({top:s.top-10,left:s.left+s.width/2-140}),_(t)};return(0,l.jsxs)("div",{className:"relative",children:[a,(0,l.jsx)("button",{onMouseEnter:o,onMouseLeave:()=>_(null),onClick:o,className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-gray-600 text-white text-xs flex items-center justify-center hover:bg-gray-500 transition-colors z-20",children:"i"}),N===t&&(0,l.jsxs)("div",{className:"fixed w-64 bg-slate-800 text-white text-sm rounded-lg p-3 shadow-xl border border-slate-700 z-[99999]",style:{top:"".concat(r.top,"px"),left:"".concat(r.left,"px"),maxWidth:"280px",transform:"translateY(-100%)"},children:[(0,l.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-slate-800"}),s]})]})};return p?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading Inventory..."})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"My Inventory"}),(0,l.jsx)("p",{className:"font-roboto text-xl text-text-secondary mb-8",children:"Manage Your NFT Gem Collection"}),P&&(0,l.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 md:gap-6 min-w-0 overflow-x-auto",children:[(0,l.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-green-500 transition-colors duration-200",children:(0,l.jsx)(O,{id:"balance",tooltip:"Your virtual dollar balance. Shows total balance, frozen funds (reserved for active bets), and available amount for new bets.",children:(0,l.jsxs)("div",{className:"text-center pt-2",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Balance"}),(0,l.jsx)("div",{className:"mb-1 md:mb-2",children:(0,l.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-green-400 break-words",children:["$",z(P.balance.total)]})}),P.balance.frozen>0&&(0,l.jsxs)("div",{className:"text-xs text-orange-400 mb-1",children:["Frozen: $",z(P.balance.frozen)]}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:["Available: $",z(P.balance.available)]})]})})}),(0,l.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-purple-500 transition-colors duration-200",children:(0,l.jsx)(O,{id:"gems",tooltip:"Your gem collection. Gems are used to create and accept bets. Higher value gems allow for larger bets.",children:(0,l.jsxs)("div",{className:"text-center pt-2",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Gems"}),(0,l.jsx)("div",{className:"mb-1 md:mb-2",children:(0,l.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-purple-400 break-words",children:[z(P.gems.totalCount),"/",z(P.gems.totalValue)]})}),P.gems.frozenCount>0&&(0,l.jsxs)("div",{className:"text-xs text-orange-400 mb-1",children:["Frozen: ",z(P.gems.frozenCount)," / $",z(P.gems.frozenValue)]}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:["Available: $",z(P.gems.availableValue)]})]})})}),(0,l.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-accent-primary transition-colors duration-200",children:(0,l.jsx)(O,{id:"total",tooltip:"Your total estimated value including both balance and gems.",children:(0,l.jsxs)("div",{className:"text-center pt-2",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Total"}),(0,l.jsx)("div",{className:"mb-1 md:mb-2",children:(0,l.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-accent-primary break-words",children:["$",z(P.total.value)]})}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:(()=>{const e=P.balance.frozen+P.gems.frozenValue,t=P.total.value-e;return e>0?"".concat(z(t)," available"):"All available"})()})]})})})]})})]}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto",children:0===d.length?(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("h3",{className:"font-russo text-2xl text-text-secondary mb-4",children:"No Gems Yet"}),(0,l.jsx)("p",{className:"font-roboto text-text-muted",children:"Visit the Shop to buy your first gems!"})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:d.map(((e,t)=>{const n=j[e.type]||1,u=e.quantity-e.frozen_quantity,x=e.price*n;return(0,l.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl group",style:{backgroundColor:"#081730",border:"1px solid ".concat(e.color),boxShadow:"0 0 20px ".concat(e.color,"40")},children:[(0,l.jsx)("div",{className:"flex justify-center mb-4",children:(0,l.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative transition-all duration-300 group-hover:scale-110",children:[(0,l.jsx)("div",{className:"absolute inset-0 animate-pulse transition-all duration-300 group-hover:scale-125",style:{background:"radial-gradient(circle, ".concat(e.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,l.jsx)("img",{src:a(e.type),alt:e.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10 transition-all duration-300 group-hover:scale-110 group-hover:brightness-125",style:{filter:"drop-shadow(0 0 10px ".concat(e.color,"40)")}})]})}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-white mb-2",children:e.name}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("span",{className:"font-rajdhani text-lg text-white",children:e.quantity}),(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" owned"}),e.frozen_quantity>0&&(0,l.jsxs)("div",{className:"font-roboto text-warning text-sm font-bold",children:[e.frozen_quantity," frozen in bets"]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("span",{className:"font-rajdhani text-xl font-bold text-green-400",children:["$",e.price]}),(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"font-roboto text-text-secondary text-xs block mb-2",children:"Quantity to sell/gift:"}),(0,l.jsx)("input",{type:"number",min:"1",max:u,value:n,onChange:t=>((e,t,s)=>{w((n=>(0,r.A)((0,r.A)({},n),{},{[e]:Math.max(1,Math.min(s,parseInt(t)||1))})))})(e.type,t.target.value,u),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-rajdhani text-center text-sm",disabled:0===u})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Value: "}),(0,l.jsx)("span",{className:"font-rajdhani text-lg font-bold text-green-400",children:v(x)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("button",{onClick:()=>(async e=>{const t=d.find((t=>t.type===e)),n=j[e]||1;if(n>t.quantity-t.frozen_quantity)c("Cannot sell more gems than available");else{y(e);try{const a=localStorage.getItem("token"),r=(await i.A.post("".concat($,"/gems/sell?gem_type=").concat(e,"&quantity=").concat(n),{},{headers:{Authorization:"Bearer ".concat(a)}}),v(t.price*n)),l="Ruby"===e?"Rubies":"Emerald"===e?"Emeralds":"Sapphire"===e?"Sapphires":"Aquamarine"===e?"Aquamarines":"Topaz"===e?"Topazes":"Amber"===e?"Ambers":"Magic"===e?"Magic gems":"".concat(e,"s"),c=1===n?e:l;o("\u2705 You sold ".concat(n," ").concat(c," for $").concat(r)),await L(),await E(),h().triggerLobbyRefresh(),console.log("\ud83d\udcb0 Sold ".concat(n," ").concat(e," gems - triggering lobby refresh")),s&&s()}catch(l){var a,r;c((null===(a=l.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"Error selling gems")}finally{y(null)}}})(e.type),disabled:0===u||b===e.type,className:"w-full py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 uppercase tracking-wider ".concat(u>0&&b!==e.type?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(u>0?"#ff6b35":"#666"),color:u>0?"#ff6b35":"#666"},children:b===e.type?"SELLING...":"SELL"}),(0,l.jsx)("button",{onClick:()=>(e=>{const t=d.find((t=>t.type===e)),s=j[e]||1,n=t.quantity-t.frozen_quantity;s>n?c("Cannot gift more gems than available"):(M({gemType:e,quantity:s,gemPrice:t.price,availableQuantity:n}),C(!0))})(e.type),disabled:0===u,className:"w-full py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 uppercase tracking-wider ".concat(u>0?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(u>0?"#23d364":"#666"),color:u>0?"#23d364":"#666"},children:"GIFT"})]})]})]},t)}))})}),(0,l.jsx)(q,{isOpen:S,onClose:()=>C(!1),gemType:null===A||void 0===A?void 0:A.gemType,quantity:null===A||void 0===A?void 0:A.quantity,gemPrice:null===A||void 0===A?void 0:A.gemPrice,senderName:null===t||void 0===t?void 0:t.username,senderEmail:null===t||void 0===t?void 0:t.email,onGiftSuccess:async()=>{await L(),await E(),s&&s()}})]})},Y="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),Q=e=>{let{user:t}=e;const[s,a]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)("winnings"),[u,h]=(0,n.useState)(1),[x,m]=(0,n.useState)(null);(0,n.useEffect)((()=>{f()}),[c]);const f=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(Y,"/leaderboard/").concat(c),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data.leaderboard||[]),m(t.data.user_rank||null),o(!1)}catch(e){console.error("Error fetching leaderboard:",e),a([]),m(null),o(!1)}},p=(e,t)=>{var s;switch(t){case"winnings":return"$".concat((null===(s=e.total_winnings)||void 0===s?void 0:s.toLocaleString())||"0");case"wins":return e.games_won||0;case"winrate":return"".concat(e.win_rate||0,"%");case"games":return e.games_played||0;default:return e.total_winnings||0}},g=e=>1===e?"\ud83d\udc51":2===e?"\ud83e\udd48":3===e?"\ud83e\udd49":"\ud83c\udfc6",b=e=>1===e?"text-yellow-400":2===e?"text-gray-300":3===e?"text-amber-600":"text-blue-400";if(r)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430..."})});if(0===s.length)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,l.jsx)("h2",{className:"font-russo text-2xl text-white mb-2",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442"}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0438\u0433\u0440\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043f\u0430\u0441\u0442\u044c \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"})]})});const y=Math.ceil(s.length/10),v=(()=>{const e=10*(u-1),t=e+10;return s.slice(e,t)})();return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Leaderboard"}),(0,l.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Compete with the best players and climb the rankings"})]}),x&&(0,l.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"font-russo text-white",children:t.username.charAt(0).toUpperCase()})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-white text-lg",children:t.username}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"Your Position"})]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-2xl",children:g(x)}),(0,l.jsxs)("span",{className:"font-russo text-3xl font-bold ".concat(b(x)),children:["#",x]})]}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"Current Rank"})]})]})})}),(0,l.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,l.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"winnings",label:"Total Winnings",icon:"\ud83d\udcb0"},{id:"wins",label:"Most Wins",icon:"\ud83c\udfc6"},{id:"winrate",label:"Win Rate",icon:"\ud83d\udcca"},{id:"games",label:"Most Active",icon:"\ud83c\udfae"}].map((e=>(0,l.jsxs)("button",{onClick:()=>{d(e.id),h(1)},className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(c===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,l.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id)))})}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"bg-surface-sidebar border-b border-accent-primary border-opacity-30 p-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,l.jsx)("div",{className:"col-span-1 font-rajdhani font-bold text-text-secondary",children:"Rank"}),(0,l.jsx)("div",{className:"col-span-4 font-rajdhani font-bold text-text-secondary",children:"Player"}),(0,l.jsx)("div",{className:"col-span-2 font-rajdhani font-bold text-text-secondary",children:(e=>{switch(e){case"winnings":default:return"Total Winnings";case"wins":return"Games Won";case"winrate":return"Win Rate";case"games":return"Games Played"}})(c)}),(0,l.jsx)("div",{className:"col-span-2 font-rajdhani font-bold text-text-secondary",children:"Games"}),(0,l.jsx)("div",{className:"col-span-2 font-rajdhani font-bold text-text-secondary",children:"Win Rate"}),(0,l.jsx)("div",{className:"col-span-1 font-rajdhani font-bold text-text-secondary",children:"Level"})]})}),(0,l.jsx)("div",{className:"divide-y divide-accent-primary divide-opacity-20",children:v.map(((e,s)=>(0,l.jsx)("div",{className:"p-4 hover:bg-surface-sidebar transition-colors ".concat(e.user_id===t.id?"bg-accent-primary/10":""),children:(0,l.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,l.jsx)("div",{className:"col-span-1",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-lg",children:g(e.rank)}),(0,l.jsx)("span",{className:"font-russo font-bold ".concat(b(e.rank)),children:e.rank})]})}),(0,l.jsx)("div",{className:"col-span-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"font-russo text-white text-sm",children:e.username.charAt(0).toUpperCase()})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:e.username}),(0,l.jsxs)("p",{className:"font-roboto text-text-secondary text-xs",children:["Favorite: ",e.favorite_gem]})]})]})}),(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsx)("span",{className:"font-rajdhani font-bold text-accent-primary text-lg",children:p(e,c)})}),(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsx)("span",{className:"font-rajdhani text-white",children:e.games_played||0})}),(0,l.jsx)("div",{className:"col-span-2",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"flex-1 bg-surface-sidebar rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-green-400 h-2 rounded-full",style:{width:"".concat(e.win_rate||0,"%")}})}),(0,l.jsxs)("span",{className:"font-rajdhani text-white text-sm",children:[e.win_rate||0,"%"]})]})}),(0,l.jsx)("div",{className:"col-span-1",children:(0,l.jsx)("span",{className:"font-rajdhani font-bold text-purple-400",children:e.level||1})})]})},e.user_id)))})]}),y>1&&(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,l.jsx)("button",{onClick:()=>h(Math.max(1,u-1)),disabled:1===u,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Previous"}),(0,l.jsx)("div",{className:"flex space-x-1",children:[...Array(y)].map(((e,t)=>(0,l.jsx)("button",{onClick:()=>h(t+1),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(u===t+1?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white"),children:t+1},t+1)))}),(0,l.jsx)("button",{onClick:()=>h(Math.min(y,u+1)),disabled:u===y,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Next"})]})]})]})},K="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),X=e=>{let{user:t}=e;const[s,a]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)("all"),[u,h]=(0,n.useState)(1),[x,m]=(0,n.useState)("all"),[f,p]=(0,n.useState)({total_games:0,total_won:0,total_lost:0,total_draw:0,total_winnings:0,total_losses:0});(0,n.useEffect)((()=>{g()}),[c,x]);const g=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(K,"/games/history"),{headers:{Authorization:"Bearer ".concat(e)},params:{status:"all"!==c?c:void 0,date_filter:"all"!==x?x:void 0}});a(t.data.games||[]),p(t.data.stats||f),o(!1)}catch(e){console.error("Error fetching game history:",e),a(b()),p(y()),o(!1)}},b=()=>{const e=[],t=["GemMaster2024","DiamondKing","CrystalQueen","RubyHunter","EmeraldWin","SapphireBot","TopazTitan","GemCollector","JewelBot","PreciousPlayer"],s=["rock","paper","scissors"],n=["won","lost","draw"],a=["Ruby","Emerald","Sapphire","Diamond","Topaz","Amber","Magic"];for(let r=0;r<50;r++){const i=n[Math.floor(Math.random()*n.length)],o=Math.floor(1e3*Math.random())+100,l=Math.random()<.3;e.push({id:"game_".concat(r+1),opponent_username:t[Math.floor(Math.random()*t.length)],opponent_id:"opponent_".concat(r+1),is_bot_game:l,my_move:s[Math.floor(Math.random()*s.length)],opponent_move:s[Math.floor(Math.random()*s.length)],bet_amount:o,bet_gems:{[a[Math.floor(Math.random()*a.length)]]:Math.floor(5*Math.random())+1},status:"COMPLETED",result:i,winnings:"won"===i?1.94*o:0,created_at:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),completed_at:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),game_duration:Math.floor(300*Math.random())+30})}return e.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)))},y=()=>{const e=Math.floor(50*.55),t=Math.floor(20);return{total_games:50,total_won:e,total_lost:t,total_draw:50-e-t,total_winnings:Math.floor(5e4*Math.random())+1e4,total_losses:Math.floor(3e4*Math.random())+5e3}},v=()=>{let e=s;return"all"!==c&&(e=e.filter((e=>e.result===c))),e},j=e=>{switch(e){case"rock":return"\ud83e\udea8";case"paper":return"\ud83d\udcc4";case"scissors":return"\u2702\ufe0f";default:return"\u2753"}},w=e=>{switch(e){case"won":return"text-green-400";case"lost":return"text-red-400";case"draw":return"text-yellow-400";default:return"text-gray-400"}},N=e=>{switch(e){case"won":return"WON";case"lost":return"LOST";case"draw":return"DRAW";default:return"UNKNOWN"}},k=e=>{if(e<60)return"".concat(e,"s");const t=Math.floor(e/60),s=e%60;return"".concat(t,"m ").concat(s,"s")};if(r)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading History..."})});const _=v(),S=(()=>{const e=v(),t=10*(u-1),s=t+10;return e.slice(t,s)})(),C=Math.ceil(_.length/10);return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Game History"}),(0,l.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Review your past battles and track your progress"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8 max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Total Games"}),(0,l.jsx)("p",{className:"font-roboto text-2xl font-bold text-accent-primary",children:f.total_games})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Won"}),(0,l.jsx)("p",{className:"font-roboto text-2xl font-bold text-green-400",children:f.total_won})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Lost"}),(0,l.jsx)("p",{className:"font-roboto text-2xl font-bold text-red-400",children:f.total_lost})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Draw"}),(0,l.jsx)("p",{className:"font-roboto text-2xl font-bold text-yellow-400",children:f.total_draw})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Win Rate"}),(0,l.jsxs)("p",{className:"font-roboto text-2xl font-bold text-purple-400",children:[f.total_games>0?Math.round(f.total_won/f.total_games*100):0,"%"]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Net Profit"}),(0,l.jsxs)("p",{className:"font-roboto text-2xl font-bold ".concat(f.total_winnings-f.total_losses>=0?"text-green-400":"text-red-400"),children:["$",(f.total_winnings-f.total_losses).toLocaleString()]})]})]}),(0,l.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"all",label:"All Games",icon:"\ud83c\udfae"},{id:"won",label:"Won",icon:"\ud83c\udfc6"},{id:"lost",label:"Lost",icon:"\ud83d\udc94"},{id:"draw",label:"Draw",icon:"\ud83e\udd1d"}].map((e=>(0,l.jsxs)("button",{onClick:()=>{d(e.id),h(1)},className:"flex-1 py-2 px-3 rounded-lg font-rajdhani font-bold transition-all duration-300 text-sm ".concat(c===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,l.jsx)("span",{className:"mr-1",children:e.icon}),e.label]},e.id)))}),(0,l.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"all",label:"All Time"},{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"}].map((e=>(0,l.jsx)("button",{onClick:()=>{m(e.id),h(1)},className:"flex-1 py-2 px-3 rounded-lg font-rajdhani font-bold transition-all duration-300 text-sm ".concat(x===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:e.label},e.id)))})]})}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[S.length>0?(0,l.jsx)("div",{className:"space-y-4",children:S.map((e=>{var t,s;return(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-center",children:[(0,l.jsxs)("div",{className:"lg:col-span-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"font-russo font-bold text-lg ".concat(w(e.result)),children:N(e.result)}),(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:e.is_bot_game?"\ud83e\udd16":"\ud83d\udc64"})]}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:new Date(e.created_at).toLocaleDateString()})]}),(0,l.jsx)("div",{className:"lg:col-span-3",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"font-russo text-white text-sm",children:e.opponent_username.charAt(0).toUpperCase()})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:e.opponent_username}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:e.is_bot_game?"Bot Player":"Human Player"})]})]})}),(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl",children:j(e.my_move)}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"You"})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("div",{className:"text-xl text-text-secondary",children:"VS"})}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl",children:j(e.opponent_move)}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"Them"})]})]})}),(0,l.jsx)("div",{className:"lg:col-span-3",children:(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Bet:"}),(0,l.jsxs)("span",{className:"font-rajdhani text-white font-bold",children:["$",e.bet_amount]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Gems:"}),(0,l.jsx)("span",{className:"font-rajdhani text-accent-primary text-xs",children:(s=e.bet_gems,s&&"object"===typeof s?Object.entries(s).map((e=>{let[t,s]=e;return"".concat(t,": ").concat(s)})).join(", "):"No gems")})]}),"won"===e.result&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Won:"}),(0,l.jsxs)("span",{className:"font-rajdhani text-green-400 font-bold",children:["+$",(null===(t=e.winnings)||void 0===t?void 0:t.toLocaleString())||0]})]})]})}),(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"font-rajdhani text-white font-bold",children:k(e.game_duration)}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"Duration"})]})})]})},e.game_id||e.id)}))}):(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdc"}),(0,l.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-2",children:"No Games Found"}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"all"===c?"You haven't played any games yet. Start your first battle!":"No ".concat(c," games found for the selected filters.")})]}),C>1&&(0,l.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,l.jsx)("button",{onClick:()=>h(Math.max(1,u-1)),disabled:1===u,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Previous"}),(0,l.jsx)("div",{className:"flex space-x-1",children:[...Array(Math.min(C,5))].map(((e,t)=>{const s=u<=3?t+1:u-2+t;return s>C?null:(0,l.jsx)("button",{onClick:()=>h(s),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(u===s?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white"),children:s},s)}))}),(0,l.jsx)("button",{onClick:()=>h(Math.min(C,u+1)),disabled:u===C,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Next"})]})]})]})},J=[{value:"rock",label:"\u041a\u0430\u043c\u0435\u043d\u044c",icon:"\ud83e\udea8"},{value:"paper",label:"\u0411\u0443\u043c\u0430\u0433\u0430",icon:"\ud83d\udcc4"},{value:"scissors",label:"\u041d\u043e\u0436\u043d\u0438\u0446\u044b",icon:"\u2702\ufe0f"}],Z=1,ee=3e3,te=.06,se=e=>{if(!e)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";const t=new Date,s=new Date(e),n=Math.floor((t-s)/6e4);return n<1?"\u0422\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e":n<60?"".concat(n," \u043c\u0438\u043d \u043d\u0430\u0437\u0430\u0434"):n<1440?"".concat(Math.floor(n/60)," \u0447 \u043d\u0430\u0437\u0430\u0434"):"".concat(Math.floor(n/1440)," \u0434\u043d \u043d\u0430\u0437\u0430\u0434")},ne=(e,t)=>{let s=0;for(const[n,a]of Object.entries(e)){const e=t.find((e=>e.type===n));e&&a>0&&(s+=e.price*a)}return s},ae=e=>e*te,re="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),ie=e=>{let{user:t,onUpdateUser:s}=e;const{showSuccess:a,showError:o,showWarning:c}=k(),[d,u]=(0,n.useState)([]),[h,x]=(0,n.useState)({}),[m,f]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(null),w=J;(0,n.useEffect)((()=>{N(),_()}),[]);const N=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(re,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data),g(!1)}catch(e){console.error("Error fetching gems:",e),g(!1)}},_=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(re,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});j(t.data)}catch(e){console.error("Error fetching balance:",e)}},S=()=>ne(h,d),C=()=>((e,t,s)=>{const n=ne(e,t),a=ae(n);return n<Z?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 $".concat(Z):n>ee?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 $".concat(ee):s&&s.virtual_balance<a?"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438: $".concat(a.toFixed(2)):Object.values(e).some((e=>e>0))?null:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0433\u0435\u043c \u0434\u043b\u044f \u0441\u0442\u0430\u0432\u043a\u0438"})(h,d,v);if(p)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})});const A=S(),M=ae(S()),L=C();return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443"}),(0,l.jsx)("p",{className:"font-roboto text-xl text-text-secondary",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0445\u043e\u0434 \u0438 \u043f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0433\u0435\u043c\u044b"})]}),v&&(0,l.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,l.jsxs)("p",{className:"font-rajdhani text-2xl font-bold text-green-400",children:["$",v.virtual_balance.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),(0,l.jsxs)("p",{className:"font-rajdhani text-2xl font-bold text-accent-primary",children:["$",A.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (6%)"}),(0,l.jsxs)("p",{className:"font-rajdhani text-2xl font-bold text-yellow-400",children:["$",M.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a"}),(0,l.jsxs)("p",{className:"font-rajdhani text-2xl font-bold ".concat(v.virtual_balance-M>=0?"text-green-400":"text-red-400"),children:["$",(v.virtual_balance-M).toFixed(2)]})]})]})})}),(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-6",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0445\u043e\u0434"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:w.map((e=>(0,l.jsxs)("button",{onClick:()=>f(e.value),className:"p-6 rounded-lg border-2 transition-all duration-300 ".concat(m===e.value?"border-accent-primary bg-accent-primary/20 text-accent-primary":"border-accent-primary border-opacity-30 hover:border-accent-primary hover:border-opacity-60 text-text-secondary"),children:[(0,l.jsx)("div",{className:"text-4xl mb-2",children:e.icon}),(0,l.jsx)("div",{className:"font-rajdhani font-bold text-lg",children:e.label})]},e.value)))})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-6",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0435\u043c\u044b \u0434\u043b\u044f \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:d.map((e=>{const t=e.quantity-e.frozen_quantity,s=h[e.type]||0;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-sidebar rounded-lg border border-accent-primary border-opacity-30",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("img",{src:"/gems/".concat(e.icon),alt:e.name,className:"w-12 h-12 object-contain",style:{filter:"drop-shadow(0 0 8px ".concat(e.color,"60)")}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-rajdhani font-bold text-white",children:e.name}),(0,l.jsxs)("p",{className:"font-roboto text-text-secondary text-sm",children:["\u0426\u0435\u043d\u0430: $",e.price," | \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ",t]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"number",min:"0",max:t,value:s,onChange:t=>((e,t)=>{const s=Math.max(0,parseInt(t)||0),n=d.find((t=>t.type===e)),a=n?n.quantity-n.frozen_quantity:0;x((t=>(0,r.A)((0,r.A)({},t),{},{[e]:Math.min(s,a)})))})(e.type,t.target.value),className:"w-20 px-2 py-1 bg-surface-card border border-accent-primary border-opacity-30 rounded text-center text-white font-rajdhani",disabled:0===t}),(0,l.jsxs)("span",{className:"font-roboto text-text-secondary text-sm",children:["= $",(e.price*s).toFixed(2)]})]})]},e.type)}))})]})]}),(0,l.jsxs)("div",{className:"mt-8 text-center",children:[L&&(0,l.jsx)("p",{className:"font-roboto text-red-400 mb-4",children:L}),(0,l.jsx)("button",{onClick:async()=>{if(!m)return void c("Please select your move!");const e=C();if(e)return void o(e);const t=(e=>{const t={};for(const[s,n]of Object.entries(e))n>0&&(t[s]=n);return t})(h);if(0!==Object.keys(t).length){y(!0);try{const e=localStorage.getItem("token"),n=await i.A.post("".concat(re,"/games/create"),{move:m,bet_gems:t},{headers:{Authorization:"Bearer ".concat(e)}}),r=n.data.commission_reserved.toFixed(2),o=(n.data.commission_reserved/n.data.bet_amount*100).toFixed(0);a("Bet created! $".concat(r," (").concat(o,"%) frozen until game completion."),{duration:7e3}),x({}),f(""),await N(),await _(),s&&s()}catch(l){var n,r;console.error("Error creating game:",l);const e=(null===(n=l.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to create game. Please try again.";o(e)}finally{y(!1)}}else c("Please select at least one gem for betting")},disabled:b||!m||L,className:"px-8 py-4 rounded-lg font-rajdhani font-bold text-xl transition-all duration-300 ".concat(b||!m||L?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-accent text-white hover:scale-105 hover:shadow-lg"),children:b?"\u0421\u041e\u0417\u0414\u0410\u041d\u0418\u0415 \u0418\u0413\u0420\u042b...":"\u0421\u041e\u0417\u0414\u0410\u0422\u042c \u0418\u0413\u0420\u0423"})]})]})]})},oe="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),le=e=>{let{user:t,onUpdateUser:s}=e;const[a,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[u,h]=(0,n.useState)(null),[x,m]=(0,n.useState)({}),[f,p]=(0,n.useState)(null),g=J;(0,n.useEffect)((()=>{b();const e=setInterval(b,5e3);return()=>clearInterval(e)}),[]);const b=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(oe,"/games/available"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data),d(!1)}catch(e){console.error("Error fetching games:",e),o([]),d(!1)}};if(c)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043b\u043e\u0431\u0431\u0438..."})});const y=a.filter((e=>(e=>((e,t)=>"WAITING"===e.status&&e.creator_id!==t&&!e.opponent_id)(e,t.id))(e)));return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"\u041b\u043e\u0431\u0431\u0438 \u0438\u0433\u0440"}),(0,l.jsx)("p",{className:"font-roboto text-xl text-text-secondary",children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0438\u0433\u0440\u0430\u043c"})]}),(0,l.jsx)("div",{className:"max-w-6xl mx-auto",children:0===y.length?(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfae"}),(0,l.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-2",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0438\u0433\u0440\u0443 \u0438\u043b\u0438 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0443\u0442 \u0438\u0433\u0440\u044b"})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((e=>{return(0,l.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg p-6 hover:border-accent-primary transition-all duration-300",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"font-russo text-xl text-accent-secondary",children:["\u0418\u0433\u0440\u0430 #",(e.game_id||e.id).substring(0,8)]}),(0,l.jsx)("span",{className:"px-3 py-1 bg-green-600 text-white rounded-full text-sm font-rajdhani",children:"\u041e\u0416\u0418\u0414\u0410\u0415\u0422"})]}),(0,l.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c:"}),(0,l.jsx)("span",{className:"font-rajdhani text-white",children:e.creator_username||"\u0418\u0433\u0440\u043e\u043a"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0421\u0442\u0430\u0432\u043a\u0430:"}),(0,l.jsxs)("span",{className:"font-rajdhani text-green-400 font-bold",children:["$",e.bet_amount]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0412\u0440\u0435\u043c\u044f:"}),(0,l.jsx)("span",{className:"font-rajdhani text-white",children:se(e.created_at)})]}),(0,l.jsxs)("div",{className:"pt-2",children:[(0,l.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"\u0413\u0435\u043c\u044b:"}),(0,l.jsx)("p",{className:"font-rajdhani text-white text-sm mt-1",children:(t=e.bet_gems,t&&"object"===typeof t?Object.entries(t).filter((e=>{let[t,s]=e;return s>0})).map((e=>{let[t,s]=e;return"".concat(t,": ").concat(s)})).join(", "):"\u041d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a")})]})]}),(0,l.jsx)("button",{onClick:()=>p(e.game_id||e.id),className:"w-full py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300",children:"\u041f\u0420\u0418\u0421\u041e\u0415\u0414\u0418\u041d\u0418\u0422\u042c\u0421\u042f"})]},e.game_id||e.id);var t}))})}),f&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg p-8 max-w-md w-full mx-4",children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-6 text-center",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0445\u043e\u0434"}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:g.map((e=>(0,l.jsx)("button",{onClick:()=>m((t=>(0,r.A)((0,r.A)({},t),{},{[f]:e.value}))),className:"p-4 rounded-lg border-2 transition-all duration-300 ".concat(x[f]===e.value?"border-accent-primary bg-accent-primary/20 text-accent-primary":"border-border-primary hover:border-accent-primary/50 text-text-secondary"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("span",{className:"text-3xl",children:e.icon}),(0,l.jsx)("span",{className:"font-rajdhani font-bold text-lg",children:e.label})]})},e.value)))}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("button",{onClick:()=>p(null),className:"flex-1 py-3 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0422\u041c\u0415\u041d\u0410"}),(0,l.jsx)("button",{onClick:()=>(async e=>{const n=x[e];if(n){h(e);try{const a=localStorage.getItem("token"),o=await i.A.post("".concat(oe,"/games/").concat(e,"/join"),{move:n},{headers:{Authorization:"Bearer ".concat(a)}});alert("\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430!\n\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ".concat(o.data.result,"\n\u0412\u0430\u0448 \u0445\u043e\u0434: ").concat(o.data.opponent_move,"\n\u041e\u043f\u043f\u043e\u043d\u0435\u043d\u0442: ").concat(o.data.creator_move,"\n\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: ").concat(o.data.winner_id?o.data.winner_id===t.id?"\u0412\u044b!":o.data.creator.username:"\u041d\u0438\u0447\u044c\u044f")),await b(),s&&s(),p(null),m((t=>(0,r.A)((0,r.A)({},t),{},{[e]:""})))}catch(l){var a,o;alert((null===(a=l.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043a \u0438\u0433\u0440\u0435")}finally{h(null)}}else alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0445\u043e\u0434!")})(f),disabled:u===f||!x[f],className:"flex-1 py-3 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(u!==f&&x[f]?"bg-gradient-accent text-white hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:u===f?"\u041f\u0420\u0418\u0421\u041e\u0415\u0414\u0418\u041d\u0415\u041d\u0418\u0415...":"\u0418\u0413\u0420\u0410\u0422\u042c"})]})]})})]})};s(509);const ce=e=>{let{currentPage:t=1,totalPages:s=1,onPageChange:n,itemsPerPage:a=10,totalItems:r=0,className:i="",showPageNumbers:o=!0,maxPageNumbers:c=5}=e;if(s<=1)return null;const d=e=>{e>=1&&e<=s&&n(e)},u=(()=>{const e=[],n=Math.floor(c/2);let a=Math.max(1,t-n),r=Math.min(s,a+c-1);r-a+1<c&&(a=Math.max(1,r-c+1));for(let t=a;t<=r;t++)e.push(t);return e})(),h=(t-1)*a+1,x=Math.min(t*a,r);return(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 ".concat(i),children:[(0,l.jsxs)("div",{className:"text-sm text-text-secondary font-rajdhani",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e ",h,"-",x," \u0438\u0437 ",r," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[t>1&&(0,l.jsx)("button",{onClick:()=>d(1),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 transition-colors font-rajdhani",title:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",children:"\u27e8\u27e8"}),(0,l.jsx)("button",{onClick:()=>d(t-1),disabled:1===t,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-rajdhani",children:"\u27e8 \u041d\u0430\u0437\u0430\u0434"}),o&&(0,l.jsx)("div",{className:"flex items-center space-x-1",children:u.map((e=>(0,l.jsx)("button",{onClick:()=>d(e),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(e===t?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20"),children:e},e)))}),!o&&s>1&&(0,l.jsx)("select",{value:t,onChange:e=>d(parseInt(e.target.value)),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary",children:Array.from({length:s},((e,t)=>t+1)).map((e=>(0,l.jsxs)("option",{value:e,children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",e]},e)))}),(0,l.jsx)("button",{onClick:()=>d(t+1),disabled:t===s,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-rajdhani",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u27e9"}),t<s&&(0,l.jsx)("button",{onClick:()=>d(s),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 transition-colors font-rajdhani",title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",children:"\u27e9\u27e9"})]})]})},de=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[s,a]=(0,n.useState)(e),[r,i]=(0,n.useState)(1),[o,l]=(0,n.useState)(0);return(0,n.useEffect)((()=>{s>r&&r>0&&a(1)}),[t,r,s]),{currentPage:s,totalPages:r,totalItems:o,itemsPerPage:t,handlePageChange:e=>{e>=1&&e<=r&&a(e)},updatePagination:e=>{const n=Math.max(1,Math.ceil(e/t));l(e),i(n),s>n&&a(n)},resetPagination:()=>{a(1),i(1),l(0)},getPaginationParams:()=>({page:s,limit:t,offset:(s-1)*t}),isFirstPage:1===s,isLastPage:s===r,hasNextPage:s<r,hasPrevPage:s>1,startIndex:(s-1)*t,endIndex:Math.min(s*t,o)}},ue="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),he=e=>{let{user:t}=e;const{showSuccessRU:s,showErrorRU:a,showWarningRU:o}=k(),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(!0),[x,m]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),[g,b]=(0,n.useState)(null),v=de(1,10),[j,w]=(0,n.useState)(!1),[N,_]=(0,n.useState)(!1),[S,C]=(0,n.useState)(!1),[A,M]=(0,n.useState)(!1),[L,E]=(0,n.useState)(!1),[P,z]=(0,n.useState)(!1),[O,T]=(0,n.useState)(!1),[R,D]=(0,n.useState)(!1),[I,B]=(0,n.useState)(null),[F,W]=(0,n.useState)(null),[V,U]=(0,n.useState)(!1),[H,q]=(0,n.useState)(!1),[$,G]=(0,n.useState)(""),[Y,Q]=(0,n.useState)(""),[K,X]=(0,n.useState)(""),[J,Z]=(0,n.useState)(""),[ee,te]=(0,n.useState)({username:"",email:"",role:"",virtual_balance:0}),[se,ne]=(0,n.useState)([]),[ae,re]=(0,n.useState)([]),[ie,oe]=(0,n.useState)({});(0,n.useEffect)((()=>{le()}),[v.currentPage,x,f]);const le=async()=>{try{h(!0);const e=localStorage.getItem("token"),t=new URLSearchParams({page:v.currentPage.toString(),limit:v.itemsPerPage.toString()});x&&t.append("search",x),f&&t.append("status",f);const s=await i.A.get("".concat(ue,"/admin/users?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),n=(s.data.users||[]).sort(((e,t)=>{const s={SUPER_ADMIN:1,ADMIN:2,USER:3},n=s[e.role]||3,a=s[t.role]||3;return n===a?e.username.localeCompare(t.username):n-a}));d(n),v.updatePagination(s.data.total||0),h(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",e),h(!1)}},he=async e=>{try{var t,s,n,r,o,l,c,d;const a=localStorage.getItem("token"),[u,h,x]=await Promise.all([i.A.get("".concat(ue,"/admin/users/").concat(e,"/gems"),{headers:{Authorization:"Bearer ".concat(a)}}),i.A.get("".concat(ue,"/admin/users/").concat(e,"/bets"),{headers:{Authorization:"Bearer ".concat(a)}}),i.A.get("".concat(ue,"/admin/users/").concat(e,"/stats"),{headers:{Authorization:"Bearer ".concat(a)}})]);ne(u.data.gems||[]),re(h.data.active_bets||[]),oe({total_games:(null===(t=x.data.game_stats)||void 0===t?void 0:t.total_games)||0,games_won:(null===(s=x.data.game_stats)||void 0===s?void 0:s.games_won)||0,games_lost:(null===(n=x.data.game_stats)||void 0===n?void 0:n.games_lost)||0,games_draw:(null===(r=x.data.game_stats)||void 0===r?void 0:r.games_draw)||0,win_rate:(null===(o=x.data.game_stats)||void 0===o?void 0:o.win_rate)||0,profit:(null===(l=x.data.financial_stats)||void 0===l?void 0:l.total_profit)||0,gifts_sent:(null===(c=x.data.financial_stats)||void 0===c?void 0:c.gifts_sent)||0,gifts_received:(null===(d=x.data.financial_stats)||void 0===d?void 0:d.gifts_received)||0,ip_history:x.data.ip_history||[]})}catch(u){console.error("Error fetching user details:",u),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}},xe=e=>new Date(e).toLocaleDateString("ru-RU"),me=e=>new Date(e).toLocaleString("ru-RU"),fe=e=>{const t={ACTIVE:{color:"bg-green-600",text:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"},BANNED:{color:"bg-red-600",text:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"},EMAIL_PENDING:{color:"bg-yellow-600",text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0442\u0432."}}[e]||{color:"bg-gray-600",text:e};return(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},pe=e=>{const t={USER:{color:"bg-blue-600",text:"\u0418\u0433\u0440\u043e\u043a"},ADMIN:{color:"bg-purple-600",text:"\u0410\u0434\u043c\u0438\u043d"},SUPER_ADMIN:{color:"bg-red-600",text:"\u0421\u0443\u043f\u0435\u0440-\u0430\u0434\u043c\u0438\u043d"}}[e]||{color:"bg-gray-600",text:e};return(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},ge=e=>{const t=[],s=e.total_games_played||0,n=e.total_games_won||0,a=s>0?n/s*100:0;return s>=10&&a>80&&t.push({type:"high_winrate",message:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u0432\u0438\u043d\u0440\u0435\u0439\u0442: ".concat(a.toFixed(1),"% \u0437\u0430 ").concat(s," \u0438\u0433\u0440")}),t},[be,ye]=(0,n.useState)({}),ve=async e=>{if(!be[e]){const t=await(async e=>{try{const t=localStorage.getItem("token"),s=await i.A.get("".concat(ue,"/admin/users/").concat(e,"/gems"),{headers:{Authorization:"Bearer ".concat(t)}});return s.data.gems&&s.data.gems.length>0?s.data.gems.map((e=>"".concat(e.type," x").concat(e.quantity))).join(", "):"\u041d\u0435\u0442 \u0433\u0435\u043c\u043e\u0432"}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0433\u0435\u043c\u0430\u0445:",t),"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"}})(e);ye((s=>(0,r.A)((0,r.A)({},s),{},{[e]:t})))}},je=async e=>{e.preventDefault();try{const e=localStorage.getItem("token");await i.A.put("".concat(ue,"/admin/users/").concat(g.id),ee,{headers:{Authorization:"Bearer ".concat(e)}}),w(!1),le(),s("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",t),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}},we=async()=>{if($.trim())try{const e=localStorage.getItem("token"),t={reason:$,duration:Y||void 0};await i.A.post("".concat(ue,"/admin/users/").concat(g.id,"/ban"),t,{headers:{Authorization:"Bearer ".concat(e)}}),_(!1),le(),s("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u0430\u043d\u0435\u043d")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0430\u043d\u0430:",e),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0431\u0430\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}else o("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u0430\u043d\u0430")},Ne=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.post("".concat(ue,"/admin/users/").concat(g.id,"/bets/cleanup-stuck"),{},{headers:{Authorization:"Bearer ".concat(e)}});s("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await he(g.id)}catch(n){var e,t;console.error("Error cleaning up stuck bets:",n);const s=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";a(s)}},ke=async()=>{if(K.trim())if("SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role))try{const e=localStorage.getItem("token");await i.A.delete("".concat(ue,"/admin/users/").concat(g.id),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:K}}),q(!1),le(),s("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",e),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}else a("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b");else o("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f")},_e=()=>(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,l.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("form",{onSubmit:je,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,l.jsx)("input",{type:"text",value:ee.username,onChange:e=>te((0,r.A)((0,r.A)({},ee),{},{username:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"Email"}),(0,l.jsx)("input",{type:"email",value:ee.email,onChange:e=>te((0,r.A)((0,r.A)({},ee),{},{email:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0420\u043e\u043b\u044c"}),(0,l.jsxs)("select",{value:ee.role,onChange:e=>te((0,r.A)((0,r.A)({},ee),{},{role:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,l.jsx)("option",{value:"USER",children:"USER"}),(0,l.jsx)("option",{value:"ADMIN",children:"ADMIN"}),(0,l.jsx)("option",{value:"SUPER_ADMIN",children:"SUPER_ADMIN"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0411\u0430\u043b\u0430\u043d\u0441 ($)"}),(0,l.jsx)("input",{type:"number",step:"0.01",value:ee.virtual_balance,onChange:e=>te((0,r.A)((0,r.A)({},ee),{},{virtual_balance:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{type:"submit",className:"flex-1 py-2 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,l.jsx)("button",{type:"button",onClick:()=>w(!1),className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),Se=()=>(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,l.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("p",{className:"text-text-secondary",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,l.jsx)("span",{className:"text-white font-bold",children:null===g||void 0===g?void 0:g.username})]}),(0,l.jsxs)("p",{className:"text-text-secondary",children:["Email: ",(0,l.jsx)("span",{className:"text-white",children:null===g||void 0===g?void 0:g.email})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u0430\u043d\u0430 *"}),(0,l.jsx)("textarea",{value:$,onChange:e=>G(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u0430\u043d\u0430...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3",required:!0},"ban-reason-".concat((null===g||void 0===g?void 0:g.id)||"default"))]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,l.jsxs)("select",{value:Y,onChange:e=>Q(e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,l.jsx)("option",{value:"",children:"\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0439 \u0431\u0430\u043d"}),(0,l.jsx)("option",{value:"1hour",children:"1 \u0447\u0430\u0441"}),(0,l.jsx)("option",{value:"1day",children:"1 \u0434\u0435\u043d\u044c"}),(0,l.jsx)("option",{value:"1week",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),(0,l.jsx)("option",{value:"1month",children:"1 \u043c\u0435\u0441\u044f\u0446"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:we,className:"flex-1 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c"}),(0,l.jsx)("button",{onClick:()=>_(!1),className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),Ce=()=>{const[e,t]=(0,n.useState)(""),[r,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(1),[h,x]=(0,n.useState)(""),[m,f]=(0,n.useState)("increase"),[p,b]=(0,n.useState)(""),y=async(e,s)=>{t(e),c(s),u(1),x(""),b(""),f("increase")};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\ud83d\udc8e \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438 - ",null===g||void 0===g?void 0:g.username]}),(0,l.jsx)("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[0===se.length?(0,l.jsx)("p",{className:"text-text-secondary text-center py-4",children:"\u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0433\u0435\u043c\u043e\u0432"}):se.map(((e,t)=>(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-accent flex items-center justify-center",children:"\ud83d\udc8e"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white font-rajdhani font-bold",children:e.type}),(0,l.jsxs)("div",{className:"text-text-secondary text-sm",children:["\u0412\u0441\u0435\u0433\u043e: ",e.quantity," \u0448\u0442 | \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ",e.quantity-(e.frozen_quantity||0)," \u0448\u0442 | \u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: ",e.frozen_quantity||0," \u0448\u0442"]}),(0,l.jsxs)("div",{className:"text-accent-primary text-sm",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: $",(e.quantity*e.price).toFixed(2)]})]})]})}),(0,l.jsxs)("div",{className:"flex space-x-2 mt-2 flex-wrap",children:[(0,l.jsx)("button",{onClick:()=>y("modify",e),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 mb-1",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e"}),(0,l.jsx)("button",{onClick:()=>y("freeze",e),className:"px-3 py-1 bg-orange-600 text-white text-xs rounded hover:bg-orange-700 mb-1",disabled:e.quantity-(e.frozen_quantity||0)<=0,children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c"}),(0,l.jsx)("button",{onClick:()=>y("unfreeze",e),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 mb-1",disabled:(e.frozen_quantity||0)<=0,children:"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c"}),(0,l.jsx)("button",{onClick:()=>y("delete",e),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 mb-1",disabled:e.quantity-(e.frozen_quantity||0)<=0,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},t))),e&&r&&(0,l.jsxs)("div",{className:"mt-4 bg-surface-sidebar rounded-lg p-4 border border-accent-primary border-opacity-30",children:[(0,l.jsxs)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:["freeze"===e&&"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0433\u0435\u043c\u044b","unfreeze"===e&&"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0433\u0435\u043c\u044b","delete"===e&&"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0435\u043c\u044b","modify"===e&&"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u0435\u043c\u043e\u0432"]}),(0,l.jsxs)("p",{className:"text-text-secondary text-sm mb-3",children:["\u0413\u0435\u043c: ",r.type," |","freeze"===e&&" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ".concat(r.quantity-(r.frozen_quantity||0)," \u0448\u0442"),"unfreeze"===e&&" \u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: ".concat(r.frozen_quantity||0," \u0448\u0442"),"delete"===e&&" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ".concat(r.quantity-(r.frozen_quantity||0)," \u0448\u0442"),"modify"===e&&" \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(r.quantity," \u0448\u0442")]}),(0,l.jsxs)("div",{className:"space-y-3",children:["modify"===e&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435:"}),(0,l.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white",children:[(0,l.jsx)("option",{value:"increase",children:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,l.jsx)("option",{value:"decrease",children:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:"}),(0,l.jsx)("input",{type:"number",min:"1",max:"freeze"===e?r.quantity-(r.frozen_quantity||0):"unfreeze"===e?r.frozen_quantity||0:"delete"===e?r.quantity-(r.frozen_quantity||0):"modify"===e&&"decrease"===m?r.quantity:999999,value:d,onChange:e=>u(parseInt(e.target.value)||1),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,l.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f...",className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white"},"action-reason-".concat((null===r||void 0===r?void 0:r.type)||"default"))]}),"modify"===e&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e:"}),(0,l.jsx)("textarea",{value:p,onChange:e=>b(e.target.value),placeholder:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432...",className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white",rows:"2"},"custom-notification-".concat((null===r||void 0===r?void 0:r.type)||"default"))]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:async()=>{if(!r||!d||d<=0)o("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e");else try{if("freeze"===e){const e=r.quantity-(r.frozen_quantity||0);if(d>e)return void o("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438");await(async(e,t,n)=>{try{const a=localStorage.getItem("token");await i.A.post("".concat(ue,"/admin/users/").concat(g.id,"/gems/freeze"),{gem_type:e,quantity:t,reason:n||"Admin action"},{headers:{Authorization:"Bearer ".concat(a)}}),s("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e")),await he(g.id)}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432:",r),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0433\u0435\u043c\u043e\u0432")}})(r.type,d,h)}else if("unfreeze"===e){if(d>(r.frozen_quantity||0))return void o("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0438");await(async(e,t,n)=>{try{const a=localStorage.getItem("token");await i.A.post("".concat(ue,"/admin/users/").concat(g.id,"/gems/unfreeze"),{gem_type:e,quantity:t,reason:n||"Admin action"},{headers:{Authorization:"Bearer ".concat(a)}}),s("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e")),await he(g.id)}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432:",r),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0433\u0435\u043c\u043e\u0432")}})(r.type,d,h)}else if("delete"===e){const e=r.quantity-(r.frozen_quantity||0);if(d>e)return void o("\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0433\u0435\u043c\u044b. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u044c\u0442\u0435 \u0438\u0445.");await(async(e,t,n)=>{try{const a=localStorage.getItem("token");await i.A.delete("".concat(ue,"/admin/users/").concat(g.id,"/gems/").concat(e,"?quantity=").concat(t,"&reason=").concat(encodeURIComponent(n||"Admin action")),{headers:{Authorization:"Bearer ".concat(a)}}),s("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u043e")),await he(g.id)}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432:",r),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432")}})(r.type,d,h)}else if("modify"===e){const e="increase"===m?d:-d;if("decrease"===m&&d>r.quantity)return void o("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f");await(async(e,t,n,r)=>{try{const a=localStorage.getItem("token");await i.A.post("".concat(ue,"/admin/users/").concat(g.id,"/gems/modify"),{gem_type:e,change:t,reason:n||"Admin action",notification:r},{headers:{Authorization:"Bearer ".concat(a)}});const o=t>0?"\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e":"\u0443\u0434\u0430\u043b\u0435\u043d\u043e";s("".concat(Math.abs(t)," ").concat(e," \u0433\u0435\u043c\u043e\u0432 ").concat(o)),await he(g.id),le()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432:",o),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432")}})(r.type,e,h,p)}t(""),c(null)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0441 \u0433\u0435\u043c\u0430\u043c\u0438:",n)}},className:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-secondary font-rajdhani font-bold",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),(0,l.jsx)("button",{onClick:()=>{t(""),c(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 border-t border-border-primary pt-4",children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-2",children:"\u041e\u0431\u0449\u0435\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0443 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,l.jsx)("textarea",{value:J,onChange:e=>Z(e.target.value),placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043e\u0431\u0449\u0435\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u0445...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3"},"notification-text-".concat((null===g||void 0===g?void 0:g.id)||"default"))]})]})]})})},Ae=()=>{const e=e=>{const t={WAITING:{color:"bg-yellow-600",text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"},ACTIVE:{color:"bg-blue-600",text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f"},REVEAL:{color:"bg-purple-600",text:"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435"},COMPLETED:{color:"bg-green-600",text:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"},CANCELLED:{color:"bg-red-600",text:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"}}[e]||{color:"bg-gray-600",text:e};return(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},t=e=>"WAITING"===e.status,n=e=>{const t=new Date(e.created_at);return(new Date-t)/36e5>24&&["WAITING","ACTIVE","REVEAL"].includes(e.status)},r=ae.some((e=>n(e)));return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\ud83c\udfaf \u0421\u0442\u0430\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ",null===g||void 0===g?void 0:g.username]}),(0,l.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-yellow-900 border border-yellow-600 rounded-lg",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-yellow-400 font-rajdhani font-bold text-sm",children:"\u26a0\ufe0f \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("div",{className:"text-yellow-300 text-xs",children:"\u0421\u0442\u0430\u0432\u043a\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u043b\u0435\u0435 24 \u0447\u0430\u0441\u043e\u0432"})]}),(0,l.jsx)("button",{onClick:Ne,className:"px-4 py-2 bg-orange-600 text-white text-sm rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:"\ud83e\uddf9 \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435"})]})}),(0,l.jsx)("div",{className:"space-y-3",children:0===ae.length?(0,l.jsx)("p",{className:"text-text-secondary text-center py-4",children:"\u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"}):ae.map(((r,o)=>(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4 border-l-4 ".concat(n(r)?"border-yellow-500":"WAITING"===r.status?"border-blue-500":"ACTIVE"===r.status?"border-green-500":"border-gray-500"),children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,l.jsxs)("div",{className:"text-white font-rajdhani font-bold text-lg",children:["$",r.amount]}),e(r.status),r.is_creator&&(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-600 text-white font-rajdhani",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),n(r)&&(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-600 text-white font-rajdhani",children:"\u23f0 \u0417\u0430\u0432\u0438\u0441\u043b\u0430"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,l.jsxs)("div",{className:"text-text-secondary",children:[(0,l.jsx)("span",{className:"text-white",children:"ID:"})," ",r.id]}),(0,l.jsxs)("div",{className:"text-text-secondary",children:[(0,l.jsx)("span",{className:"text-white",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430:"})," ",me(r.created_at)]}),r.opponent&&(0,l.jsxs)("div",{className:"text-text-secondary",children:[(0,l.jsx)("span",{className:"text-white",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"})," ",r.opponent]}),(0,l.jsxs)("div",{className:"text-text-secondary",children:[(0,l.jsx)("span",{className:"text-white",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:"})," ",Math.round((new Date-new Date(r.created_at))/36e5),"\u0447"]})]}),r.gems&&Object.keys(r.gems).length>0&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0421\u0442\u0430\u0432\u043a\u0430:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(r.gems).map((e=>{let[t,s]=e;return s>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-accent-primary bg-opacity-20 text-accent-primary text-xs rounded font-rajdhani",children:[t,": ",s]},t)}))})]})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[t(r)&&(0,l.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await i.A.post("".concat(ue,"/admin/users/").concat(g.id,"/bets/").concat(e,"/cancel"),{},{headers:{Authorization:"Bearer ".concat(t)}});s(n.data.message),await he(g.id)}catch(r){var t,n;console.error("Error cancelling bet:",r);const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";a(e)}})(r.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 font-rajdhani font-bold transition-colors",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443",children:"\ud83d\udeab \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),!t(r)&&(0,l.jsx)("span",{className:"px-3 py-1 bg-gray-600 text-gray-300 text-xs rounded font-rajdhani text-center",children:"\u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})},o)))}),ae.length>0&&(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-primary",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a:"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold",children:ae.length})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c:"}),(0,l.jsx)("span",{className:"text-green-400 font-rajdhani font-bold",children:ae.filter((e=>t(e))).length})]}),r&&(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-yellow-400",children:"\u0417\u0430\u0432\u0438\u0441\u0448\u0438\u0445:"}),(0,l.jsx)("span",{className:"text-yellow-400 font-rajdhani font-bold",children:ae.filter((e=>n(e))).length})]})]})]})})},Me=()=>(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsxs)("h3",{className:"font-rajdhani text-2xl font-bold text-white",children:["\u2139\ufe0f \u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 - ",null===g||void 0===g?void 0:g.username]}),(0,l.jsx)("button",{onClick:()=>U(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438\u0433\u0440"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440:"}),(0,l.jsx)("span",{className:"text-white",children:ie.total_games||0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-green-400",children:"\u041f\u043e\u0431\u0435\u0434:"}),(0,l.jsx)("span",{className:"text-green-400",children:ie.games_won||0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-red-400",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439:"}),(0,l.jsx)("span",{className:"text-red-400",children:ie.games_lost||0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-400",children:"\u041d\u0438\u0447\u044c\u0438\u0445:"}),(0,l.jsx)("span",{className:"text-gray-400",children:ie.games_draw||0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Win Rate:"}),(0,l.jsxs)("span",{className:"text-accent-primary",children:[ie.win_rate||0,"%"]})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udcb0 \u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"}),(0,l.jsxs)("span",{className:"".concat((ie.profit||0)>=0?"text-green-400":"text-red-400"),children:["$",(ie.profit||0).toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e:"}),(0,l.jsx)("span",{className:"text-white",children:ie.gifts_sent||0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:"}),(0,l.jsx)("span",{className:"text-white",children:ie.gifts_received||0})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udd52 \u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f:"}),(0,l.jsx)("span",{className:"text-white",children:me(null===g||void 0===g?void 0:g.created_at)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0432\u0438\u0437\u0438\u0442:"}),(0,l.jsx)("span",{className:"text-yellow-400",children:me((null===g||void 0===g?void 0:g.last_login)||(null===g||void 0===g?void 0:g.created_at))})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83c\udf10 IP \u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),(0,l.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:(ie.ip_history||["192.168.1.1","10.0.0.1"]).map(((e,t)=>(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:[e," ",0===t&&(0,l.jsx)("span",{className:"text-accent-primary",children:"(\u0442\u0435\u043a\u0443\u0449\u0438\u0439)"})]},t)))})]})]}),(0,l.jsx)("div",{className:"mt-6 flex justify-center",children:(0,l.jsx)("button",{className:"px-6 py-2 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:opacity-90",children:"\ud83d\udce4 \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439"})})]})}),Le=()=>(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u274c \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,l.jsx)("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg p-3 mb-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsx)("span",{className:"text-red-400 text-sm font-rajdhani",children:"\u041d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435!"})]})}),(0,l.jsxs)("p",{className:"text-text-secondary",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,l.jsx)("span",{className:"text-white font-bold",children:null===g||void 0===g?void 0:g.username})]}),(0,l.jsxs)("p",{className:"text-text-secondary mb-4",children:["Email: ",(0,l.jsx)("span",{className:"text-white",children:null===g||void 0===g?void 0:g.email})]}),"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)&&(0,l.jsx)("div",{className:"bg-yellow-900 bg-opacity-20 border border-yellow-500 border-opacity-30 rounded-lg p-3 mb-4",children:(0,l.jsx)("span",{className:"text-yellow-400 text-sm",children:"\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f *"}),(0,l.jsx)("textarea",{value:K,onChange:e=>X(e.target.value),placeholder:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3",required:!0,disabled:"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)},"delete-reason-".concat((null===g||void 0===g?void 0:g.id)||"default"))]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:ke,disabled:"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role),className:"flex-1 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430"}),(0,l.jsx)("button",{onClick:()=>q(!1),className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})});return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"}),(0,l.jsxs)("p",{className:"font-roboto text-text-secondary",children:["\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",c.length," \u0438\u0437 \u043c\u043d\u043e\u0433\u0438\u0445"]})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\ud83d\udcb0 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441\u044b"}),(0,l.jsx)("div",{className:"flex space-x-2",children:["","ACTIVE","BANNED","EMAIL_PENDING"].map((e=>(0,l.jsx)("button",{onClick:()=>(e=>{p(e),v.handlePageChange(1)})(e),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(f===e?"bg-accent-primary text-white":"bg-surface-card text-text-secondary hover:text-white"),children:e||"\u0412\u0441\u0435"},e)))})]})]}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("svg",{className:"absolute left-3 top-3 w-5 h-5 text-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 email...",value:x,onChange:e=>{m(e.target.value),v.handlePageChange(1)},className:"w-full pl-10 pr-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]})}),(0,l.jsx)("button",{onClick:le,className:"px-6 py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:u?(0,l.jsx)("div",{className:"p-8 text-center",children:(0,l.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439..."})}):(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0420\u043e\u043b\u044c"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0413\u0435\u043c\u044b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0418\u0413\u0420\u042b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0420\u0435\u0433 / \u041f\u043e\u0441. \u0432\u0438\u0437\u0438\u0442"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:c.map((e=>{const t=ge(e),n=e.total_games_played||0,r=e.total_games_won||0,o=e.total_games_lost||n-r-(e.total_games_draw||0),c=e.total_games_draw||0;return(0,l.jsxs)("tr",{className:"hover:bg-surface-sidebar transition-colors",children:[(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("female"===e.gender?"bg-pink-600":"bg-blue-600"),children:"female"===e.gender?"\ud83d\udc69":"\ud83d\udc68"}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("div",{className:"font-rajdhani font-bold text-white",children:e.username}),(0,l.jsx)("div",{className:"font-roboto text-text-secondary text-sm",children:e.email})]})]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:fe(e.status)}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:pe(e.role)}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsx)("div",{className:"font-rajdhani font-bold text-accent-primary",children:y(e.virtual_balance||0)})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsxs)("button",{onClick:()=>(async e=>{b(e),await he(e.id),C(!0)})(e),onMouseEnter:()=>ve(e.id),className:"text-accent-primary hover:text-accent-secondary underline text-sm",title:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0433\u0435\u043c\u0430\u043c\u0438",children:[e.total_gems||0," \u0448\u0442 / $",(e.total_gems_value||0).toFixed(2)]}),(0,l.jsxs)("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-gray-900 border border-gray-600 rounded-lg p-2 text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[(0,l.jsx)("div",{className:"font-bold mb-1",children:"\u0420\u0430\u0437\u0431\u0438\u0432\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0430\u043c:"}),(0,l.jsx)("div",{children:be[e.id]||"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsxs)("button",{onClick:()=>(async e=>{b(e),await he(e.id),M(!0)})(e),className:"text-blue-400 hover:text-blue-300 underline text-sm",title:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:[e.active_bets_count||0," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"]})}),(0,l.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,l.jsxs)("div",{className:"text-white font-roboto text-sm",children:[(0,l.jsx)("span",{className:"text-green-400",children:r}),"/",(0,l.jsx)("span",{className:"text-red-400",children:o}),"/",(0,l.jsx)("span",{className:"text-gray-400",children:c})]}),(0,l.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u0431\u0434 / \u041f\u0440\u0436 / \u041d\u0447\u044f"})]}),(0,l.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:xe(e.created_at)}),(0,l.jsx)("div",{className:"text-yellow-400 text-xs",children:xe(e.last_login||e.created_at)})]}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token"),a=0===ge(e).length;await i.A.post("".concat(ue,"/admin/users/").concat(e.id,"/flag-suspicious"),{is_suspicious:a,reason:t||"Admin action"},{headers:{Authorization:"Bearer ".concat(n)}}),s("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(a?"\u043e\u0442\u043c\u0435\u0447\u0435\u043d \u043a\u0430\u043a \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439":"\u0441\u043d\u044f\u0442\u0430 \u043c\u0435\u0442\u043a\u0430 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438")),le()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:",n),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}})(e,"Admin manual flag"),className:"p-1 text-white rounded hover:opacity-80 ".concat(t.length>0?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700 opacity-50"),title:t.length>0?"\u0421\u043d\u044f\u0442\u044c \u0444\u043b\u0430\u0433 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}),t.length>0&&(0,l.jsx)("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-red-900 border border-red-500 rounded-lg p-2 text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",children:t.map(((e,t)=>(0,l.jsx)("div",{children:e.message},t)))})]}),(0,l.jsx)("button",{onClick:()=>(async e=>{b(e),await he(e.id),U(!0)})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0438\u0433\u0440\u043e\u043a\u0435",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsx)("button",{onClick:()=>(e=>{b(e),te({username:e.username,email:e.email,role:e.role,virtual_balance:e.virtual_balance||0}),w(!0)})(e),className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),"BANNED"===e.status?(0,l.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await i.A.post("".concat(ue,"/admin/users/").concat(e,"/unban"),{},{headers:{Authorization:"Bearer ".concat(t)}}),le(),s("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0440\u0430\u0437\u0431\u0430\u043d\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0431\u0430\u043d\u0430:",t),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u0431\u0430\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}})(e.id),className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"\u0420\u0430\u0437\u0431\u0430\u043d\u0438\u0442\u044c",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}):(0,l.jsx)("button",{onClick:()=>(e=>{b(e),G(""),Q(""),_(!0)})(e),className:"p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700",title:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})})}),(0,l.jsx)("button",{onClick:()=>(async e=>{try{B(e.id);const t=localStorage.getItem("token"),n=await i.A.post("".concat(ue,"/admin/users/").concat(e.id,"/reset-bets"),{},{headers:{Authorization:"Bearer ".concat(t)}});s("".concat(n.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(n.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await le()}catch(r){var t,n;console.error("Error resetting user bets:",r);const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";a(e)}finally{B(null)}})(e),disabled:I===e.id,className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:I===e.id?(0,l.jsxs)("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,l.jsx)("button",{onClick:()=>(async e=>{try{W(e.id);const t=localStorage.getItem("token"),n=await i.A.post("".concat(ue,"/admin/users/").concat(e.id,"/reset-balance"),{},{headers:{Authorization:"Bearer ".concat(t)}});s("".concat(n.data.message,". \u0411\u0430\u043b\u0430\u043d\u0441: $").concat(n.data.new_balance)),await le()}catch(r){var t,n;console.error("Error resetting user balance:",r);const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";a(e)}finally{W(null)}})(e),disabled:F===e.id,className:"p-1 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",title:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:F===e.id?(0,l.jsxs)("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsx)("button",{onClick:()=>(e=>{b(e),X(""),q(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]})})}),(0,l.jsx)(ce,{currentPage:v.currentPage,totalPages:v.totalPages,onPageChange:v.handlePageChange,itemsPerPage:v.itemsPerPage,totalItems:v.totalItems,className:"mt-6"}),j&&(0,l.jsx)(_e,{}),N&&(0,l.jsx)(Se,{}),S&&(0,l.jsx)(Ce,{}),A&&(0,l.jsx)(Ae,{}),V&&(0,l.jsx)(Me,{}),H&&(0,l.jsx)(Le,{}),L&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-red-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\udcb0 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b"}),(0,l.jsx)("button",{onClick:()=>E(!1),disabled:R,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,l.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,l.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,l.jsx)("div",{children:"\u2022 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u0441\u044f \u0431\u0430\u043b\u0430\u043d\u0441 \u0412\u0421\u0415\u0425 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),(0,l.jsx)("div",{children:"\u2022 \u041e\u0447\u0438\u0441\u0442\u044f\u0442\u0441\u044f \u0432\u0441\u0435 \u0438\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u0438 \u0433\u0435\u043c\u043e\u0432"}),(0,l.jsx)("div",{children:"\u2022 \u0412\u044b\u0434\u0430\u0441\u0442\u0441\u044f $1000 + \u0433\u0435\u043c\u044b \u043d\u0430 $1000"}),(0,l.jsx)("div",{children:"\u2022 \u0411\u0443\u0434\u0443\u0442 \u0437\u0430\u0442\u0440\u043e\u043d\u0443\u0442\u044b \u0412\u0421\u0415 \u0438\u0433\u0440\u043e\u043a\u0438"})]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b?"}),(0,l.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0434\u0430\u043d\u044b \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>E(!1),disabled:R,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,l.jsx)("button",{onClick:async()=>{try{D(!0);const e=localStorage.getItem("token"),t=await i.A.post("".concat(ue,"/admin/users/reset-all-balances"),{},{headers:{Authorization:"Bearer ".concat(e)}});s("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_users_processed," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),E(!1),await le()}catch(n){var e,t;console.error("Error resetting all balances:",n);const s=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0432\u0441\u0435\u0445 \u0431\u0430\u043b\u0430\u043d\u0441\u043e\u0432";a(s)}finally{D(!1)}},disabled:R,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:R?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u0431\u0440\u043e\u0441..."]}):"\ud83d\udcb0 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435"})]})]})]})})]})};var xe=s(705);function me(e){return e+.5|0}const fe=(e,t,s)=>Math.max(Math.min(e,s),t);function pe(e){return fe(me(2.55*e),0,255)}function ge(e){return fe(me(255*e),0,255)}function be(e){return fe(me(e/2.55)/100,0,1)}function ye(e){return fe(me(100*e),0,100)}const ve={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},je=[..."0123456789ABCDEF"],we=e=>je[15&e],Ne=e=>je[(240&e)>>4]+je[15&e],ke=e=>(240&e)>>4===(15&e);function _e(e){var t=(e=>ke(e.r)&&ke(e.g)&&ke(e.b)&&ke(e.a))(e)?we:Ne;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Se=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ce(e,t,s){const n=t*Math.min(s,1-s),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return s-n*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function Ae(e,t,s){const n=function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return s-s*t*Math.max(Math.min(a,4-a,1),0)};return[n(5),n(3),n(1)]}function Me(e,t,s){const n=Ce(e,1,.5);let a;for(t+s>1&&(a=1/(t+s),t*=a,s*=a),a=0;a<3;a++)n[a]*=1-t-s,n[a]+=t;return n}function Le(e){const t=e.r/255,s=e.g/255,n=e.b/255,a=Math.max(t,s,n),r=Math.min(t,s,n),i=(a+r)/2;let o,l,c;return a!==r&&(c=a-r,l=i>.5?c/(2-a-r):c/(a+r),o=function(e,t,s,n,a){return e===a?(t-s)/n+(t<s?6:0):t===a?(s-e)/n+2:(e-t)/n+4}(t,s,n,c,a),o=60*o+.5),[0|o,l||0,i]}function Ee(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(ge)}function Pe(e,t,s){return Ee(Ce,e,t,s)}function ze(e){return(e%360+360)%360}function Oe(e){const t=Se.exec(e);let s,n=255;if(!t)return;t[5]!==s&&(n=t[6]?pe(+t[5]):ge(+t[5]));const a=ze(+t[2]),r=+t[3]/100,i=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return Ee(Me,e,t,s)}(a,r,i):"hsv"===t[1]?function(e,t,s){return Ee(Ae,e,t,s)}(a,r,i):Pe(a,r,i),{r:s[0],g:s[1],b:s[2],a:n}}const Te={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Re={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let De;function Ie(e){De||(De=function(){const e={},t=Object.keys(Re),s=Object.keys(Te);let n,a,r,i,o;for(n=0;n<t.length;n++){for(i=o=t[n],a=0;a<s.length;a++)r=s[a],o=o.replace(r,Te[r]);r=parseInt(Re[i],16),e[o]=[r>>16&255,r>>8&255,255&r]}return e}(),De.transparent=[0,0,0,0]);const t=De[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Be=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Fe=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,We=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ve(e,t,s){if(e){let n=Le(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,0===t?360:1)),n=Pe(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Ue(e,t){return e?Object.assign(t||{},e):e}function He(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ge(e[3]))):(t=Ue(e,{r:0,g:0,b:0,a:1})).a=ge(t.a),t}function qe(e){return"r"===e.charAt(0)?function(e){const t=Be.exec(e);let s,n,a,r=255;if(t){if(t[7]!==s){const e=+t[7];r=t[8]?pe(e):fe(255*e,0,255)}return s=+t[1],n=+t[3],a=+t[5],s=255&(t[2]?pe(s):fe(s,0,255)),n=255&(t[4]?pe(n):fe(n,0,255)),a=255&(t[6]?pe(a):fe(a,0,255)),{r:s,g:n,b:a,a:r}}}(e):Oe(e)}class $e{constructor(e){if(e instanceof $e)return e;const t=typeof e;let s;"object"===t?s=He(e):"string"===t&&(s=function(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*ve[e[1]],g:255&17*ve[e[2]],b:255&17*ve[e[3]],a:5===s?17*ve[e[4]]:255}:7!==s&&9!==s||(t={r:ve[e[1]]<<4|ve[e[2]],g:ve[e[3]]<<4|ve[e[4]],b:ve[e[5]]<<4|ve[e[6]],a:9===s?ve[e[7]]<<4|ve[e[8]]:255})),t}(e)||Ie(e)||qe(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Ue(this._rgb);return e&&(e.a=be(e.a)),e}set rgb(e){this._rgb=He(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(be(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?_e(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Le(e),s=t[0],n=ye(t[1]),a=ye(t[2]);return e.a<255?"hsla(".concat(s,", ").concat(n,"%, ").concat(a,"%, ").concat(be(e.a),")"):"hsl(".concat(s,", ").concat(n,"%, ").concat(a,"%)")}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,n=e.rgb;let a;const r=t===a?.5:t,i=2*r-1,o=s.a-n.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;a=1-l,s.r=255&l*s.r+a*n.r+.5,s.g=255&l*s.g+a*n.g+.5,s.b=255&l*s.b+a*n.b+.5,s.a=r*s.a+(1-r)*n.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const n=We(be(e.r)),a=We(be(e.g)),r=We(be(e.b));return{r:ge(Fe(n+s*(We(be(t.r))-n))),g:ge(Fe(a+s*(We(be(t.g))-a))),b:ge(Fe(r+s*(We(be(t.b))-r))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new $e(this.rgb)}alpha(e){return this._rgb.a=ge(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=me(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ve(this._rgb,2,e),this}darken(e){return Ve(this._rgb,2,-e),this}saturate(e){return Ve(this._rgb,1,e),this}desaturate(e){return Ve(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=Le(e);s[0]=ze(s[0]+t),s=Pe(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}function Ge(){}const Ye=(()=>{let e=0;return()=>e++})();function Qe(e){return null===e||void 0===e}function Ke(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Xe(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Je(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Ze(e,t){return Je(e)?e:t}function et(e,t){return"undefined"===typeof e?t:e}const tt=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function st(e,t,s){if(e&&"function"===typeof e.call)return e.apply(s,t)}function nt(e,t,s,n){let a,r,i;if(Ke(e))if(r=e.length,n)for(a=r-1;a>=0;a--)t.call(s,e[a],a);else for(a=0;a<r;a++)t.call(s,e[a],a);else if(Xe(e))for(i=Object.keys(e),r=i.length,a=0;a<r;a++)t.call(s,e[i[a]],i[a])}function at(e,t){let s,n,a,r;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(a=e[s],r=t[s],a.datasetIndex!==r.datasetIndex||a.index!==r.index)return!1;return!0}function rt(e){if(Ke(e))return e.map(rt);if(Xe(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let a=0;for(;a<n;++a)t[s[a]]=rt(e[s[a]]);return t}return e}function it(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ot(e,t,s,n){if(!it(e))return;const a=t[e],r=s[e];Xe(a)&&Xe(r)?lt(a,r,n):t[e]=rt(r)}function lt(e,t,s){const n=Ke(t)?t:[t],a=n.length;if(!Xe(e))return e;const r=(s=s||{}).merger||ot;let i;for(let o=0;o<a;++o){if(i=n[o],!Xe(i))continue;const t=Object.keys(i);for(let n=0,a=t.length;n<a;++n)r(t[n],e,i,s)}return e}function ct(e,t){return lt(e,t,{merger:dt})}function dt(e,t,s){if(!it(e))return;const n=t[e],a=s[e];Xe(n)&&Xe(a)?ct(n,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rt(a))}const ut={"":e=>e,x:e=>e.x,y:e=>e.y};function ht(e,t){const s=ut[t]||(ut[t]=function(e){const t=function(e){const t=e.split("."),s=[];let n="";for(const a of t)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function xt(e){return e.charAt(0).toUpperCase()+e.slice(1)}const mt=e=>"undefined"!==typeof e,ft=e=>"function"===typeof e,pt=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const gt=Math.PI,bt=2*gt,yt=bt+gt,vt=Number.POSITIVE_INFINITY,jt=gt/180,wt=gt/2,Nt=gt/4,kt=2*gt/3,_t=Math.log10,St=Math.sign;function Ct(e,t,s){return Math.abs(e-t)<s}function At(e){const t=Math.round(e);e=Ct(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(_t(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Mt(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Lt(e,t,s){let n,a,r;for(n=0,a=e.length;n<a;n++)r=e[n][s],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Et(e){return e*(gt/180)}function Pt(e){return e*(180/gt)}function zt(e){if(!Je(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Ot(e,t){const s=t.x-e.x,n=t.y-e.y,a=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*gt&&(r+=bt),{angle:r,distance:a}}function Tt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Rt(e,t){return(e-t+yt)%bt-gt}function Dt(e){return(e%bt+bt)%bt}function It(e,t,s,n){const a=Dt(e),r=Dt(t),i=Dt(s),o=Dt(r-a),l=Dt(i-a),c=Dt(a-r),d=Dt(a-i);return a===r||a===i||n&&r===i||o>l&&c<d}function Bt(e,t,s){return Math.max(t,Math.min(s,e))}function Ft(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Wt(e,t,s){s=s||(s=>e[s]<t);let n,a=e.length-1,r=0;for(;a-r>1;)n=r+a>>1,s(n)?r=n:a=n;return{lo:r,hi:a}}const Vt=(e,t,s,n)=>Wt(e,s,n?n=>{const a=e[n][t];return a<s||a===s&&e[n+1][t]===s}:n=>e[n][t]<s),Ut=(e,t,s)=>Wt(e,s,(n=>e[n][t]>=s));const Ht=["push","pop","shift","splice","unshift"];function qt(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(t);-1!==a&&n.splice(a,1),n.length>0||(Ht.forEach((t=>{delete e[t]})),delete e._chartjs)}function $t(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Gt="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Yt(e,t){let s=[],n=!1;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];s=r,n||(n=!0,Gt.call(window,(()=>{n=!1,e.apply(t,s)})))}}const Qt=e=>"start"===e?"left":"end"===e?"right":"center",Kt=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;function Xt(e,t,s){const n=t.length;let a=0,r=n;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:x,maxDefined:m}=i.getUserBounds();if(x){if(a=Math.min(Vt(l,d,u).lo,s?n:Vt(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,a+1).reverse().findIndex((e=>!Qe(e[o.axis])));a-=Math.max(0,e)}a=Bt(a,0,n-1)}if(m){let e=Math.max(Vt(l,i.axis,h,!0).hi+1,s?0:Vt(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!Qe(e[o.axis])));e+=Math.max(0,t)}r=Bt(e,a,n)-a}else r=n-a}return{start:a,count:r}}function Jt(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,a={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=a,!0;const r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,a),r}const Zt=e=>0===e||1===e,es=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*bt/s),ts=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*bt/s)+1,ss={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*wt),easeOutSine:e=>Math.sin(e*wt),easeInOutSine:e=>-.5*(Math.cos(gt*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Zt(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Zt(e)?e:es(e,.075,.3),easeOutElastic:e=>Zt(e)?e:ts(e,.075,.3),easeInOutElastic(e){const t=.1125;return Zt(e)?e:e<.5?.5*es(2*e,t,.45):.5+.5*ts(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ss.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*ss.easeInBounce(2*e):.5*ss.easeOutBounce(2*e-1)+.5};function ns(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function as(e){return ns(e)?e:new $e(e)}function rs(e){return ns(e)?e:new $e(e).saturate(.5).darken(.1).hexString()}const is=["x","y","borderWidth","radius","tension"],os=["color","borderColor","backgroundColor"];const ls=new Map;function cs(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let n=ls.get(s);return n||(n=new Intl.NumberFormat(e,t),ls.set(s,n)),n}(t,s).format(e)}const ds={values:e=>Ke(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const n=this.chart.options.locale;let a,r=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),r=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const i=_t(Math.abs(r)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),cs(e,n,l)},logarithmic(e,t,s){if(0===e)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(_t(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?ds.numeric.call(this,e,t,s):""}};var us={formatters:ds};const hs=Object.create(null),xs=Object.create(null);function ms(e,t){if(!t)return e;const s=t.split(".");for(let n=0,a=s.length;n<a;++n){const t=s[n];e=e[t]||(e[t]=Object.create(null))}return e}function fs(e,t,s){return"string"===typeof t?lt(ms(e,t),s):lt(ms(e,""),t)}class ps{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>rs(t.backgroundColor),this.hoverBorderColor=(e,t)=>rs(t.borderColor),this.hoverColor=(e,t)=>rs(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return fs(this,e,t)}get(e){return ms(this,e)}describe(e,t){return fs(xs,e,t)}override(e,t){return fs(hs,e,t)}route(e,t,s,n){const a=ms(this,e),r=ms(this,s),i="_"+t;Object.defineProperties(a,{[i]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=r[n];return Xe(e)?Object.assign({},t,e):et(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach((e=>e(this)))}}var gs=new ps({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:os},numbers:{type:"number",properties:is}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:us.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function bs(e,t,s,n,a){let r=t[a];return r||(r=t[a]=e.measureText(a).width,s.push(a)),r>n&&(n=r),n}function ys(e,t,s,n){let a=(n=n||{}).data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},r=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let i=0;const o=s.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=s[l],void 0===u||null===u||Ke(u)){if(Ke(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||Ke(h)||(i=bs(e,a,r,i,h))}else i=bs(e,a,r,i,u);e.restore();const x=r.length/2;if(x>s.length){for(l=0;l<x;l++)delete a[r[l]];r.splice(0,x)}return i}function vs(e,t,s){const n=e.currentDevicePixelRatio,a=0!==s?Math.max(s/2,.5):0;return Math.round((t-a)*n)/n+a}function js(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ws(e,t,s,n){Ns(e,t,s,n,null)}function Ns(e,t,s,n,a){let r,i,o,l,c,d,u,h;const x=t.pointStyle,m=t.rotation,f=t.radius;let p=(m||0)*jt;if(x&&"object"===typeof x&&(r=x.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(s,n),e.rotate(p),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),x){default:a?e.ellipse(s,n,a/2,f,0,0,bt):e.arc(s,n,f,0,bt),e.closePath();break;case"triangle":d=a?a/2:f,e.moveTo(s+Math.sin(p)*d,n-Math.cos(p)*f),p+=kt,e.lineTo(s+Math.sin(p)*d,n-Math.cos(p)*f),p+=kt,e.lineTo(s+Math.sin(p)*d,n-Math.cos(p)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,i=Math.cos(p+Nt)*l,u=Math.cos(p+Nt)*(a?a/2-c:l),o=Math.sin(p+Nt)*l,h=Math.sin(p+Nt)*(a?a/2-c:l),e.arc(s-u,n-o,c,p-gt,p-wt),e.arc(s+h,n-i,c,p-wt,p),e.arc(s+u,n+o,c,p,p+wt),e.arc(s-h,n+i,c,p+wt,p+gt),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*f,d=a?a/2:l,e.rect(s-d,n-l,2*d,2*l);break}p+=Nt;case"rectRot":u=Math.cos(p)*(a?a/2:f),i=Math.cos(p)*f,o=Math.sin(p)*f,h=Math.sin(p)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+h,n-i),e.lineTo(s+u,n+o),e.lineTo(s-h,n+i),e.closePath();break;case"crossRot":p+=Nt;case"cross":u=Math.cos(p)*(a?a/2:f),i=Math.cos(p)*f,o=Math.sin(p)*f,h=Math.sin(p)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i);break;case"star":u=Math.cos(p)*(a?a/2:f),i=Math.cos(p)*f,o=Math.sin(p)*f,h=Math.sin(p)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i),p+=Nt,u=Math.cos(p)*(a?a/2:f),i=Math.cos(p)*f,o=Math.sin(p)*f,h=Math.sin(p)*(a?a/2:f),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i);break;case"line":i=a?a/2:Math.cos(p)*f,o=Math.sin(p)*f,e.moveTo(s-i,n-o),e.lineTo(s+i,n+o);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(p)*(a?a/2:f),n+Math.sin(p)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function ks(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function _s(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ss(e){e.restore()}function Cs(e,t,s,n,a){if(!t)return e.lineTo(s.x,s.y);if("middle"===a){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else"after"===a!==!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function As(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function Ms(e,t,s,n,a){if(a.strikethrough||a.underline){const r=e.measureText(n),i=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function Ls(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Es(e,t,s,n,a){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=Ke(t)?t:[t],o=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Qe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,r),l=0;l<i.length;++l)c=i[l],r.backdrop&&Ls(e,r.backdrop),o&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Qe(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,s,n,r.maxWidth)),e.fillText(c,s,n,r.maxWidth),Ms(e,s,n,c,r),n+=Number(a.lineHeight);e.restore()}function Ps(e,t){const{x:s,y:n,w:a,h:r,radius:i}=t;e.arc(s+i.topLeft,n+i.topLeft,i.topLeft,1.5*gt,gt,!0),e.lineTo(s,n+r-i.bottomLeft),e.arc(s+i.bottomLeft,n+r-i.bottomLeft,i.bottomLeft,gt,wt,!0),e.lineTo(s+a-i.bottomRight,n+r),e.arc(s+a-i.bottomRight,n+r-i.bottomRight,i.bottomRight,wt,0,!0),e.lineTo(s+a,n+i.topRight),e.arc(s+a-i.topRight,n+i.topRight,i.topRight,0,-wt,!0),e.lineTo(s+i.topLeft,n)}const zs=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Os=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ts(e,t){const s=(""+e).match(zs);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}function Rs(e,t){const s={},n=Xe(t),a=n?Object.keys(t):t,r=Xe(e)?n?s=>et(e[s],e[t[s]]):t=>e[t]:()=>e;for(const i of a)s[i]=+r(i)||0;return s}function Ds(e){return Rs(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Is(e){return Rs(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Bs(e){const t=Ds(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Fs(e,t){e=e||{},t=t||gs.font;let s=et(e.size,t.size);"string"===typeof s&&(s=parseInt(s,10));let n=et(e.style,t.style);n&&!(""+n).match(Os)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:et(e.family,t.family),lineHeight:Ts(et(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:et(e.weight,t.weight),string:""};return a.string=function(e){return!e||Qe(e.size)||Qe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function Ws(e,t,s,n){let a,r,i,o=!0;for(a=0,r=e.length;a<r;++a)if(i=e[a],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==s&&Ke(i)&&(i=i[s%i.length],o=!1),void 0!==i))return n&&!o&&(n.cacheable=!1),i}function Vs(e,t){return Object.assign(Object.create(e),t)}function Us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof s&&(s=en("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:s,_getTarget:n,override:n=>Us([n,...e],t,a,s)};return new Proxy(r,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,n)=>Ys(s,n,(()=>function(e,t,s,n){let a;for(const r of t)if(a=en($s(r,e),s),"undefined"!==typeof a)return Gs(e,a)?Js(s,n,e,a):a}(n,t,e,s))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>tn(e).includes(t),ownKeys:e=>tn(e),set(e,t,s){const a=e._storage||(e._storage=n());return e[t]=a[t]=s,delete e._keys,!0}})}function Hs(e,t,s,n){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:qs(e,n),setContext:t=>Hs(e,t,s,n),override:a=>Hs(e.override(a),t,s,n)};return new Proxy(a,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>Ys(e,t,(()=>function(e,t,s){const{_proxy:n,_context:a,_subProxy:r,_descriptors:i}=e;let o=n[t];ft(o)&&i.isScriptable(t)&&(o=function(e,t,s,n){const{_proxy:a,_context:r,_subProxy:i,_stack:o}=s;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,i||n);o.delete(e),Gs(e,l)&&(l=Js(a._scopes,a,e,l));return l}(t,o,e,s));Ke(o)&&o.length&&(o=function(e,t,s,n){const{_proxy:a,_context:r,_subProxy:i,_descriptors:o}=s;if("undefined"!==typeof r.index&&n(e))return t[r.index%t.length];if(Xe(t[0])){const s=t,n=a._scopes.filter((e=>e!==s));t=[];for(const l of s){const s=Js(n,a,e,l);t.push(Hs(s,r,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));Gs(t,o)&&(o=Hs(o,a,r&&r[t],i));return o}(e,t,s))),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,n)=>(e[s]=n,delete t[s],!0)})}function qs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:s,indexable:n,isScriptable:ft(s)?s:()=>s,isIndexable:ft(n)?n:()=>n}}const $s=(e,t)=>e?e+xt(t):t,Gs=(e,t)=>Xe(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ys(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=s();return e[t]=n,n}function Qs(e,t,s){return ft(e)?e(t,s):e}const Ks=(e,t)=>!0===e?t:"string"===typeof e?ht(t,e):void 0;function Xs(e,t,s,n,a){for(const r of t){const t=Ks(s,r);if(t){e.add(t);const r=Qs(t._fallback,s,a);if("undefined"!==typeof r&&r!==s&&r!==n)return r}else if(!1===t&&"undefined"!==typeof n&&s!==n)return null}return!1}function Js(e,t,s,n){const a=t._rootScopes,r=Qs(t._fallback,s,n),i=[...e,...a],o=new Set;o.add(n);let l=Zs(o,i,s,r||s,n);return null!==l&&(("undefined"===typeof r||r===s||(l=Zs(o,i,r,l,n),null!==l))&&Us(Array.from(o),[""],a,r,(()=>function(e,t,s){const n=e._getTarget();t in n||(n[t]={});const a=n[t];if(Ke(a)&&Xe(s))return s;return a||{}}(t,s,n))))}function Zs(e,t,s,n,a){for(;s;)s=Xs(e,t,s,n,a);return s}function en(e,t){for(const s of t){if(!s)continue;const t=s[e];if("undefined"!==typeof t)return t}}function tn(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function sn(e,t,s,n){const{iScale:a}=e,{key:r="r"}=this._parsing,i=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+s,d=t[c],i[o]={r:a.parse(ht(d,r),c)};return i}const nn=Number.EPSILON||1e-14,an=(e,t)=>t<e.length&&!e[t].skip&&e[t],rn=e=>"x"===e?"y":"x";function on(e,t,s,n){const a=e.skip?t:e,r=t,i=s.skip?t:s,o=Tt(r,a),l=Tt(i,r);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:r.x-u*(i.x-a.x),y:r.y-u*(i.y-a.y)},next:{x:r.x+h*(i.x-a.x),y:r.y+h*(i.y-a.y)}}}function ln(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const s=rn(t),n=e.length,a=Array(n).fill(0),r=Array(n);let i,o,l,c=an(e,0);for(i=0;i<n;++i)if(o=l,l=c,c=an(e,i+1),l){if(c){const e=c[t]-l[t];a[i]=0!==e?(c[s]-l[s])/e:0}r[i]=o?c?St(a[i-1])!==St(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}!function(e,t,s){const n=e.length;let a,r,i,o,l,c=an(e,0);for(let d=0;d<n-1;++d)l=c,c=an(e,d+1),l&&c&&(Ct(t[d],0,nn)?s[d]=s[d+1]=0:(a=s[d]/t[d],r=s[d+1]/t[d],o=Math.pow(a,2)+Math.pow(r,2),o<=9||(i=3/Math.sqrt(o),s[d]=a*i*t[d],s[d+1]=r*i*t[d])))}(e,a,r),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=rn(s),a=e.length;let r,i,o,l=an(e,0);for(let c=0;c<a;++c){if(i=o,o=l,l=an(e,c+1),!o)continue;const a=o[s],d=o[n];i&&(r=(a-i[s])/3,o["cp1".concat(s)]=a-r,o["cp1".concat(n)]=d-r*t[c]),l&&(r=(l[s]-a)/3,o["cp2".concat(s)]=a+r,o["cp2".concat(n)]=d+r*t[c])}}(e,r,t)}function cn(e,t,s){return Math.max(Math.min(e,s),t)}function dn(e,t,s,n,a){let r,i,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)ln(e,a);else{let s=n?e[e.length-1]:e[0];for(r=0,i=e.length;r<i;++r)o=e[r],l=on(s,o,e[Math.min(r+1,i-(n?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,s=o}t.capBezierPoints&&function(e,t){let s,n,a,r,i,o=ks(e[0],t);for(s=0,n=e.length;s<n;++s)i=r,r=o,o=s<n-1&&ks(e[s+1],t),r&&(a=e[s],i&&(a.cp1x=cn(a.cp1x,t.left,t.right),a.cp1y=cn(a.cp1y,t.top,t.bottom)),o&&(a.cp2x=cn(a.cp2x,t.left,t.right),a.cp2y=cn(a.cp2y,t.top,t.bottom)))}(e,s)}function un(){return"undefined"!==typeof window&&"undefined"!==typeof document}function hn(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function xn(e,t,s){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[s])):n=e,n}const mn=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const fn=["top","right","bottom","left"];function pn(e,t,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const r=fn[a];n[r]=parseFloat(e[t+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function gn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,a=mn(s),r="border-box"===a.boxSizing,i=pn(a,"padding"),o=pn(a,"border","width"),{x:l,y:c,box:d}=function(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:a,offsetY:r}=n;let i,o,l=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(a,r,e.target))i=a,o=r;else{const e=t.getBoundingClientRect();i=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,s),u=i.left+(d&&o.left),h=i.top+(d&&o.top);let{width:x,height:m}=t;return r&&(x-=i.width+o.width,m-=i.height+o.height),{x:Math.round((l-u)/x*s.width/n),y:Math.round((c-h)/m*s.height/n)}}const bn=e=>Math.round(10*e)/10;function yn(e,t,s,n){const a=mn(e),r=pn(a,"margin"),i=xn(a.maxWidth,e,"clientWidth")||vt,o=xn(a.maxHeight,e,"clientHeight")||vt,l=function(e,t,s){let n,a;if(void 0===t||void 0===s){const r=e&&hn(e);if(r){const e=r.getBoundingClientRect(),i=mn(r),o=pn(i,"border","width"),l=pn(i,"padding");t=e.width-l.width-o.width,s=e.height-l.height-o.height,n=xn(i.maxWidth,r,"clientWidth"),a=xn(i.maxHeight,r,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:n||vt,maxHeight:a||vt}}(e,t,s);let{width:c,height:d}=l;if("content-box"===a.boxSizing){const e=pn(a,"border","width"),t=pn(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-r.width),d=Math.max(0,n?c/n:d-r.height),c=bn(Math.min(c,i,l.maxWidth)),d=bn(Math.min(d,o,l.maxHeight)),c&&!d&&(d=bn(c/2));return(void 0!==t||void 0!==s)&&n&&l.height&&d>l.height&&(d=l.height,c=bn(Math.floor(d*n))),{width:c,height:d}}function vn(e,t,s){const n=t||1,a=Math.floor(e.height*n),r=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const i=e.canvas;return i.style&&(s||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||i.height!==a||i.width!==r)&&(e.currentDevicePixelRatio=n,i.height=a,i.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0)}const jn=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};un()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function wn(e,t){const s=function(e,t){return mn(e).getPropertyValue(t)}(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Nn(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function kn(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:"middle"===n?s<.5?e.y:t.y:"after"===n?s<1?e.y:t.y:s>0?t.y:e.y}}function _n(e,t,s,n){const a={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},i=Nn(e,a,s),o=Nn(a,r,s),l=Nn(r,t,s),c=Nn(i,o,s),d=Nn(o,l,s);return Nn(c,d,s)}function Sn(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Cn(e,t){let s,n;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function An(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Mn(e){return"angle"===e?{between:It,compare:Rt,normalize:Dt}:{between:Ft,compare:(e,t)=>e-t,normalize:e=>e}}function Ln(e){let{start:t,end:s,count:n,loop:a,style:r}=e;return{start:t%n,end:s%n,loop:a&&(s-t+1)%n===0,style:r}}function En(e,t,s){if(!s)return[e];const{property:n,start:a,end:r}=s,i=t.length,{compare:o,between:l,normalize:c}=Mn(n),{start:d,end:u,loop:h,style:x}=function(e,t,s){const{property:n,start:a,end:r}=s,{between:i,normalize:o}=Mn(n),l=t.length;let c,d,{start:u,end:h,loop:x}=e;if(x){for(u+=l,h+=l,c=0,d=l;c<d&&i(o(t[u%l][n]),a,r);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:x,style:e.style}}(e,t,s),m=[];let f,p,g,b=!1,y=null;const v=()=>b||l(a,g,f)&&0!==o(a,g),j=()=>!b||0===o(r,f)||l(r,g,f);for(let w=d,N=d;w<=u;++w)p=t[w%i],p.skip||(f=c(p[n]),f!==g&&(b=l(f,a,r),null===y&&v()&&(y=0===o(f,a)?w:N),null!==y&&j()&&(m.push(Ln({start:y,end:w,loop:h,count:i,style:x})),y=null),N=w,g=f));return null!==y&&m.push(Ln({start:y,end:u,loop:h,count:i,style:x})),m}function Pn(e,t){const s=[],n=e.segments;for(let a=0;a<n.length;a++){const r=En(n[a],e.points,t);r.length&&s.push(...r)}return s}function zn(e,t,s,n){return n&&n.setContext&&s?function(e,t,s,n){const a=e._chart.getContext(),r=On(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=s.length,c=[];let d=r,u=t[0].start,h=u;function x(e,t,n,a){const r=o?-1:1;if(e!==t){for(e+=l;s[e%l].skip;)e-=r;for(;s[t%l].skip;)t+=r;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:n,style:a}),d=a,u=t%l)}}for(const m of t){u=o?u:m.start;let e,t=s[u%l];for(h=u+1;h<=m.end;h++){const r=s[h%l];e=On(n.setContext(Vs(a,{type:"segment",p0:t,p1:r,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:i}))),Tn(e,d)&&x(u,h-1,m.loop,d),t=r,d=e}u<h-1&&x(u,h-1,m.loop,d)}return c}(e,t,s,n):t}function On(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Tn(e,t){if(!t)return!1;const s=[],n=function(e,t){return ns(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Rn(e,t,s){return e.options.clip?e[s]:t[s]}function Dn(e,t){const s=t._clip;if(s.disabled)return!1;const n=function(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Rn(s,t,"left"),right:Rn(s,t,"right"),top:Rn(n,t,"top"),bottom:Rn(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:n.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:n.right+(!0===s.right?0:s.right),top:!1===s.top?0:n.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:n.bottom+(!0===s.bottom?0:s.bottom)}}class In{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,n){const a=t.listeners[n],r=t.duration;a.forEach((n=>n({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(s-t.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=Gt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((s,n)=>{if(!s.running||!s.items.length)return;const a=s.items;let r,i=a.length-1,o=!1;for(;i>=0;--i)r=a[i],r._active?(r._total>s.duration&&(s.duration=r._total),r.tick(e),o=!0):(a[i]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,s,e,"progress")),a.length||(s.running=!1,this._notify(n,s,e,"complete"),s.initial=!1),t+=a.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bn=new In;const Fn="transparent",Wn={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const n=as(e||Fn),a=n.valid&&as(t||Fn);return a&&a.valid?a.mix(n,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class Vn{constructor(e,t,s,n){const a=t[s];n=Ws([e.to,n,a,e.from]);const r=Ws([e.from,a,n]);this._active=!0,this._fn=e.fn||Wn[e.type||typeof r],this._easing=ss[e.easing]||ss.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const n=this._target[this._prop],a=s-this._start,r=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Ws([e.to,t,n,e.from]),this._from=Ws([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,n=this._prop,a=this._from,r=this._loop,i=this._to;let o;if(this._active=a!==i&&(r||t<s),!this._active)return this._target[n]=i,void this._notify(!0);t<0?this._target[n]=a:(o=t/s%2,o=r&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(a,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,s)=>{e.push({res:t,rej:s})}))}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][t]()}}class Un{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Xe(e))return;const t=Object.keys(gs.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const a=e[n];if(!Xe(a))return;const r={};for(const e of t)r[e]=a[e];(Ke(a.properties)&&a.properties||[n]).forEach((e=>{e!==n&&s.has(e)||s.set(e,r)}))}))}_animateOptions(e,t){const s=t.options,n=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!n)return[];const a=this._createAnimations(n,s);return s.$shared&&function(e,t){const s=[],n=Object.keys(t);for(let a=0;a<n.length;a++){const t=e[n[a]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then((()=>{e.options=s}),(()=>{})),a}_createAnimations(e,t){const s=this._properties,n=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),i=Date.now();let o;for(o=r.length-1;o>=0;--o){const l=r[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=a[l];const u=s.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(a[l]=d=new Vn(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(Bn.add(this._chart,s),!0):void 0}}function Hn(e,t){const s=e&&e.options||{},n=s.reverse,a=void 0===s.min?t:0,r=void 0===s.max?t:0;return{start:n?r:a,end:n?a:r}}function qn(e,t){const s=[],n=e._getSortedDatasetMetas(t);let a,r;for(a=0,r=n.length;a<r;++a)s.push(n[a].index);return s}function $n(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.keys,r="single"===n.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=a.length;i<o;++i){if(l=+a[i],l===s){if(d=!0,n.all)continue;break}c=e.values[l],Je(c)&&(r||0===t||St(t)===St(c))&&(t+=c)}return d||n.all?t:0}function Gn(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function Yn(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Qn(e,t,s,n){for(const a of t.getMatchingVisibleMetas(n).reverse()){const t=e[a.index];if(s&&t>0||!s&&t<0)return a.index}return null}function Kn(e,t){const{chart:s,_cachedMeta:n}=e,a=s._stacks||(s._stacks={}),{iScale:r,vScale:i,index:o}=n,l=r.axis,c=i.axis,d=function(e,t,s){return"".concat(e.id,".").concat(t.id,".").concat(s.stack||s.type)}(r,i,n),u=t.length;let h;for(let x=0;x<u;++x){const e=t[x],{[l]:s,[c]:r}=e;h=(e._stacks||(e._stacks={}))[c]=Yn(a,d,s),h[o]=r,h._top=Qn(h,i,!0,n.type),h._bottom=Qn(h,i,!1,n.type);(h._visualValues||(h._visualValues={}))[o]=r}}function Xn(e,t){const s=e.scales;return Object.keys(s).filter((e=>s[e].axis===t)).shift()}function Jn(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][s])return;delete t[n][s],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[s]&&delete t[n]._visualValues[s]}}}const Zn=e=>"reset"===e||"none"===e,ea=(e,t)=>t?e:Object.assign({},e);class ta{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),n=(e,t,s,n)=>"x"===e?t:"r"===e?n:s,a=t.xAxisID=et(s.xAxisID,Xn(e,"x")),r=t.yAxisID=et(s.yAxisID,Xn(e,"y")),i=t.rAxisID=et(s.rAxisID,Xn(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,a,r,i),c=t.vAxisID=n(o,r,a,i);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&qt(this._data,this),e._stacked&&Jn(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Xe(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:n}=t,a="x"===s.axis?"x":"y",r="x"===n.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[a]:d,[r]:e[d]};return o}(t,e)}else if(s!==t){if(s){qt(s,this);const e=this._cachedMeta;Jn(e),e._parsed=[]}t&&Object.isExtensible(t)&&(a=this,(n=t)._chartjs?n._chartjs.listeners.push(a):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),Ht.forEach((e=>{const t="_onData"+xt(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];const i=s.apply(this,a);return n._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...a)})),i}})})))),this._syncList=[],this._data=t}var n,a}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const a=t._stacked;t._stacked=Gn(t.vScale,t),t.stack!==s.stack&&(n=!0,Jn(t),t.stack=s.stack),this._resyncElements(e),(n||a!==t._stacked)&&(Kn(this,t._parsed),t._stacked=Gn(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:n}=this,{iScale:a,_stacked:r}=s,i=a.axis;let o,l,c,d=0===e&&t===n.length||s._sorted,u=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=n,s._sorted=!0,c=n;else{c=Ke(n[e])?this.parseArrayData(s,n,e,t):Xe(n[e])?this.parseObjectData(s,n,e,t):this.parsePrimitiveData(s,n,e,t);const a=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)s._parsed[o+e]=l=c[o],d&&(a()&&(d=!1),u=l);s._sorted=d}r&&Kn(this,c)}parsePrimitiveData(e,t,s,n){const{iScale:a,vScale:r}=e,i=a.axis,o=r.axis,l=a.getLabels(),c=a===r,d=new Array(n);let u,h,x;for(u=0,h=n;u<h;++u)x=u+s,d[u]={[i]:c||a.parse(l[x],x),[o]:r.parse(t[x],x)};return d}parseArrayData(e,t,s,n){const{xScale:a,yScale:r}=e,i=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+s,d=t[c],i[o]={x:a.parse(d[0],c),y:r.parse(d[1],c)};return i}parseObjectData(e,t,s,n){const{xScale:a,yScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+s,h=t[u],l[c]={x:a.parse(ht(h,i),u),y:r.parse(ht(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const n=this.chart,a=this._cachedMeta,r=t[e.axis];return $n({keys:qn(n,!0),values:t._stacks[e.axis]._visualValues},r,a.index,{mode:s})}updateRangeFromParsed(e,t,s,n){const a=s[t.axis];let r=null===a?NaN:a;const i=n&&s._stacks[t.axis];n&&i&&(n.values=i,r=$n(n,a,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const s=this._cachedMeta,n=s._parsed,a=s._sorted&&e===s.iScale,r=n.length,i=this._getOtherScale(e),o=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:qn(s,!0),values:null})(t,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:n,maxDefined:a}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}(i);let u,h;function x(){h=n[u];const t=h[i.axis];return!Je(h[e.axis])||c>t||d<t}for(u=0;u<r&&(x()||(this.updateRangeFromParsed(l,e,h,o),!a));++u);if(a)for(u=r-1;u>=0;--u)if(!x()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let n,a,r;for(n=0,a=t.length;n<a;++n)r=t[n][e.axis],Je(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,n=t.vScale,a=this.getParsed(e);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:n?""+n.getLabelForValue(a[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,n,a;return Xe(e)?(t=e.top,s=e.right,n=e.bottom,a=e.left):t=s=n=a=e,{top:t,right:s,bottom:n,left:a,disabled:!1===e}}(et(this.options.clip,function(e,t,s){if(!1===s)return!1;const n=Hn(e,s),a=Hn(t,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,n=s.data||[],a=t.chartArea,r=[],i=this._drawStart||0,o=this._drawCount||n.length-i,l=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,a,i,o),c=i;c<i+o;++c){const t=n[c];t.hidden||(t.active&&l?r.push(t):t.draw(e,a))}for(c=0;c<r.length;++c)r[c].draw(e,a)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const n=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,s){return Vs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=n.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return Vs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=n,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=s,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;const n="active"===t,a=this._cachedDataOpts,r=e+"-"+t,i=a[r],o=this.enableOptionSharing&&mt(s);if(i)return ea(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(gs.elements[e]),x=l.resolveNamedOptions(u,h,(()=>this.getContext(s,n,t)),d);return x.$shared&&(x.$shared=o,a[r]=Object.freeze(ea(x,o))),x}_resolveAnimations(e,t,s){const n=this.chart,a=this._cachedDataOpts,r="animation-".concat(t),i=a[r];if(i)return i;let o;if(!1!==n.options.animation){const n=this.chart.config,a=n.datasetAnimationScopeKeys(this._type,t),r=n.getOptionScopes(this.getDataset(),a);o=n.createResolver(r,this.getContext(e,s,t))}const l=new Un(n,o&&o.animations);return o&&o._cacheable&&(a[r]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Zn(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),n=this._sharedOptions,a=this.getSharedOptions(s),r=this.includeOptions(t,a)||a!==n;return this.updateSharedOptions(a,t,s),{sharedOptions:a,includeOptions:r}}updateElement(e,t,s,n){Zn(n)?Object.assign(e,s):this._resolveAnimations(t,n).update(e,s)}updateSharedOptions(e,t,s){e&&!Zn(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,n){e.active=n;const a=this.getStyle(t,n);this._resolveAnimations(t,s,n).update(e,{options:!n&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const n=s.length,a=t.length,r=Math.min(a,n);r&&this.parse(0,r),a>n?this._insertElements(n,a-n,e):a<n&&this._removeElements(a,n-a)}_insertElements(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,a=n.data,r=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=r;i--)e[i]=e[i-t]};for(o(a),i=e;i<r;++i)a[i]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),s&&this.updateElements(a,e,t,"reset")}updateElements(e,t,s,n){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(e,t);s._stacked&&Jn(s,n)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,n]=e;this[t](s,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function sa(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,a=s.length;t<a;t++)n=n.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=$t(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,a,r,i,o=t._length;const l=()=>{32767!==r&&-32768!==r&&(mt(i)&&(o=Math.min(o,Math.abs(r-i)||o)),i=r)};for(n=0,a=s.length;n<a;++n)r=t.getPixelForValue(s[n]),l();for(i=void 0,n=0,a=t.ticks.length;n<a;++n)r=t.getPixelForTick(n),l();return o}function na(e,t,s,n){return Ke(e)?function(e,t,s,n){const a=s.parse(e[0],n),r=s.parse(e[1],n),i=Math.min(a,r),o=Math.max(a,r);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:a,end:r,min:i,max:o}}(e,t,s,n):t[s.axis]=s.parse(e,n),t}function aa(e,t,s,n){const a=e.iScale,r=e.vScale,i=a.getLabels(),o=a===r,l=[];let c,d,u,h;for(c=s,d=s+n;c<d;++c)h=t[c],u={},u[a.axis]=o||a.parse(i[c],c),l.push(na(h,u,r,c));return l}function ra(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ia(e,t,s,n){let a=t.borderSkipped;const r={};if(!a)return void(e.borderSkipped=r);if(!0===a)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:d}=function(e){let t,s,n,a,r;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(a="end",r="start"):(a="start",r="end"),{start:s,end:n,reverse:t,top:a,bottom:r}}(e);"middle"===a&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?a=c:(s._bottom||0)===n?a=d:(r[oa(d,i,o,l)]=!0,a=c)),r[oa(a,i,o,l)]=!0,e.borderSkipped=r}function oa(e,t,s,n){var a,r,i;return n?(i=s,e=la(e=(a=e)===(r=t)?i:a===i?r:a,s,t)):e=la(e,t,s),e}function la(e,t,s){return"start"===e?t:"end"===e?s:e}function ca(e,t,s){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===s?.33:0:n}(0,xe.A)(ta,"defaults",{}),(0,xe.A)(ta,"datasetElementType",null),(0,xe.A)(ta,"dataElementType",null);class da extends ta{parsePrimitiveData(e,t,s,n){return aa(e,t,s,n)}parseArrayData(e,t,s,n){return aa(e,t,s,n)}parseObjectData(e,t,s,n){const{iScale:a,vScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===a.axis?i:o,c="x"===r.axis?i:o,d=[];let u,h,x,m;for(u=s,h=s+n;u<h;++u)m=t[u],x={},x[a.axis]=a.parse(ht(m,l),u),d.push(na(ht(m,c),x,r,u));return d}updateRangeFromParsed(e,t,s,n){super.updateRangeFromParsed(e,t,s,n);const a=s._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:n}=t,a=this.getParsed(e),r=a._custom,i=ra(r)?"["+r.start+", "+r.end+"]":""+n.getLabelForValue(a[n.axis]);return{label:""+s.getLabelForValue(a[s.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,n){const a="reset"===n,{index:r,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+s;h++){const t=this.getParsed(h),s=a||Qe(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),x=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[i.axis],f={horizontal:l,base:s.base,enableBorderRadius:!m||ra(t._custom)||r===m._top||r===m._bottom,x:l?s.head:x.center,y:l?x.center:s.head,height:l?x.size:Math.abs(s.size),width:l?Math.abs(s.size):x.size};u&&(f.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const p=f.options||e[h].options;ia(f,p,m,r),ca(f,p,c.ratio),this.updateElement(e[h],h,f,n)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),a=s.options.stacked,r=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[s.axis],l=e=>{const t=e._parsed.find((e=>e[s.axis]===o)),n=t&&t[e.vScale.axis];if(Qe(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!l(c))&&((!1===a||-1===r.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&r.push(c.stack),c.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter((s=>e[s].axis===t)).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[et("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const n=this._getStacks(e,s),a=void 0!==t?n.indexOf(t):-1;return-1===a?n.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,n=[];let a,r;for(a=0,r=t.data.length;a<r;++a)n.push(s.getPixelForValue(this.getParsed(a)[s.axis],a));const i=e.barThickness;return{min:i||sa(t),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:n},options:{base:a,minBarLength:r}}=this,i=a||0,o=this.getParsed(e),l=o._custom,c=ra(l);let d,u,h=o[t.axis],x=0,m=s?this.applyStack(t,o,s):h;m!==h&&(x=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&St(h)!==St(l.barEnd)&&(x=0),x+=h);const f=Qe(a)||c?x:a;let p=t.getPixelForValue(f);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(x+m):p,u=d-p,Math.abs(u)<r){u=function(e,t,s){return 0!==e?St(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(u,t,i)*r,h===i&&(p-=u/2);const e=t.getPixelForDecimal(0),a=t.getPixelForDecimal(1),l=Math.min(e,a),x=Math.max(e,a);p=Math.max(Math.min(p,x),l),d=p+u,s&&!c&&(o._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(p))}if(p===t.getPixelForValue(i)){const e=St(u)*t.getLineWidthForValue(i)/2;p+=e,u-=e}return{size:u,base:p,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const s=t.scale,n=this.options,a=n.skipNull,r=et(n.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const s=a?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,s,n){const a=t.pixels,r=a[e];let i=e>0?a[e-1]:null,o=e<a.length-1?a[e+1]:null;const l=s.categoryPercentage;null===i&&(i=r-(null===o?t.end-t.start:o-r)),null===o&&(o=r+r-i);const c=r-(r-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/n,ratio:s.barPercentage,start:c}}(e,t,n,s*l):function(e,t,s,n){const a=s.barThickness;let r,i;return Qe(a)?(r=t.min*s.categoryPercentage,i=s.barPercentage):(r=a*n,i=1),{chunk:r/n,ratio:i,start:t.pixels[e]-r/2}}(e,t,n,s*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(et(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+u;i=c.start+c.chunk*h+c.chunk/2,o=Math.min(r,c.chunk*c.ratio)}else i=s.getPixelForValue(this.getParsed(e)[s.axis],e),o=Math.min(r,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,n=s.length;let a=0;for(;a<n;++a)null===this.getParsed(a)[t.axis]||s[a].hidden||s[a].draw(this._ctx)}}(0,xe.A)(da,"id","bar"),(0,xe.A)(da,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,xe.A)(da,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ua extends ta{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,n){const a=super.parsePrimitiveData(e,t,s,n);for(let r=0;r<a.length;r++)a[r]._custom=this.resolveDataElementOptions(r+s).radius;return a}parseArrayData(e,t,s,n){const a=super.parseArrayData(e,t,s,n);for(let r=0;r<a.length;r++){const e=t[s+r];a[r]._custom=et(e[2],this.resolveDataElementOptions(r+s).radius)}return a}parseObjectData(e,t,s,n){const a=super.parseObjectData(e,t,s,n);for(let r=0;r<a.length;r++){const e=t[s+r];a[r]._custom=et(e&&e.r&&+e.r,this.resolveDataElementOptions(r+s).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:a}=t,r=this.getParsed(e),i=n.getLabelForValue(r.x),o=a.getLabelForValue(r.y),l=r._custom;return{label:s[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,n){const a="reset"===n,{iScale:r,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),c=r.axis,d=i.axis;for(let u=t;u<t+s;u++){const t=e[u],s=!a&&this.getParsed(u),h={},x=h[c]=a?r.getPixelForDecimal(.5):r.getPixelForValue(s[c]),m=h[d]=a?i.getBasePixel():i.getPixelForValue(s[d]);h.skip=isNaN(x)||isNaN(m),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":n),a&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const a=n.radius;return"active"!==t&&(n.radius=0),n.radius+=et(s&&s._custom,a),n}}(0,xe.A)(ua,"id","bubble"),(0,xe.A)(ua,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,xe.A)(ua,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class ha extends ta{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=s;else{let a,r,i=e=>+s[e];if(Xe(s[e])){const{key:e="value"}=this._parsing;i=t=>+ht(s[t],e)}for(a=e,r=e+t;a<r;++a)n._parsed[a]=i(a)}}_getRotation(){return Et(this.options.rotation-90)}_getCircumference(){return Et(this.options.circumference)}_getRotationExtents(){let e=bt,t=-bt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,a=n._getRotation(),r=n._getCircumference();e=Math.min(e,a),t=Math.max(t,a+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,n=this._cachedMeta,a=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,i=Math.max((Math.min(s.width,s.height)-r)/2,0),o=Math.min((l=this.options.cutout,c=i,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:x,ratioY:m,offsetX:f,offsetY:p}=function(e,t,s){let n=1,a=1,r=0,i=0;if(t<bt){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),x=(e,t,n)=>It(e,o,l,!0)?1:Math.max(t,t*s,n,n*s),m=(e,t,n)=>It(e,o,l,!0)?-1:Math.min(t,t*s,n,n*s),f=x(0,c,u),p=x(wt,d,h),g=m(gt,c,u),b=m(gt+wt,d,h);n=(f-g)/2,a=(p-b)/2,r=-(f+g)/2,i=-(p+b)/2}return{ratioX:n,ratioY:a,offsetX:r,offsetY:i}}(h,u,o),g=(s.width-r)/x,b=(s.height-r)/m,y=Math.max(Math.min(g,b)/2,0),v=tt(this.options.radius,y),j=(v-Math.max(v*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*v,this.offsetY=p*v,n.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const s=this.options,n=this._cachedMeta,a=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*a/bt)}updateElements(e,t,s,n){const a="reset"===n,r=this.chart,i=r.chartArea,o=r.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=a&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:x,includeOptions:m}=this._getSharedOptions(t,n);let f,p=this._getRotation();for(f=0;f<t;++f)p+=this._circumference(f,a);for(f=t;f<t+s;++f){const t=this._circumference(f,a),s=e[f],r={x:l+this.offsetX,y:c+this.offsetY,startAngle:p,endAngle:p+t,circumference:t,outerRadius:h,innerRadius:u};m&&(r.options=x||this.resolveDataElementOptions(f,s.active?"active":n)),p+=t,this.updateElement(s,f,r,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,n=0;for(s=0;s<t.length;s++){const a=e._parsed[s];null===a||isNaN(a)||!this.chart.getDataVisibility(s)||t[s].hidden||(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?bt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],a=cs(t._parsed[e],s.options.locale);return{label:n[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const s=this.chart;let n,a,r,i,o;if(!e)for(n=0,a=s.data.datasets.length;n<a;++n)if(s.isDatasetVisible(n)){r=s.getDatasetMeta(n),e=r.data,i=r.controller;break}if(!e)return 0;for(n=0,a=e.length;n<a;++n)o=i.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,n=e.length;s<n;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(et(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,xe.A)(ha,"id","doughnut"),(0,xe.A)(ha,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,xe.A)(ha,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,xe.A)(ha,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:n}}=e.legend.options;return t.labels.map(((t,a)=>{const r=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class xa extends ta{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:n=[],_dataset:a}=t,r=this.chart._animationsDisabled;let{start:i,count:o}=Xt(t,n,r);this._drawStart=i,this._drawCount=o,Jt(t)&&(i=0,o=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:l},e),this.updateElements(n,i,o,e)}updateElements(e,t,s,n){const a="reset"===n,{iScale:r,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=r.axis,h=i.axis,{spanGaps:x,segment:m}=this.options,f=Mt(x)?x:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||a||"none"===n,g=t+s,b=e.length;let y=t>0&&this.getParsed(t-1);for(let v=0;v<b;++v){const s=e[v],x=p?s:{};if(v<t||v>=g){x.skip=!0;continue}const b=this.getParsed(v),j=Qe(b[h]),w=x[u]=r.getPixelForValue(b[u],v),N=x[h]=a||j?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,b,o):b[h],v);x.skip=isNaN(w)||isNaN(N)||j,x.stop=v>0&&Math.abs(b[u]-y[u])>f,m&&(x.parsed=b,x.raw=l.data[v]),d&&(x.options=c||this.resolveDataElementOptions(v,s.active?"active":n)),p||this.updateElement(s,v,x,n),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return s;const a=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,a,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,xe.A)(xa,"id","line"),(0,xe.A)(xa,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,xe.A)(xa,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ma extends ta{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],a=cs(t._parsed[e].r,s.options.locale);return{label:n[e]||"",value:a}}parseObjectData(e,t,s,n){return sn.bind(this)(e,t,s,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,s)=>{const n=this.getParsed(s).r;!isNaN(n)&&this.chart.getDataVisibility(s)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(n/2,0),r=(a-Math.max(s.cutoutPercentage?a/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,s,n){const a="reset"===n,r=this.chart,i=r.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*gt;let u,h=d;const x=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,n,x);for(u=t;u<t+s;u++){const t=e[u];let s=h,m=h+this._computeAngle(u,n,x),f=r.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=m,a&&(i.animateScale&&(f=0),i.animateRotate&&(s=m=d));const p={x:l,y:c,innerRadius:0,outerRadius:f,startAngle:s,endAngle:m,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,p,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++})),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?Et(this.resolveDataElementOptions(e,t).angle||s):0}}(0,xe.A)(ma,"id","polarArea"),(0,xe.A)(ma,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,xe.A)(ma,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:n}}=e.legend.options;return t.labels.map(((t,a)=>{const r=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}}))}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class fa extends ha{}(0,xe.A)(fa,"id","pie"),(0,xe.A)(fa,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class pa extends ta{getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,n){return sn.bind(this)(e,t,s,n)}update(e){const t=this._cachedMeta,s=t.dataset,n=t.data||[],a=t.iScale.getLabels();if(s.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const r={_loop:!0,_fullLoop:a.length===n.length,options:t};this.updateElement(s,void 0,r,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,s,n){const a=this._cachedMeta.rScale,r="reset"===n;for(let i=t;i<t+s;i++){const t=e[i],s=this.resolveDataElementOptions(i,t.active?"active":n),o=a.getPointPositionForValue(i,this.getParsed(i).r),l=r?a.xCenter:o.x,c=r?a.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:s};this.updateElement(t,i,d,n)}}}(0,xe.A)(pa,"id","radar"),(0,xe.A)(pa,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,xe.A)(pa,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ga extends ta{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:a}=t,r=this.getParsed(e),i=n.getLabelForValue(r.x),o=a.getLabelForValue(r.y);return{label:s[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,n=this.chart._animationsDisabled;let{start:a,count:r}=Xt(t,s,n);if(this._drawStart=a,this._drawCount=r,Jt(t)&&(a=0,r=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:r}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!r._decimated,a.points=s;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,a,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,n){const a="reset"===n,{iScale:r,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),h=r.axis,x=i.axis,{spanGaps:m,segment:f}=this.options,p=Mt(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||a||"none"===n;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+s;++y){const t=e[y],s=this.getParsed(y),c=g?t:{},m=Qe(s[x]),v=c[h]=r.getPixelForValue(s[h],y),j=c[x]=a||m?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,s,o):s[x],y);c.skip=isNaN(v)||isNaN(j)||m,c.stop=y>0&&Math.abs(s[h]-b[h])>p,f&&(c.parsed=s,c.raw=l.data[y]),u&&(c.options=d||this.resolveDataElementOptions(y,t.active?"active":n)),g||this.updateElement(t,y,c,n),b=s}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}const s=e.dataset,n=s.options&&s.options.borderWidth||0;if(!t.length)return n;const a=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,a,r)/2}}(0,xe.A)(ga,"id","scatter"),(0,xe.A)(ga,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,xe.A)(ga,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function ba(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ya{static override(e){Object.assign(ya.prototype,e)}constructor(e){(0,xe.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return ba()}parse(){return ba()}format(){return ba()}add(){return ba()}diff(){return ba()}startOf(){return ba()}endOf(){return ba()}}var va=ya;function ja(e,t,s,n){const{controller:a,data:r,_sorted:i}=e,o=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&r.length){const i=o._reversePixels?Ut:Vt;if(!n){const n=i(r,t,s);if(l){const{vScale:t}=a._cachedMeta,{_parsed:s}=e,r=s.slice(0,n.lo+1).reverse().findIndex((e=>!Qe(e[t.axis])));n.lo-=Math.max(0,r);const i=s.slice(n.hi).findIndex((e=>!Qe(e[t.axis])));n.hi+=Math.max(0,i)}return n}if(a._sharedOptions){const e=r[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=i(r,t,s-n),a=i(r,t,s+n);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:r.length-1}}function wa(e,t,s,n,a){const r=e.getSortedVisibleDatasetMetas(),i=s[t];for(let o=0,l=r.length;o<l;++o){const{index:e,data:s}=r[o],{lo:l,hi:c}=ja(r[o],t,i,a);for(let t=l;t<=c;++t){const a=s[t];a.skip||n(a,e,t)}}}function Na(e,t,s,n,a){const r=[];if(!a&&!e.isPointInArea(t))return r;return wa(e,s,t,(function(s,i,o){(a||ks(s,e.chartArea,0))&&s.inRange(t.x,t.y,n)&&r.push({element:s,datasetIndex:i,index:o})}),!0),r}function ka(e,t,s,n,a,r){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,n){const a=t?Math.abs(e.x-n.x):0,r=s?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}(s);let l=Number.POSITIVE_INFINITY;return wa(e,s,t,(function(s,c,d){const u=s.inRange(t.x,t.y,a);if(n&&!u)return;const h=s.getCenterPoint(a);if(!(!!r||e.isPointInArea(h))&&!u)return;const x=o(t,h);x<l?(i=[{element:s,datasetIndex:c,index:d}],l=x):x===l&&i.push({element:s,datasetIndex:c,index:d})})),i}function _a(e,t,s,n,a,r){return r||e.isPointInArea(t)?"r"!==s||n?ka(e,t,s,n,a,r):function(e,t,s,n){let a=[];return wa(e,s,t,(function(e,s,r){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=Ot(e,{x:t.x,y:t.y});It(l,i,o)&&a.push({element:e,datasetIndex:s,index:r})})),a}(e,t,s,a):[]}function Sa(e,t,s,n,a){const r=[],i="x"===s?"inXRange":"inYRange";let o=!1;return wa(e,s,t,((e,n,l)=>{e[i]&&e[i](t[s],a)&&(r.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,a))})),n&&!o?[]:r}var Ca={evaluateInteractionItems:wa,modes:{index(e,t,s,n){const a=gn(t,e),r=s.axis||"x",i=s.includeInvisible||!1,o=s.intersect?Na(e,a,r,n,i):_a(e,a,r,!1,n,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,s=e.data[t];s&&!s.skip&&l.push({element:s,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,s,n){const a=gn(t,e),r=s.axis||"xy",i=s.includeInvisible||!1;let o=s.intersect?Na(e,a,r,n,i):_a(e,a,r,!1,n,i);if(o.length>0){const t=o[0].datasetIndex,s=e.getDatasetMeta(t).data;o=[];for(let e=0;e<s.length;++e)o.push({element:s[e],datasetIndex:t,index:e})}return o},point:(e,t,s,n)=>Na(e,gn(t,e),s.axis||"xy",n,s.includeInvisible||!1),nearest(e,t,s,n){const a=gn(t,e),r=s.axis||"xy",i=s.includeInvisible||!1;return _a(e,a,r,s.intersect,n,i)},x:(e,t,s,n)=>Sa(e,gn(t,e),"x",s.intersect,n),y:(e,t,s,n)=>Sa(e,gn(t,e),"y",s.intersect,n)}};const Aa=["left","top","right","bottom"];function Ma(e,t){return e.filter((e=>e.pos===t))}function La(e,t){return e.filter((e=>-1===Aa.indexOf(e.pos)&&e.box.axis===t))}function Ea(e,t){return e.sort(((e,s)=>{const n=t?s:e,a=t?e:s;return n.weight===a.weight?n.index-a.index:n.weight-a.weight}))}function Pa(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:n,stackWeight:a}=s;if(!e||!Aa.includes(n))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:a}=t;let r,i,o;for(r=0,i=e.length;r<i;++r){o=e[r];const{fullSize:i}=o.box,l=s[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:i&&t.availableWidth,o.height=a):(o.width=n,o.height=c?c*a:i&&t.availableHeight)}return s}function za(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Oa(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Ta(e,t,s,n){const{pos:a,box:r}=s,i=e.maxPadding;if(!Xe(a)){s.size&&(e[a]-=s.size);const t=n[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?r.height:r.width),s.size=t.size/t.count,e[a]+=s.size}r.getPadding&&Oa(i,r.getPadding());const o=Math.max(0,t.outerWidth-za(i,e,"left","right")),l=Math.max(0,t.outerHeight-za(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,s.horizontal?{same:c,other:d}:{same:d,other:c}}function Ra(e,t){const s=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],s[e])})),n}return n(e?["left","right"]:["top","bottom"])}function Da(e,t,s,n){const a=[];let r,i,o,l,c,d;for(r=0,i=e.length,c=0;r<i;++r){o=e[r],l=o.box,l.update(o.width||t.w,o.height||t.h,Ra(o.horizontal,t));const{same:i,other:u}=Ta(t,s,o,n);c|=i&&a.length,d=d||u,l.fullSize||a.push(o)}return c&&Da(a,t,s,n)||d}function Ia(e,t,s,n,a){e.top=s,e.left=t,e.right=t+n,e.bottom=s+a,e.width=n,e.height=a}function Ba(e,t,s,n){const a=s.padding;let{x:r,y:i}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*c,r=l.size||e.height;mt(l.start)&&(i=l.start),e.fullSize?Ia(e,a.left,i,s.outerWidth-a.right-a.left,r):Ia(e,t.left+l.placed,i,n,r),l.start=i,l.placed+=n,i=e.bottom}else{const n=t.h*c,i=l.size||e.width;mt(l.start)&&(r=l.start),e.fullSize?Ia(e,r,a.top,i,s.outerHeight-a.bottom-a.top):Ia(e,r,t.top+l.placed,i,n),l.start=r,l.placed+=n,r=e.right}}t.x=r,t.y=i}var Fa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const a=Bs(e.options.layout.padding),r=Math.max(t-a.width,0),i=Math.max(s-a.height,0),o=function(e){const t=function(e){const t=[];let s,n,a,r,i,o;for(s=0,n=(e||[]).length;s<n;++s)a=e[s],({position:r,options:{stack:i,stackWeight:o=1}}=a),t.push({index:s,box:a,pos:r,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&r+i,stackWeight:o});return t}(e),s=Ea(t.filter((e=>e.box.fullSize)),!0),n=Ea(Ma(t,"left"),!0),a=Ea(Ma(t,"right")),r=Ea(Ma(t,"top"),!0),i=Ea(Ma(t,"bottom")),o=La(t,"x"),l=La(t,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:a.concat(l).concat(i).concat(o),chartArea:Ma(t,"chartArea"),vertical:n.concat(a).concat(l),horizontal:r.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;nt(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:s,padding:a,availableWidth:r,availableHeight:i,vBoxMaxWidth:r/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},a);Oa(h,Bs(n));const x=Object.assign({maxPadding:h,w:r,h:i,x:a.left,y:a.top},a),m=Pa(l.concat(c),u);Da(o.fullSize,x,u,m),Da(l,x,u,m),Da(c,x,u,m)&&Da(l,x,u,m),function(e){const t=e.maxPadding;function s(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(x),Ba(o.leftAndTop,x,u,m),x.x+=x.w,x.y+=x.h,Ba(o.rightAndBottom,x,u,m),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},nt(o.chartArea,(t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})}))}};class Wa{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,n){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):s)}}isAttached(e){return!0}updateConfig(e){}}class Va extends Wa{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ua="$chartjs",Ha={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qa=e=>null===e||""===e;const $a=!!jn&&{passive:!0};function Ga(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,$a)}function Ya(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Qa(e,t,s){const n=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const s of e)t=t||Ya(s.addedNodes,n),t=t&&!Ya(s.removedNodes,n);t&&s()}));return a.observe(document,{childList:!0,subtree:!0}),a}function Ka(e,t,s){const n=e.canvas,a=new MutationObserver((e=>{let t=!1;for(const s of e)t=t||Ya(s.removedNodes,n),t=t&&!Ya(s.addedNodes,n);t&&s()}));return a.observe(document,{childList:!0,subtree:!0}),a}const Xa=new Map;let Ja=0;function Za(){const e=window.devicePixelRatio;e!==Ja&&(Ja=e,Xa.forEach(((t,s)=>{s.currentDevicePixelRatio!==e&&t()})))}function er(e,t,s){const n=e.canvas,a=n&&hn(n);if(!a)return;const r=Yt(((e,t)=>{const n=a.clientWidth;s(e,t),n<a.clientWidth&&s()}),window),i=new ResizeObserver((e=>{const t=e[0],s=t.contentRect.width,n=t.contentRect.height;0===s&&0===n||r(s,n)}));return i.observe(a),function(e,t){Xa.size||window.addEventListener("resize",Za),Xa.set(e,t)}(e,r),i}function tr(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){Xa.delete(e),Xa.size||window.removeEventListener("resize",Za)}(e)}function sr(e,t,s){const n=e.canvas,a=Yt((t=>{null!==e.ctx&&s(function(e,t){const s=Ha[e.type]||e.type,{x:n,y:a}=gn(e,t);return{type:s,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==a?a:null}}(t,e))}),e);return function(e,t,s){e&&e.addEventListener(t,s,$a)}(n,t,a),a}class nr extends Wa{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,n=e.getAttribute("height"),a=e.getAttribute("width");if(e[Ua]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",qa(a)){const t=wn(e,"width");void 0!==t&&(e.width=t)}if(qa(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=wn(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[Ua])return!1;const s=t[Ua].initial;["height","width"].forEach((e=>{const n=s[e];Qe(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=s.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[Ua],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),a={attach:Qa,detach:Ka,resize:er}[t]||sr;n[t]=a(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),n=s[t];if(!n)return;({attach:tr,detach:tr,resize:tr}[t]||Ga)(e,t,n),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,n){return yn(e,t,s,n)}isAttached(e){const t=e&&hn(e);return!(!t||!t.isConnected)}}class ar{constructor(){(0,xe.A)(this,"x",void 0),(0,xe.A)(this,"y",void 0),(0,xe.A)(this,"active",!1),(0,xe.A)(this,"options",void 0),(0,xe.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return Mt(this.x)&&Mt(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const n={};return e.forEach((e=>{n[e]=s[e]&&s[e].active()?s[e]._to:this[e]})),n}}function rr(e,t){const s=e.options.ticks,n=function(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),a=e._maxLength/s;return Math.floor(Math.min(n,a))}(e),a=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?function(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}(t):[],i=r.length,o=r[0],l=r[i-1],c=[];if(i>a)return function(e,t,s,n){let a,r=0,i=s[0];for(n=Math.ceil(n),a=0;a<e.length;a++)a===i&&(t.push(e[a]),r++,i=s[r*n])}(t,c,r,i/a),c;const d=function(e,t,s){const n=function(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}(e),a=t.length/s;if(!n)return Math.max(a,1);const r=function(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(0|s)&&t.push(s),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let i=0,o=r.length-1;i<o;i++){const e=r[i];if(e>a)return e}return Math.max(a,1)}(r,t,a);if(i>0){let e,s;const n=i>1?Math.round((l-o)/(i-1)):null;for(ir(t,c,d,Qe(n)?0:o-n,o),e=0,s=i-1;e<s;e++)ir(t,c,d,r[e],r[e+1]);return ir(t,c,d,l,Qe(n)?t.length:l+n),c}return ir(t,c,d),c}function ir(e,t,s,n,a){const r=et(n,0),i=Math.min(et(a,e.length),e.length);let o,l,c,d=0;for(s=Math.ceil(s),a&&(o=a-n,s=o/Math.floor(o/s)),c=r;c<0;)d++,c=Math.round(r+d*s);for(l=Math.max(r,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(r+d*s))}(0,xe.A)(ar,"defaults",{}),(0,xe.A)(ar,"defaultRoutes",void 0);const or=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,lr=(e,t)=>Math.min(t||e,e);function cr(e,t){const s=[],n=e.length/t,a=e.length;let r=0;for(;r<a;r+=n)s.push(e[Math.floor(r)]);return s}function dr(e,t,s){const n=e.ticks.length,a=Math.min(t,n-1),r=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(a);if(!(s&&(l=1===n?Math.max(c-r,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?l:-l,c<r-o||c>i+o)))return c}function ur(e){return e.drawTicks?e.tickLength:0}function hr(e,t){if(!e.display)return 0;const s=Fs(e.font,t),n=Bs(e.padding);return(Ke(e.text)?e.text.length:1)*s.lineHeight+n.height}function xr(e,t,s){let n=Qt(e);return(s&&"right"!==t||!s&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class mr extends ar{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:n}=this;return e=Ze(e,Number.POSITIVE_INFINITY),t=Ze(t,Number.NEGATIVE_INFINITY),s=Ze(s,Number.POSITIVE_INFINITY),n=Ze(n,Number.NEGATIVE_INFINITY),{min:Ze(e,s),max:Ze(t,n),minDefined:Je(e),maxDefined:Je(t)}}getMinMax(e){let t,{min:s,max:n,minDefined:a,maxDefined:r}=this.getUserBounds();if(a&&r)return{min:s,max:n};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),a||(s=Math.min(s,t.min)),r||(n=Math.max(n,t.max));return s=r&&s>n?n:s,n=a&&s>n?s:n,{min:Ze(s,Ze(n,s)),max:Ze(n,Ze(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){st(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:n,grace:a,ticks:r}=this.options,i=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:n,max:a}=e,r=tt(t,(a-n)/2),i=(e,t)=>s&&0===e?0:e+t;return{min:i(n,-Math.abs(r)),max:i(a,r)}}(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?cr(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=rr(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){st(this.options.afterUpdate,[this])}beforeSetDimensions(){st(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){st(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),st(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){st(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,n,a;for(s=0,n=e.length;s<n;s++)a=e[s],a.label=st(t.callback,[a.value,s,e],this)}afterTickToLabelConversion(){st(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){st(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=lr(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,a=t.maxRotation;let r,i,o,l=n;if(!this._isVisible()||!t.display||n>=a||s<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Bt(this.chart.width-d,0,this.maxWidth);r=e.offset?this.maxWidth/s:h/(s-1),d+6>r&&(r=h/(s-(e.offset?.5:1)),i=this.maxHeight-ur(e.grid)-t.padding-hr(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Pt(Math.min(Math.asin(Bt((c.highest.height+6)/r,-1,1)),Math.asin(Bt(i/o,-1,1))-Math.asin(Bt(u/o,-1,1)))),l=Math.max(n,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){st(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){st(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:n,grid:a}}=this,r=this._isVisible(),i=this.isHorizontal();if(r){const r=hr(n,t.options.font);if(i?(e.width=this.maxWidth,e.height=ur(a)+r):(e.height=this.maxHeight,e.width=ur(a)+r),s.display&&this.ticks.length){const{first:t,last:n,widest:a,highest:r}=this._getLabelSizes(),o=2*s.padding,l=Et(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=s.mirror?0:d*a.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=s.mirror?0:c*a.width+d*r.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,n){const{ticks:{align:a,padding:r},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=n*e.width,u=s*t.height):(d=s*e.height,u=n*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+r)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+r)*this.width/(this.width-c),0)}else{let s=t.height/2,n=e.height/2;"start"===a?(s=0,n=e.height):"end"===a&&(s=t.height,n=0),this.paddingTop=s+r,this.paddingBottom=n+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){st(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)Qe(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=cr(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:n,_longestTextCache:a}=this,r=[],i=[],o=Math.floor(t/lr(t,s));let l,c,d,u,h,x,m,f,p,g,b,y=0,v=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),n.font=x=h.string,m=a[x]=a[x]||{data:{},gc:[]},f=h.lineHeight,p=g=0,Qe(u)||Ke(u)){if(Ke(u))for(c=0,d=u.length;c<d;++c)b=u[c],Qe(b)||Ke(b)||(p=bs(n,m.data,m.gc,p,b),g+=f)}else p=bs(n,m.data,m.gc,p,u),g=f;r.push(p),i.push(g),y=Math.max(p,y),v=Math.max(g,v)}!function(e,t){nt(e,(e=>{const s=e.gc,n=s.length/2;let a;if(n>t){for(a=0;a<n;++a)delete e.data[s[a]];s.splice(0,n)}}))}(a,t);const j=r.indexOf(y),w=i.indexOf(v),N=e=>({width:r[e]||0,height:i[e]||0});return{first:N(0),last:N(t-1),widest:N(j),highest:N(w),widths:r,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Bt(this._alignToPixels?vs(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return Vs(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=Vs(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Et(this.labelRotation),s=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,i=a?a.widest.width+r:0,o=a?a.highest.height+r:0;return this.isHorizontal()?o*s>i*n?i/s:o/n:o*n<i*s?o/s:i/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,n=this.options,{grid:a,position:r,border:i}=n,o=a.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=ur(a),u=[],h=i.setContext(this.getContext()),x=h.display?h.width:0,m=x/2,f=function(e){return vs(s,e,x)};let p,g,b,y,v,j,w,N,k,_,S,C;if("top"===r)p=f(this.bottom),j=this.bottom-d,N=p-m,_=f(e.top)+m,C=e.bottom;else if("bottom"===r)p=f(this.top),_=e.top,C=f(e.bottom)-m,j=p+m,N=this.top+d;else if("left"===r)p=f(this.right),v=this.right-d,w=p-m,k=f(e.left)+m,S=e.right;else if("right"===r)p=f(this.left),k=e.left,S=f(e.right)-m,v=p+m,w=this.left+d;else if("x"===t){if("center"===r)p=f((e.top+e.bottom)/2+.5);else if(Xe(r)){const e=Object.keys(r)[0],t=r[e];p=f(this.chart.scales[e].getPixelForValue(t))}_=e.top,C=e.bottom,j=p+m,N=j+d}else if("y"===t){if("center"===r)p=f((e.left+e.right)/2);else if(Xe(r)){const e=Object.keys(r)[0],t=r[e];p=f(this.chart.scales[e].getPixelForValue(t))}v=p-m,w=v-d,k=e.left,S=e.right}const A=et(n.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/A));for(g=0;g<c;g+=M){const e=this.getContext(g),t=a.setContext(e),n=i.setContext(e),r=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,x=t.tickWidth,m=t.tickColor,f=t.tickBorderDash||[],p=t.tickBorderDashOffset;b=dr(this,g,o),void 0!==b&&(y=vs(s,b,r),l?v=w=k=S=y:j=N=_=C=y,u.push({tx1:v,ty1:j,tx2:w,ty2:N,x1:k,y1:_,x2:S,y2:C,width:r,color:c,borderDash:d,borderDashOffset:h,tickWidth:x,tickColor:m,tickBorderDash:f,tickBorderDashOffset:p}))}return this._ticksLength=c,this._borderValue=p,u}_computeLabelItems(e){const t=this.axis,s=this.options,{position:n,ticks:a}=s,r=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=a,u=ur(s.grid),h=u+c,x=d?-c:h,m=-Et(this.labelRotation),f=[];let p,g,b,y,v,j,w,N,k,_,S,C,A="middle";if("top"===n)j=this.bottom-x,w=this._getXAxisLabelAlignment();else if("bottom"===n)j=this.top+x,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("x"===t){if("center"===n)j=(e.top+e.bottom)/2+h;else if(Xe(n)){const e=Object.keys(n)[0],t=n[e];j=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)v=(e.left+e.right)/2-h;else if(Xe(n)){const e=Object.keys(n)[0],t=n[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?A="top":"end"===o&&(A="bottom"));const M=this._getLabelSizes();for(p=0,g=i.length;p<g;++p){b=i[p],y=b.label;const e=a.setContext(this.getContext(p));N=this.getPixelForTick(p)+a.labelOffset,k=this._resolveTickFontOptions(p),_=k.lineHeight,S=Ke(y)?y.length:1;const t=S/2,s=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=w;if(r?(v=N,"inner"===w&&(h=p===g-1?this.options.reverse?"left":"right":0===p?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==m?-S*_+_/2:"center"===l?-M.highest.height/2-t*_+_:-M.highest.height+_/2:"near"===l||0!==m?_/2:"center"===l?M.highest.height/2-t*_:M.highest.height-S*_,d&&(C*=-1),0===m||e.showLabelBackdrop||(v+=_/2*Math.sin(m))):(j=N,C=(1-S)*_/2),e.showLabelBackdrop){const t=Bs(e.backdropPadding),s=M.heights[p],n=M.widths[p];let a=C-t.top,r=0-t.left;switch(A){case"middle":a-=s/2;break;case"bottom":a-=s}switch(w){case"center":r-=n/2;break;case"right":r-=n;break;case"inner":p===g-1?r-=n:p>0&&(r-=n/2)}u={left:r,top:a,width:n+t.width,height:s+t.height,color:e.backdropColor}}f.push({label:y,font:k,textOffset:C,options:{rotation:m,color:s,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:A,translation:[v,j],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Et(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:n,padding:a}}=this.options,r=e+a,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+a,"near"===s?o="left":"center"===s?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-r,"near"===s?o="right":"center"===s?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+a,"near"===s?o="right":"center"===s?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+r,"near"===s?o="left":"center"===s?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:n,width:a,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,n,a,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex((t=>t.value===e));if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,r;const i=(e,t,n)=>{n.width&&n.color&&(s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(a=0,r=n.length;a<r;++a){const e=n[a];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:n}}=this,a=s.setContext(this.getContext()),r=s.display?a.width:0;if(!r)return;const i=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=vs(e,this.left,r)-r/2,c=vs(e,this.right,i)+i/2,d=u=o):(d=vs(e,this.top,r)-r/2,u=vs(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&_s(t,s);const n=this.getLabelItems(e);for(const a of n){const e=a.options,s=a.font;Es(t,a.label,0,a.textOffset,s,e)}s&&Ss(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:n}}=this;if(!s.display)return;const a=Fs(s.font),r=Bs(s.padding),i=s.align;let o=a.lineHeight/2;"bottom"===t||"center"===t||Xe(t)?(o+=r.bottom,Ke(s.text)&&(o+=a.lineHeight*(s.text.length-1))):o+=r.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,s,n){const{top:a,left:r,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,x,m=0;const f=i-a,p=o-r;if(e.isHorizontal()){if(h=Kt(n,r,o),Xe(s)){const e=Object.keys(s)[0],n=s[e];x=d[e].getPixelForValue(n)+f-t}else x="center"===s?(c.bottom+c.top)/2+f-t:or(e,s,t);u=o-r}else{if(Xe(s)){const e=Object.keys(s)[0],n=s[e];h=d[e].getPixelForValue(n)-p+t}else h="center"===s?(c.left+c.right)/2-p+t:or(e,s,t);x=Kt(n,i,a),m="left"===s?-wt:wt}return{titleX:h,titleY:x,maxWidth:u,rotation:m}}(this,o,t,i);Es(e,s.text,0,0,a,{color:s.color,maxWidth:d,rotation:u,textAlign:xr(i,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=et(e.grid&&e.grid.z,-1),n=et(e.border&&e.border.z,0);return this._isVisible()&&this.draw===mr.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let a,r;for(a=0,r=t.length;a<r;++a){const r=t[a];r[s]!==this.id||e&&r.type!==e||n.push(r)}return n}_resolveTickFontOptions(e){return Fs(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fr{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const n=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in n||(n[a]=e,function(e,t,s){const n=lt(Object.create(null),[s?gs.get(s):{},gs.get(t),e.defaults]);gs.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((s=>{const n=s.split("."),a=n.pop(),r=[e].concat(n).join("."),i=t[s].split("."),o=i.pop(),l=i.join(".");gs.route(r,a,l,o)}))}(t,e.defaultRoutes);e.descriptors&&gs.describe(t,e.descriptors)}(e,r,s),this.override&&gs.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,n=this.scope;s in t&&delete t[s],n&&s in gs[n]&&(delete gs[n][s],this.override&&delete hs[s])}}class pr{constructor(){this.controllers=new fr(ta,"datasets",!0),this.elements=new fr(ar,"elements"),this.plugins=new fr(Object,"plugins"),this.scales=new fr(mr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.scales)}_each(e,t,s){[...t].forEach((t=>{const n=s||this._getRegistryForType(t);s||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):nt(t,(t=>{const n=s||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,s){const n=xt(e);st(s["before"+n],[],s),t[e](s),st(s["after"+n],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+s+".");return n}}var gr=new pr;class br{constructor(){this._init=[]}notify(e,t,s,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=n?this._descriptors(e).filter(n):this._descriptors(e),r=this._notify(a,e,t,s);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,s,n){n=n||{};for(const a of e){const e=a.plugin;if(!1===st(e[s],[t,n,a.options],e)&&n.cancelable)return!1}return!0}invalidate(){Qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,n=et(s.options&&s.options.plugins,{}),a=function(e){const t={},s=[],n=Object.keys(gr.plugins.items);for(let r=0;r<n.length;r++)s.push(gr.getPlugin(n[r]));const a=e.plugins||[];for(let r=0;r<a.length;r++){const e=a[r];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==n||t?function(e,t,s,n){let{plugins:a,localIds:r}=t;const i=[],o=e.getContext();for(const l of a){const t=l.id,a=yr(s[t],n);null!==a&&i.push({plugin:l,options:vr(e.config,{plugin:l,local:r[t]},a,o)})}return i}(e,a,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,s),e,"stop"),this._notify(n(s,t),e,"start")}}function yr(e,t){return t||!1!==e?!0===e?{}:e:null}function vr(e,t,s,n){let{plugin:a,local:r}=t;const i=e.pluginScopeKeys(a),o=e.getOptionScopes(s,i);return r&&a.defaults&&o.push(a.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jr(e,t){const s=gs.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function wr(e){if("x"===e||"y"===e||"r"===e)return e}function Nr(e){if(wr(e))return e;for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];for(const r of s){const t=r.axis||("top"===(a=r.position)||"bottom"===a?"x":"left"===a||"right"===a?"y":void 0)||e.length>1&&wr(e[0].toLowerCase());if(t)return t}var a;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function kr(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function _r(e,t){const s=hs[e.type]||{scales:{}},n=t.scales||{},a=jr(e.type,t),r=Object.create(null);return Object.keys(n).forEach((t=>{const i=n[t];if(!Xe(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=Nr(t,i,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(s.length)return kr(e,"x",s[0])||kr(e,"y",s[0])}return{}}(t,e),gs.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,a),c=s.scales||{};r[t]=ct(Object.create(null),[{axis:o},i,c[o],c[l]])})),e.data.datasets.forEach((s=>{const a=s.type||e.type,i=s.indexAxis||jr(a,t),o=(hs[a]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,i),a=s[t+"AxisID"]||t;r[a]=r[a]||Object.create(null),ct(r[a],[{axis:t},n[a],o[e]])}))})),Object.keys(r).forEach((e=>{const t=r[e];ct(t,[gs.scales[t.type],gs.scale])})),r}function Sr(e){const t=e.options||(e.options={});t.plugins=et(t.plugins,{}),t.scales=_r(e,t)}function Cr(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Ar=new Map,Mr=new Set;function Lr(e,t){let s=Ar.get(e);return s||(s=t(),Ar.set(e,s),Mr.add(s)),s}const Er=(e,t,s)=>{const n=ht(t,s);void 0!==n&&e.add(n)};class Pr{constructor(e){this._config=function(e){return(e=e||{}).data=Cr(e.data),Sr(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Cr(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Sr(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lr(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return Lr("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return Lr("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,s=this.type;return Lr("".concat(s,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const s=this._scopeCache;let n=s.get(e);return n&&!t||(n=new Map,s.set(e,n)),n}getOptionScopes(e,t,s){const{options:n,type:a}=this,r=this._cachedScopes(e,s),i=r.get(t);if(i)return i;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>Er(o,e,t)))),t.forEach((e=>Er(o,n,e))),t.forEach((e=>Er(o,hs[a]||{},e))),t.forEach((e=>Er(o,gs,e))),t.forEach((e=>Er(o,xs,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Mr.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,hs[t]||{},gs.datasets[t]||{},{type:t},gs,xs]}resolveNamedOptions(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:r,subPrefixes:i}=zr(this._resolverCache,e,n);let o=r;if(function(e,t){const{isScriptable:s,isIndexable:n}=qs(e);for(const a of t){const t=s(a),r=n(a),i=(r||t)&&e[a];if(t&&(ft(i)||Or(i))||r&&Ke(i))return!0}return!1}(r,t)){a.$shared=!1;o=Hs(r,s=ft(s)?s():s,this.createResolver(e,s,i))}for(const l of t)a[l]=o[l];return a}createResolver(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:a}=zr(this._resolverCache,e,s);return Xe(t)?Hs(a,t,void 0,n):a}}function zr(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const a=s.join();let r=n.get(a);if(!r){r={resolver:Us(t,s),subPrefixes:s.filter((e=>!e.toLowerCase().includes("hover")))},n.set(a,r)}return r}const Or=e=>Xe(e)&&Object.getOwnPropertyNames(e).some((t=>ft(e[t])));const Tr=["top","bottom","left","right","chartArea"];function Rr(e,t){return"top"===e||"bottom"===e||-1===Tr.indexOf(e)&&"x"===t}function Dr(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Ir(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),st(s&&s.onComplete,[e],t)}function Br(e){const t=e.chart,s=t.options.animation;st(s&&s.onProgress,[e],t)}function Fr(e){return un()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Wr={},Vr=e=>{const t=Fr(e);return Object.values(Wr).filter((e=>e.canvas===t)).pop()};function Ur(e,t,s){const n=Object.keys(e);for(const a of n){const n=+a;if(n>=t){const r=e[a];delete e[a],(s>0||n>t)&&(e[n+s]=r)}}}class Hr{static register(){gr.add(...arguments),qr()}static unregister(){gr.remove(...arguments),qr()}constructor(e,t){const s=this.config=new Pr(t),n=Fr(e),a=Vr(n);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!un()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Va:nr}(n)),this.platform.updateConfig(s);const i=this.platform.acquireContext(n,r.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=Ye(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new br,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t?(clearTimeout(s),s=setTimeout(e,t,a)):e.apply(this,a),t}}((e=>this.update(e)),r.resizeDelay||0),this._dataChanges=[],Wr[this.id]=this,i&&o?(Bn.listen(this,"complete",Ir),Bn.listen(this,"progress",Br),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:n,_aspectRatio:a}=this;return Qe(e)?t&&a?a:n?s/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return js(this.canvas,this.ctx),this}stop(){return Bn.stop(this),this}resize(e,t){Bn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,n=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,e,t,a),i=s.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,vn(this,i,!0)&&(this.notifyPlugins("resize",{size:r}),st(s.onResize,[this,r],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){nt(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,n=Object.keys(s).reduce(((e,t)=>(e[t]=!1,e)),{});let a=[];t&&(a=a.concat(Object.keys(t).map((e=>{const s=t[e],n=Nr(e,s),a="r"===n,r="x"===n;return{options:s,dposition:a?"chartArea":r?"bottom":"left",dtype:a?"radialLinear":r?"category":"linear"}})))),nt(a,(t=>{const a=t.options,r=a.id,i=Nr(r,a),o=et(a.type,t.dtype);void 0!==a.position&&Rr(a.position,i)===Rr(t.dposition)||(a.position=t.dposition),n[r]=!0;let l=null;if(r in s&&s[r].type===o)l=s[r];else{l=new(gr.getScale(o))({id:r,type:o,ctx:this.ctx,chart:this}),s[l.id]=l}l.init(a,e)})),nt(n,((e,t)=>{e||delete s[t]})),nt(s,(e=>{Fa.configure(this,e,e.options),Fa.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort(((e,t)=>e.index-t.index)),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Dr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,s)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(s)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=t.length;s<n;s++){const n=t[s];let a=this.getDatasetMeta(s);const r=n.type||this.config.type;if(a.type&&a.type!==r&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=r,a.indexAxis=n.indexAxis||jr(r,this.options),a.order=n.order||0,a.index=s,a.label=""+n.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const t=gr.getController(r),{datasetElementType:n,dataElementType:i}=gs.datasets[r];Object.assign(t,{dataElementType:gr.getElement(i),datasetElementType:n&&gr.getElement(n)}),a.controller=new t(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){nt(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===a.indexOf(e);e.buildOrUpdateElements(t),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),n||nt(a,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Dr("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){nt(this.scales,(e=>{Fa.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);pt(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:a}of t){Ur(e,n,"_removeElements"===s?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=s(0);for(let a=1;a<t;a++)if(!pt(n,s(a)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Fa.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],nt(this.boxes,(e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,ft(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),n={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(s.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Bn.has(this)?this.attached&&!Bn.running(this)&&Bn.start(this):(this.draw(),Ir({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let n,a;for(n=0,a=t.length;n<a;++n){const a=t[n];e&&!a.visible||s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},n=Dn(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&_s(t,n),e.controller.draw(),n&&Ss(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ks(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,n){const a=Ca.modes[t];return"function"===typeof a?a(this,e,s,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let n=s.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=Vs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"===typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const n=s?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,n);mt(t)?(a.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),r.update(a,{visible:s}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Bn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),js(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Wr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};nt(this.options.events,(e=>s(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(s,n)=>{e[s]&&(t.removeEventListener(this,s,n),delete e[s])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const i=()=>{n("attach",i),this.attached=!0,this.resize(),s("resize",a),s("detach",r)};r=()=>{this.attached=!1,n("resize",a),this._stop(),this._resize(0,0),s("attach",i)},t.isAttached(this.canvas)?i():r()}unbindEvents(){nt(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},nt(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const n=s?"set":"remove";let a,r,i,o;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+n+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){r=e[i];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map((e=>{let{datasetIndex:t,index:s}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[s],index:s}}));!at(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,s){const n=this.options.hover,a=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),r=a(t,e),i=s?e:a(e,t);r.length&&this.updateHoverStyle(r,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,n))return;const a=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(a||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:n=[],options:a}=this,r=t,i=this._getActiveElements(e,n,s,r),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,s,n){return s&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,s,o);s&&(this._lastEvent=null,st(a.onHover,[e,i,this],this),o&&st(a.onClick,[e,i,this],this));const c=!at(i,n);return(c||t)&&(this._active=i,this._updateHoverStyles(i,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,s,n){if("mouseout"===e.type)return[];if(!s)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,n)}}function qr(){return nt(Hr.instances,(e=>e._plugins.invalidate()))}function $r(e,t,s,n){const a=Rs(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(s-t)/2,i=Math.min(r,n*t/2),o=e=>{const t=(s-Math.min(r,e))*n/2;return Bt(e,0,Math.min(r,t))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:Bt(a.innerStart,0,i),innerEnd:Bt(a.innerEnd,0,i)}}function Gr(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Yr(e,t,s,n,a,r){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+s-c,0),h=d>0?d+n+s+c:0;let x=0;const m=a-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;x=(m-(0!==e?m*e/(e+n):m))/2}const f=(m-Math.max(.001,m*u-s/gt)/u)/2,p=l+f+x,g=a-f-x,{outerStart:b,outerEnd:y,innerStart:v,innerEnd:j}=$r(t,h,u,g-p),w=u-b,N=u-y,k=p+b/w,_=g-y/N,S=h+v,C=h+j,A=p+v/S,M=g-j/C;if(e.beginPath(),r){const t=(k+_)/2;if(e.arc(i,o,u,k,t),e.arc(i,o,u,t,_),y>0){const t=Gr(N,_,i,o);e.arc(t.x,t.y,y,_,g+wt)}const s=Gr(C,g,i,o);if(e.lineTo(s.x,s.y),j>0){const t=Gr(C,M,i,o);e.arc(t.x,t.y,j,g+wt,M+Math.PI)}const n=(g-j/h+(p+v/h))/2;if(e.arc(i,o,h,g-j/h,n,!0),e.arc(i,o,h,n,p+v/h,!0),v>0){const t=Gr(S,A,i,o);e.arc(t.x,t.y,v,A+Math.PI,p-wt)}const a=Gr(w,p,i,o);if(e.lineTo(a.x,a.y),b>0){const t=Gr(w,k,i,o);e.arc(t.x,t.y,b,p-wt,k)}}else{e.moveTo(i,o);const t=Math.cos(k)*u+i,s=Math.sin(k)*u+o;e.lineTo(t,s);const n=Math.cos(_)*u+i,a=Math.sin(_)*u+o;e.lineTo(n,a)}e.closePath()}function Qr(e,t,s,n,a){const{fullCircles:r,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:x}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(r){Yr(e,t,s,n,f,a);for(let t=0;t<r;++t)e.stroke();isNaN(o)||(f=i+(o%bt||bt))}m&&function(e,t,s){const{startAngle:n,pixelMargin:a,x:r,y:i,outerRadius:o,innerRadius:l}=t;let c=a/o;e.beginPath(),e.arc(r,i,o,n-c,s+c),l>a?(c=a/l,e.arc(r,i,l,s+c,n-c,!0)):e.arc(r,i,a,s+wt,n-wt),e.closePath(),e.clip()}(e,t,f),l.selfJoin&&f-i>=gt&&0===x&&"miter"!==d&&function(e,t,s){const{startAngle:n,x:a,y:r,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/i,Dt(n-s));if(e.beginPath(),e.arc(a,r,i-c/2,n+u/2,s-u/2),o>0){const t=Math.min(c/o,Dt(n-s));e.arc(a,r,o+c/2,s-t/2,n+t/2,!0)}else{const t=Math.min(c/2,i*Dt(n-s));if("round"===d)e.arc(a,r,t,s-gt/2,n+gt/2,!0);else if("bevel"===d){const i=2*t*t,o=-i*Math.cos(s+gt/2)+a,l=-i*Math.sin(s+gt/2)+r,c=i*Math.cos(n+gt/2)+a,d=i*Math.sin(n+gt/2)+r;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),r||(Yr(e,t,s,n,f,a),e.stroke())}(0,xe.A)(Hr,"defaults",gs),(0,xe.A)(Hr,"instances",Wr),(0,xe.A)(Hr,"overrides",hs),(0,xe.A)(Hr,"registry",gr),(0,xe.A)(Hr,"version","4.5.0"),(0,xe.A)(Hr,"getChart",Vr);class Kr extends ar{constructor(e){super(),(0,xe.A)(this,"circumference",void 0),(0,xe.A)(this,"endAngle",void 0),(0,xe.A)(this,"fullCircles",void 0),(0,xe.A)(this,"innerRadius",void 0),(0,xe.A)(this,"outerRadius",void 0),(0,xe.A)(this,"pixelMargin",void 0),(0,xe.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.getProps(["x","y"],s),{angle:a,distance:r}=Ot(n,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,h=et(d,o-i),x=It(a,i,o)&&i!==o,m=h>=bt||x,f=Ft(r,l+u,c+u);return m&&f}getCenterPoint(e){const{x:t,y:s,startAngle:n,endAngle:a,innerRadius:r,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+a)/2,d=(r+i+l+o)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,n=(t.offset||0)/4,a=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>bt?Math.floor(s/bt):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*n,Math.sin(i)*n);const o=n*(1-Math.sin(Math.min(gt,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,n,a){const{fullCircles:r,startAngle:i,circumference:o}=t;let l=t.endAngle;if(r){Yr(e,t,s,n,l,a);for(let t=0;t<r;++t)e.fill();isNaN(o)||(l=i+(o%bt||bt))}Yr(e,t,s,n,l,a),e.fill()}(e,this,o,a,r),Qr(e,this,o,a,r),e.restore()}}function Xr(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=et(s.borderCapStyle,t.borderCapStyle),e.setLineDash(et(s.borderDash,t.borderDash)),e.lineDashOffset=et(s.borderDashOffset,t.borderDashOffset),e.lineJoin=et(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=et(s.borderWidth,t.borderWidth),e.strokeStyle=et(s.borderColor,t.borderColor)}function Jr(e,t,s){e.lineTo(s.x,s.y)}function Zr(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:a=0,end:r=n-1}=s,{start:i,end:o}=t,l=Math.max(a,i),c=Math.min(r,o),d=a<i&&r<i||a>o&&r>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function ei(e,t,s,n){const{points:a,options:r}=t,{count:i,start:o,loop:l,ilen:c}=Zr(a,s,n),d=function(e){return e.stepped?Cs:e.tension||"monotone"===e.cubicInterpolationMode?As:Jr}(r);let u,h,x,{move:m=!0,reverse:f}=n||{};for(u=0;u<=c;++u)h=a[(o+(f?c-u:u))%i],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,x,h,f,r.stepped),x=h);return l&&(h=a[(o+(f?c:0))%i],d(e,x,h,f,r.stepped)),!!l}function ti(e,t,s,n){const a=t.points,{count:r,start:i,ilen:o}=Zr(a,s,n),{move:l=!0,reverse:c}=n||{};let d,u,h,x,m,f,p=0,g=0;const b=e=>(i+(c?o-e:e))%r,y=()=>{x!==m&&(e.lineTo(p,m),e.lineTo(p,x),e.lineTo(p,f))};for(l&&(u=a[b(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=a[b(d)],u.skip)continue;const t=u.x,s=u.y,n=0|t;n===h?(s<x?x=s:s>m&&(m=s),p=(g*p+t)/++g):(y(),e.lineTo(t,s),h=n,g=0,x=m=s),f=s}y()}function si(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!s?ti:ei}(0,xe.A)(Kr,"id","arc"),(0,xe.A)(Kr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,xe.A)(Kr,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,xe.A)(Kr,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const ni="function"===typeof Path2D;function ai(e,t,s,n){ni&&!t.options.segment?function(e,t,s,n){let a=t._path;a||(a=t._path=new Path2D,t.path(a,s,n)&&a.closePath()),Xr(e,t.options),e.stroke(a)}(e,t,s,n):function(e,t,s,n){const{segments:a,options:r}=t,i=si(t);for(const o of a)Xr(e,r,o.style),e.beginPath(),i(e,t,o,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}(e,t,s,n)}class ri extends ar{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;dn(this._points,s,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,n=e.options.spanGaps,a=s.length;if(!a)return[];const r=!!e._loop,{start:i,end:o}=function(e,t,s,n){let a=0,r=t-1;if(s&&!n)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,s&&(r+=a);r>a&&e[r%t].skip;)r--;return r%=t,{start:a,end:r}}(s,a,r,n);return zn(e,!0===n?[{start:i,end:o,loop:r}]:function(e,t,s,n){const a=e.length,r=[];let i,o=t,l=e[t];for(i=t+1;i<=s;++i){const s=e[i%a];s.skip||s.stop?l.skip||(n=!1,r.push({start:t%a,end:(i-1)%a,loop:n}),t=o=s.stop?i:null):(o=i,l.skip&&(t=i)),l=s}return null!==o&&r.push({start:t%a,end:o%a,loop:n}),r}(s,i,o<i?o+a:o,!!e._fullLoop&&0===i&&o===a-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,n=e[t],a=this.points,r=Pn(this,{property:t,start:n,end:n});if(!r.length)return;const i=[],o=function(e){return e.stepped?kn:e.tension||"monotone"===e.cubicInterpolationMode?_n:Nn}(s);let l,c;for(l=0,c=r.length;l<c;++l){const{start:c,end:d}=r[l],u=a[c],h=a[d];if(u===h){i.push(u);continue}const x=o(u,h,Math.abs((n-u[t])/(h[t]-u[t])),s.stepped);x[t]=e[t],i.push(x)}return 1===i.length?i[0]:i}pathSegment(e,t,s){return si(this)(e,this,t,s)}path(e,t,s){const n=this.segments,a=si(this);let r=this._loop;t=t||0,s=s||this.points.length-t;for(const i of n)r&=a(e,this,i,{start:t,end:t+s-1});return!!r}draw(e,t,s,n){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),ai(e,this,s,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ii(e,t,s,n){const a=e.options,{[s]:r}=e.getProps([s],n);return Math.abs(t-r)<a.radius+a.hitRadius}(0,xe.A)(ri,"id","line"),(0,xe.A)(ri,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,xe.A)(ri,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,xe.A)(ri,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class oi extends ar{constructor(e){super(),(0,xe.A)(this,"parsed",void 0),(0,xe.A)(this,"skip",void 0),(0,xe.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.options,{x:a,y:r}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(t-r,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return ii(this,e,"x",t)}inYRange(e,t){return ii(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!ks(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,ws(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function li(e,t){const{x:s,y:n,base:a,width:r,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(s,a),l=Math.max(s,a),c=n-u,d=n+u):(u=r/2,o=s-u,l=s+u,c=Math.min(n,a),d=Math.max(n,a)),{left:o,top:c,right:l,bottom:d}}function ci(e,t,s,n){return e?0:Bt(t,s,n)}function di(e){const t=li(e),s=t.right-t.left,n=t.bottom-t.top,a=function(e,t,s){const n=e.options.borderWidth,a=e.borderSkipped,r=Ds(n);return{t:ci(a.top,r.top,0,s),r:ci(a.right,r.right,0,t),b:ci(a.bottom,r.bottom,0,s),l:ci(a.left,r.left,0,t)}}(e,s/2,n/2),r=function(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,r=Is(a),i=Math.min(t,s),o=e.borderSkipped,l=n||Xe(a);return{topLeft:ci(!l||o.top||o.left,r.topLeft,0,i),topRight:ci(!l||o.top||o.right,r.topRight,0,i),bottomLeft:ci(!l||o.bottom||o.left,r.bottomLeft,0,i),bottomRight:ci(!l||o.bottom||o.right,r.bottomRight,0,i)}}(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:r},inner:{x:t.left+a.l,y:t.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,r.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(a.b,a.r))}}}}function ui(e,t,s,n){const a=null===t,r=null===s,i=e&&!(a&&r)&&li(e,n);return i&&(a||Ft(t,i.left,i.right))&&(r||Ft(s,i.top,i.bottom))}function hi(e,t){e.rect(t.x,t.y,t.w,t.h)}function xi(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==s.x?-t:0,a=e.y!==s.y?-t:0,r=(e.x+e.w!==s.x+s.w?t:0)-n,i=(e.y+e.h!==s.y+s.h?t:0)-a;return{x:e.x+n,y:e.y+a,w:e.w+r,h:e.h+i,radius:e.radius}}(0,xe.A)(oi,"id","point"),(0,xe.A)(oi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,xe.A)(oi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class mi extends ar{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:n}}=this,{inner:a,outer:r}=di(this),i=(o=r.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Ps:hi;var o;e.save(),r.w===a.w&&r.h===a.h||(e.beginPath(),i(e,xi(r,t,a)),e.clip(),i(e,xi(a,-t,r)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),i(e,xi(a,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,s){return ui(this,e,t,s)}inXRange(e,t){return ui(this,e,null,t)}inYRange(e,t){return ui(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+n)/2:t,y:a?s:(s+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,xe.A)(mi,"id","bar"),(0,xe.A)(mi,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,xe.A)(mi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const fi=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}};class pi extends ar{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=st(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,s)=>e.sort(t,s,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,n=Fs(s.font),a=n.size,r=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=fi(s,a);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,a,i,o)+10):(c=this.maxHeight,l=this._fitCols(r,n,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,n){const{ctx:a,maxWidth:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+i;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,x)=>{const m=s+t/2+a.measureText(e.text).width;(0===x||l[l.length-1]+m+2*i>r)&&(d+=c,l[l.length-(x>0?0:1)]=0,h+=c,u++),o[x]={left:0,top:h,row:u,width:m,height:n},l[l.length-1]+=m+i})),d}_fitCols(e,t,s,n){const{ctx:a,maxHeight:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-e;let d=i,u=0,h=0,x=0,m=0;return this.legendItems.forEach(((e,r)=>{const{itemWidth:f,itemHeight:p}=function(e,t,s,n,a){const r=function(e,t,s,n){let a=e.text;a&&"string"!==typeof a&&(a=a.reduce(((e,t)=>e.length>t.length?e:t)));return t+s.size/2+n.measureText(a).width}(n,e,t,s),i=function(e,t,s){let n=e;"string"!==typeof t.text&&(n=gi(t,s));return n}(a,n,t.lineHeight);return{itemWidth:r,itemHeight:i}}(s,t,a,e,n);r>0&&h+p+2*i>c&&(d+=u+i,l.push({width:u,height:h}),x+=u+i,m++,u=h=0),o[r]={left:x,top:h,col:m,width:f,height:p},u=Math.max(u,f),h+=p+i})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:n},rtl:a}}=this,r=Sn(a,this.left,this.width);if(this.isHorizontal()){let a=0,i=Kt(s,this.left+n,this.right-this.lineWidths[a]);for(const o of t)a!==o.row&&(a=o.row,i=Kt(s,this.left+n,this.right-this.lineWidths[a])),o.top+=this.top+e+n,o.left=r.leftForLtr(r.x(i),o.width),i+=o.width+n}else{let a=0,i=Kt(s,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const o of t)o.col!==a&&(a=o.col,i=Kt(s,this.top+e+n,this.bottom-this.columnSizes[a].height)),o.top=i,o.left+=this.left+n,o.left=r.leftForLtr(r.x(o.left),o.width),i+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;_s(e,this),this._draw(),Ss(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:n}=this,{align:a,labels:r}=e,i=gs.color,o=Sn(e.rtl,this.left,this.width),l=Fs(r.font),{padding:c}=r,d=l.size,u=d/2;let h;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:x,boxHeight:m,itemHeight:f}=fi(r,d),p=this.isHorizontal(),g=this._computeTitleHeight();h=p?{x:Kt(a,this.left+c,this.right-s[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:Kt(a,this.top+g+c,this.bottom-t[0].height),line:0},Cn(this.ctx,e.textDirection);const b=f+c;this.legendItems.forEach(((y,v)=>{n.strokeStyle=y.fontColor,n.fillStyle=y.fontColor;const j=n.measureText(y.text).width,w=o.textAlign(y.textAlign||(y.textAlign=r.textAlign)),N=x+u+j;let k=h.x,_=h.y;o.setWidth(this.width),p?v>0&&k+N+c>this.right&&(_=h.y+=b,h.line++,k=h.x=Kt(a,this.left+c,this.right-s[h.line])):v>0&&_+b>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,_=h.y=Kt(a,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,s){if(isNaN(x)||x<=0||isNaN(m)||m<0)return;n.save();const a=et(s.lineWidth,1);if(n.fillStyle=et(s.fillStyle,i),n.lineCap=et(s.lineCap,"butt"),n.lineDashOffset=et(s.lineDashOffset,0),n.lineJoin=et(s.lineJoin,"miter"),n.lineWidth=a,n.strokeStyle=et(s.strokeStyle,i),n.setLineDash(et(s.lineDash,[])),r.usePointStyle){const i={radius:m*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:a},l=o.xPlus(e,x/2);Ns(n,i,l,t+u,r.pointStyleWidth&&x)}else{const r=t+Math.max((d-m)/2,0),i=o.leftForLtr(e,x),l=Is(s.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?Ps(n,{x:i,y:r,w:x,h:m,radius:l}):n.rect(i,r,x,m),n.fill(),0!==a&&n.stroke()}n.restore()}(o.x(k),_,y),k=((e,t,s,n)=>e===(n?"left":"right")?s:"center"===e?(t+s)/2:t)(w,k+x+u,p?k+N:this.right,e.rtl),function(e,t,s){Es(n,s.text,e,t+f/2,l,{strikethrough:s.hidden,textAlign:o.textAlign(s.textAlign)})}(o.x(k),_,y),p)h.x+=N+c;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=gi(y,e)+c}else h.y+=b})),An(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Fs(t.font),n=Bs(t.padding);if(!t.display)return;const a=Sn(e.rtl,this.left,this.width),r=this.ctx,i=t.position,o=s.size/2,l=n.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Kt(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Kt(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Kt(i,d,d+u);r.textAlign=a.textAlign(Qt(i)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=s.string,Es(r,t.text,h,c,s)}_computeTitleHeight(){const e=this.options.title,t=Fs(e.font),s=Bs(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,n,a;if(Ft(e,this.left,this.right)&&Ft(t,this.top,this.bottom))for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(n=a[s],Ft(e,n.left,n.left+n.width)&&Ft(t,n.top,n.top+n.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=(a=s,null!==(n=r)&&null!==a&&n.datasetIndex===a.datasetIndex&&n.index===a.index);r&&!i&&st(t.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&st(t.onHover,[e,s,this],this)}else s&&st(t.onClick,[e,s,this],this);var n,a}}function gi(e,t){return t*(e.text?e.text.length:0)}var bi={id:"legend",_element:pi,start(e,t,s){const n=e.legend=new pi({ctx:e.ctx,options:s,chart:e});Fa.configure(e,n,s),Fa.addBox(e,n)},stop(e){Fa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Fa.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),t.hidden=!0):(a.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:r,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(s?0:void 0),c=Bs(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class yi extends ar{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=Ke(s.text)?s.text.length:1;this._padding=Bs(s.padding);const a=n*Fs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:n,right:a,options:r}=this,i=r.align;let o,l,c,d=0;return this.isHorizontal()?(l=Kt(i,s,a),c=t+e,o=a-s):("left"===r.position?(l=s+e,c=Kt(i,n,t),d=-.5*gt):(l=a-e,c=Kt(i,t,n),d=.5*gt),o=n-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=Fs(t.font),n=s.lineHeight/2+this._padding.top,{titleX:a,titleY:r,maxWidth:i,rotation:o}=this._drawArgs(n);Es(e,t.text,0,0,s,{color:t.color,maxWidth:i,rotation:o,textAlign:Qt(t.align),textBaseline:"middle",translation:[a,r]})}}var vi={id:"title",_element:yi,start(e,t,s){!function(e,t){const s=new yi({ctx:e.ctx,options:t,chart:e});Fa.configure(e,s,t),Fa.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;Fa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Fa.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ji={average(e){if(!e.length)return!1;let t,s,n=new Set,a=0,r=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();n.add(e.x),a+=e.y,++r}}if(0===r||0===n.size)return!1;return{x:[...n].reduce(((e,t)=>e+t))/n.size,y:a/r}},nearest(e,t){if(!e.length)return!1;let s,n,a,r=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(s=0,n=e.length;s<n;++s){const n=e[s].element;if(n&&n.hasValue()){const e=Tt(t,n.getCenterPoint());e<o&&(o=e,a=n)}}if(a){const e=a.tooltipPosition();r=e.x,i=e.y}return{x:r,y:i}}};function wi(e,t){return t&&(Ke(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ni(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ki(e,t){const{element:s,datasetIndex:n,index:a}=t,r=e.getDatasetMeta(n).controller,{label:i,value:o}=r.getLabelAndValue(a);return{chart:e,label:i,parsed:r.getParsed(a),raw:e.data.datasets[n].data[a],formattedValue:o,dataset:r.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function _i(e,t){const s=e.chart.ctx,{body:n,footer:a,title:r}=e,{boxWidth:i,boxHeight:o}=t,l=Fs(t.bodyFont),c=Fs(t.titleFont),d=Fs(t.footerFont),u=r.length,h=a.length,x=n.length,m=Bs(t.padding);let f=m.height,p=0,g=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){f+=x*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(g-x)*l.lineHeight+(g-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const y=function(e){p=Math.max(p,s.measureText(e).width+b)};return s.save(),s.font=c.string,nt(e.title,y),s.font=l.string,nt(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?i+2+t.boxPadding:0,nt(n,(e=>{nt(e.before,y),nt(e.lines,y),nt(e.after,y)})),b=0,s.font=d.string,nt(e.footer,y),s.restore(),p+=m.width,{width:p,height:f}}function Si(e,t,s,n){const{x:a,width:r}=s,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===n?c=a<=(o+l)/2?"left":"right":a<=r/2?c="left":a>=i-r/2&&(c="right"),function(e,t,s,n){const{x:a,width:r}=n,i=s.caretSize+s.caretPadding;return"left"===e&&a+r+i>t.width||"right"===e&&a-r-i<0||void 0}(c,e,t,s)&&(c="center"),c}function Ci(e,t,s){const n=s.yAlign||t.yAlign||function(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||Si(e,t,s,n),yAlign:n}}function Ai(e,t,s,n){const{caretSize:a,caretPadding:r,cornerRadius:i}=e,{xAlign:o,yAlign:l}=s,c=a+r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:x}=Is(i);let m=function(e,t){let{x:s,width:n}=e;return"right"===t?s-=n:"center"===t&&(s-=n/2),s}(t,o);const f=function(e,t,s){let{y:n,height:a}=e;return"top"===t?n+=s:n-="bottom"===t?a+s:a/2,n}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,h)+a:"right"===o&&(m+=Math.max(u,x)+a),{x:Bt(m,0,n.width-t.width),y:Bt(f,0,n.height-t.height)}}function Mi(e,t,s){const n=Bs(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function Li(e){return wi([],Ni(e))}function Ei(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Pi={beforeTitle:Ge,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Ge,beforeBody:Ge,beforeLabel:Ge,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Qe(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ge,afterBody:Ge,beforeFooter:Ge,footer:Ge,afterFooter:Ge};function zi(e,t,s,n){const a=e[t].call(s,n);return"undefined"===typeof a?Pi[t].call(s,n):a}class Oi extends ar{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&t.options.animation&&s.animations,a=new Un(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,Vs(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,n=zi(s,"beforeTitle",this,e),a=zi(s,"title",this,e),r=zi(s,"afterTitle",this,e);let i=[];return i=wi(i,Ni(n)),i=wi(i,Ni(a)),i=wi(i,Ni(r)),i}getBeforeBody(e,t){return Li(zi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,n=[];return nt(e,(e=>{const t={before:[],lines:[],after:[]},a=Ei(s,e);wi(t.before,Ni(zi(a,"beforeLabel",this,e))),wi(t.lines,zi(a,"label",this,e)),wi(t.after,Ni(zi(a,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return Li(zi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,n=zi(s,"beforeFooter",this,e),a=zi(s,"footer",this,e),r=zi(s,"afterFooter",this,e);let i=[];return i=wi(i,Ni(n)),i=wi(i,Ni(a)),i=wi(i,Ni(r)),i}_createItems(e){const t=this._active,s=this.chart.data,n=[],a=[],r=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(ki(this.chart,t[i]));return e.filter&&(l=l.filter(((t,n,a)=>e.filter(t,n,a,s)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,s)))),nt(l,(t=>{const s=Ei(e.callbacks,t);n.push(zi(s,"labelColor",this,t)),a.push(zi(s,"labelPointStyle",this,t)),r.push(zi(s,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const s=this.options.setContext(this.getContext()),n=this._active;let a,r=[];if(n.length){const e=ji[s.position].call(this,n,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const t=this._size=_i(this,s),i=Object.assign({},e,t),o=Ci(this.chart,s,i),l=Ai(s,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,a={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,n){const a=this.getCaretPosition(e,s,n);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,s){const{xAlign:n,yAlign:a}=this,{caretSize:r,cornerRadius:i}=s,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Is(i),{x:u,y:h}=e,{width:x,height:m}=t;let f,p,g,b,y,v;return"center"===a?(y=h+m/2,"left"===n?(f=u,p=f-r,b=y+r,v=y-r):(f=u+x,p=f+r,b=y-r,v=y+r),g=f):(p="left"===n?u+Math.max(o,c)+r:"right"===n?u+x-Math.max(l,d)-r:this.caretX,"top"===a?(b=h,y=b-r,f=p-r,g=p+r):(b=h+m,y=b+r,f=p+r,g=p-r),v=b),{x1:f,x2:p,x3:g,y1:b,y2:y,y3:v}}drawTitle(e,t,s){const n=this.title,a=n.length;let r,i,o;if(a){const l=Sn(s.rtl,this.x,this.width);for(e.x=Mi(this,s.titleAlign,s),t.textAlign=l.textAlign(s.titleAlign),t.textBaseline="middle",r=Fs(s.titleFont),i=s.titleSpacing,t.fillStyle=s.titleColor,t.font=r.string,o=0;o<a;++o)t.fillText(n[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,o+1===a&&(e.y+=s.titleMarginBottom-i)}}_drawColorBox(e,t,s,n,a){const r=this.labelColors[s],i=this.labelPointStyles[s],{boxHeight:o,boxWidth:l}=a,c=Fs(a.bodyFont),d=Mi(this,"left",a),u=n.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,x=t.y+h;if(a.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},s=n.leftForLtr(u,l)+l/2,c=x+o/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ws(e,t,s,c),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,ws(e,t,s,c)}else{e.lineWidth=Xe(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=n.leftForLtr(u,l),s=n.leftForLtr(n.xPlus(u,1),l-2),i=Is(r.borderRadius);Object.values(i).some((e=>0!==e))?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ps(e,{x:t,y:x,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Ps(e,{x:s,y:x+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,x,l,o),e.strokeRect(t,x,l,o),e.fillStyle=r.backgroundColor,e.fillRect(s,x+1,l-2,o-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:n}=this,{bodySpacing:a,bodyAlign:r,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=s,d=Fs(s.bodyFont);let u=d.lineHeight,h=0;const x=Sn(s.rtl,this.x,this.width),m=function(s){t.fillText(s,x.x(e.x+h),e.y+u/2),e.y+=u+a},f=x.textAlign(r);let p,g,b,y,v,j,w;for(t.textAlign=r,t.textBaseline="middle",t.font=d.string,e.x=Mi(this,f,s),t.fillStyle=s.bodyColor,nt(this.beforeBody,m),h=i&&"right"!==f?"center"===r?l/2+c:l+2+c:0,y=0,j=n.length;y<j;++y){for(p=n[y],g=this.labelTextColors[y],t.fillStyle=g,nt(p.before,m),b=p.lines,i&&b.length&&(this._drawColorBox(t,e,y,x,s),u=Math.max(d.lineHeight,o)),v=0,w=b.length;v<w;++v)m(b[v]),u=d.lineHeight;nt(p.after,m)}h=0,u=d.lineHeight,nt(this.afterBody,m),e.y-=a}drawFooter(e,t,s){const n=this.footer,a=n.length;let r,i;if(a){const o=Sn(s.rtl,this.x,this.width);for(e.x=Mi(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=o.textAlign(s.footerAlign),t.textBaseline="middle",r=Fs(s.footerFont),t.fillStyle=s.footerColor,t.font=r.string,i=0;i<a;++i)t.fillText(n[i],o.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+s.footerSpacing}}drawBackground(e,t,s,n){const{xAlign:a,yAlign:r}=this,{x:i,y:o}=e,{width:l,height:c}=s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:x}=Is(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===r&&this.drawCaret(e,t,s,n),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===r&&"right"===a&&this.drawCaret(e,t,s,n),t.lineTo(i+l,o+c-x),t.quadraticCurveTo(i+l,o+c,i+l-x,o+c),"bottom"===r&&this.drawCaret(e,t,s,n),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===r&&"left"===a&&this.drawCaret(e,t,s,n),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,n=s&&s.x,a=s&&s.y;if(n||a){const s=ji[e.position].call(this,this._active,this._eventPosition);if(!s)return;const r=this._size=_i(this,e),i=Object.assign({},s,this._size),o=Ci(t,e,i),l=Ai(e,i,o,t);n._to===l.x&&a._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=r.width,this.height=r.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=Bs(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=s,this.drawBackground(a,e,n,t),Cn(e,t.textDirection),a.y+=r.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),An(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,n=e.map((e=>{let{datasetIndex:t,index:s}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[s],index:s}})),a=!at(s,n),r=this._positionChanged(n,t);(a||r)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,a=this._active||[],r=this._getActiveElements(e,a,t,s),i=this._positionChanged(r,e),o=t||!at(r,a)||i;return o&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,s,n){const a=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const r=this.chart.getElementsAtEventForMode(e,a.mode,a,s);return a.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:s,caretY:n,options:a}=this,r=ji[a.position].call(this,e,t);return!1!==r&&(s!==r.x||n!==r.y)}}(0,xe.A)(Oi,"positioners",ji);var Ti={id:"tooltip",_element:Oi,positioners:ji,afterInit(e,t,s){s&&(e.tooltip=new Oi({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,r.A)((0,r.A)({},s),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Pi},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Ri(e,t,s,n){const a=e.indexOf(t);if(-1===a)return((e,t,s,n)=>("string"===typeof t?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,n);return a!==e.lastIndexOf(t)?s:a}function Di(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ii extends mr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:n}of t)e[s]===n&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Qe(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:Bt(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:Ri(s,e,et(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,n=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=e;r<=t;r++)n.push({value:r});return n}getLabelForValue(e){return Di.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Bi(e,t){const s=[],{bounds:n,step:a,min:r,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=a||1,x=c-1,{min:m,max:f}=t,p=!Qe(r),g=!Qe(i),b=!Qe(l),y=(f-m)/(d+1);let v,j,w,N,k=At((f-m)/x/h)*h;if(k<1e-14&&!p&&!g)return[{value:m},{value:f}];N=Math.ceil(f/k)-Math.floor(m/k),N>x&&(k=At(N*k/x/h)*h),Qe(o)||(v=Math.pow(10,o),k=Math.ceil(k*v)/v),"ticks"===n?(j=Math.floor(m/k)*k,w=Math.ceil(f/k)*k):(j=m,w=f),p&&g&&a&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((i-r)/a,k/1e3)?(N=Math.round(Math.min((i-r)/k,c)),k=(i-r)/N,j=r,w=i):b?(j=p?r:j,w=g?i:w,N=l-1,k=(w-j)/N):(N=(w-j)/k,N=Ct(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const _=Math.max(zt(k),zt(j));v=Math.pow(10,Qe(o)?_:o),j=Math.round(j*v)/v,w=Math.round(w*v)/v;let S=0;for(p&&(u&&j!==r?(s.push({value:r}),j<r&&S++,Ct(Math.round((j+S*k)*v)/v,r,Fi(r,y,e))&&S++):j<r&&S++);S<N;++S){const e=Math.round((j+S*k)*v)/v;if(g&&e>i)break;s.push({value:e})}return g&&u&&w!==i?s.length&&Ct(s[s.length-1].value,i,Fi(i,y,e))?s[s.length-1].value=i:s.push({value:i}):g&&w!==i||s.push({value:w}),s}function Fi(e,t,s){let{horizontal:n,minRotation:a}=s;const r=Et(a),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}(0,xe.A)(Ii,"id","category"),(0,xe.A)(Ii,"defaults",{ticks:{callback:Di}});class Wi extends mr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Qe(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this;const r=e=>n=t?n:e,i=e=>a=s?a:e;if(e){const e=St(n),t=St(a);e<0&&t<0?i(0):e>0&&t>0&&r(0)}if(n===a){let t=0===a?1:Math.abs(.05*a);i(a+t),e||r(n-t)}this.min=n,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n=Bi({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Lt(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const n=(s-t)/Math.max(e.length-1,1)/2;t-=n,s+=n}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return cs(e,this.chart.options.locale,this.options.ticks.format)}}class Vi extends Wi{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Je(e)?e:0,this.max=Je(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=Et(this.options.ticks.minRotation),n=(e?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,xe.A)(Vi,"id","linear"),(0,xe.A)(Vi,"defaults",{ticks:{callback:us.formatters.numeric}});const Ui=e=>Math.floor(_t(e)),Hi=(e,t)=>Math.pow(10,Ui(e)+t);function qi(e){return 1===e/Math.pow(10,Ui(e))}function $i(e,t,s){const n=Math.pow(10,s),a=Math.floor(e/n);return Math.ceil(t/n)-a}function Gi(e,t){let{min:s,max:n}=t;s=Ze(e.min,s);const a=[],r=Ui(s);let i=function(e,t){let s=Ui(t-e);for(;$i(e,t,s)>10;)s++;for(;$i(e,t,s)<10;)s--;return Math.min(s,Ui(e))}(s,n),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=r>i?Math.pow(10,r):0,d=Math.round((s-c)*o)/o,u=Math.floor((s-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),x=Ze(e.min,Math.round((c+u+h*Math.pow(10,i))*o)/o);for(;x<n;)a.push({value:x,major:qi(x),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),x=Math.round((c+u+h*Math.pow(10,i))*o)/o;const m=Ze(e.max,x);return a.push({value:m,major:qi(m),significand:h}),a}class Yi extends mr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Wi.prototype.parse.apply(this,[e,t]);if(0!==s)return Je(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Je(e)?Math.max(0,e):null,this.max=Je(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Je(this._userMin)&&(this.min=e===Hi(this.min,0)?Hi(this.min,-1):Hi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,n=this.max;const a=t=>s=e?s:t,r=e=>n=t?n:e;s===n&&(s<=0?(a(1),r(10)):(a(Hi(s,-1)),r(Hi(n,1)))),s<=0&&a(Hi(n,-1)),n<=0&&r(Hi(s,1)),this.min=s,this.max=n}buildTicks(){const e=this.options,t=Gi({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Lt(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":cs(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=_t(e),this._valueRange=_t(this.max)-_t(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(_t(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Qi(e){const t=e.ticks;if(t.display&&e.display){const e=Bs(t.backdropPadding);return et(t.font&&t.font.size,gs.font.size)+e.height}return 0}function Ki(e,t,s,n,a){return e===n||e===a?{start:t-s/2,end:t+s/2}:e<n||e>a?{start:t-s,end:t}:{start:t,end:t+s}}function Xi(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],a=[],r=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?gt/r:0;for(let u=0;u<r;u++){const r=i.setContext(e.getPointLabelContext(u));a[u]=r.padding;const h=e.getPointPosition(u,e.drawingArea+a[u],o),x=Fs(r.font),m=(l=e.ctx,c=x,d=Ke(d=e._pointLabels[u])?d:[d],{w:ys(l,c.string,d),h:d.length*c.lineHeight});n[u]=m;const f=Dt(e.getIndexAngle(u)+o),p=Math.round(Pt(f));Ji(s,t,f,Ki(p,h.x,m.w,0,180),Ki(p,h.y,m.h,90,270))}var l,c,d;e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=function(e,t,s){const n=[],a=e._pointLabels.length,r=e.options,{centerPointLabels:i,display:o}=r.pointLabels,l={extra:Qi(r)/2,additionalAngle:i?gt/a:0};let c;for(let d=0;d<a;d++){l.padding=s[d],l.size=t[d];const a=Zi(e,d,l);n.push(a),"auto"===o&&(a.visible=eo(a,c),a.visible&&(c=a))}return n}(e,n,a)}function Ji(e,t,s,n,a){const r=Math.abs(Math.sin(s)),i=Math.abs(Math.cos(s));let o=0,l=0;n.start<t.l?(o=(t.l-n.start)/r,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/r,e.r=Math.max(e.r,t.r+o)),a.start<t.t?(l=(t.t-a.start)/i,e.t=Math.min(e.t,t.t-l)):a.end>t.b&&(l=(a.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function Zi(e,t,s){const n=e.drawingArea,{extra:a,additionalAngle:r,padding:i,size:o}=s,l=e.getPointPosition(t,n+a+i,r),c=Math.round(Pt(Dt(l.angle+wt))),d=function(e,t,s){90===s||270===s?e-=t/2:(s>270||s<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,s){"right"===s?e-=t:"center"===s&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function eo(e,t){if(!t)return!0;const{left:s,top:n,right:a,bottom:r}=e;return!(ks({x:s,y:n},t)||ks({x:s,y:r},t)||ks({x:a,y:n},t)||ks({x:a,y:r},t))}function to(e,t,s){const{left:n,top:a,right:r,bottom:i}=s,{backdropColor:o}=t;if(!Qe(o)){const s=Is(t.borderRadius),l=Bs(t.backdropPadding);e.fillStyle=o;const c=n-l.left,d=a-l.top,u=r-n+l.width,h=i-a+l.height;Object.values(s).some((e=>0!==e))?(e.beginPath(),Ps(e,{x:c,y:d,w:u,h:h,radius:s}),e.fill()):e.fillRect(c,d,u,h)}}function so(e,t,s,n){const{ctx:a}=e;if(s)a.arc(e.xCenter,e.yCenter,t,0,bt);else{let s=e.getPointPosition(0,t);a.moveTo(s.x,s.y);for(let r=1;r<n;r++)s=e.getPointPosition(r,t),a.lineTo(s.x,s.y)}}(0,xe.A)(Yi,"id","logarithmic"),(0,xe.A)(Yi,"defaults",{ticks:{callback:us.formatters.logarithmic,major:{enabled:!0}}});class no extends Wi{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Bs(Qi(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Je(e)&&!isNaN(e)?e:0,this.max=Je(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qi(this.options))}generateTickLabels(e){Wi.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const s=st(this.options.pointLabels.callback,[e,t],this);return s||0===s?s:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Xi(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,n))}getIndexAngle(e){return Dt(e*(bt/(this._pointLabels.length||1))+Et(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Qe(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Qe(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return function(e,t,s){return Vs(e,{label:s,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}getPointPosition(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-wt+s;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:n,bottom:a}=this._pointLabelItems[e];return{left:t,top:s,right:n,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),so(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:n,border:a}=t,r=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let a=t-1;a>=0;a--){const t=e._pointLabelItems[a];if(!t.visible)continue;const r=n.setContext(e.getPointLabelContext(a));to(s,r,t);const i=Fs(r.font),{x:o,y:l,textAlign:c}=t;Es(s,e._pointLabels[a],o,l+i.lineHeight/2,i,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,r),n.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const s=this.getContext(t),i=n.setContext(s),l=a.setContext(s);!function(e,t,s,n,a){const r=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!n||!o||!l||s<0||(r.save(),r.strokeStyle=o,r.lineWidth=l,r.setLineDash(a.dash||[]),r.lineDashOffset=a.dashOffset,r.beginPath(),so(e,s,i,n),r.closePath(),r.stroke(),r.restore())}(this,i,o,r,l)}})),s.display){for(e.save(),i=r-1;i>=0;i--){const n=s.setContext(this.getPointLabelContext(i)),{color:a,lineWidth:r}=n;r&&a&&(e.lineWidth=r,e.strokeStyle=a,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let a,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((n,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=s.setContext(this.getContext(i)),l=Fs(o.font);if(a=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,r=e.measureText(n.label).width,e.fillStyle=o.backdropColor;const t=Bs(o.backdropPadding);e.fillRect(-r/2-t.left,-a-l.size/2-t.top,r+t.width,l.size+t.height)}Es(e,n.label,0,-a,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}(0,xe.A)(no,"id","radialLinear"),(0,xe.A)(no,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:us.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,xe.A)(no,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,xe.A)(no,"descriptors",{angleLines:{_fallback:"grid"}});const ao={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ro=Object.keys(ao);function io(e,t){return e-t}function oo(e,t){if(Qe(t))return null;const s=e._adapter,{parser:n,round:a,isoWeekday:r}=e._parseOpts;let i=t;return"function"===typeof n&&(i=n(i)),Je(i)||(i="string"===typeof n?s.parse(i,n):s.parse(i)),null===i?null:(a&&(i="week"!==a||!Mt(r)&&!0!==r?s.startOf(i,a):s.startOf(i,"isoWeek",r)),+i)}function lo(e,t,s,n){const a=ro.length;for(let r=ro.indexOf(e);r<a-1;++r){const e=ao[ro[r]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(a*e.size))<=n)return ro[r]}return ro[a-1]}function co(e,t,s){if(s){if(s.length){const{lo:n,hi:a}=Wt(s,t);e[s[n]>=t?s[n]:s[a]]=!0}}else e[t]=!0}function uo(e,t,s){const n=[],a={},r=t.length;let i,o;for(i=0;i<r;++i)o=t[i],a[o]=i,n.push({value:o,major:!1});return 0!==r&&s?function(e,t,s,n){const a=e._adapter,r=+a.startOf(t[0].value,n),i=t[t.length-1].value;let o,l;for(o=r;o<=i;o=+a.add(o,1,n))l=s[o],l>=0&&(t[l].major=!0);return t}(e,n,a,s):n}class ho extends mr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.time||(e.time={}),n=this._adapter=new va(e.adapters.date);n.init(t),ct(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:oo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:n,max:a,minDefined:r,maxDefined:i}=this.getUserBounds();function o(e){r||isNaN(e.min)||(n=Math.min(n,e.min)),i||isNaN(e.max)||(a=Math.max(a,e.max))}r&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),n=Je(n)&&!isNaN(n)?n:+t.startOf(Date.now(),s),a=Je(a)&&!isNaN(a)?a:+t.endOf(Date.now(),s)+1,this.min=Math.min(n,a-1),this.max=Math.max(n+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,n="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const a=this.min,r=function(e,t,s){let n=0,a=e.length;for(;n<a&&e[n]<t;)n++;for(;a>n&&e[a-1]>s;)a--;return n>0||a<e.length?e.slice(n,a):e}(n,a,this.max);return this._unit=t.unit||(s.autoSkip?lo(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,s,n,a){for(let r=ro.length-1;r>=ro.indexOf(s);r--){const s=ro[r];if(ao[s].common&&e._adapter.diff(a,n,s)>=t-1)return s}return ro[s?ro.indexOf(s):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=ro.indexOf(e)+1,s=ro.length;t<s;++t)if(ao[ro[t]].common)return ro[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&r.reverse(),uo(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,a=0;this.options.offset&&s.length&&(e=this.getDecimalForValue(s[0]),n=1===s.length?1-e:(this.getDecimalForValue(s[1])-e)/2,t=this.getDecimalForValue(s[s.length-1]),a=1===s.length?t:(t-this.getDecimalForValue(s[s.length-2]))/2);const r=s.length<3?.5:.25;n=Bt(n,0,r),a=Bt(a,0,r),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const e=this._adapter,t=this.min,s=this.max,n=this.options,a=n.time,r=a.unit||lo(a.minUnit,t,s,this._getLabelCapacity(t)),i=et(n.ticks.stepSize,1),o="week"===r&&a.isoWeekday,l=Mt(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":r),e.diff(s,t,r)>1e5*i)throw new Error(t+" and "+s+" are too far apart with stepSize of "+i+" "+r);const x="data"===n.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<s;d=+e.add(d,i,r),u++)co(c,d,x);return d!==s&&"ticks"!==n.bounds&&1!==u||co(c,d,x),Object.keys(c).sort(io).map((e=>+e))}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,n=this._unit,a=t||s[n];return this._adapter.format(e,a)}_tickFormatFunction(e,t,s,n){const a=this.options,r=a.ticks.callback;if(r)return st(r,[e,t,s],this);const i=a.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],d=l&&i[l],u=s[t],h=l&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,s,n;for(t=0,s=e.length;t<s;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,n=Et(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(n),r=Math.sin(n),i=this._resolveTickFontOptions(0).size;return{w:s*a+i*r,h:s*r+i*a}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,n=s[t.unit]||s.millisecond,a=this._tickFormatFunction(e,0,uo(this,[e],this._majorUnit),n),r=this._getLabelSize(a),i=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)s=s.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const n=this.getLabels();for(t=0,s=n.length;t<s;++t)e.push(oo(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $t(e.sort(io))}}function xo(e,t,s){let n,a,r,i,o=0,l=e.length-1;s?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Vt(e,"pos",t)),({pos:n,time:r}=e[o]),({pos:a,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Vt(e,"time",t)),({time:n,pos:r}=e[o]),({time:a,pos:i}=e[l]));const c=a-n;return c?r+(i-r)*(t-n)/c:r}(0,xe.A)(ho,"id","time"),(0,xe.A)(ho,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class mo extends ho{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=xo(t,this.min),this._tableRange=xo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,n=[],a=[];let r,i,o,l,c;for(r=0,i=e.length;r<i;++r)l=e[r],l>=t&&l<=s&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(r=0,i=n.length;r<i;++r)c=n[r+1],o=n[r-1],l=n[r],Math.round((c+o)/2)!==l&&a.push({time:l,pos:r/(i-1)});return a}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return s.includes(e)&&s.length||s.splice(0,0,e),s.includes(t)&&1!==s.length||s.push(t),s.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=t.length&&s.length?this.normalize(t.concat(s)):t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(xo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return xo(this._table,s*this._tableRange+this._minPos,!0)}}(0,xe.A)(mo,"id","timeseries"),(0,xe.A)(mo,"defaults",ho.defaults);const fo=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],po="label";function go(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function bo(e,t){e.labels=t}function yo(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:po;const n=[];e.datasets=t.map((t=>{const a=e.datasets.find((e=>e[s]===t[s]));return a&&t.data&&!n.includes(a)?(n.push(a),Object.assign(a,t),a):(0,r.A)({},t)}))}function vo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:po;const s={labels:[],datasets:[]};return bo(s,e.labels),yo(s,e.datasets,t),s}function jo(e,t){const{height:s=150,width:a=300,redraw:i=!1,datasetIdKey:o,type:l,data:c,options:d,plugins:u=[],fallbackContent:h,updateMode:x}=e,m=function(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,fo),f=(0,n.useRef)(null),p=(0,n.useRef)(null),g=()=>{f.current&&(p.current=new Hr(f.current,{type:l,data:vo(c,o),options:d&&(0,r.A)({},d),plugins:u}),go(t,p.current))},b=()=>{go(t,null),p.current&&(p.current.destroy(),p.current=null)};return(0,n.useEffect)((()=>{!i&&p.current&&d&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(p.current,d)}),[i,d]),(0,n.useEffect)((()=>{!i&&p.current&&bo(p.current.config.data,c.labels)}),[i,c.labels]),(0,n.useEffect)((()=>{!i&&p.current&&c.datasets&&yo(p.current.config.data,c.datasets,o)}),[i,c.datasets]),(0,n.useEffect)((()=>{p.current&&(i?(b(),setTimeout(g)):p.current.update(x))}),[i,d,c.labels,c.datasets,x]),(0,n.useEffect)((()=>{p.current&&(b(),setTimeout(g))}),[l]),(0,n.useEffect)((()=>(g(),()=>b())),[]),n.createElement("canvas",(0,r.A)({ref:f,role:"img",height:s,width:a},m),h)}const wo=(0,n.forwardRef)(jo);function No(e,t){return Hr.register(t),(0,n.forwardRef)(((t,s)=>n.createElement(wo,(0,r.A)((0,r.A)({},t),{},{ref:s,type:e}))))}const ko=No("line",xa),_o=No("bar",da),So=No("doughnut",ha);Hr.register(Ii,Vi,oi,ri,mi,vi,Ti,bi,Kr);const Co=e=>{let{type:t,data:s,options:n={},title:a}=e;const i={data:s,options:(0,r.A)({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,color:"#e2e8f0",font:{family:"Rajdhani",size:12,weight:"bold"}}},title:{display:!!a,text:a,color:"#e2e8f0",font:{family:"Rajdhani",size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#e2e8f0",bodyColor:"#e2e8f0",borderColor:"#4a90e2",borderWidth:1,titleFont:{family:"Rajdhani",weight:"bold"},bodyFont:{family:"Rajdhani"}}},scales:"doughnut"!==t?{x:{grid:{color:"rgba(74, 144, 226, 0.1)"},ticks:{color:"#a0a0a0",font:{family:"Rajdhani",size:11}}},y:{grid:{color:"rgba(74, 144, 226, 0.1)"},ticks:{color:"#a0a0a0",font:{family:"Rajdhani",size:11},callback:function(e){return"$"+e.toFixed(2)}}}}:void 0},n)};return(0,l.jsx)("div",{className:"w-full h-64 p-4",children:(()=>{switch(t){case"line":default:return(0,l.jsx)(ko,(0,r.A)({},i));case"bar":return(0,l.jsx)(_o,(0,r.A)({},i));case"doughnut":return(0,l.jsx)(So,(0,r.A)({},i))}})()})},Ao=e=>{const t=new Date,s=[];switch(e){case"day":for(let e=23;e>=0;e--){const n=new Date(t);n.setHours(n.getHours()-e),s.push(n.getHours().toString().padStart(2,"0")+":00")}break;case"week":for(let e=6;e>=0;e--){const n=new Date(t);n.setDate(n.getDate()-e),s.push(n.toLocaleDateString("ru-RU",{weekday:"short",day:"numeric"}))}break;case"month":for(let e=3;e>=0;e--){const n=new Date(t);n.setDate(n.getDate()-7*e),s.push("".concat(n.getDate(),".").concat((n.getMonth()+1).toString().padStart(2,"0")))}break;case"all":for(let e=11;e>=0;e--){const n=new Date(t);n.setMonth(n.getMonth()-e),s.push(n.toLocaleDateString("ru-RU",{month:"short",year:"2-digit"}))}break;default:return["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"]}return s},Mo=(e,t,s)=>{var n,a,r;const i=Ao(e),o=i.length;s||(s=Array.from({length:o},(()=>1e3*Math.random()+100)));const l={blue:{background:"rgba(74, 144, 226, 0.2)",border:"rgba(74, 144, 226, 1)",point:"rgba(74, 144, 226, 1)"},green:{background:"rgba(34, 197, 94, 0.2)",border:"rgba(34, 197, 94, 1)",point:"rgba(34, 197, 94, 1)"},yellow:{background:"rgba(251, 191, 36, 0.2)",border:"rgba(251, 191, 36, 1)",point:"rgba(251, 191, 36, 1)"},red:{background:"rgba(239, 68, 68, 0.2)",border:"rgba(239, 68, 68, 1)",point:"rgba(239, 68, 68, 1)"},purple:{background:"rgba(147, 51, 234, 0.2)",border:"rgba(147, 51, 234, 1)",point:"rgba(147, 51, 234, 1)"},orange:{background:"rgba(249, 115, 22, 0.2)",border:"rgba(249, 115, 22, 1)",point:"rgba(249, 115, 22, 1)"}};return{labels:i,datasets:[{label:"\u0414\u043e\u0445\u043e\u0434",data:s,backgroundColor:(null===(n=l[t])||void 0===n?void 0:n.background)||l.blue.background,borderColor:(null===(a=l[t])||void 0===a?void 0:a.border)||l.blue.border,pointBackgroundColor:(null===(r=l[t])||void 0===r?void 0:r.point)||l.blue.point,pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6,borderWidth:2,fill:!0,tension:.4}]}},Lo=e=>{const t=Ao(e),s=t.map((()=>200*Math.random()+50)),n=t.map((()=>100*Math.random()+20));return{labels:t,datasets:[{label:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",data:s,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2},{label:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",data:n,backgroundColor:"rgba(249, 115, 22, 0.6)",borderColor:"rgba(249, 115, 22, 1)",borderWidth:2}]}},Eo=e=>{const t=Ao(e),s=t.map((()=>1e3*Math.random()+500)),n=t.map(((e,t)=>.3*s[t]+100*Math.random())),a=t.map(((e,t)=>s[t]-n[t]));return{labels:t,datasets:[{label:"\u0414\u043e\u0445\u043e\u0434\u044b",data:s,backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,fill:!0,tension:.4},{label:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",data:n,backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,fill:!0,tension:.4},{label:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c",data:a,backgroundColor:"rgba(16, 185, 129, 0.2)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:3,fill:!0,tension:.4}]}},Po="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),zo=e=>{var t,s,a,o,c,d,u,h,x,m,f,p,g,y,v,j,w,N,k,_,S,C,A,M,L,E,P;let{user:z}=e;const[O,T]=(0,n.useState)(null),[R,D]=(0,n.useState)([]),[I,B]=(0,n.useState)(null),[F,W]=(0,n.useState)(null),[V,U]=(0,n.useState)({from:"",to:""}),[H,q]=(0,n.useState)(!0),[$,G]=(0,n.useState)("overview"),[Y,Q]=(0,n.useState)("BET_COMMISSION"),[K,X]=(0,n.useState)("date"),[J,Z]=(0,n.useState)("desc"),[ee,te]=(0,n.useState)({show:!1,text:"",x:0,y:0}),[se,ne]=(0,n.useState)(!1),[ae,re]=(0,n.useState)(""),[ie,oe]=(0,n.useState)({min:"",max:""}),[le,ue]=(0,n.useState)(""),[he,xe]=(0,n.useState)(null),[me,fe]=(0,n.useState)([]),[pe,ge]=(0,n.useState)(!1),[be,ye]=(0,n.useState)(null),[ve,je]=(0,n.useState)({current_page:1,total_pages:1}),[we,Ne]=(0,n.useState)("month"),[ke,_e]=(0,n.useState)("month"),[Se,Ce]=(0,n.useState)({percentage:60,manual_amount:0}),[Ae,Me]=(0,n.useState)(!1),[Le,Ee]=(0,n.useState)({bet_commission_rate:3,gift_commission_rate:3}),[Pe,ze]=(0,n.useState)(!1),Oe=de(1,10);(0,n.useEffect)((()=>{Te()}),[]),(0,n.useEffect)((()=>{"history"===$&&(Oe.currentPage>1?Oe.handlePageChange(1):Re())}),[$,Y,K,J,V,ae,ie,le]),(0,n.useEffect)((()=>{"history"===$&&Re()}),[Oe.currentPage]);const Te=async()=>{q(!0);try{const e=localStorage.getItem("token"),[t,s,n]=await Promise.all([i.A.get("".concat(Po,"/admin/profit/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("".concat(Po,"/admin/profit/commission-settings"),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("".concat(Po,"/admin/profit/bot-integration"),{headers:{Authorization:"Bearer ".concat(e)}})]);T(t.data),B(s.data),W(n.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u0440\u0438\u0431\u044b\u043b\u0438:",e)}finally{q(!1)}},Re=async()=>{try{const e=localStorage.getItem("token"),t=new URLSearchParams({page:Oe.currentPage.toString(),limit:Oe.itemsPerPage.toString(),type:Y,sort_by:K,sort_order:J});V.from&&t.append("date_from",V.from),V.to&&t.append("date_to",V.to),ae&&t.append("player_filter",ae),ie.min&&t.append("amount_min",ie.min),ie.max&&t.append("amount_max",ie.max),le&&t.append("transaction_id",le);const s=await i.A.get("".concat(Po,"/admin/profit/entries?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});D(s.data.entries||[]),Oe.updatePagination(s.data.total_count||0)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:",e)}},De={BET_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"}),(0,l.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]}),color:"green",description:"3% \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 PvP-\u0438\u0433\u0440"},BOT_REVENUE:{name:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u041e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,l.jsx)("circle",{cx:"18",cy:"15",r:"3",strokeWidth:"1.5"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17 14v2l1 1"})]}),color:"blue",description:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u0442\u044b \u0432\u044b\u0438\u0433\u0440\u044b\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0442\u0438\u0432 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},GIFT_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"}),(0,l.jsx)("circle",{cx:"17",cy:"13",r:"2",strokeWidth:"1.5"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 12v2l1 1"})]}),color:"purple",description:"3% \u0437\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0433\u0435\u043c\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}},Ie=async e=>{try{await navigator.clipboard.writeText(e),ne(!0),setTimeout((()=>ne(!1)),2e3)}catch(t){console.error("Failed to copy: ",t)}},Be=()=>{te({show:!1,text:"",x:0,y:0})},Fe=(e,t)=>"BET_COMMISSION"===t?"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430":"BOT_REVENUE"===t?"\u0412\u044b\u0438\u0433\u0440\u044b\u0448 \u0431\u043e\u0442\u0430 \u043f\u0440\u043e\u0442\u0438\u0432 \u0438\u0433\u0440\u043e\u043a\u0430":"GIFT_COMMISSION"===t?"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u043f\u043e\u0434\u0430\u0440\u043a\u0430":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",We=e=>e.bot_id?"Bot_".concat(e.bot_id.substring(0,8)):e.source_user_id?e.user_name&&e.user_email?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.user_name}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:e.user_email})]}):"\u0418\u0433\u0440\u043e\u043a ".concat(e.source_user_id.substring(0,8),"..."):"\u2014",Ve=e=>(e.bet_commission||0)+(e.human_bot_commission||0)+(e.gift_commission||0)+(e.bot_revenue||0),Ue=e=>Ve(e)*Se.percentage/100+(Se.manual_amount||0),He=async e=>{try{xe(e),ye(null),_e("month"),"bet_commission"===e||"gift_commission"===e?(Ee({bet_commission_rate:(null===I||void 0===I?void 0:I.bet_commission_rate)||3,gift_commission_rate:(null===I||void 0===I?void 0:I.gift_commission_rate)||3}),fe([])):await qe(e,"month")}catch(t){console.error("Error opening modal:",t),ye("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0438 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430")}},qe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke;ge(!0),ye(null);try{const s=localStorage.getItem("token");switch(e){case"bot_revenue":const e=await i.A.get("".concat(Po,"/admin/profit/bot-revenue-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(s)}});fe(e.data);break;case"frozen_funds":const n=await i.A.get("".concat(Po,"/admin/profit/frozen-funds-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(s)}});fe(n.data);break;case"total_revenue":const a=await i.A.get("".concat(Po,"/admin/profit/total-revenue-breakdown?period=").concat(t),{headers:{Authorization:"Bearer ".concat(s)}});fe(a.data);break;case"expenses":const r=await i.A.get("".concat(Po,"/admin/profit/expenses-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(s)}});fe(r.data);break;case"net_profit":const o=await i.A.get("".concat(Po,"/admin/profit/net-profit-analysis?period=").concat(t),{headers:{Authorization:"Bearer ".concat(s)}});fe(o.data);break;default:fe([])}}catch(s){console.error("Error loading modal data for ".concat(e,":"),s),ye("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),fe([])}finally{ge(!1)}},$e=e=>{_e(e),he&&qe(he,e)},Ge=e=>({bet_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",human_bot_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432",gift_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",bot_revenue:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",frozen_funds:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430",total_revenue:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c",net_profit:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}[e]||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"),Ye=e=>{const t=new Date(e);return{date:t.toLocaleDateString("ru-RU"),time:t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}};return H?(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f..."})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0431\u044b\u043b\u044c\u044e"})}),(0,l.jsxs)("div",{className:"flex space-x-4 border-b border-border-primary",children:[(0,l.jsx)("button",{onClick:()=>G("overview"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("overview"===$?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041e\u0431\u0437\u043e\u0440"}),(0,l.jsx)("button",{onClick:()=>G("history"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("history"===$?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438"}),(0,l.jsx)("button",{onClick:()=>G("settings"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("settings"===$?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),"overview"===$&&O&&(0,l.jsx)("div",{className:"space-y-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[(0,l.jsx)("div",{className:"bg-surface-card border border-green-500/30 rounded-lg p-6 hover:border-green-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>He("bet_commission"),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"}),(0,l.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]})}),(0,l.jsx)("div",{className:"bg-green-500/20 text-green-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-green-400",children:b(O.bet_commission||0,!0)}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"3% \u043e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 \u0432 PvP-\u0438\u0433\u0440\u0430\u0445"}),(0,l.jsx)("p",{className:"text-xs text-green-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,l.jsx)("div",{className:"bg-surface-card border border-cyan-500/30 rounded-lg p-6 hover:border-cyan-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>He("human_bot_commission"),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,l.jsx)("circle",{cx:"18",cy:"15",r:"2",strokeWidth:"1.5"}),(0,l.jsx)("text",{x:"18",y:"16",textAnchor:"middle",fontSize:"6",fill:"currentColor",children:"%"})]})}),(0,l.jsx)("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-cyan-400",children:b(O.human_bot_commission||0,!0)}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"3% \u043e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"text-xs text-cyan-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,l.jsx)("div",{className:"bg-surface-card border border-purple-500/30 rounded-lg p-6 hover:border-purple-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>He("gift_commission"),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"}),(0,l.jsx)("circle",{cx:"17",cy:"13",r:"2",strokeWidth:"1.5"}),(0,l.jsx)("text",{x:"17",y:"14",textAnchor:"middle",fontSize:"6",fill:"currentColor",children:"%"})]})}),(0,l.jsx)("div",{className:"bg-purple-500/20 text-purple-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-purple-400",children:b(O.gift_commission||0,!0)}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"3% \u043e\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432"}),(0,l.jsx)("p",{className:"text-xs text-purple-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,l.jsx)("div",{className:"bg-surface-card border border-blue-500/30 rounded-lg p-6 hover:border-blue-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>He("bot_revenue"),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"})]})}),(0,l.jsx)("div",{className:"bg-blue-500/20 text-blue-400 text-xs font-bold px-2 py-1 rounded-full",children:"AI"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-blue-400",children:b(O.bot_revenue||0,!0)}),(0,l.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:F&&(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("p",{children:["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432: ",F.bot_stats.active_bots]}),(0,l.jsxs)("p",{children:["Avg Win Rate: ",(null===(t=F.bot_stats.avg_win_rate)||void 0===t?void 0:t.toFixed(1))||0,"%"]}),(0,l.jsxs)("p",{children:["\u0421\u0435\u0433\u043e\u0434\u043d\u044f: ",b(F.bot_revenue.today||0,!0)]})]})}),(0,l.jsx)("p",{className:"text-xs text-blue-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,l.jsx)("div",{className:"bg-surface-card border border-yellow-500/30 rounded-lg p-6 hover:border-yellow-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>He("total_revenue"),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsx)("div",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-bold px-2 py-1 rounded-full",children:"TOTAL"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-yellow-400",children:b(Ve(O),!0)}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432 \u0434\u043e\u0445\u043e\u0434\u0430"}),(0,l.jsx)("p",{className:"text-xs text-yellow-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,l.jsx)("div",{className:"bg-surface-card border border-orange-500/30 rounded-lg p-6 hover:border-orange-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>He("frozen_funds"),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,l.jsx)("div",{className:"bg-orange-500/20 text-orange-400 text-xs font-bold px-2 py-1 rounded-full",children:"FROZEN"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-orange-400",children:b(O.frozen_funds||0,!0)}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440\u0430\u0445"}),(0,l.jsx)("p",{className:"text-xs text-orange-300 mt-1",children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"})]})})}),(0,l.jsx)("div",{className:"bg-surface-card border border-red-500/30 rounded-lg p-6 hover:border-red-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Me(!0),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,l.jsx)("div",{className:"bg-red-500/20 text-red-400 text-xs font-bold px-2 py-1 rounded-full",children:"CALC"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-red-400",children:b(Ue(O),!0)}),(0,l.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:[Se.percentage,"% \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 + \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435"]}),(0,l.jsx)("p",{className:"text-xs text-red-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})})}),(0,l.jsx)("div",{className:"bg-surface-card border border-emerald-500/30 rounded-lg p-6 hover:border-emerald-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>He("net_profit"),children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsx)("div",{className:"bg-emerald-500/20 text-emerald-400 text-xs font-bold px-2 py-1 rounded-full",children:"NET"})]}),(0,l.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,l.jsx)("p",{className:"font-russo text-2xl font-bold text-emerald-400",children:b((e=>Ve(e)-Ue(e))(O),!0)}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043c\u0438\u043d\u0443\u0441 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,l.jsx)("p",{className:"text-xs text-emerald-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})})]})}),"history"===$&&(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"border-b border-border-primary bg-surface-sidebar",children:(0,l.jsx)("div",{className:"flex",children:Object.entries(De).map((e=>{let[t,s]=e;return(0,l.jsxs)("button",{onClick:()=>{Q(t),Oe.handlePageChange&&Oe.handlePageChange(1)},className:"px-6 py-4 font-roboto font-bold text-sm transition-all duration-200 border-b-2 flex items-center space-x-2 ".concat(Y===t?"green"===s.color?"border-green-500 bg-green-500/10 text-green-400":"blue"===s.color?"border-blue-500 bg-blue-500/10 text-blue-400":"border-purple-500 bg-purple-500/10 text-purple-400":"border-transparent text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,l.jsx)("div",{className:"".concat(Y===t?"green"===s.color?"text-green-400":"blue"===s.color?"text-blue-400":"text-purple-400":"text-text-secondary"),children:s.icon}),(0,l.jsx)("span",{children:s.name}),(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-bold ".concat(Y===t?"bg-white/20 text-white":"bg-surface-card text-text-secondary"),children:Y===t?R.length:"\u2022"})]},t)}))})}),(0,l.jsxs)("div",{className:"p-4 bg-surface-sidebar border-b border-border-primary",children:[(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-3 lg:space-y-0",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsxs)("h3",{className:"font-rajdhani text-lg font-bold text-white flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"".concat("green"===(null===(s=De[Y])||void 0===s?void 0:s.color)?"text-green-400":"blue"===(null===(a=De[Y])||void 0===a?void 0:a.color)?"text-blue-400":"purple"===(null===(o=De[Y])||void 0===o?void 0:o.color)?"text-purple-400":"text-gray-400"),children:null===(c=De[Y])||void 0===c?void 0:c.icon}),(0,l.jsx)("span",{children:(null===(d=De[Y])||void 0===d?void 0:d.name)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"})]}),(0,l.jsxs)("span",{className:"text-text-secondary text-sm",children:["(",R.length," \u0437\u0430\u043f\u0438\u0441\u0435\u0439)"]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430:"}),(0,l.jsxs)("select",{value:K,onChange:e=>X(e.target.value),className:"bg-surface-card border border-border-primary rounded-lg px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,l.jsx)("option",{value:"date",children:"\u041f\u043e \u0434\u0430\u0442\u0435"}),(0,l.jsx)("option",{value:"amount",children:"\u041f\u043e \u0441\u0443\u043c\u043c\u0435"}),(0,l.jsx)("option",{value:"source",children:"\u041f\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0443"})]}),(0,l.jsx)("button",{onClick:()=>Z("asc"===J?"desc":"asc"),className:"px-2 py-1 bg-surface-card border border-border-primary rounded text-white hover:bg-surface-sidebar transition-colors text-sm",title:"asc"===J?"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e":"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",children:"asc"===J?"\u2191":"\u2193"})]}),(0,l.jsx)("button",{onClick:()=>{const e=[["\u0414\u0430\u0442\u0430","\u0412\u0440\u0435\u043c\u044f","\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","\u0421\u0443\u043c\u043c\u0430","\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a","ID \u0438\u0433\u0440\u043e\u043a\u0430/\u0431\u043e\u0442\u0430","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"].join(","),...R.map((e=>{return[new Date(e.created_at).toLocaleDateString("ru-RU"),new Date(e.created_at).toLocaleTimeString("ru-RU"),'"'.concat((t=e.type,{bet_commission:"\ud83d\udcb0 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",gift_commission:"\ud83c\udf81 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",bot_profit:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",BOT_REVENUE:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",human_bot_profit:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 Human \u0431\u043e\u0442\u043e\u0432",penalty:"\ud83d\udea8 \u0428\u0442\u0440\u0430\u0444\u044b \u0438 \u0443\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f",refund:"\ud83d\udd04 \u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u0441\u0440\u0435\u0434\u0441\u0442\u0432",system_credit:"\u2699\ufe0f \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f",game_commission:"\ud83d\udcb0 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0438\u0433\u0440\u044b",shop_sale:"\ud83d\uded2 \u041f\u0440\u043e\u0434\u0430\u0436\u0430 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435",other:"\ud83d\udcca \u041f\u0440\u043e\u0447\u0435\u0435"}[t]||t),'"'),e.amount.toFixed(2),'"'.concat(e.source||"\u2014",'"'),e.source_user_id||e.bot_id||"\u2014",'"'.concat(e.description||"\u2014",'"')].join(",");var t}))].join("\n"),t=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),n=URL.createObjectURL(t);s.setAttribute("href",n),s.setAttribute("download","profit_history_".concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded text-sm transition-colors",children:"\ud83d\udce5 CSV"})]})]}),(0,l.jsxs)("div",{className:"p-4 bg-surface-card border-b border-border-primary",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041f\u0435\u0440\u0438\u043e\u0434"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("input",{type:"date",value:V.from,onChange:e=>U((t=>(0,r.A)((0,r.A)({},t),{},{from:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041e\u0442"}),(0,l.jsx)("input",{type:"date",value:V.to,onChange:e=>U((t=>(0,r.A)((0,r.A)({},t),{},{to:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u0414\u043e"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u0433\u0440\u043e\u043a/\u0411\u043e\u0442"}),(0,l.jsx)("input",{type:"text",value:ae,onChange:e=>re(e.target.value),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u0418\u043c\u044f, \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 ID"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0421\u0443\u043c\u043c\u0430 ($)"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("input",{type:"number",value:ie.min,onChange:e=>oe((t=>(0,r.A)((0,r.A)({},t),{},{min:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041c\u0438\u043d",step:"0.01"}),(0,l.jsx)("input",{type:"number",value:ie.max,onChange:e=>oe((t=>(0,r.A)((0,r.A)({},t),{},{max:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041c\u0430\u043a\u0441",step:"0.01"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"ID \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"}),(0,l.jsx)("input",{type:"text",value:le,onChange:e=>ue(e.target.value),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0438\u043b\u0438 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u044b\u0439 ID"})]})]}),(0,l.jsx)("div",{className:"mt-4 flex justify-end",children:(0,l.jsx)("button",{onClick:()=>{U({from:"",to:""}),re(""),oe({min:"",max:""}),ue("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-rajdhani rounded text-sm transition-colors",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})})]})]}),(0,l.jsx)("div",{className:"overflow-hidden",children:0===R.length?(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("div",{className:"mb-4 flex justify-center ".concat("green"===(null===(u=De[Y])||void 0===u?void 0:u.color)?"text-green-400":"blue"===(null===(h=De[Y])||void 0===h?void 0:h.color)?"text-blue-400":"purple"===(null===(x=De[Y])||void 0===x?void 0:x.color)?"text-purple-400":"text-gray-400"),children:(0,l.jsx)("div",{style:{transform:"scale(3)"},children:null===(m=De[Y])||void 0===m?void 0:m.icon})}),(0,l.jsx)("h4",{className:"font-rajdhani text-xl font-bold text-white mb-2",children:"\u041d\u0435\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"}),(0,l.jsxs)("p",{className:"text-text-secondary",children:['\u0412 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 "',(null===(f=De[Y])||void 0===f?void 0:f.name)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",'" \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445']}),(0,l.jsx)("p",{className:"text-text-secondary text-sm mt-2",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0438\u043b\u0438 \u043f\u0435\u0440\u0438\u043e\u0434"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0422\u0438\u043f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u043e\u043a"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:R.map(((e,t)=>{const{date:s,time:n}=Ye(e.created_at),a=De[Y]||{color:"gray"};return(0,l.jsxs)("tr",{className:"hover:bg-surface-sidebar transition-colors",children:[(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("button",{onClick:()=>Ie(e.id),onMouseEnter:t=>((e,t)=>{te({show:!0,text:t,x:e.clientX,y:e.clientY})})(t,e.id),onMouseLeave:Be,className:"p-2 bg-surface-card border border-border-primary rounded hover:border-accent-primary transition-colors group",title:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-accent-primary group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),(0,l.jsxs)("td",{className:"px-4 py-3",children:[(0,l.jsx)("div",{className:"text-sm font-roboto font-bold text-white",children:s}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:n})]}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"text-lg font-bold font-russo ".concat("green"===a.color?"text-green-400":"blue"===a.color?"text-blue-400":"purple"===a.color?"text-purple-400":"text-gray-400"),children:b(e.amount,!0)})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("green"===a.color?"bg-green-100 text-green-800":"blue"===a.color?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:Fe(0,Y)})}),(0,l.jsxs)("td",{className:"px-4 py-3",children:[(0,l.jsx)("div",{className:"text-sm font-roboto text-white",children:We(e)}),e.source_user_id&&(0,l.jsxs)("div",{className:"text-xs text-accent-primary font-mono",children:["ID: ",e.source_user_id.substring(0,8),"..."]})]}),(0,l.jsx)("td",{className:"px-4 py-3 text-sm font-roboto text-text-secondary max-w-xs",children:(0,l.jsx)("div",{className:"truncate",title:e.description,children:e.description||"\u2014"})})]},t)}))})]})}),(0,l.jsx)("div",{className:"lg:hidden space-y-3 p-4",children:R.map(((e,t)=>{const{date:s,time:n}=Ye(e.created_at),a=De[Y]||{color:"gray"};return(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-border-primary",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("button",{onClick:()=>Ie(e.id),className:"p-2 bg-surface-card border border-border-primary rounded hover:border-accent-primary transition-colors",title:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-accent-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-roboto font-bold text-white",children:s}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:n})]})]}),(0,l.jsx)("div",{className:"text-lg font-bold font-russo ".concat("green"===a.color?"text-green-400":"blue"===a.color?"text-blue-400":"purple"===a.color?"text-purple-400":"text-gray-400"),children:b(e.amount,!0)})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0422\u0438\u043f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:"}),(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("green"===a.color?"bg-green-100 text-green-800":"blue"===a.color?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:Fe(0,Y)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0433\u0440\u043e\u043a:"}),(0,l.jsx)("span",{className:"text-white",children:We(e)})]}),e.description&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),(0,l.jsx)("div",{className:"text-white text-xs mt-1",children:e.description})]})]})]},t)}))})]})}),Oe.totalPages>1&&Oe.handlePageChange&&(0,l.jsx)("div",{className:"border-t border-border-primary p-4 bg-surface-sidebar",children:(0,l.jsx)(ce,{currentPage:Oe.currentPage,totalPages:Oe.totalPages,onPageChange:Oe.handlePageChange})})]})}),"settings"===$&&I&&(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u0441\u0442\u0430\u0432\u043a\u0438 (%)"}),(0,l.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",defaultValue:I.bet_commission_rate||3,className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 (%)"}),(0,l.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",defaultValue:I.gift_commission_rate||3,className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"})]}),(0,l.jsx)("button",{className:"bg-accent-primary hover:bg-accent-primary/80 text-white font-rajdhani font-bold py-2 px-4 rounded-lg transition-colors",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})}),ee.show&&(0,l.jsx)("div",{className:"fixed z-50 bg-black text-white text-xs rounded px-2 py-1 pointer-events-none",style:{left:ee.x+10,top:ee.y-30},children:ee.text}),se&&(0,l.jsx)("div",{className:"fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg z-50 transition-all",children:"\u2713 ID \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"}),Ae&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-50 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,l.jsx)("button",{onClick:()=>Me(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-bold mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 (%)"}),(0,l.jsx)("input",{type:"number",value:Se.percentage,onChange:e=>Ce((t=>(0,r.A)((0,r.A)({},t),{},{percentage:parseInt(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-2 text-white",min:"0",max:"100"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-bold mb-2",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b ($)"}),(0,l.jsx)("input",{type:"number",value:Se.manual_amount,onChange:e=>Ce((t=>(0,r.A)((0,r.A)({},t),{},{manual_amount:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-2 text-white",step:"0.01"})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:()=>Me(!1),className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,l.jsx)("button",{onClick:()=>{Ce({percentage:60,manual_amount:0}),Me(!1)},className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})}),he&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-50 rounded-lg max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:Ge(he)}),(0,l.jsx)("button",{onClick:()=>xe(null),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:["bet_commission"===he&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0439 \u0441 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 \u0432 PvP-\u0438\u0433\u0440\u0430\u0445"})]})]}),(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[(null===I||void 0===I?void 0:I.bet_commission_rate)||3,"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:b(O.bet_commission||0,!0)})]})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 (%)"}),(0,l.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Le.bet_commission_rate,onChange:e=>Ee((t=>(0,r.A)((0,r.A)({},t),{},{bet_commission_rate:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d: 1-10%. \u0422\u0435\u043a\u0443\u0449\u0438\u0439: ",(null===I||void 0===I?void 0:I.bet_commission_rate)||3,"%"]})]}),(0,l.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435"})]}),(0,l.jsx)("p",{className:"text-sm text-yellow-300 mt-1",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043f\u043e\u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0432\u0441\u0435 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438. \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0438\u0433\u0440\u044b \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u0441 \u043f\u0440\u0435\u0436\u043d\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u043c."})]})]})]}),"gift_commission"===he&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0439 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0433\u0435\u043c\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"})]})]}),(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[(null===I||void 0===I?void 0:I.gift_commission_rate)||3,"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:b(O.gift_commission||0,!0)})]})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 (%)"}),(0,l.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Le.gift_commission_rate,onChange:e=>Ee((t=>(0,r.A)((0,r.A)({},t),{},{gift_commission_rate:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d: 1-10%. \u0422\u0435\u043a\u0443\u0449\u0438\u0439: ",(null===I||void 0===I?void 0:I.gift_commission_rate)||3,"%"]})]}),(0,l.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{className:"text-sm font-medium text-blue-400",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]}),(0,l.jsx)("p",{className:"text-sm text-blue-300 mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432\u0437\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u0439 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0433\u0435\u043c\u043e\u0432 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443."})]})]})]}),"bot_revenue"===he&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,l.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0418\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043e\u0442 AI-\u0431\u043e\u0442\u043e\u0432"})]})]}),(0,l.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,l.jsx)("button",{onClick:()=>$e(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ke===e.key?"bg-blue-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),F&&(0,l.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-blue-400 mb-4",children:"\ud83e\udd16 \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:F.bot_stats.active_bots})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0412\u0441\u0435\u0433\u043e \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:F.bot_stats.total_bots})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"Avg Win Rate"}),(0,l.jsxs)("div",{className:"text-lg font-bold text-blue-400",children:[(null===(p=F.bot_stats.avg_win_rate)||void 0===p?void 0:p.toFixed(1))||0,"%"]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:F.bot_stats.total_games})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u0414\u043e\u0445\u043e\u0434 \u043f\u043e \u0440\u0435\u0436\u0438\u043c\u0430\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a:"}),(0,l.jsx)("div",{className:"space-y-2",children:Object.entries(F.creation_modes).map((e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"flex justify-between items-center bg-surface-card rounded-lg p-2",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"always-first"===t?"Always First":"queue-based"===t?"Queue-Based":"after-all"===t?"After All":t}),(0,l.jsx)("span",{className:"text-blue-400 font-bold",children:b(s.revenue||0,!0)})]},t)}))})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u0414\u043e\u0445\u043e\u0434 \u043f\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044e \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("div",{className:"space-y-2",children:Object.entries(F.behaviors).map((e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"flex justify-between items-center bg-surface-card rounded-lg p-2",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"aggressive"===t?"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439":"balanced"===t?"\u0421\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439":"cautious"===t?"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439":t}),(0,l.jsx)("span",{className:"text-blue-400 font-bold",children:b(s.revenue||0,!0)})]},t)}))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c:"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u0438\u0433\u0440\u0443"}),(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:b(F.efficiency.revenue_per_game||0,!0)})]}),(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u0431\u043e\u0442\u0430"}),(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:b(F.efficiency.revenue_per_bot||0,!0)})]}),(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0418\u0433\u0440 \u043d\u0430 \u0431\u043e\u0442\u0430"}),(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:(null===(g=F.efficiency.games_per_bot)||void 0===g?void 0:g.toFixed(1))||0})]})]})]})]}),pe?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):be?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,l.jsx)("p",{className:"text-sm text-red-400",children:be}),(0,l.jsx)("button",{onClick:()=>qe("bot_revenue"),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0439 \u0434\u043e\u0445\u043e\u0434:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:b(me.total_revenue||0,!0)}),(0,l.jsxs)("div",{className:"text-xs text-blue-300 mt-1",children:["day"===me.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===me.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===me.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===me.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:me.active_bots||0})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0434\u043e\u0445\u043e\u0434:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:b(me.avg_revenue_per_bot||0,!0)})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-blue-400 mb-4",children:"\ud83d\udcc8 \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0434\u043e\u0445\u043e\u0434\u043e\u0432 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)(Co,{type:"line",data:Mo(ke,"blue",me.chart_data),title:"\u0414\u043e\u0445\u043e\u0434\u044b \u043e\u0442 \u0431\u043e\u0442\u043e\u0432 ".concat("day"===me.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===me.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===me.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),(0,l.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("p",{className:"text-sm text-blue-300",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b \u043d\u0430\u043a\u0430\u043f\u043b\u0438\u0432\u0430\u044e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0432 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435. \u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430 (\u043e\u0431\u044b\u0447\u043d\u043e 12 \u0438\u0433\u0440) \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043e\u0431\u0449\u0438\u0439 \u0444\u043e\u043d\u0434 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b."})]}),me.entries&&me.entries.length>0?(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-blue-400",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e \u0431\u043e\u0442\u0430\u043c:"}),(0,l.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:me.entries.map(((e,t)=>{var s;return(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-white",children:e.bot_name}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:[e.games_played," \u0438\u0433\u0440 \u2022 ",null===(s=e.win_rate)||void 0===s?void 0:s.toFixed(1),"% \u043f\u043e\u0431\u0435\u0434"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:b(e.total_revenue||0,!0)}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:[e.cycles_completed," \u0446\u0438\u043a\u043b\u043e\u0432"]})]})]})},t)}))})]}):(0,l.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,l.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,l.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsxs)("p",{className:"text-xs mt-1",children:["day"===me.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0434\u0435\u043d\u044c","week"===me.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e","month"===me.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0441\u044f\u0446","all"===me.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]})]})]}),"frozen_funds"===he&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440\u0430\u0445 \u0438 \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f\u0445"})]})]}),(0,l.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,l.jsx)("button",{onClick:()=>$e(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ke===e.key?"bg-orange-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),pe?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-400"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):be?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,l.jsx)("p",{className:"text-sm text-red-400",children:be}),(0,l.jsx)("button",{onClick:()=>qe("frozen_funds"),className:"mt-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:b(me.total_frozen||0,!0)}),(0,l.jsxs)("div",{className:"text-xs text-orange-300 mt-1",children:["day"===me.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===me.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===me.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===me.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:me.active_games||0}),(0,l.jsxs)("div",{className:"text-xs text-orange-300 mt-1",children:["day"===me.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===me.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===me.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===me.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]})]}),(0,l.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-orange-400 mb-2",children:"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430:"}),(0,l.jsx)("p",{className:"text-sm text-orange-300",children:"\u041a\u043e\u0433\u0434\u0430 \u0438\u0433\u0440\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u0442\u0430\u0432\u043a\u0443, \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (6%) \u0437\u0430\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0438\u0433\u0440\u044b. \u042d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0441\u043f\u0440\u0430\u0432\u0435\u0434\u043b\u0438\u0432\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u043b\u043e\u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f."})]}),me.entries&&me.entries.length>0?(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-orange-400",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"}),(0,l.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:me.entries.map(((e,t)=>{var s,n;return(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"font-medium text-white",children:[(null===(s=e.creator)||void 0===s?void 0:s.username)||"Unknown"," vs ",(null===(n=e.opponent)||void 0===n?void 0:n.username)||"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"]}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u0421\u0442\u0430\u0432\u043a\u0430: ",b(e.bet_amount||0,!0)," \u2022 \u0421\u0442\u0430\u0442\u0443\u0441: ",e.status||"Unknown"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-orange-400",children:b(e.frozen_commission||0,!0)}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:e.commission_rate?"".concat((100*e.commission_rate).toFixed(1),"%"):"6%"})]})]})},t)}))})]}):(0,l.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,l.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udd12"}),(0,l.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440 \u0441 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u0438\u0433\u0440"})]})]})]}),"total_revenue"===he&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0432\u0441\u0435\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430\u043c \u0434\u043e\u0445\u043e\u0434\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b"})]})]}),(0,l.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,l.jsx)("button",{onClick:()=>$e(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ke===e.key?"bg-yellow-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),pe?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):be?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,l.jsx)("p",{className:"text-sm text-red-400",children:be}),(0,l.jsx)("button",{onClick:()=>qe("total_revenue"),className:"mt-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("div",{className:"text-4xl font-bold text-yellow-400",children:b(me.total_revenue||0,!0)}),(0,l.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c","day"===me.period&&" \u0437\u0430 \u0434\u0435\u043d\u044c","week"===me.period&&" \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===me.period&&" \u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===me.period&&" \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),me.breakdown&&me.breakdown.length>0&&(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-yellow-400 mb-4",children:"\ud83e\udd67 \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u0445\u043e\u0434\u043e\u0432"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,l.jsx)("div",{className:"h-64",children:(0,l.jsx)(Co,{type:"doughnut",data:(Qe=me.breakdown,{labels:Qe.map((e=>e.name||e.source)),datasets:[{data:Qe.map((e=>e.amount||0)),backgroundColor:["rgba(74, 144, 226, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(147, 51, 234, 0.8)","rgba(249, 115, 22, 0.8)"].slice(0,Qe.length),borderColor:["rgba(74, 144, 226, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(147, 51, 234, 1)","rgba(249, 115, 22, 1)"].slice(0,Qe.length),borderWidth:2,hoverOffset:4}]})})}),(0,l.jsx)("div",{className:"space-y-3",children:me.breakdown.map(((e,t)=>{var s;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-surface-card rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:["#4A90E2","#22C55E","#FBBF24","#9333EA","#F97316"][t%5]}}),(0,l.jsx)("span",{className:"text-sm text-white",children:e.name})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:b(e.amount||0,!0)}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:[null===(s=e.percentage)||void 0===s?void 0:s.toFixed(1),"%"]})]})]},t)}))})]})]}),me.breakdown&&me.breakdown.length>0?(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("div",{className:"space-y-3",children:me.breakdown.map(((e,t)=>{var s;return(0,l.jsxs)("div",{className:"bg-".concat(e.color,"-500/10 border border-").concat(e.color,"-500/30 rounded-lg p-4"),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 bg-".concat(e.color,"-400 rounded-full")}),(0,l.jsx)("span",{className:"text-sm text-".concat(e.color,"-400"),children:e.name})]}),(0,l.jsx)("div",{className:"text-xl font-bold text-".concat(e.color,"-400 mt-1"),children:b(e.amount||0,!0)}),(0,l.jsxs)("div",{className:"text-xs text-text-secondary",children:[null===(s=e.percentage)||void 0===s?void 0:s.toFixed(1),"% \u2022 ",e.transactions," \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"]})]},t)}))}),(0,l.jsx)("div",{className:"space-y-3",children:(0,l.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-yellow-400 mb-2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439:"}),(0,l.jsx)("span",{className:"text-yellow-400",children:(null===(y=me.summary)||void 0===y?void 0:y.total_transactions)||0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,l.jsx)("span",{className:"text-yellow-400",children:b((null===(v=me.summary)||void 0===v?void 0:v.avg_revenue_per_transaction)||0,!0)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0422\u043e\u043f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a:"}),(0,l.jsx)("span",{className:"text-yellow-400",children:(null===(j=me.breakdown)||void 0===j||null===(w=j.find((e=>{var t;return e.source===(null===(t=me.summary)||void 0===t?void 0:t.top_source)})))||void 0===w?void 0:w.name)||"N/A"})]})]})]})})]}):(0,l.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,l.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,l.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u044b\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"})]})]})]}),"expenses"===he&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b \u0438 \u0437\u0430\u0442\u0440\u0430\u0442\u044b \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b"})]})]}),(0,l.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,l.jsx)("button",{onClick:()=>$e(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ke===e.key?"bg-red-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),pe?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-400"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):be?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,l.jsx)("p",{className:"text-sm text-red-400",children:be}),(0,l.jsx)("button",{onClick:()=>qe("expenses"),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-red-400",children:b(me.total_expenses||0,!0)}),(0,l.jsxs)("div",{className:"text-xs text-red-300 mt-1",children:["day"===me.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===me.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===me.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===me.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,l.jsxs)("div",{className:"text-2xl font-bold text-red-400",children:[me.expense_percentage||60,"%"]}),(0,l.jsx)("div",{className:"text-xs text-red-300 mt-1",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-red-400 mb-4",children:"\ud83d\udcca \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,l.jsx)(Co,{type:"bar",data:Lo(ke),title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b ".concat("day"===me.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===me.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===me.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),me.breakdown&&me.breakdown.length>0&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),me.breakdown.map(((e,t)=>(0,l.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-red-400",children:e.name}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:e.calculation})]}),(0,l.jsx)("div",{className:"text-lg font-bold text-red-400",children:b(e.amount||0,!0)})]})},t)))]}),me.statistics&&(0,l.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),(0,l.jsxs)("span",{className:"text-red-400",children:[(null===(N=me.statistics.expense_ratio)||void 0===N?void 0:N.toFixed(1))||0,"%"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,l.jsx)("span",{className:"text-red-400",children:b(me.statistics.monthly_avg||0,!0)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438:"}),(0,l.jsxs)("span",{className:"text-red-400",children:[(null===(k=me.statistics.efficiency_score)||void 0===k?void 0:k.toFixed(1))||0,"/100"]})]})]})]}),(0,l.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),(0,l.jsx)("p",{className:"text-sm text-red-300",children:'\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u0430\u043a \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043f\u043b\u044e\u0441 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432 \u043f\u043b\u0438\u0442\u043a\u0435 "\u0420\u0430\u0441\u0445\u043e\u0434\u044b".'})]})]})]}),"net_profit"===he&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0447\u0435\u0442\u0430 \u0432\u0441\u0435\u0445 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"})]})]}),(0,l.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,l.jsx)("button",{onClick:()=>$e(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ke===e.key?"bg-emerald-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),pe?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):be?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,l.jsx)("p",{className:"text-sm text-red-400",children:be}),(0,l.jsx)("button",{onClick:()=>qe("net_profit"),className:"mt-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("div",{className:"text-4xl font-bold text-emerald-400",children:b((null===(_=me.summary)||void 0===_?void 0:_.net_profit)||0,!0)}),(0,l.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c","day"===me.period&&" \u0437\u0430 \u0434\u0435\u043d\u044c","week"===me.period&&" \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===me.period&&" \u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===me.period&&" \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]}),(0,l.jsxs)("div",{className:"text-xs text-emerald-400 mt-1",children:[(null===(S=me.summary)||void 0===S||null===(C=S.profit_margin)||void 0===C?void 0:C.toFixed(1))||0,"% \u043c\u0430\u0440\u0436\u0430"]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-emerald-400 mb-4",children:"\ud83d\udcb9 \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,l.jsx)(Co,{type:"line",data:Eo(ke),title:"\u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 ".concat("day"===me.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===me.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===me.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,l.jsx)("div",{className:"text-xl font-bold text-yellow-400",children:b((null===(A=me.summary)||void 0===A?void 0:A.total_revenue)||0,!0)})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,l.jsx)("div",{className:"text-xl font-bold text-red-400",children:b((null===(M=me.summary)||void 0===M?void 0:M.total_expenses)||0,!0)})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,l.jsx)("div",{className:"text-xl font-bold text-emerald-400",children:b((null===(L=me.summary)||void 0===L?void 0:L.net_profit)||0,!0)})]})]}),me.calculation_steps&&me.calculation_steps.length>0&&(0,l.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-emerald-400 mb-2",children:"\u041f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[me.calculation_steps.map(((e,t)=>(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("span",{className:"text-emerald-300",children:[e.description,":"]}),(0,l.jsxs)("span",{className:"text-emerald-300 ".concat(e.amount<0?"text-red-400":"text-emerald-400"),children:[e.amount<0?"":"+",b(e.amount||0,!0)]})]},t))),(0,l.jsx)("div",{className:"border-t border-emerald-500/30 pt-2",children:(0,l.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,l.jsx)("span",{className:"text-emerald-400",children:"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"}),(0,l.jsx)("span",{className:"text-emerald-400",children:b((null===(E=me.summary)||void 0===E?void 0:E.net_profit)||0,!0)})]})})]})]}),(null===(P=me.analysis)||void 0===P?void 0:P.trends)&&(0,l.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-emerald-400 mb-2",children:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0442\u0440\u0435\u043d\u0434\u043e\u0432:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-emerald-300",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),(0,l.jsx)("span",{className:"".concat(me.analysis.trends.is_profitable?"text-emerald-400":"text-red-400"),children:me.analysis.trends.is_profitable?"\u041f\u0440\u0438\u0431\u044b\u043b\u044c\u043d\u043e":"\u0423\u0431\u044b\u0442\u043e\u0447\u043d\u043e"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-emerald-300",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438:"}),(0,l.jsx)("span",{className:"text-emerald-400",children:me.analysis.trends.efficiency_rating||"N/A"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-emerald-300",children:"\u041f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b \u0440\u043e\u0441\u0442\u0430:"}),(0,l.jsx)("span",{className:"text-emerald-400",children:me.analysis.trends.growth_potential||"N/A"})]})]})]})]})]}),"bet_commission"!==he&&"gift_commission"!==he&&"bot_revenue"!==he&&"frozen_funds"!==he&&"total_revenue"!==he&&"expenses"!==he&&"net_profit"!==he&&(0,l.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"}),(0,l.jsxs)("p",{children:["\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e ",Ge(he)]}),(0,l.jsx)("p",{className:"text-sm mt-2",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between p-6 border-t border-border-primary",children:[(0,l.jsx)("button",{onClick:()=>xe(null),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),("bet_commission"===he||"gift_commission"===he)&&(0,l.jsx)("button",{onClick:async()=>{ze(!0);try{const e=localStorage.getItem("token"),t=await i.A.put("".concat(Po,"/admin/profit/commission-settings"),{bet_commission_rate:Le.bet_commission_rate,gift_commission_rate:Le.gift_commission_rate},{headers:{Authorization:"Bearer ".concat(e)}});B(t.data),await Te(),console.log("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:",e),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439")}finally{ze(!1)}},disabled:Pe,className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/80 disabled:opacity-50",children:Pe?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})})]});var Qe},Oo="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),To=()=>{var e,t,s,a,r,o,c,d,u,h,x,m,f,p;const[g,b]=(0,n.useState)({total_bets:0,total_bets_value:0,active_bets:0,completed_bets:0,cancelled_bets:0,stuck_bets:0,average_bet:0}),[y,v]=(0,n.useState)([]),[j,w]=(0,n.useState)(!0),[N,_]=(0,n.useState)(""),[S,C]=(0,n.useState)(""),[A,M]=(0,n.useState)(null),[L,E]=(0,n.useState)(!1),[P,z]=(0,n.useState)(!1),[O,T]=(0,n.useState)(!1),[R,D]=(0,n.useState)(!1),[I,B]=(0,n.useState)(""),[F,W]=(0,n.useState)(null),[V,U]=(0,n.useState)(!1),[H,q]=(0,n.useState)(null),$=de(1,10),{showSuccessRU:G,showErrorRU:Y,showWarningRU:Q}=k();(0,n.useEffect)((()=>{K(),X()}),[N,S,$.currentPage]);const K=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(Oo,"/admin/bets/stats"),{headers:{Authorization:"Bearer ".concat(e)}});b(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a:",e)}},X=async()=>{try{var e;w(!0);const t=localStorage.getItem("token"),s={page:$.currentPage,limit:$.itemsPerPage};N&&(s.status=N),S&&(s.user_id=S);const n=await i.A.get("".concat(Oo,"/admin/bets/list"),{headers:{Authorization:"Bearer ".concat(t)},params:s});v(n.data.bets||[]),$.updatePagination((null===(e=n.data.pagination)||void 0===e?void 0:e.total_count)||0),w(!1)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a:",t),w(!1)}},J=e=>new Date(e).toLocaleString("ru-RU"),Z=e=>{const t={COMPLETED:{color:"bg-green-600",text:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"},CANCELLED:{color:"bg-red-600",text:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"},WAITING:{color:"bg-yellow-600",text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"},ACTIVE:{color:"bg-blue-600",text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"},REVEAL:{color:"bg-purple-600",text:"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435"}}[e]||{color:"bg-gray-600",text:e};return(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-rajdhani font-bold text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0421\u0442\u0430\u0432\u043a\u0430\u043c\u0438"}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[g.stuck_bets>0&&(0,l.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.post("".concat(Oo,"/admin/bets/cleanup-stuck"),{},{headers:{Authorization:"Bearer ".concat(e)}});G("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await K(),await X()}catch(s){var e,t;console.error("Error cleaning up stuck bets:",s);const n=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";Y(n)}},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:["\ud83e\uddf9 \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435 (",g.stuck_bets,")"]}),(0,l.jsx)("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:g.total_bets}),(0,l.jsxs)("p",{className:"text-accent-primary text-xs",children:["$",(null===(e=g.total_bets_value)||void 0===e?void 0:e.toFixed(2))||"0.00"]})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-yellow-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:g.active_bets})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:g.completed_bets})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-red-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0445"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:g.cancelled_bets})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0417\u0430\u0432\u0438\u0441\u0448\u0438\u0445"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:g.stuck_bets})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u0443\u043c\u043c\u0430"}),(0,l.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:["$",(null===(t=g.average_bet)||void 0===t?void 0:t.toFixed(2))||"0.00"]})]})]})})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-3",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsx)("button",{onClick:()=>_(""),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat(""===N?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0412\u0441\u0435"}),(0,l.jsx)("button",{onClick:()=>_("WAITING"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("WAITING"===N?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u041e\u0436\u0438\u0434\u0430\u044e\u0442"}),(0,l.jsx)("button",{onClick:()=>_("ACTIVE"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("ACTIVE"===N?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,l.jsx)("button",{onClick:()=>_("COMPLETED"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("COMPLETED"===N?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435"}),(0,l.jsx)("button",{onClick:()=>_("CANCELLED"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("CANCELLED"===N?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0435"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"}),(0,l.jsx)("input",{type:"text",value:S,onChange:e=>C(e.target.value),placeholder:"ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,l.jsxs)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:["\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u0432\u043e\u043a (",$.totalItems," \u0437\u0430\u043f\u0438\u0441\u0435\u0439)"]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:j?(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0430\u0432\u043e\u043a..."})}):(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"ID \u0421\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===y.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"8",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):y.map((e=>{var t,s,n,a,r,i;return(0,l.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50 ".concat(e.is_stuck?"bg-yellow-900 bg-opacity-20":""),children:[(0,l.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,l.jsxs)("div",{className:"text-white font-roboto text-sm font-mono",children:[e.id?e.id.substring(0,8):"N/A","..."]}),e.is_bot_game&&(0,l.jsx)("span",{className:"inline-block px-1 py-0.5 text-xs bg-blue-600 text-white rounded",children:"BOT"})]}),(0,l.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:(null===(t=e.creator)||void 0===t?void 0:t.username)||"N/A"}),(null===(s=e.creator)||void 0===s?void 0:s.email)&&(0,l.jsx)("div",{className:"text-text-secondary text-xs",children:e.creator.email})]}),(0,l.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:(null===(n=e.opponent)||void 0===n?void 0:n.username)||"\u041d\u0435\u0442"}),(null===(a=e.opponent)||void 0===a?void 0:a.email)&&(0,l.jsx)("div",{className:"text-text-secondary text-xs",children:e.opponent.email})]}),(0,l.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,l.jsxs)("div",{className:"text-accent-primary font-rajdhani font-bold",children:["$",(null===(r=e.bet_amount)||void 0===r?void 0:r.toFixed(2))||"0.00"]}),(0,l.jsxs)("div",{className:"text-yellow-400 text-xs",children:["\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: $",(null===(i=e.commission_amount)||void 0===i?void 0:i.toFixed(2))||"0.00"]})]}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[Z(e.status),e.is_stuck&&(0,l.jsx)("span",{className:"text-yellow-400 text-xs",children:"\u23f0"})]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"text-white font-roboto text-sm",children:[e.age_hours,"\u0447"]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:J(e.created_at)})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>(e=>{M(e),E(!0)})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0435\u0442\u0430\u043b\u0435\u0439",children:(0,l.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.can_cancel&&(0,l.jsx)("button",{onClick:()=>(e=>{W(e),B(""),z(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,l.jsx)("button",{onClick:()=>(e=>{q(e),D(!0)})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]})})]}),(0,l.jsx)(ce,{currentPage:$.currentPage,totalPages:$.totalPages,onPageChange:$.handlePageChange,itemsPerPage:$.itemsPerPage,totalItems:$.totalItems,className:"mt-6"}),L&&A&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"ID \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,l.jsx)("div",{className:"text-white font-mono",children:A.id})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,l.jsx)("div",{children:Z(A.status)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,l.jsxs)("div",{className:"text-accent-primary font-bold",children:["$",null===(s=A.bet_amount)||void 0===s?void 0:s.toFixed(2)]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,l.jsxs)("div",{className:"text-yellow-400 font-bold",children:["$",null===(a=A.commission_amount)||void 0===a?void 0:a.toFixed(2)]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430:"}),(0,l.jsx)("div",{className:"text-white",children:J(A.created_at)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:"}),(0,l.jsxs)("div",{className:"text-white",children:[A.age_hours," \u0447\u0430\u0441\u043e\u0432"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c:"}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,l.jsx)("div",{className:"text-white",children:null===(r=A.creator)||void 0===r?void 0:r.username}),(null===(o=A.creator)||void 0===o?void 0:o.email)&&(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:A.creator.email}),(0,l.jsx)("div",{className:"text-xs text-accent-primary",children:null===(c=A.creator)||void 0===c?void 0:c.type})]})]}),A.opponent&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,l.jsx)("div",{className:"text-white",children:A.opponent.username}),A.opponent.email&&(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:A.opponent.email}),(0,l.jsx)("div",{className:"text-xs text-accent-primary",children:A.opponent.type})]})]}),A.bet_gems&&Object.keys(A.bet_gems).length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,l.jsx)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(A.bet_gems).map((e=>{let[t,s]=e;return s>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-accent-primary bg-opacity-20 text-accent-primary text-sm rounded",children:[t,": ",s]},t)}))})})]}),"COMPLETED"===A.status&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0433\u0440\u044b:"}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white",children:"\u0425\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f:"}),(0,l.jsx)("div",{className:"text-accent-primary",children:A.creator_move})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white",children:"\u0425\u043e\u0434 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430:"}),(0,l.jsx)("div",{className:"text-accent-primary",children:A.opponent_move})]})]}),A.winner_id&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("div",{className:"text-green-400",children:["\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: ",A.winner_id===A.creator.id?A.creator.username:null===(d=A.opponent)||void 0===d?void 0:d.username]})})]})]})]})]})}),P&&F&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"}),(0,l.jsx)("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,l.jsxs)("div",{className:"text-yellow-400 text-sm",children:["\u26a0\ufe0f \u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 ",null===(u=F.id)||void 0===u?void 0:u.substring(0,8),"... \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 $",null===(h=F.bet_amount)||void 0===h?void 0:h.toFixed(2)]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043c\u0435\u043d\u044b (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e):"}),(0,l.jsx)("textarea",{value:I,onChange:e=>B(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b \u0441\u0442\u0430\u0432\u043a\u0438...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",rows:"3"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>z(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,l.jsx)("button",{onClick:async()=>{if(I.trim())try{const e=localStorage.getItem("token"),t=await i.A.post("".concat(Oo,"/admin/bets/").concat(F.id,"/cancel"),{reason:I},{headers:{Authorization:"Bearer ".concat(e)}});G(t.data.message),z(!1),W(null),B(""),await K(),await X()}catch(s){var e,t;console.error("Error cancelling bet:",s);const n=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";Y(n)}else Q("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b \u0441\u0442\u0430\u0432\u043a\u0438")},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"})]})]})]})}),O&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-red-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("button",{onClick:()=>T(!1),disabled:V,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,l.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,l.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,l.jsxs)("div",{children:["\u2022 \u0411\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b \u0412\u0421\u0415 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (",g.active_bets,")"]}),(0,l.jsx)("div",{children:"\u2022 \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b"}),(0,l.jsx)("div",{children:"\u2022 \u0413\u0435\u043c\u044b \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"}),(0,l.jsx)("div",{children:"\u2022 \u041e\u0431\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0432\u0441\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0438\u0433\u0440\u044b"})]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438?"}),(0,l.jsx)("p",{className:"text-text-secondary text-sm",children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u0442 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438 \u0431\u043e\u0442\u043e\u0432"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>T(!1),disabled:V,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,l.jsx)("button",{onClick:async()=>{try{U(!0);const e=localStorage.getItem("token"),t=await i.A.post("".concat(Oo,"/admin/bets/reset-all"),{},{headers:{Authorization:"Bearer ".concat(e)}});G("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),T(!1),await K(),await X()}catch(s){var e,t;console.error("Error resetting all bets:",s);const n=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";Y(n)}finally{U(!1)}},disabled:V,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:V?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u0431\u0440\u043e\u0441..."]}):"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435"})]})]})]})}),R&&H&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-orange-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-orange-400",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"}),(0,l.jsx)("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-orange-900 border border-orange-600 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"text-orange-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,l.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,l.jsxs)("div",{className:"text-orange-300 text-sm space-y-1",children:[(0,l.jsxs)("div",{children:["\u2022 ID \u0441\u0442\u0430\u0432\u043a\u0438: ",null===(x=H.id)||void 0===x?void 0:x.substring(0,8),"..."]}),(0,l.jsxs)("div",{children:["\u2022 \u0421\u0443\u043c\u043c\u0430: $",null===(m=H.bet_amount)||void 0===m?void 0:m.toFixed(2)]}),(0,l.jsxs)("div",{children:["\u2022 \u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",null===(f=H.creator)||void 0===f?void 0:f.username]}),H.opponent&&(0,l.jsxs)("div",{children:["\u2022 \u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a: ",null===(p=H.opponent)||void 0===p?void 0:p.username]}),(0,l.jsx)("div",{children:"\u2022 \u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b"}),(0,l.jsx)("div",{children:"\u2022 \u0420\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"})]})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0430\u0432\u043a\u0443?"}),(0,l.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0432\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430, \u0430 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>D(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,l.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.post("".concat(Oo,"/admin/bets/").concat(H.id,"/cancel"),{reason:"\u0421\u0431\u0440\u043e\u0441 \u0441\u0442\u0430\u0432\u043a\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c"},{headers:{Authorization:"Bearer ".concat(e)}});G(t.data.message),D(!1),q(null),await K(),await X()}catch(s){var e,t;console.error("Error resetting bet:",s);const n=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";Y(n)}},className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})})]})},Ro="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),Do=()=>{const e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},Io=()=>({headers:Do()}),Bo=Ro,Fo=()=>{const[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(null),o=(0,n.useCallback)((async function(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{t(!0),a(null);const l=(0,r.A)((0,r.A)({method:e,url:"".concat(Bo).concat(s)},Io()),o);n&&("get"===e.toLowerCase()?l.params=n:l.data=n);return(await(0,i.A)(l)).data}catch(d){var l,c;const e=(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.detail)||d.message||"\u041e\u0448\u0438\u0431\u043a\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u0430";throw a(e),d}finally{t(!1)}}),[]),l=(0,n.useCallback)((async function(e){return o("GET",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[o]),c=(0,n.useCallback)((async function(e){return o("POST",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[o]),d=(0,n.useCallback)((async function(e){return o("PUT",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[o]),u=(0,n.useCallback)((async function(e){return o("DELETE",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[o]),h=(0,n.useCallback)((async function(e){return o("PATCH",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[o]),x={getList:(0,n.useCallback)((async function(){return l("/admin/bots/regular/list",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[l]),getBot:(0,n.useCallback)((async e=>l("/admin/bots/".concat(e))),[l]),create:(0,n.useCallback)((async e=>c("/admin/bots/regular/create",e)),[c]),update:(0,n.useCallback)((async(e,t)=>d("/admin/bots/regular/".concat(e),t)),[d]),delete:(0,n.useCallback)((async(e,t)=>u("/admin/bots/regular/".concat(e),{reason:t})),[u]),toggleStatus:(0,n.useCallback)((async e=>c("/admin/bots/regular/".concat(e,"/toggle"))),[c]),getActiveBets:(0,n.useCallback)((async e=>l("/admin/bots/".concat(e,"/active-bets"))),[l]),getCycleHistory:(0,n.useCallback)((async e=>l("/admin/bots/".concat(e,"/cycle-history"))),[l]),updateLimit:(0,n.useCallback)((async(e,t)=>d("/admin/bots/".concat(e,"/limit"),{limit:t})),[d]),getStats:(0,n.useCallback)((async()=>l("/admin/bots/stats")),[l]),getActiveBetsStats:(0,n.useCallback)((async()=>l("/admin/bots/active-bets-stats")),[l]),toggleAll:(0,n.useCallback)((async e=>c("/admin/bots/toggle-all",{enabled:e})),[c]),startRegular:(0,n.useCallback)((async()=>c("/admin/bots/start-regular")),[c]),getSettings:(0,n.useCallback)((async()=>l("/admin/bots/settings")),[l]),updateSettings:(0,n.useCallback)((async e=>c("/admin/bots/settings",e)),[c])},m={generate:(0,n.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c("/admin/bots/reports/generate",(0,r.A)({type:e},t))}),[c]),export:(0,n.useCallback)((async(e,t)=>c("/admin/bots/reports/export",{reportId:e,format:t})),[c]),getList:(0,n.useCallback)((async function(){return l("/admin/bots/reports",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[l])},f={getData:(0,n.useCallback)((async function(){return l("/admin/bots/analytics",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[l]),getQueueStats:(0,n.useCallback)((async()=>l("/admin/bot-queue-stats")),[l])},p={getErrorMessage:(0,n.useCallback)((e=>{var t,s,n,a;return null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.detail?e.response.data.detail:null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.message?e.response.data.message:null!==e&&void 0!==e&&e.message?e.message:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}),[]),isNetworkError:(0,n.useCallback)((e=>{var t;return"NETWORK_ERROR"===(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.includes("Network Error"))}),[]),isAuthError:(0,n.useCallback)((e=>{var t;return 401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}),[]),isValidationError:(0,n.useCallback)((e=>{var t;return 422===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}),[])};return{loading:e,error:s,makeRequest:o,get:l,post:c,put:d,delete:u,patch:h,botsApi:x,reportsApi:m,analyticsApi:f,errorUtils:p,clearError:(0,n.useCallback)((()=>a(null)),[])}},Wo=()=>{const[e,t]=(0,n.useState)({active_bots:0,bets_24h:0,wins_24h:0,win_percentage:0,total_bet_value:0,errors:0,most_active:[]}),[s,a]=(0,n.useState)([]),[o,c]=(0,n.useState)({max_active_bets_regular:50,max_active_bets_human:30}),[d,u]=(0,n.useState)({regular_bots:{current:0,max:50,available:50,percentage:0},human_bots:{current:0,max:30,available:30,percentage:0}}),[h,x]=(0,n.useState)(!0),[m,f]=(0,n.useState)(!0),[p,g]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!1),[w,N]=(0,n.useState)(null),[_,S]=(0,n.useState)(null),[C,A]=(0,n.useState)(!1),[M,L]=(0,n.useState)(null),[E,P]=(0,n.useState)(""),[z,O]=(0,n.useState)(!1),[T,R]=(0,n.useState)(null),[D,I]=(0,n.useState)(null),[B,F]=(0,n.useState)(!1),[W,V]=(0,n.useState)({}),[U,H]=(0,n.useState)(!1),[q,$]=(0,n.useState)(null),[G,Y]=(0,n.useState)(null),[Q,K]=(0,n.useState)({}),[X,J]=(0,n.useState)({}),[Z,ee]=(0,n.useState)(50),[te,se]=(0,n.useState)("order"),[ne,ae]=(0,n.useState)(null),[re,ie]=(0,n.useState)(!1),[oe,le]=(0,n.useState)([]),[ue,he]=(0,n.useState)({current_page:1,total_pages:1}),[xe,me]=(0,n.useState)(!1),[fe,pe]=(0,n.useState)(null),[ge,be]=(0,n.useState)(!1),[ye,ve]=(0,n.useState)(null),[je,we]=(0,n.useState)([]),[Ne,ke]=(0,n.useState)({current_page:1,total_pages:1}),_e=de(1,10),[Se,Ce]=(0,n.useState)({name:"",creation_mode:"queue-based",cycle_games:12,bot_behavior:"balanced",bot_type:"type-1",custom_min_bet:1,custom_max_bet:10,cycle_total_amount:0,win_rate_percent:60,profit_strategy:"balanced",can_accept_bets:!1,can_play_with_bots:!0}),Ae=[{id:"type-1",name:"Type 1: 1\u20132 $",min:1,max:2},{id:"type-2",name:"Type 2: 1\u20135 $",min:1,max:5},{id:"type-3",name:"Type 3: 1\u201310 $",min:1,max:10},{id:"type-4",name:"Type 4: 5\u201320 $",min:5,max:20},{id:"type-5",name:"Type 5: 10\u201350 $",min:10,max:50},{id:"type-6",name:"Type 6: 10\u2013100 $",min:10,max:100},{id:"type-7",name:"Type 7: 25\u2013200 $",min:25,max:200},{id:"type-8",name:"Type 8: 50\u2013500 $",min:50,max:500},{id:"type-9",name:"Type 9: 100\u20131000 $",min:100,max:1e3},{id:"type-10",name:"Type 10: 100\u20132000 $",min:100,max:2e3},{id:"type-11",name:"Type 11: 100\u20133000 $",min:100,max:3e3},{id:"custom",name:"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d",min:0,max:0}],[Me,Le]=(0,n.useState)([]),[Ee,Pe]=(0,n.useState)(!1),[ze,Oe]=(0,n.useState)({name:"",min_bet:1,max_bet:10}),Te=e=>{const t=Ae.find((t=>t.id===e));if(t)return t.name;const s=Me.find((t=>t.id===e));return s?s.name:e||"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439"};(0,n.useEffect)((()=>{const e=(()=>{let e=Ae.find((e=>e.id===Se.bot_type));if(e||"custom"!==Se.bot_type||(e={min:Se.custom_min_bet,max:Se.custom_max_bet}),!e)return 0;const t=(e.min+e.max)/2,s={cautious:.5,balanced:.75,aggressive:1}[Se.bot_behavior]||.75;return Math.round(t*Se.cycle_games*s)})();Ce((t=>(0,r.A)((0,r.A)({},t),{},{cycle_total_amount:e})))}),[Se.bot_type,Se.cycle_games,Se.bot_behavior,Se.custom_min_bet,Se.custom_max_bet]);const Re=()=>{const e=Math.floor(999*Math.random())+1;return"Bot #".concat(e.toString().padStart(3,"0"))};(0,n.useEffect)((()=>{Se.name||Ce((e=>(0,r.A)((0,r.A)({},e),{},{name:Re()})))}),[]);const[De,Ie]=(0,n.useState)({isValid:!0,errors:[]}),[Be,Fe]=(0,n.useState)("bots"),{showSuccessRU:We,showErrorRU:Ve}=k();(0,n.useEffect)((()=>{Ue(),He(),qe(),$e(),Ge()}),[]),(0,n.useEffect)((()=>{He()}),[_e.currentPage]);const Ue=async()=>{try{const e=localStorage.getItem("token"),s=await i.A.get("".concat(Bo,"/admin/bots/regular/stats"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data),f(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:",e),f(!1)}},He=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(Bo,"/admin/bots/regular/list"),{headers:{Authorization:"Bearer ".concat(e)}}),s=t.data.bots||t.data,n=s.sort(((e,t)=>e.priority_order-t.priority_order));a(n),void 0!==t.data.total_count?_e.updatePagination(t.data.total_count):_e.updatePagination(s.length)}catch(e){console.error("Error fetching bots:",e),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0431\u043e\u0442\u043e\u0432")}},qe=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(Bo,"/admin/bots/settings"),{headers:{Authorization:"Bearer ".concat(e)}});c({max_active_bets_regular:t.data.max_active_bets_regular,max_active_bets_human:t.data.max_active_bets_human})}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u043e\u0432:",e)}},$e=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(Bo,"/admin/bots/stats/active-bets"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e)}},Ge=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("".concat(Bo,"/admin/bot-settings"),{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&(ee(t.data.settings.globalMaxActiveBets),se(t.data.settings.priorityType))}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u043e\u0432:",e)}},Ye=async e=>{try{const t=localStorage.getItem("token"),s=await i.A.post("".concat(Bo,"/admin/bots/settings"),e,{headers:{Authorization:"Bearer ".concat(t)}});c(e),y(!1),We(s.data.message),await $e()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",t),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a")}},Qe=e=>{const t=[];return(!e.name||e.name.trim().length<3)&&t.push("\u0418\u043c\u044f \u0431\u043e\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),(e.cycle_games<1||e.cycle_games>100)&&t.push("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 100"),(e.win_rate_percent<0||e.win_rate_percent>100)&&t.push("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 0% \u0434\u043e 100%"),"custom"===e.bot_type&&(e.custom_min_bet<=0&&t.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0"),e.custom_max_bet<=e.custom_min_bet&&t.push("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439")),e.cycle_total_amount<=0&&t.push("\u0421\u0443\u043c\u043c\u0430 \u0437\u0430 \u0446\u0438\u043a\u043b \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0"),{isValid:0===t.length,errors:t}},Ke=e=>{const t=Qe(e);return Ie(t),t.isValid},Xe=async()=>{if(fe)try{const e=localStorage.getItem("token"),t=await i.A.post("".concat(Bo,"/admin/bots/").concat(fe.id,"/force-complete-cycle"),{},{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&(We("\u0426\u0438\u043a\u043b \u0431\u043e\u0442\u0430 ".concat(fe.name," \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d. \u041f\u0440\u0438\u0431\u044b\u043b\u044c: $").concat(t.data.profit.toFixed(2))),me(!1),pe(null),await He(),await Ue())}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430:",e),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0446\u0438\u043a\u043b\u0430")}},Je=async e=>{try{const t=localStorage.getItem("token"),s=await i.A.post("".concat(Bo,"/admin/bots/").concat(e,"/reset-bets"),{},{headers:{Authorization:"Bearer ".concat(t)}});s.data.success&&(We("\u0421\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b \u0438 \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u044b. \u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e \u0441\u0442\u0430\u0432\u043e\u043a: ".concat(s.data.cancelled_bets)),await He(),await Ue())}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0442\u0430\u0432\u043e\u043a:",t),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u0431\u043e\u0442\u0430")}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-rajdhani font-bold text-white",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0411\u043e\u0442\u044b"}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>y(!0),className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,l.jsx)("button",{onClick:()=>g(!0),className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white bg-green-600 hover:bg-green-700 transition-colors",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0411\u043e\u0442\u0430"}),(0,l.jsx)("button",{onClick:async()=>{try{const e=!h;await i.A.post("".concat(Bo,"/admin/bots/toggle-all"),{enabled:e},Io()),x(e),await Ue()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432:",e)}},className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white transition-colors ".concat(h?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:h?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex border-b border-border-primary",children:[(0,l.jsx)("button",{onClick:()=>Fe("bots"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("bots"===Be?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\ud83d\udccb \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("button",{onClick:()=>Fe("settings"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("settings"===Be?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,l.jsxs)("div",{className:"p-6",children:["bots"===Be&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-3",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("div",{className:"text-white text-xl font-rajdhani font-bold",children:d.regular_bots.current})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442"}),(0,l.jsx)("div",{className:"text-accent-primary text-xl font-rajdhani font-bold",children:d.regular_bots.max})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0441\u043b\u043e\u0442\u044b"}),(0,l.jsx)("div",{className:"text-green-400 text-xl font-rajdhani font-bold",children:d.regular_bots.available})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0441\u0442\u044c"}),(0,l.jsxs)("div",{className:"text-xl font-rajdhani font-bold ".concat(d.regular_bots.percentage>=90?"text-red-400":d.regular_bots.percentage>=70?"text-yellow-400":"text-green-400"),children:[d.regular_bots.percentage,"%"]})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(d.regular_bots.percentage>=90?"bg-red-500":d.regular_bots.percentage>=70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(100,d.regular_bots.percentage),"%")}})}),(0,l.jsxs)("div",{className:"text-text-secondary text-xs mt-1",children:[d.regular_bots.current," \u0438\u0437 ",d.regular_bots.max," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-4",children:"\ud83d\udcca \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0438 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-md font-bold text-accent-primary",children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0432\u043e\u043a \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,l.jsx)("div",{className:"text-orange-400 text-xl font-rajdhani font-bold",children:Math.max(0,d.regular_bots.current-d.regular_bots.max)})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f"}),(0,l.jsx)("div",{className:"text-yellow-400 text-xl font-rajdhani font-bold",children:"~2\u043c"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-md font-bold text-accent-primary",children:"\u0422\u043e\u043f \u0431\u043e\u0442\u043e\u0432 \u043f\u043e \u043b\u0438\u043c\u0438\u0442\u0430\u043c"}),(0,l.jsx)("div",{className:"space-y-2",children:s.filter((e=>e.is_active)).sort(((e,t)=>(t.max_individual_bets||12)-(e.max_individual_bets||12))).slice(0,3).map(((e,t)=>(0,l.jsxs)("div",{className:"flex items-center justify-between bg-surface-sidebar rounded-lg p-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(0===t?"bg-yellow-400":1===t?"bg-gray-400":"bg-orange-400")}),(0,l.jsx)("span",{className:"text-white text-sm font-rajdhani",children:e.name||"Bot #".concat(e.id.substring(0,3))})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-accent-primary font-rajdhani font-bold",children:e.max_individual_bets||12}),(0,l.jsx)("span",{className:"text-text-secondary text-xs",children:"\u043b\u0438\u043c\u0438\u0442"})]})]},e.id)))})]})]}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0410\u0432\u0442\u043e\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"}),(0,l.jsx)("div",{className:"text-green-400 font-rajdhani font-bold",children:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0430"})]}),(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})}),(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0422\u0438\u043f \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u0430"}),(0,l.jsx)("div",{className:"font-rajdhani font-bold ".concat("manual"===te?"text-orange-400":"text-blue-400"),children:"manual"===te?"\u0420\u0443\u0447\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435":"\u041f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443"})]}),(0,l.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("manual"===te?"bg-orange-500":"bg-blue-500")})]})}),(0,l.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044f"}),(0,l.jsx)("div",{className:"text-green-400 font-rajdhani font-bold",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"})]}),(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})})]}),(0,l.jsxs)("div",{className:"mt-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"text-lg font-rajdhani font-bold text-white mb-4",children:"\ud83d\udccb \u0420\u0435\u0436\u0438\u043c\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold",children:"Always First"})]}),(0,l.jsx)("span",{className:"text-red-400 text-sm",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"})]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm mb-2",children:"\u0411\u043e\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u044e\u0442 \u0441\u0442\u0430\u0432\u043a\u0438 \u0432 \u043f\u0435\u0440\u0432\u0443\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c"}),(0,l.jsxs)("div",{className:"text-white font-rajdhani font-bold",children:[s.filter((e=>"always-first"===e.creation_mode)).length," \u0431\u043e\u0442\u043e\u0432"]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold",children:"Queue Based"})]}),(0,l.jsx)("span",{className:"text-blue-400 text-sm",children:"\u041e\u0447\u0435\u0440\u0435\u0434\u044c"})]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm mb-2",children:"\u0411\u043e\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u044e\u0442 \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,l.jsxs)("div",{className:"text-white font-rajdhani font-bold",children:[s.filter((e=>"queue-based"===e.creation_mode||!e.creation_mode)).length," \u0431\u043e\u0442\u043e\u0432"]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,l.jsx)("span",{className:"text-white font-rajdhani font-bold",children:"After All"})]}),(0,l.jsx)("span",{className:"text-green-400 text-sm",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435"})]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm mb-2",children:"\u0411\u043e\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u044e\u0442 \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445"}),(0,l.jsxs)("div",{className:"text-white font-rajdhani font-bold",children:[s.filter((e=>"after-all"===e.creation_mode)).length," \u0431\u043e\u0442\u043e\u0432"]})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4",children:[(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udfe2"})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:s.filter((e=>e.is_active)).length})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-red-600 rounded-lg",children:(0,l.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udd34"})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:s.filter((e=>!e.is_active)).length})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0442\u0430\u0432\u043e\u043a \u0437\u0430 24\u0447"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:e.bets_24h})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-yellow-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041f\u043e\u0431\u0435\u0434 \u0437\u0430 24\u0447"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:e.wins_24h})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"% \u043f\u043e\u0431\u0435\u0434"}),(0,l.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:[e.win_percentage,"%"]})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:["$",e.total_bet_value.toFixed(2)]})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 rounded-lg ".concat(e.errors>0?"bg-red-600":"bg-gray-600"),children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0448\u0438\u0431\u043a\u0438/\u0421\u0431\u043e\u0438"}),(0,l.jsx)("p",{className:"text-lg font-rajdhani font-bold ".concat(e.errors>0?"text-red-400":"text-white"),children:e.errors})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-indigo-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0422\u043e\u043f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"}),(0,l.jsx)("div",{className:"text-white text-sm",children:e.most_active.length>0?e.most_active.slice(0,3).map(((e,t)=>(0,l.jsxs)("div",{className:"text-xs",children:["Bot-",e.id.substring(0,6),": ",e.games]},e.id))):(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})})]})]})})]}),ge&&ye&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-blue-500 border-opacity-50 rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0431\u043e\u0442\u0430"}),(0,l.jsx)("p",{className:"text-blue-400 font-rajdhani font-bold",children:ye.name})]})]}),(0,l.jsx)("button",{onClick:()=>{be(!1),ve(null),we([])},className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsx)("div",{className:"px-6 py-4 bg-surface-sidebar border-b border-border-primary",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:ye.current_cycle_games||0}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b \u0438\u0433\u0440"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:ye.active_bets||0}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[ye.win_rate||0,"%"]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"Win Rate"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold ".concat(ye.is_active?"text-green-400":"text-red-400"),children:ye.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0431\u043e\u0442\u0430"})]})]})}),(0,l.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[0===je.length?(0,l.jsxs)("div",{className:"text-center text-text-secondary py-12",children:[(0,l.jsx)("div",{className:"text-8xl mb-4",children:"\ud83d\udcca"}),(0,l.jsx)("h4",{className:"font-rajdhani text-xl font-bold mb-2",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0446\u0438\u043a\u043b\u0430\u0445"}),(0,l.jsxs)("p",{className:"text-lg",children:["\u0423 \u0431\u043e\u0442\u0430 ",(0,l.jsx)("span",{className:"text-blue-400 font-bold",children:ye.name})," \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0446\u0438\u043a\u043b\u043e\u0432"]}),(0,l.jsx)("div",{className:"mt-4 text-sm text-text-secondary bg-surface-sidebar rounded-lg p-4 max-w-md mx-auto",children:(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"})," \u0426\u0438\u043a\u043b\u044b \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0431\u043e\u0442 \u0441\u044b\u0433\u0440\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0438\u0433\u0440 \u0438\u043b\u0438 \u0446\u0438\u043a\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"]})})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-3",children:"\ud83d\udcc8 \u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0432\u0441\u0435\u043c \u0446\u0438\u043a\u043b\u0430\u043c"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-blue-400",children:je.length}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u043e\u0432"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-lg font-bold text-red-400",children:["$",je.reduce(((e,t)=>e+t.total_spent),0).toFixed(2)]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-lg font-bold text-green-400",children:["$",je.reduce(((e,t)=>e+t.total_earned),0).toFixed(2)]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-lg font-bold ".concat(je.reduce(((e,t)=>e+t.profit),0)>0?"text-green-400":"text-red-400"),children:["$",je.reduce(((e,t)=>e+t.profit),0).toFixed(2)]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-lg font-bold text-purple-400",children:[je.length>0?(je.reduce(((e,t)=>e+t.win_rate),0)/je.length).toFixed(1):0,"%"]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 Win Rate"})]})]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0426\u0438\u043a\u043b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u044b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"Win Rate"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0435\u0440\u0438\u043e\u0434"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:je.map((e=>(0,l.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,l.jsxs)("td",{className:"px-4 py-3 text-blue-400 font-bold text-lg",children:["#",e.cycle_number]}),(0,l.jsx)("td",{className:"px-4 py-3 text-white",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"font-bold",children:e.games_completed}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0438\u0433\u0440"}),(0,l.jsxs)("span",{className:"text-green-400 font-bold",children:["(",e.games_won," \u2605)"]})]})}),(0,l.jsxs)("td",{className:"px-4 py-3 text-red-400 font-bold",children:["$",e.total_spent.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-4 py-3 text-green-400 font-bold",children:["$",e.total_earned.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-4 py-3 font-bold text-lg ".concat(e.profit>0?"text-green-400":e.profit<0?"text-red-400":"text-gray-400"),children:[e.profit>0?"+":"","$",e.profit.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-4 py-3 text-white font-bold",children:[e.win_rate.toFixed(1),"%"]}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"px-3 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(e.is_cycle_completed?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.is_cycle_completed?"\u2713 \u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d":"\u23f3 \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})}),(0,l.jsxs)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:[(0,l.jsx)("div",{children:new Date(e.created_at).toLocaleDateString("ru-RU")}),e.cycle_end_date&&(0,l.jsxs)("div",{className:"text-xs",children:["- ",new Date(e.cycle_end_date).toLocaleDateString("ru-RU")]})]})]},e.id)))})]})})]}),Ne.total_pages>1&&(0,l.jsx)("div",{className:"flex justify-center mt-6",children:(0,l.jsx)("div",{className:"flex space-x-2",children:Array.from({length:Ne.total_pages},((e,t)=>t+1)).map((e=>(0,l.jsx)("button",{onClick:()=>{},className:"px-3 py-1 rounded ".concat(e===Ne.current_page?"bg-blue-600 text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:e},e)))})})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-border-primary",children:[(0,l.jsxs)("div",{className:"text-text-secondary text-sm",children:["\ud83d\udca1 ",(0,l.jsx)("strong",{children:"\u0421\u043e\u0432\u0435\u0442:"}),' \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b" \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u0430']}),(0,l.jsx)("button",{onClick:()=>{be(!1),ve(null),we([])},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,l.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u043c\u044f"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0410\u043a\u0442 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u0431\u0434/\u041f\u0440\u0436/\u041d\u0447\u0438"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"% \u0412\u0418\u041d"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"%"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0426\u0438\u043a\u043b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0411\u041e\u0422 \u0422\u0418\u041f"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===s.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"14",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 \u0431\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):s.map((e=>(0,l.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:e.name||"Bot #".concat(e.id.substring(0,3))})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-roboto font-medium ".concat(e.is_active?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsx)("button",{onClick:()=>(async e=>{R(e),F(!0),O(!0);try{const t=localStorage.getItem("token"),[s,n]=await Promise.all([i.A.get("".concat(Bo,"/admin/games"),{headers:{Authorization:"Bearer ".concat(t)},params:{creator_id:e.id,status:"WAITING,ACTIVE,REVEAL,COMPLETED"}}),i.A.get("".concat(Bo,"/admin/bots/").concat(e.id,"/stats"),{headers:{Authorization:"Bearer ".concat(t)}}).catch((()=>null))]);console.log("Games API Response:",s.data),console.log("Bot Stats Response:",null===n||void 0===n?void 0:n.data);const a=(s.data.games||s.data||[]).map((e=>{var t;return console.log("Game data:",e),{id:e.id,created_at:e.created_at,bet_amount:e.bet_amount,amount:e.bet_amount,move:e.move||e.creator_move||"\u2014",selected_gem:e.selected_gem||"\u2014",status:(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())||"waiting",opponent_name:e.opponent_name||"\u2014",opponent_id:e.opponent_id||"\u2014",winner_id:e.winner_id||e.winner,creator_id:e.creator_id,result:e.result}})),r=a.length,o=a.reduce(((e,t)=>e+(t.bet_amount||0)),0),l=a.filter((e=>"completed"===e.status)).length,c=a.filter((t=>"completed"===t.status&&t.winner_id===e.id)).length,d=a.filter((t=>"completed"===t.status&&t.winner_id&&t.winner_id!==e.id)).length;console.log("Statistics:",{totalBets:r,totalBetAmount:o,gamesPlayed:l,botWins:c,playerWins:d}),I({bets:a,totalBets:r,totalBetAmount:o,gamesPlayed:l,botWins:c,playerWins:d,botStats:(null===n||void 0===n?void 0:n.data)||{}})}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",t);try{const t=localStorage.getItem("token"),s=await i.A.get("".concat(Bo,"/admin/bots/").concat(e.id,"/active-bets"),{headers:{Authorization:"Bearer ".concat(t)}});console.log("Fallback API Response:",s.data);const n=s.data.bets||[];I({bets:n,totalBets:n.length,totalBetAmount:n.reduce(((e,t)=>e+(t.bet_amount||t.amount||0)),0),gamesPlayed:n.filter((e=>"completed"===e.status)).length,botWins:n.filter((t=>"completed"===t.status&&t.winner_id===e.id)).length,playerWins:n.filter((t=>"completed"===t.status&&t.winner_id&&t.winner_id!==e.id)).length,botStats:{}})}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 fallback \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:",s),I({bets:[],totalBets:0,totalBetAmount:0,gamesPlayed:0,botWins:0,playerWins:0,botStats:{}})}}finally{F(!1)}})(e),className:"text-blue-400 hover:text-blue-300 underline font-roboto text-sm cursor-pointer",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:e.active_bets||0})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsxs)("div",{className:"text-white font-roboto text-sm",children:[e.games_stats.wins,"/",e.games_stats.losses,"/",e.games_stats.draws]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsxs)("div",{className:"text-orange-400 font-roboto text-sm",children:[e.win_percentage||60,"%"]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsxs)("div",{className:"text-accent-primary font-roboto text-sm",children:[e.win_percentage||60,"% win rate"]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsxs)("div",{className:"w-full max-w-24 mx-auto",children:[(0,l.jsx)("div",{className:"w-full bg-surface-sidebar rounded-full h-2 mb-2",children:(0,l.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min((e.current_cycle_games||0)/(e.cycle_games||12)*100,100),"%")}})}),(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,l.jsxs)("span",{className:"text-green-400 font-roboto text-sm font-medium",children:[e.current_cycle_games||0,"/",e.cycle_games||12]}),(0,l.jsx)("button",{onClick:()=>(async e=>{try{const t=await i.A.get("".concat(Bo,"/admin/bots/").concat(e.id,"/cycle-history"),Io());$(e),Y(t.data),H(!0)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0446\u0438\u043a\u043b\u0430:",t),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0446\u0438\u043a\u043b\u0430")}})(e),className:"text-green-400 hover:text-green-300 cursor-pointer p-1",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0446\u0438\u043a\u043b\u0430",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsxs)("div",{className:"text-accent-primary font-roboto text-sm",children:["$",e.cycle_total_amount]})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:Te(e.bot_type)})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:"always-first"===e.creation_mode?"Always First":"after-all"===e.creation_mode?"After All":"Queue-Based"})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:"aggressive"===e.bot_behavior?"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439":"cautious"===e.bot_behavior?"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439":"\u0421\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439"})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsx)("div",{className:"text-white font-roboto text-sm",children:e.created_at?new Date(e.created_at).toLocaleDateString("ru-RU"):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})}),(0,l.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,l.jsxs)("div",{className:"flex space-x-2 justify-center",children:[(0,l.jsx)("button",{onClick:()=>(async e=>{try{const t=await i.A.get("".concat(Bo,"/admin/bots/").concat(e.id),Io());Ce({name:t.data.bot.name||"",pause_timer:t.data.bot.pause_timer||5,recreation_interval:t.data.bot.recreation_interval||30,games_per_cycle:t.data.bot.games_per_cycle||12,cycle_amount:t.data.bot.cycle_total_amount||500,win_percentage:t.data.bot.win_percentage||60,min_bet_amount:t.data.bot.min_bet_amount||1,avg_bet_amount:t.data.bot.avg_bet_amount||50,bet_distribution:t.data.bot.bet_distribution||{small:!1,medium:!1,large:!1},bot_behavior:t.data.bot.bot_behavior||"balanced",bot_type:t.data.bot.bot_type||"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439",creation_mode:t.data.bot.creation_mode||"queue-based"}),S(t.data.bot),g(!0)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u0430:",t),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u0430")}})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",children:(0,l.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,l.jsx)("button",{onClick:()=>Je(e.id),className:"p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700",title:"\u041f\u0435\u0440\u0435\u0441\u0447\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,l.jsx)("button",{onClick:()=>(e=>{pe(e),me(!0)})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,l.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),s=await i.A.post("".concat(Bo,"/admin/bots/").concat(e,"/toggle"),{},{headers:{Authorization:"Bearer ".concat(t)}});We(s.data.message),await Ue(),await He()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0431\u043e\u0442\u0430:",t),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0431\u043e\u0442\u0430")}})(e.id),className:"p-1 text-white rounded ".concat(e.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),title:e.is_active?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c",children:e.is_active?(0,l.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}):(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,l.jsx)("button",{onClick:()=>(e=>{L(e),P(""),A(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)))})]})})]}),(0,l.jsx)(ce,{currentPage:_e.currentPage,totalPages:_e.totalPages,onPageChange:_e.handlePageChange,itemsPerPage:_e.itemsPerPage,totalItems:_e.totalItems,className:"mt-6"})]}),"settings"===Be&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83c\udfaf \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0420\u0435\u0436\u0438\u043c:"}),(0,l.jsxs)("select",{value:te,onChange:e=>se(e.target.value),className:"bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm",children:[(0,l.jsx)("option",{value:"order",children:"\u041f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443"}),(0,l.jsx)("option",{value:"manual",children:"\u0420\u0443\u0447\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})]}),(0,l.jsx)("button",{onClick:async()=>{if("manual"===te&&window.confirm("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432? \u041e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u044b \u043f\u043e \u0434\u0430\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f."))try{const e=localStorage.getItem("token");(await i.A.post("".concat(Bo,"/admin/bots/priority/reset"),{},{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(We("\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b \u0431\u043e\u0442\u043e\u0432 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b"),await He())}catch(e){console.error("Error resetting priorities:",e),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432")}},className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm font-rajdhani font-bold",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Always First:"}),(0,l.jsx)("span",{className:"text-red-400 font-bold",children:s.filter((e=>"always-first"===e.creation_mode)).length})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Queue Based:"}),(0,l.jsx)("span",{className:"text-blue-400 font-bold",children:s.filter((e=>"queue-based"===e.creation_mode||!e.creation_mode)).length})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"After All:"}),(0,l.jsx)("span",{className:"text-green-400 font-bold",children:s.filter((e=>"after-all"===e.creation_mode)).length})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83c\udfae \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u0430\u043c\u0438"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041d\u0438\u0437\u043a\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"})]}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"manual"===te?"\u0420\u0443\u0447\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435: \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u2191/\u2193 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0431\u043e\u0442\u043e\u0432":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435: \u0431\u043e\u0442\u044b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"})})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b"}),(0,l.jsx)("p",{className:"text-text-secondary text-sm",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043b\u0438\u043c\u0438\u0442\u043e\u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83c\udf10 \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c Regular \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("input",{type:"number",value:Z,onChange:e=>ee(parseInt(e.target.value)),className:"w-full bg-surface-card border border-border-primary rounded px-3 py-2 text-white",min:"1",max:"200"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c Human \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("input",{type:"number",value:o.max_active_bets_human,onChange:e=>c((t=>(0,r.A)((0,r.A)({},t),{},{max_active_bets_human:parseInt(e.target.value)}))),className:"w-full bg-surface-card border border-border-primary rounded px-3 py-2 text-white",min:"1",max:"100"})]}),(0,l.jsx)("button",{onClick:()=>Ye({max_active_bets_regular:Z,max_active_bets_human:o.max_active_bets_human}),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-rajdhani font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043b\u0438\u043c\u0438\u0442\u044b"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83d\udcc8 \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043b\u0438\u043c\u0438\u0442\u043e\u0432"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e Regular:"}),(0,l.jsxs)("span",{className:"text-blue-400 font-bold",children:[d.regular_bots.current,"/",d.regular_bots.max]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e Human:"}),(0,l.jsxs)("span",{className:"text-orange-400 font-bold",children:[d.human_bots.current,"/",d.human_bots.max]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0441\u043b\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("span",{className:"text-green-400 font-bold",children:d.regular_bots.available})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,l.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(d.regular_bots.percentage>=90?"bg-red-500":d.regular_bots.percentage>=70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(100,d.regular_bots.percentage),"%")}})}),(0,l.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0441\u0442\u044c: ",d.regular_bots.percentage,"%"]})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\u2699\ufe0f \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430\u043c\u0438"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b:"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u0442 1 \u0434\u043e 50. \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043b\u0438\u043c\u0438\u0442\u044b \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0431\u043e\u0442\u043e\u0432."})]}),(0,l.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u043a\u0430:"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 \u043b\u0438\u043c\u0438\u0442\u043e\u0432."})]}),(0,l.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f:"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043b\u0438\u043c\u0438\u0442\u043e\u0432 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442."})]})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udd04 \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,l.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0446\u0438\u043a\u043b\u0430\u043c\u0438 \u0441\u0442\u0430\u0432\u043e\u043a \u0438 \u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u044f\u043c\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438"})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-3",children:(0,l.jsx)("button",{onClick:()=>ie(!0),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm font-rajdhani font-bold",children:"\u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0446\u0438\u043a\u043b\u043e\u0432:"}),(0,l.jsx)("span",{className:"text-green-400 font-bold",children:s.filter((e=>e.current_cycle_games>0)).length})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445:"}),(0,l.jsx)("span",{className:"text-blue-400 font-bold",children:s.filter((e=>0===e.current_cycle_games)).length})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0434\u043b\u0438\u043d\u0430:"}),(0,l.jsx)("span",{className:"text-white font-bold",children:s.length>0?Math.round(s.reduce(((e,t)=>e+(t.cycle_games||12)),0)/s.length):0})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83e\udd16 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0410\u0432\u0442\u043e\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435:"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0410\u0432\u0442\u043e\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435:"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433:"}),(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445"})})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\u26a1 \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("button",{onClick:()=>{confirm("\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0446\u0438\u043a\u043b\u044b?")&&s.forEach((e=>{e.current_cycle_games>0&&Xe()}))},className:"w-full px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm font-rajdhani font-bold",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0432\u0441\u0435 \u0446\u0438\u043a\u043b\u044b"}),(0,l.jsx)("button",{onClick:()=>{confirm("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u043e\u0432?")&&s.forEach((e=>{Je(e.id)}))},className:"w-full px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm font-rajdhani font-bold",children:"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("button",{onClick:()=>{confirm("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438?")&&Ve("\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u043e\u043a\u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430")},className:"w-full px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm font-rajdhani font-bold",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0414\u043b\u0438\u043d\u0430 \u0446\u0438\u043a\u043b\u0430:"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"\u041e\u0442 1 \u0434\u043e 100 \u0438\u0433\u0440 \u043d\u0430 \u0446\u0438\u043a\u043b"})]}),(0,l.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"start-positive, balanced, start-negative"})]}),(0,l.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,l.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary",children:"aggressive, balanced, cautious"})]})]})]})]})]})]})]})]}),p&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:_?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0431\u043e\u0442\u0430"}),(0,l.jsx)("button",{onClick:()=>{g(!1),S(null)},className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430:"}),(0,l.jsx)("input",{type:"text",value:Se.name,onChange:e=>{Ce((0,r.A)((0,r.A)({},Se),{},{name:e.target.value})),Ke((0,r.A)((0,r.A)({},Se),{},{name:e.target.value}))},placeholder:"Bot #001",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:'\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435, \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0442\u043e "Bot"'})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"creation_mode",value:"always-first",checked:"always-first"===Se.creation_mode,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{creation_mode:e.target.value});Ce(t),Ke(t)},className:"mr-3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-white font-medium",children:"Always First"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0432\u043a\u0443 \u0432\u043d\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"})]})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"creation_mode",value:"queue-based",checked:"queue-based"===Se.creation_mode,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{creation_mode:e.target.value});Ce(t),Ke(t)},className:"mr-3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-white font-medium",children:"Queue-Based"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0416\u0434\u0451\u0442 \u0441\u0432\u043e\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u043e \u0446\u0438\u043a\u043b\u0443"})]})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"creation_mode",value:"after-all",checked:"after-all"===Se.creation_mode,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{creation_mode:e.target.value});Ce(t),Ke(t)},className:"mr-3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-white font-medium",children:"After All"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0421\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u0442\u0430\u0432\u043a\u0443 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0446\u0438\u043a\u043b\u043e\u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u043e\u0442\u043e\u0432"})]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435:"}),(0,l.jsx)("input",{type:"number",min:"1",max:"100",value:Se.cycle_games,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{cycle_games:parseInt(e.target.value)||12});Ce(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u043e\u0434\u043d\u043e\u043c \u0446\u0438\u043a\u043b\u0435 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 12)"})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430 (Bot Behavior)"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"bot_behavior",value:"aggressive",checked:"aggressive"===Se.bot_behavior,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{bot_behavior:e.target.value});Ce(t),Ke(t)},className:"mr-3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-red-400 font-medium",children:"Aggressive"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0414\u043e\u0440\u043e\u0433\u0438\u0435 \u0433\u0435\u043c\u044b, \u0432\u044b\u0441\u043e\u043a\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (\u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c 1.0)"})]})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"bot_behavior",value:"balanced",checked:"balanced"===Se.bot_behavior,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{bot_behavior:e.target.value});Ce(t),Ke(t)},className:"mr-3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-yellow-400 font-medium",children:"Balanced"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0433\u0435\u043c\u044b, \u0443\u043c\u0435\u0440\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (\u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c 0.75)"})]})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"bot_behavior",value:"cautious",checked:"cautious"===Se.bot_behavior,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{bot_behavior:e.target.value});Ce(t),Ke(t)},className:"mr-3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-green-400 font-medium",children:"Cautious"}),(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0414\u0435\u0448\u0451\u0432\u044b\u0435 \u0433\u0435\u043c\u044b, \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (\u043c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c 0.5)"})]})]})]})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0422\u0438\u043f \u0431\u043e\u0442\u0430 (Bot Type)"}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("select",{value:Se.bot_type,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{bot_type:e.target.value});Ce(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:[Ae.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))),Me.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,l.jsx)("button",{onClick:()=>Pe(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-rajdhani font-bold text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0438\u043f"})]}),"custom"===Se.bot_type&&(0,l.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-xs mb-1",children:"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,l.jsx)("input",{type:"number",min:"1",value:Se.custom_min_bet,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{custom_min_bet:parseInt(e.target.value)||1});Ce(t),Ke(t)},className:"w-full px-2 py-1 bg-surface-sidebar border border-border-primary rounded text-white text-sm"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-xs mb-1",children:"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0430:"}),(0,l.jsx)("input",{type:"number",min:"1",value:Se.custom_max_bet,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{custom_max_bet:parseInt(e.target.value)||10});Ce(t),Ke(t)},className:"w-full px-2 py-1 bg-surface-sidebar border border-border-primary rounded text-white text-sm"})]})]})]}),(0,l.jsxs)("div",{className:"border border-blue-500 bg-blue-900 bg-opacity-20 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-blue-400 mb-2",children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0430\u0441\u0447\u0451\u0442"}),(0,l.jsxs)("div",{className:"text-lg font-bold text-white",children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430 \u0446\u0438\u043a\u043b: $",Se.cycle_total_amount]}),(0,l.jsx)("div",{className:"text-sm text-blue-300 mt-1",children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0444\u043e\u0440\u043c\u0443\u043b\u0435: \u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 \xd7 \u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435 \xd7 \u041c\u043d\u043e\u0436\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f"})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Win Rate % (\u0446\u0435\u043b\u044c):"}),(0,l.jsx)("input",{type:"number",min:"0",max:"100",value:Se.win_rate_percent,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{win_rate_percent:parseInt(e.target.value)||60});Ce(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,l.jsxs)("select",{value:Se.profit_strategy,onChange:e=>{const t=(0,r.A)((0,r.A)({},Se),{},{profit_strategy:e.target.value});Ce(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:[(0,l.jsx)("option",{value:"start-positive",children:"\u0412 \u043d\u0430\u0447\u0430\u043b\u0435 \u0432 \u043f\u043b\u044e\u0441\u0435"}),(0,l.jsx)("option",{value:"balanced",children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,l.jsx)("option",{value:"start-negative",children:"\u0412 \u043c\u0438\u043d\u0443\u0441\u0435"})]})]})]})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:Se.can_accept_bets,onChange:e=>Ce((0,r.A)((0,r.A)({},Se),{},{can_accept_bets:e.target.checked})),className:"mr-2"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0447\u0443\u0436\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:Se.can_play_with_bots,onChange:e=>Ce((0,r.A)((0,r.A)({},Se),{},{can_play_with_bots:e.target.checked})),className:"mr-2"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0431\u043e\u0442\u0430\u043c\u0438"})]})]})]}),!De.isValid&&(0,l.jsxs)("div",{className:"border border-red-500 bg-red-900 bg-opacity-20 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-red-400 mb-2",children:"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438:"}),(0,l.jsx)("ul",{className:"space-y-1",children:De.errors.map(((e,t)=>(0,l.jsxs)("li",{className:"text-red-300 text-sm",children:["\u2022 ",e]},t)))})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:async()=>{const e=Qe(Se);if(!e.isValid)return Ie(e),void Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438: ".concat(e.errors.join(", ")));try{const e=localStorage.getItem("token"),t=await i.A.post("".concat(Bo,"/admin/bots/create-extended"),Se,{headers:{Authorization:"Bearer ".concat(e)}});We(t.data.message),g(!1),Ce({name:Re(),creation_mode:"queue-based",cycle_games:12,bot_behavior:"balanced",bot_type:"type-1",custom_min_bet:1,custom_max_bet:10,cycle_total_amount:0,win_rate_percent:60,profit_strategy:"balanced",can_accept_bets:!1,can_play_with_bots:!0}),Ie({isValid:!0,errors:[]}),await Ue(),await He()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u043e\u0433\u043e \u0431\u043e\u0442\u0430:",t),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0431\u043e\u0442\u0430")}},disabled:!De.isValid,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(De.isValid?"bg-accent-primary text-white hover:bg-accent-secondary":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:_?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,l.jsx)("button",{onClick:()=>{g(!1),S(null),Ie({isValid:!0,errors:[]})},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),z&&T&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsx)("h3",{className:"font-russo text-xl text-white",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u2014 Bot"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430"}),(0,l.jsxs)("div",{className:"text-accent-primary text-2xl font-rajdhani font-bold",children:["$",(null===D||void 0===D?void 0:D.totalBetAmount)||0]})]}),(0,l.jsx)("button",{onClick:()=>{O(!1),R(null),I(null)},className:"text-text-secondary hover:text-white transition-colors",children:"\u2715"})]})]}),B?(0,l.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"}),(0,l.jsx)("span",{className:"ml-3 text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a..."})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsx)("div",{className:"text-blue-400 text-2xl font-rajdhani font-bold",children:(null===D||void 0===D?void 0:D.totalBets)||0})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,l.jsx)("div",{className:"text-white text-2xl font-rajdhani font-bold",children:(null===D||void 0===D?void 0:D.gamesPlayed)||0})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0431\u043e\u0442\u0430"}),(0,l.jsx)("div",{className:"text-green-400 text-2xl font-rajdhani font-bold",children:(null===D||void 0===D?void 0:D.botWins)||0})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}),(0,l.jsx)("div",{className:"text-orange-400 text-2xl font-rajdhani font-bold",children:(null===D||void 0===D?void 0:D.playerWins)||0})]})]}),null!==D&&void 0!==D&&D.bets&&0!==D.bets.length?(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0425\u043e\u0434"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:D.bets.map(((e,t)=>{const s=new Date(e.created_at),n=s.toLocaleDateString("ru-RU"),a=s.toLocaleTimeString("ru-RU");return(0,l.jsxs)("tr",{className:"hover:bg-green-900 hover:bg-opacity-20 transition-colors hover:border-l-4 hover:border-green-400",children:[(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("div",{className:"text-sm font-roboto text-white font-mono",children:e.id?e.id.substring(0,8):"#".concat(t+1)})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("div",{className:"text-sm font-roboto text-white",children:n})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("div",{className:"text-sm font-roboto text-white",children:a})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"text-sm font-roboto font-bold text-accent-primary",children:["$",e.bet_amount||e.amount||0]})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("div",{className:"text-sm font-roboto text-white",children:e.move||e.selected_gem||"\u2014"})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-roboto font-medium ".concat("active"===e.status?"bg-green-600 text-white":"waiting"===e.status?"bg-yellow-600 text-white":"reveal"===e.status?"bg-blue-600 text-white":"completed"===e.status?"bg-purple-600 text-white":"bg-gray-600 text-white"),children:"active"===e.status?"\u0410\u043a\u0442\u0438\u0432\u043d\u0430":"waiting"===e.status?"\u041e\u0436\u0438\u0434\u0430\u0435\u0442":"reveal"===e.status?"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435":"completed"===e.status?"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430":e.status||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("div",{className:"text-sm font-roboto text-white",children:e.opponent_name||e.opponent_id||"\u2014"})}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("div",{className:"text-sm font-roboto",children:"completed"===e.status?(0,l.jsx)("span",{className:"font-bold ".concat(e.winner_id===T.id?"text-green-400":e.winner_id?"text-red-400":"text-gray-400"),children:e.winner_id===T.id?"\u041f\u043e\u0431\u0435\u0434\u0430":e.winner_id?"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":"\u041d\u0438\u0447\u044c\u044f"}):(0,l.jsx)("span",{className:"text-text-secondary",children:"\u2014"})})})]},e.id||t)}))})]})}):(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("div",{className:"text-text-secondary text-lg",children:"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442"})})]}),(0,l.jsx)("div",{className:"mt-6 flex justify-end",children:(0,l.jsx)("button",{onClick:()=>{O(!1),R(null),I(null)},className:"px-4 py-2 bg-surface-sidebar text-white rounded-lg hover:bg-opacity-80 transition-colors font-roboto",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}),v&&_&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430: ",_.name]}),(0,l.jsx)("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430:"}),(0,l.jsx)("input",{type:"text",value:_.name,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{name:e.target.value})),placeholder:"Bot #001",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0422\u0430\u0439\u043c\u0435\u0440 \u043f\u0430\u0443\u0437\u044b (\u043c\u0438\u043d):"}),(0,l.jsx)("input",{type:"number",min:"1",max:"1000",value:_.pause_timer,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{pause_timer:parseInt(e.target.value)||5})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f (\u0441\u0435\u043a):"}),(0,l.jsx)("input",{type:"number",min:"1",value:_.recreate_timer,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{recreate_timer:parseInt(e.target.value)||30})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0446\u0438\u043a\u043b\u0430"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435:"}),(0,l.jsx)("input",{type:"number",min:"1",value:_.cycle_games,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{cycle_games:parseInt(e.target.value)||12})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430 \u0446\u0438\u043a\u043b ($):"}),(0,l.jsx)("input",{type:"number",min:"1",value:_.cycle_total_amount,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{cycle_total_amount:parseFloat(e.target.value)||500})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"% \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430:"}),(0,l.jsx)("input",{type:"number",min:"0",max:"100",value:_.win_percentage,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{win_percentage:parseFloat(e.target.value)||60})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0430 ($):"}),(0,l.jsx)("input",{type:"number",min:"1",max:"100",value:_.min_bet_amount,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{min_bet_amount:parseFloat(e.target.value)||1})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0430 ($):"}),(0,l.jsx)("input",{type:"number",min:"1",max:"100",value:_.max_bet_amount,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{max_bet_amount:parseFloat(e.target.value)||100})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]})]}),(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:_.can_accept_bets,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{can_accept_bets:e.target.checked})),className:"mr-2"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0447\u0443\u0436\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:_.can_play_with_bots,onChange:e=>S((0,r.A)((0,r.A)({},_),{},{can_play_with_bots:e.target.checked})),className:"mr-2"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0431\u043e\u0442\u0430\u043c\u0438"})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.put("".concat(Bo,"/admin/bots/").concat(_.id),_,{headers:{Authorization:"Bearer ".concat(e)}});We(t.data.message),j(!1),S(null),await He()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u0430:",e),Ve("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u0430")}},className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-secondary font-rajdhani font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,l.jsx)("button",{onClick:()=>Je(_.id),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-rajdhani font-bold",children:"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,l.jsx)("button",{onClick:()=>j(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),b&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041b\u0438\u043c\u0438\u0442\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("input",{type:"number",min:"0",max:"1000",value:o.max_active_bets_regular,onChange:e=>c((0,r.A)((0,r.A)({},o),{},{max_active_bets_regular:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"}),(0,l.jsxs)("div",{className:"text-text-secondary text-xs mt-1",children:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",d.regular_bots.current," \u0438\u0437 ",d.regular_bots.max]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a Human \u0431\u043e\u0442\u043e\u0432:"}),(0,l.jsx)("input",{type:"number",min:"0",max:"1000",value:o.max_active_bets_human,onChange:e=>c((0,r.A)((0,r.A)({},o),{},{max_active_bets_human:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"}),(0,l.jsxs)("div",{className:"text-text-secondary text-xs mt-1",children:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",d.human_bots.current," \u0438\u0437 ",d.human_bots.max]})]})]})]}),(0,l.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,l.jsxs)("div",{className:"text-yellow-200 text-sm",children:[(0,l.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u0415\u0441\u043b\u0438 \u043b\u0438\u043c\u0438\u0442 \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442, \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430\u043c\u0438 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043e\u0434\u043d\u0430 \u0438\u0437 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043d\u044f\u0442\u0430, \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430 \u0438\u043b\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430."]})}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:()=>Ye(o),className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-secondary font-rajdhani font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,l.jsx)("button",{onClick:()=>y(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),U&&q&&G&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-green-500 border-opacity-50 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[85vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-green-400",children:["\ud83d\udcc8 \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0446\u0438\u043a\u043b\u0430: ",G.bot_name]}),(0,l.jsx)("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u0446\u0438\u043a\u043b\u0430:"}),(0,l.jsx)("div",{className:"text-2xl font-rajdhani font-bold text-green-400",children:G.cycle_info.progress}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e \u0438\u0433\u0440 (\u0431\u0435\u0437 \u043d\u0438\u0447\u044c\u0438\u0445)"}),(0,l.jsxs)("div",{className:"mt-2 text-sm",children:[(0,l.jsxs)("div",{className:"text-green-400",children:["\u041f\u043e\u0431\u0435\u0434: ",G.cycle_info.current_wins]}),(0,l.jsxs)("div",{className:"text-red-400",children:["\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439: ",G.cycle_info.current_losses]}),(0,l.jsxs)("div",{className:"text-yellow-400",children:["\u041d\u0438\u0447\u044c\u0438\u0445: ",G.cycle_info.draws]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b:"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e:"}),(0,l.jsxs)("span",{className:"text-white ml-2",children:["$",G.cycle_stats.total_bet_amount]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0412\u044b\u0438\u0433\u0440\u0430\u043d\u043e:"}),(0,l.jsxs)("span",{className:"text-green-400 ml-2",children:["$",G.cycle_stats.total_winnings]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u041f\u0440\u043e\u0438\u0433\u0440\u0430\u043d\u043e:"}),(0,l.jsxs)("span",{className:"text-red-400 ml-2",children:["$",G.cycle_stats.total_losses]})]}),(0,l.jsxs)("div",{className:"border-t border-border-primary pt-2",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0442\u043e\u0433\u043e:"}),(0,l.jsxs)("span",{className:"ml-2 font-bold ".concat(G.cycle_stats.net_profit>=0?"text-green-400":"text-red-400"),children:["$",G.cycle_stats.net_profit]})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c:"}),(0,l.jsxs)("div",{className:"text-2xl font-rajdhani font-bold text-accent-primary",children:[G.cycle_stats.win_percentage,"%"]}),(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:"\u041b\u043e\u0433 \u043c\u0430\u0442\u0447\u0435\u0439 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u0430"})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-card",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u2116"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0413\u0435\u043c\u044b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:G.games.map(((e,t)=>(0,l.jsxs)("tr",{className:"hover:bg-surface-card hover:bg-opacity-50",children:[(0,l.jsx)("td",{className:"px-4 py-3 text-white",children:e.game_number}),(0,l.jsxs)("td",{className:"px-4 py-3 text-accent-primary font-bold",children:["$",e.bet_amount]}),(0,l.jsx)("td",{className:"px-4 py-3 text-text-secondary text-xs",children:Object.entries(e.bet_gems).map((e=>{let[t,s]=e;return"".concat(t,": ").concat(s)})).join(", ")}),(0,l.jsx)("td",{className:"px-4 py-3 text-white",children:e.opponent}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-rajdhani font-bold ".concat("\u041f\u043e\u0431\u0435\u0434\u0430"===e.result?"bg-green-600 text-white":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"===e.result?"bg-red-600 text-white":"bg-yellow-600 text-white"),children:e.result})}),(0,l.jsxs)("td",{className:"px-4 py-3 font-bold ".concat(e.winnings>0?"text-green-400":e.winnings<0?"text-red-400":"text-gray-400"),children:[e.winnings>0?"+":"","$",e.winnings]}),(0,l.jsx)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:new Date(e.completed_at).toLocaleString("ru-RU")})]},e.game_id)))})]})})]}),(0,l.jsx)("div",{className:"flex justify-end pt-4",children:(0,l.jsx)("button",{onClick:()=>H(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})]})}),C&&M&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-50 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\uddd1 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,l.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-red-300 font-rajdhani font-bold",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),(0,l.jsxs)("p",{className:"text-red-200 text-sm",children:["\u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430 ",(0,l.jsxs)("strong",{children:['"',M.name||"Bot #".concat(M.id.substring(0,6)),'"']})]})]})]})}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435:"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,l.jsx)("span",{className:"ml-2 ".concat(M.is_active?"text-green-400":"text-red-400"),children:M.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,l.jsx)("span",{className:"text-white ml-2",children:M.active_bets||0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Win Rate:"}),(0,l.jsxs)("span",{className:"text-accent-primary ml-2",children:[M.win_rate,"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f:"}),(0,l.jsx)("span",{className:"text-white ml-2",children:(Ze=M.created_at,new Date(Ze).toLocaleDateString("ru-RU"))})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-text-secondary text-sm mb-2",children:[(0,l.jsx)("span",{className:"text-red-400",children:"*"})," \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:"]}),(0,l.jsx)("textarea",{value:E,onChange:e=>P(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c, \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b, \u043f\u043b\u0430\u043d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430...)",rows:3,className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white resize-none",required:!0},"delete-reason-".concat(M.id)),(0,l.jsx)("div",{className:"text-text-secondary text-xs mt-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u0432 \u043b\u043e\u0433\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"})]}),M.active_bets>0&&(0,l.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,l.jsxs)("div",{className:"text-yellow-200 text-sm",children:[(0,l.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u0423 \u0431\u043e\u0442\u0430 \u0435\u0441\u0442\u044c ",M.active_bets," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438. \u041e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438."]})}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:async()=>{if(E.trim())try{const e=localStorage.getItem("token"),t=await i.A.delete("".concat(Bo,"/admin/bots/").concat(M.id,"/delete"),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:E}});We(t.data.message),A(!1),L(null),P(""),await Ue(),await He()}catch(s){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430:",s);const n=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0431\u043e\u0442\u0430";Ve(n)}else Ve("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430")},disabled:!E.trim(),className:"px-6 py-3 text-white rounded-lg font-rajdhani font-bold transition-colors ".concat(E.trim()?"bg-red-600 hover:bg-red-700":"bg-gray-600 cursor-not-allowed"),children:"\ud83d\uddd1 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,l.jsx)("button",{onClick:()=>{A(!1),L(null),P("")},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),re&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-50 rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("button",{onClick:()=>ie(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[0===oe.length?(0,l.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,l.jsx)("p",{children:"\u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})]}):(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0411\u043e\u0442"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0426\u0438\u043a\u043b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u044b"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"Win Rate"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-border-primary",children:oe.map((e=>(0,l.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,l.jsx)("td",{className:"px-4 py-3 text-white font-rajdhani",children:e.bot_name}),(0,l.jsxs)("td",{className:"px-4 py-3 text-accent-primary font-bold",children:["#",e.cycle_number]}),(0,l.jsxs)("td",{className:"px-4 py-3 text-white",children:[e.games_completed,"/",e.games_won]}),(0,l.jsxs)("td",{className:"px-4 py-3 text-red-400 font-bold",children:["$",e.total_spent.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-4 py-3 text-green-400 font-bold",children:["$",e.total_earned.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-4 py-3 font-bold ".concat(e.profit>0?"text-green-400":e.profit<0?"text-red-400":"text-gray-400"),children:[e.profit>0?"+":"","$",e.profit.toFixed(2)]}),(0,l.jsxs)("td",{className:"px-4 py-3 text-white",children:[e.win_rate.toFixed(1),"%"]}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(e.is_cycle_completed?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.is_cycle_completed?"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})}),(0,l.jsx)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:new Date(e.created_at).toLocaleString("ru-RU")})]},e.id)))})]})}),ue.total_pages>1&&(0,l.jsx)("div",{className:"flex justify-center mt-6",children:(0,l.jsx)("div",{className:"flex space-x-2",children:Array.from({length:ue.total_pages},((e,t)=>t+1)).map((e=>(0,l.jsx)("button",{onClick:()=>{},className:"px-3 py-1 rounded ".concat(e===ue.current_page?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:e},e)))})})]}),(0,l.jsx)("div",{className:"flex justify-end p-6 border-t border-border-primary",children:(0,l.jsx)("button",{onClick:()=>ie(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}),xe&&fe&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-white mb-4",children:"\u23f9\ufe0f \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0446\u0438\u043a\u043b\u0430"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",fe.name]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b:"})," ",fe.current_cycle_games||0,"/",fe.cycle_games||12," \u0438\u0433\u0440"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",fe.active_bets||0]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"\u0421\u0443\u043c\u043c\u0430 \u0446\u0438\u043a\u043b\u0430:"})," $",fe.cycle_total_amount||0]})]})]}),(0,l.jsx)("div",{className:"bg-yellow-900 bg-opacity-20 border border-yellow-500 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-yellow-400 text-xl",children:"\u26a0\ufe0f"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-yellow-400",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),(0,l.jsx)("p",{className:"text-yellow-300 text-sm",children:"\u0412\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0438 \u0446\u0438\u043a\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e."})]})]})}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:Xe,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-rajdhani font-bold",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b"}),(0,l.jsx)("button",{onClick:()=>{me(!1),pe(null)},className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),xe&&fe&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-orange-500 border-opacity-50 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-orange-400",children:"\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}),(0,l.jsx)("button",{onClick:()=>me(!1),className:"text-gray-400 hover:text-white",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435:"}),(0,l.jsxs)("div",{className:"text-text-secondary text-sm space-y-1",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",fe.name]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b:"})," ",fe.current_cycle_games||0,"/12 \u0438\u0433\u0440"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",fe.active_bets||0]})]})]}),(0,l.jsx)("div",{className:"bg-orange-900 border border-orange-600 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-orange-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-orange-200 font-bold text-sm",children:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435"}),(0,l.jsx)("p",{className:"text-orange-300 text-sm mt-1",children:'\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e. \u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u0438 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b "\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432". \u0421\u0447\u0451\u0442\u0447\u0438\u043a\u0438 \u0438\u0433\u0440 \u0431\u0443\u0434\u0443\u0442 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b.'})]})]})}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:Xe,className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-rajdhani font-bold transition-colors",children:"\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b"}),(0,l.jsx)("button",{onClick:()=>{me(!1),pe(null)},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),Ee&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,l.jsx)("h3",{className:"font-russo text-xl text-white mb-4",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0442\u0438\u043f \u0431\u043e\u0442\u0430"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430:"}),(0,l.jsx)("input",{type:"text",value:ze.name,onChange:e=>Oe((0,r.A)((0,r.A)({},ze),{},{name:e.target.value})),placeholder:"Custom Type",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0430 ($):"}),(0,l.jsx)("input",{type:"number",min:"1",value:ze.min_bet,onChange:e=>Oe((0,r.A)((0,r.A)({},ze),{},{min_bet:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0430 ($):"}),(0,l.jsx)("input",{type:"number",min:"1",value:ze.max_bet,onChange:e=>Oe((0,r.A)((0,r.A)({},ze),{},{max_bet:parseInt(e.target.value)||10})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,l.jsx)("button",{onClick:()=>{const e={id:"custom-".concat(Date.now()),name:"".concat(ze.name,": ").concat(ze.min_bet,"\u2013").concat(ze.max_bet," $"),min:ze.min_bet,max:ze.max_bet};Le((t=>[...t,e])),Pe(!1),Oe({name:"",min_bet:1,max_bet:10}),Ce((t=>(0,r.A)((0,r.A)({},t),{},{bot_type:e.id}))),We("\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0442\u0438\u043f \u0431\u043e\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d")},disabled:!ze.name||ze.min_bet>=ze.max_bet,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(ze.name&&ze.min_bet<ze.max_bet?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0438\u043f"}),(0,l.jsx)("button",{onClick:()=>{Pe(!1),Oe({name:"",min_bet:1,max_bet:10})},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})})]});var Ze},Vo=()=>{const{botsApi:e}=Fo(),{bulkOperations:t}=(()=>{const{botsApi:e,errorUtils:t}=Fo(),{showSuccessRU:s,showErrorRU:a}=k(),[i,o]=(0,n.useState)({}),[l,c]=(0,n.useState)({}),d=(0,n.useCallback)(((e,t)=>{o((s=>(0,r.A)((0,r.A)({},s),{},{[e]:t})))}),[]),u=(0,n.useCallback)((e=>i[e]||!1),[i]),h=(0,n.useCallback)((e=>{const t={};return(!e.name||e.name.trim().length<3)&&(t.name="\u0418\u043c\u044f \u0431\u043e\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),e.type_id||(t.type_id="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0431\u043e\u0442\u0430"),e.creation_mode||(t.creation_mode="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0436\u0438\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"),(e.pause_timer<1||e.pause_timer>60)&&(t.pause_timer="\u0422\u0430\u0439\u043c\u0435\u0440 \u043f\u0430\u0443\u0437\u044b \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 60 \u043c\u0438\u043d\u0443\u0442"),(e.recreate_timer<1||e.recreate_timer>300)&&(t.recreate_timer="\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 300 \u0441\u0435\u043a\u0443\u043d\u0434"),(e.cycle_games<1||e.cycle_games>100)&&(t.cycle_games="\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 100"),(e.win_rate<10||e.win_rate>90)&&(t.win_rate="Win rate \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 10% \u0434\u043e 90%"),c(t),0===Object.keys(t).length}),[]),x=(0,n.useCallback)((async n=>{try{if(d("creating",!0),!h(n))throw new Error("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0444\u043e\u0440\u043c\u0435");const t=await e.create(n);if(t.success)return s(t.message||"\u0411\u043e\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"),c({}),t;throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u0430")}catch(r){const e=t.getErrorMessage(r);throw a(e),r}finally{d("creating",!1)}}),[e,s,a,t,h]),m=(0,n.useCallback)((async(n,r)=>{try{if(d("updating_".concat(n),!0),!h(r))throw new Error("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0444\u043e\u0440\u043c\u0435");const t=await e.update(n,r);if(t.success)return s(t.message||"\u0411\u043e\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),c({}),t;throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430")}catch(i){const e=t.getErrorMessage(i);throw a(e),i}finally{d("updating_".concat(n),!1)}}),[e,s,a,t,h]),f=(0,n.useCallback)((async(n,r)=>{try{if(d("deleting_".concat(n),!0),!r||r.trim().length<5)throw new Error("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f (\u043c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)");const t=await e.delete(n,r);if(t.success)return s(t.message||"\u0411\u043e\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"),t;throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430")}catch(i){const e=t.getErrorMessage(i);throw a(e),i}finally{d("deleting_".concat(n),!1)}}),[e,s,a,t]),p=(0,n.useCallback)((async(n,r)=>{try{d("toggling_".concat(n),!0);const t=await e.toggleStatus(n);if(t.success){const e=!r;return s(t.message||"\u0411\u043e\u0442 ".concat(e?"\u0432\u043a\u043b\u044e\u0447\u0435\u043d":"\u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d")),t}throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430")}catch(i){const e=t.getErrorMessage(i);throw a(e),i}finally{d("toggling_".concat(n),!1)}}),[e,s,a,t]),g=(0,n.useCallback)((async(n,r)=>{try{d("updating_limit_".concat(n),!0);const t=parseInt(r);if(isNaN(t)||t<1||t>100)throw new Error("\u041b\u0438\u043c\u0438\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 1 \u0434\u043e 100");const a=await e.updateLimit(n,t);if(a.success)return s(a.message||"\u041b\u0438\u043c\u0438\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),a;throw new Error(a.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043b\u0438\u043c\u0438\u0442\u0430")}catch(i){const e=t.getErrorMessage(i);throw a(e),i}finally{d("updating_limit_".concat(n),!1)}}),[e,s,a,t]),b=(0,n.useCallback)((async s=>{try{d("fetching_active_bets_".concat(s),!0);const t=await e.getActiveBets(s);if(t.success)return t;throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a")}catch(n){const e=t.getErrorMessage(n);throw a(e),n}finally{d("fetching_active_bets_".concat(s),!1)}}),[e,a,t]),y=(0,n.useCallback)((async s=>{try{d("fetching_cycle_history_".concat(s),!0);const t=await e.getCycleHistory(s);if(t.success)return t;throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0446\u0438\u043a\u043b\u043e\u0432")}catch(n){const e=t.getErrorMessage(n);throw a(e),n}finally{d("fetching_cycle_history_".concat(s),!1)}}),[e,a,t]),v={toggleAllBots:(0,n.useCallback)((async n=>{try{d("toggling_all",!0);const t=await e.toggleAll(n);if(t.success)return s(t.message||"\u0412\u0441\u0435 \u0431\u043e\u0442\u044b ".concat(n?"\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b":"\u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b")),t;throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438")}catch(r){const e=t.getErrorMessage(r);throw a(e),r}finally{d("toggling_all",!1)}}),[e,s,a,t]),startRegularBots:(0,n.useCallback)((async()=>{try{d("starting_regular",!0);const t=await e.startRegular();return t.limit_reached?a("\u041b\u0438\u043c\u0438\u0442 \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442: ".concat(t.current_active_bets,"/").concat(t.max_active_bets)):s(t.message||"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u044b"),t}catch(n){const e=t.getErrorMessage(n);throw a(e),n}finally{d("starting_regular",!1)}}),[e,s,a,t])},j={isOperationInProgress:(0,n.useCallback)((e=>u(e)),[u]),getActiveOperations:(0,n.useCallback)((()=>Object.keys(i).filter((e=>i[e]))),[i]),clearAllOperationStates:(0,n.useCallback)((()=>{o({})}),[]),clearValidationErrors:(0,n.useCallback)((()=>{c({})}),[])};return{createBot:x,updateBot:m,deleteBot:f,toggleBotStatus:p,updateBotLimit:g,fetchActiveBets:b,fetchCycleHistory:y,bulkOperations:v,operationStates:i,validationErrors:l,stateUtils:j,validateBotData:h,getOperationState:u,isCreating:u("creating"),isTogglingAll:u("toggling_all"),isStartingRegular:u("starting_regular")}})(),[s,a]=(0,n.useState)({active_bots:0,bets_24h:0,wins_24h:0,win_percentage:0,total_bet_value:0,errors:0,most_active:[]}),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(!0);(0,n.useEffect)((()=>{u()}),[]);const u=async()=>{try{const t=await e.getStats();a(t||{}),d(!1)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 Human \u0431\u043e\u0442\u043e\u0432:",t),d(!1)}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-rajdhani font-bold text-white",children:"Human \u0411\u043e\u0442\u044b"}),(0,l.jsx)("button",{onClick:async()=>{try{const e=!i;await t.toggleAllBots(e),o(e),await u()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432:",e)}},className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white transition-colors ".concat(i?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:i?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4",children:[(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:s.active_bots})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0442\u0430\u0432\u043e\u043a \u0437\u0430 24\u0447"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:s.bets_24h})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-yellow-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041f\u043e\u0431\u0435\u0434 \u0437\u0430 24\u0447"}),(0,l.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:s.wins_24h})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"% \u043f\u043e\u0431\u0435\u0434"}),(0,l.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:[s.win_percentage,"%"]})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,l.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:["$",s.total_bet_value.toFixed(2)]})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 rounded-lg ".concat(s.errors>0?"bg-red-600":"bg-gray-600"),children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0448\u0438\u0431\u043a\u0438/\u0421\u0431\u043e\u0438"}),(0,l.jsx)("p",{className:"text-lg font-rajdhani font-bold ".concat(s.errors>0?"text-red-400":"text-white"),children:s.errors})]})]})}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-2 bg-indigo-600 rounded-lg",children:(0,l.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0422\u043e\u043f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"}),(0,l.jsx)("div",{className:"text-white text-sm",children:s.most_active.length>0?s.most_active.slice(0,3).map(((e,t)=>(0,l.jsxs)("div",{className:"text-xs",children:[e.name||"Bot-".concat(e.id.substring(0,6)),": ",e.games]},e.id))):(0,l.jsx)("div",{className:"text-xs text-text-secondary",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})})]})]})})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,l.jsxs)("div",{className:"p-4 border-b border-border-primary",children:[(0,l.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:"\u0421\u043f\u0438\u0441\u043e\u043a Human \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("p",{className:"text-text-secondary text-sm",children:"\u041f\u043e\u043a\u0430 \u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0443\u0441\u0442\u044b\u043c, \u0434\u043e\u0431\u0430\u0432\u043b\u044e \u043f\u043e\u0437\u0436\u0435"})]}),(0,l.jsx)("div",{className:"p-8 text-center",children:(0,l.jsxs)("div",{className:"text-text-secondary",children:[(0,l.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,l.jsx)("p",{className:"font-rajdhani",children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0437\u0436\u0435"}),(0,l.jsx)("p",{className:"text-sm",children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"})]})})]})]})},Uo=e=>{let{user:t}=e;const{analyticsApi:s}=Fo(),[a,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)({totalActiveRegularBets:0,totalQueuedBets:0,totalRegularBots:0,totalHumanBots:0});(0,n.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=await s.getQueueStats();e.success&&o(e.stats)}catch(e){console.error("Error fetching queue stats:",e)}finally{r(!1)}};return a?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-8 text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-primary mx-auto mb-4"}),(0,l.jsx)("p",{className:"font-rajdhani text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u043e\u0432..."})]})}):(0,l.jsx)("div",{className:"space-y-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-500 border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:i.totalActiveRegularBets||0}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("div",{className:"text-xs text-blue-300 mt-1",children:"\u0438\u0437 50 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c"})]}),(0,l.jsxs)("div",{className:"bg-green-900 bg-opacity-20 border border-green-500 border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:i.totalQueuedBets||0}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0421\u0442\u0430\u0432\u043a\u0438 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,l.jsx)("div",{className:"text-xs text-green-300 mt-1",children:"\u043e\u0436\u0438\u0434\u0430\u044e\u0442 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"})]}),(0,l.jsxs)("div",{className:"bg-purple-900 bg-opacity-20 border border-purple-500 border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:i.totalRegularBots||0}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b"}),(0,l.jsx)("div",{className:"text-xs text-purple-300 mt-1",children:"\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"})]}),(0,l.jsxs)("div",{className:"bg-orange-900 bg-opacity-20 border border-orange-500 border-opacity-30 rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:i.totalHumanBots||0}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"Human \u0431\u043e\u0442\u044b"}),(0,l.jsx)("div",{className:"text-xs text-orange-300 mt-1",children:"\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"})]})]})]})]})})},Ho=()=>{var e;const{showSuccessRU:t,showErrorRU:s}=k(),{reportsApi:a}=Fo(),[r,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),h=async e=>{if(d)try{(await a.export(d.id,e)).success&&t("\u041e\u0442\u0447\u0435\u0442 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u0432 ".concat(e.toUpperCase()))}catch(n){console.error("Error exporting report:",n),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0435 \u043e\u0442\u0447\u0435\u0442\u0430")}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 sm:p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-lg sm:text-xl font-bold text-white mb-4",children:"\ud83d\udcca \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u0447\u0435\u0442\u043e\u0432"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"queue_performance",name:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u0438",description:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",icon:"\u23f1\ufe0f"},{id:"priority_effectiveness",name:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432",description:"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432",icon:"\ud83c\udfc6"},{id:"bot_utilization",name:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432",description:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0431\u043e\u0442\u043e\u0432",icon:"\ud83e\udd16"},{id:"system_health",name:"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",description:"\u041e\u0431\u0449\u0438\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",icon:"\ud83d\udc9a"}].map((e=>(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-border-primary",children:[(0,l.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("span",{className:"text-2xl flex-shrink-0",children:e.icon}),(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white text-sm sm:text-base",children:e.name}),(0,l.jsx)("p",{className:"text-xs sm:text-sm text-text-secondary break-words",children:e.description})]})]})}),(0,l.jsx)("button",{onClick:()=>(async e=>{c(!0);try{const s=await a.generate(e,{timeRange:"7d"});s.success&&(t("\u041e\u0442\u0447\u0435\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d"),u(s.report))}catch(n){console.error("Error generating report:",n),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043e\u0442\u0447\u0435\u0442\u0430")}finally{c(!1)}})(e.id),disabled:o,className:"w-full px-3 py-2 rounded-lg font-rajdhani font-bold text-sm transition-colors ".concat(o?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-accent-primary text-white hover:bg-blue-600"),children:o?"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f...":"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442"})]},e.id)))})]}),d&&(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 sm:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-3 sm:space-y-0",children:[(0,l.jsxs)("h3",{className:"font-rajdhani text-lg sm:text-xl font-bold text-white",children:["\ud83d\udccb ",d.name]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsx)("button",{onClick:()=>h("pdf"),className:"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-rajdhani font-bold text-sm",children:"PDF"}),(0,l.jsx)("button",{onClick:()=>h("csv"),className:"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-rajdhani font-bold text-sm",children:"CSV"}),(0,l.jsx)("button",{onClick:()=>h("xlsx"),className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-rajdhani font-bold text-sm",children:"Excel"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0430\u043d\u0430\u043b\u0438\u0437\u0430"}),(0,l.jsx)("div",{className:"text-lg font-rajdhani font-bold text-white",children:"7d"===d.timeRange?"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439":"24h"===d.timeRange?"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 24 \u0447\u0430\u0441\u0430":"30d"===d.timeRange?"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 30 \u0434\u043d\u0435\u0439":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0414\u0430\u0442\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438"}),(0,l.jsx)("div",{className:"text-lg font-rajdhani font-bold text-white",children:(new Date).toLocaleDateString("ru-RU")})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-2",children:"\ud83d\udcca \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438"}),d.metrics&&(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[d.metrics.avg_wait_time&&(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-yellow-400",children:[d.metrics.avg_wait_time," \u043c\u0438\u043d"]})]}),d.metrics.queue_efficiency&&(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-green-400",children:[d.metrics.queue_efficiency,"%"]})]}),d.metrics.total_games&&(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,l.jsx)("div",{className:"text-xl font-bold text-blue-400",children:d.metrics.total_games})]})]}),d.utilization&&(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("div",{className:"text-xl font-bold text-green-400",children:d.utilization.active_bots})]}),(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-blue-400",children:[d.utilization.utilization_rate,"%"]})]}),(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-purple-400",children:[d.utilization.current_usage,"/",d.utilization.total_capacity]})]})]}),d.health_metrics&&(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-green-400",children:[d.health_metrics.success_rate,"%"]})]}),(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0412\u0440\u0435\u043c\u044f \u0431\u0435\u0437\u043e\u0442\u043a\u0430\u0437\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-blue-400",children:[d.health_metrics.system_uptime,"%"]})]}),(0,l.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043a\u043b\u0438\u043a\u0430"}),(0,l.jsxs)("div",{className:"text-xl font-bold text-purple-400",children:[d.health_metrics.avg_response_time,"\u0441"]})]})]}),d.priority_stats&&(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm text-left text-text-secondary",children:[(0,l.jsx)("thead",{className:"text-xs text-text-secondary uppercase bg-surface-card",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-3 py-2",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"}),(0,l.jsx)("th",{className:"px-3 py-2",children:"\u0411\u043e\u0442\u043e\u0432"}),(0,l.jsx)("th",{className:"px-3 py-2",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,l.jsx)("th",{className:"px-3 py-2",children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c"})]})}),(0,l.jsx)("tbody",{children:d.priority_stats.map(((e,t)=>(0,l.jsxs)("tr",{className:"border-b border-border-primary",children:[(0,l.jsx)("td",{className:"px-3 py-2 font-bold text-white",children:e.priority}),(0,l.jsx)("td",{className:"px-3 py-2 text-blue-400",children:e.bots_count}),(0,l.jsx)("td",{className:"px-3 py-2 text-yellow-400",children:e.total_games}),(0,l.jsxs)("td",{className:"px-3 py-2 text-green-400",children:[e.success_rate,"%"]})]},t)))})]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-2",children:"\ud83c\udfc6 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"}),(0,l.jsx)("ul",{className:"space-y-2",children:null===(e=d.insights)||void 0===e?void 0:e.map(((e,t)=>(0,l.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-400 mt-1 flex-shrink-0",children:"\u2139"}),(0,l.jsx)("span",{className:"text-text-secondary text-sm",children:e})]},t)))})]})]})]})]})]})},qo=()=>{const[e,t]=(0,n.useState)("analytics"),[s,a]=(0,n.useState)({queueWaitTimes:[],botLoadingStats:[],priorityEffectiveness:{},activationStats:{}}),[r,i]=(0,n.useState)("24h"),[o,c]=(0,n.useState)("all"),[d,u]=(0,n.useState)(!0),[h,x]=(0,n.useState)(null),[m,f]=(0,n.useState)([]),{showErrorRU:p}=k(),{botsApi:g,analyticsApi:b,loading:y}=Fo(),v=async()=>{try{const e=await b.getData({timeRange:r,botId:"all"===o?null:o});e.success&&a(e.data),u(!1)}catch(e){console.error("Error fetching analytics data:",e),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438"),u(!1)}};(0,n.useEffect)((()=>{v(),(async()=>{try{const e=await g.getList({page:1,limit:100});f(e.bots||[])}catch(e){console.error("Error fetching bots list:",e)}})();const e=setInterval(v,3e4);return x(e),()=>{h&&clearInterval(h)}}),[r,o]);const j=()=>{const e=new Date,t=[];switch(r){case"24h":for(let s=23;s>=0;s--){const n=new Date(e);n.setHours(n.getHours()-s),t.push(n.getHours().toString().padStart(2,"0")+":00")}break;case"7d":for(let s=6;s>=0;s--){const n=new Date(e);n.setDate(n.getDate()-s),t.push(n.toLocaleDateString("ru-RU",{weekday:"short",day:"numeric"}))}break;case"30d":for(let s=29;s>=0;s--){const n=new Date(e);n.setDate(n.getDate()-s),t.push(n.getDate().toString())}break;default:return[]}return t};return d?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-8 text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-primary mx-auto mb-4"}),(0,l.jsx)("p",{className:"font-rajdhani text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438..."})]})}):(0,l.jsx)("div",{className:"space-y-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"\ud83d\udcca \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432"}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>t("analytics"),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-all duration-200 ".concat("analytics"===e?"bg-accent-primary text-white shadow-lg":"bg-surface-sidebar text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83d\udcc8 \u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"}),(0,l.jsx)("button",{onClick:()=>t("reports"),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-all duration-200 ".concat("reports"===e?"bg-accent-primary text-white shadow-lg":"bg-surface-sidebar text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83d\udccb \u041e\u0442\u0447\u0435\u0442\u044b"})]}),"analytics"===e&&(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"}),(0,l.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:[(0,l.jsx)("option",{value:"24h",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 24 \u0447\u0430\u0441\u0430"}),(0,l.jsx)("option",{value:"7d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439"}),(0,l.jsx)("option",{value:"30d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 30 \u0434\u043d\u0435\u0439"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0431\u043e\u0442\u0443"}),(0,l.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:[(0,l.jsx)("option",{value:"all",children:"\u0412\u0441\u0435 \u0431\u043e\u0442\u044b"}),m.map((e=>(0,l.jsx)("option",{value:e.id,children:e.name||"Bot #".concat(e.id.substring(0,8))},e.id)))]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>{u(!0),v()},className:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-blue-600 transition-colors font-rajdhani font-bold",children:"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0435 30 \u0441\u0435\u043a"})]})]})]})}),"analytics"===e?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfaf \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:s.queueWaitTimes.length>0?"".concat((s.queueWaitTimes.reduce(((e,t)=>e+(t.avgWaitTime||0)),0)/s.queueWaitTimes.length).toFixed(1),"\u043c"):"0\u043c"}),(0,l.jsx)("div",{className:"text-xs text-yellow-300 mt-1",children:"\u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:s.botLoadingStats.length>0?"".concat((s.botLoadingStats.reduce(((e,t)=>e+(t.loadPercentage||0)),0)/s.botLoadingStats.length).toFixed(1),"%"):"0%"}),(0,l.jsx)("div",{className:"text-xs text-green-300 mt-1",children:"\u0441\u0440\u0435\u0434\u043d\u044f\u044f"})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:s.activationStats.successful&&s.activationStats.failed?"".concat((s.activationStats.successful.reduce(((e,t)=>e+t),0)/(s.activationStats.successful.reduce(((e,t)=>e+t),0)+s.activationStats.failed.reduce(((e,t)=>e+t),0))*100).toFixed(1),"%"):"0%"}),(0,l.jsx)("div",{className:"text-xs text-blue-300 mt-1",children:"\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0439"})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:Object.keys(s.priorityEffectiveness).length>0?"".concat((Object.values(s.priorityEffectiveness).reduce(((e,t)=>e+(t.activationRate||0)),0)/Object.keys(s.priorityEffectiveness).length).toFixed(1),"%"):"0%"}),(0,l.jsx)("div",{className:"text-xs text-purple-300 mt-1",children:"\u0441\u0440\u0435\u0434\u043d\u044f\u044f"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u23f1\ufe0f \u0412\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,l.jsx)(Co,{type:"line",data:{labels:j(),datasets:[{label:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f (\u043c\u0438\u043d)",data:(s.queueWaitTimes||[]).map((e=>e.avgWaitTime||0)),borderColor:"rgba(251, 191, 36, 1)",backgroundColor:"rgba(251, 191, 36, 0.2)",borderWidth:2,fill:!0,tension:.4}]},title:"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udcc8 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),(0,l.jsx)(Co,{type:"line",data:{labels:j(),datasets:[{label:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b (%)",data:(s.botLoadingStats||[]).map((e=>e.loadPercentage||0)),borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.2)",borderWidth:2,fill:!0,tension:.4}]},title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u043e\u0442\u043e\u0432"})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfaf \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"}),(0,l.jsx)(Co,{type:"bar",data:(()=>{const e=j(),t=s.activationStats||{};return{labels:e,datasets:[{label:"\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438",data:t.successful||[],backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2},{label:"\u041d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438",data:t.failed||[],backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2}]}})(),title:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a \u0438\u0437 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfc6 \u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,l.jsx)(Co,{type:"doughnut",data:(()=>{const e=s.priorityEffectiveness||{};return{labels:Object.keys(e).map((e=>"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 ".concat(e))),datasets:[{data:Object.values(e).map((e=>e.activationRate||0)),backgroundColor:["#ffd700","#c0c0c0","#cd7f32","#4a90e2","#f97316","#22c55e","#a855f7","#ef4444"],borderColor:["#ffd700","#c0c0c0","#cd7f32","#4a90e2","#f97316","#22c55e","#a855f7","#ef4444"],borderWidth:2,hoverOffset:4}]}})(),title:"\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0439 \u043f\u043e \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u0430\u043c"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udccb \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0431\u043e\u0442\u0430\u043c"}),(0,l.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm text-left text-text-secondary",children:[(0,l.jsx)("thead",{className:"text-xs text-text-secondary uppercase bg-surface-sidebar",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0411\u043e\u0442"}),(0,l.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"}),(0,l.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0421\u0440. \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f"}),(0,l.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0439"}),(0,l.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c"}),(0,l.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})}),(0,l.jsx)("tbody",{children:m.map((e=>(0,l.jsxs)("tr",{className:"bg-surface-card border-b border-border-primary hover:bg-surface-sidebar",children:[(0,l.jsx)("td",{className:"px-4 py-4 font-medium text-white whitespace-nowrap",children:e.name||"Bot #".concat(e.id.substring(0,8))}),(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsx)("span",{className:"bg-accent-primary text-white px-2 py-1 rounded-full text-xs",children:e.priority_order||"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"})}),(0,l.jsxs)("td",{className:"px-4 py-4 text-yellow-400",children:[Math.floor(5*Math.random())+1,"\u043c ",Math.floor(60*Math.random()),"\u0441"]}),(0,l.jsx)("td",{className:"px-4 py-4 text-blue-400",children:Math.floor(100*Math.random())+20}),(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsxs)("span",{className:"text-green-400 font-bold",children:[(20*Math.random()+80).toFixed(1),"%"]})}),(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:(0,l.jsx)("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:"".concat(Math.floor(100*Math.random()),"%")}})})})]},e.id)))})]})}),(0,l.jsx)("div",{className:"lg:hidden space-y-4",children:m.map((e=>{const t="".concat(Math.floor(5*Math.random())+1,"\u043c ").concat(Math.floor(60*Math.random()),"\u0441"),s=Math.floor(100*Math.random())+20,n=(20*Math.random()+80).toFixed(1),a=Math.floor(100*Math.random());return(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-border-primary",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsx)("h4",{className:"font-rajdhani font-bold text-white text-sm",children:e.name||"Bot #".concat(e.id.substring(0,8))}),(0,l.jsxs)("span",{className:"bg-accent-primary text-white px-2 py-1 rounded-full text-xs",children:["\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442: ",e.priority_order||"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0421\u0440. \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f"}),(0,l.jsx)("div",{className:"text-yellow-400 font-bold",children:t})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0439"}),(0,l.jsx)("div",{className:"text-blue-400 font-bold",children:s})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c"}),(0,l.jsxs)("div",{className:"text-green-400 font-bold",children:[n,"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:(0,l.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(a,"%")}})})]})]})]},e.id)}))})]})]}):(0,l.jsx)(Ho,{})]})})},$o="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),Go=()=>{const[e,t]=(0,n.useState)({live_players:{my_bets:10,available_bets:10,ongoing_battles:10},bot_players:{available_bots:10,ongoing_bot_battles:10}}),[s,a]=(0,n.useState)(!0),[o,c]=(0,n.useState)(!1),{showSuccessRU:d,showErrorRU:u}=k();(0,n.useEffect)((()=>{h()}),[]);const h=async()=>{try{const e=localStorage.getItem("token"),s=await i.A.get("".concat($o,"/admin/interface-settings"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Error fetching interface settings:",e)}finally{a(!1)}},x=(e,s,n)=>{const a=parseInt(n);a<5||a>100||t((t=>(0,r.A)((0,r.A)({},t),{},{[e]:(0,r.A)((0,r.A)({},t[e]),{},{[s]:a})})))};return s?(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a..."})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-russo text-accent-primary mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"}),(0,l.jsx)("p",{className:"text-text-secondary font-roboto",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsxs)("h3",{className:"text-xl font-rajdhani font-bold text-white mb-4 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),"Live Players"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"My Bets"}),(0,l.jsx)("input",{type:"number",min:"5",max:"100",value:e.live_players.my_bets,onChange:e=>x("live_players","my_bets",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 100 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Available Bets"}),(0,l.jsx)("input",{type:"number",min:"5",max:"100",value:e.live_players.available_bets,onChange:e=>x("live_players","available_bets",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 100 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Ongoing Battles"}),(0,l.jsx)("input",{type:"number",min:"5",max:"100",value:e.live_players.ongoing_battles,onChange:e=>x("live_players","ongoing_battles",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 100 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsxs)("h3",{className:"text-xl font-rajdhani font-bold text-white mb-4 flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})}),"Bot Players"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Available Bots"}),(0,l.jsx)("input",{type:"number",min:"5",max:"100",value:e.bot_players.available_bots,onChange:e=>x("bot_players","available_bots",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 100 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Ongoing Bot Battles"}),(0,l.jsx)("input",{type:"number",min:"5",max:"100",value:e.bot_players.ongoing_bot_battles,onChange:e=>x("bot_players","ongoing_bot_battles",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,l.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 100 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]})]})]}),(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"text-text-secondary font-roboto",children:[(0,l.jsx)("p",{className:"text-sm",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u044b \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"}),(0,l.jsx)("p",{className:"text-xs mt-1",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u0441\u0438\u043b\u0443 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("button",{onClick:()=>{t({live_players:{my_bets:10,available_bets:10,ongoing_battles:10},bot_players:{available_bots:10,ongoing_bot_battles:10}})},className:"px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-text-secondary hover:text-white hover:border-accent-primary transition-colors font-rajdhani font-medium",children:"\u0421\u0431\u0440\u043e\u0441"}),(0,l.jsx)("button",{onClick:async()=>{c(!0);try{const t=localStorage.getItem("token");await i.A.put("".concat($o,"/admin/interface-settings"),e,{headers:{Authorization:"Bearer ".concat(t)}}),d("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}catch(t){console.error("Error saving interface settings:",t),u("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430")}finally{c(!1)}},disabled:o,className:"px-6 py-2 bg-accent-primary hover:bg-accent-secondary text-white rounded-lg font-rajdhani font-medium transition-colors disabled:opacity-50",children:o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})]})},Yo=e=>{let{id:t,type:s,message:a,duration:r=5e3,onClose:i,isRussian:o=!1}=e;(0,n.useEffect)((()=>{if(r>0){const e=setTimeout((()=>{i(t)}),r);return()=>clearTimeout(e)}}),[t,r,i]);return(0,l.jsx)("div",{className:"\n      relative bg-surface-card border-2 ".concat((()=>{switch(s){case"success":return"border-success";case"error":return"border-error";case"warning":return"border-warning";default:return"border-accent-primary"}})()," rounded-lg p-4 mb-3 \n      shadow-lg transition-all duration-300 ease-in-out\n      animate-slide-in-right max-w-md\n    "),children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(()=>{switch(s){case"success":return(0,l.jsx)("div",{className:"w-6 h-6 bg-success rounded-full flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,l.jsx)("div",{className:"w-6 h-6 bg-error rounded-full flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});case"warning":return(0,l.jsx)("div",{className:"w-6 h-6 bg-warning rounded-full flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-bg-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})});default:return(0,l.jsx)("div",{className:"w-6 h-6 bg-info rounded-full flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,l.jsx)("div",{className:"flex-1 min-w-0",children:(0,l.jsx)("p",{className:"text-text-primary text-sm font-medium leading-5 break-words",children:"string"===typeof a?a:JSON.stringify(a)})}),(0,l.jsx)("button",{onClick:()=>i(t),className:"ml-2 flex-shrink-0 text-text-muted hover:text-text-primary transition-colors duration-200",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},Qo=()=>{const{notifications:e,removeNotification:t}=k();return 0===e.length?null:(0,l.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map((e=>(0,l.jsx)(Yo,{id:e.id,type:e.type,message:e.message,duration:e.duration,isRussian:e.isRussian,onClose:t},e.id)))})},Ko="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),Xo=e=>{let{user:t,onClose:s}=e;const[a,r]=(0,n.useState)("dashboard"),[o,c]=(0,n.useState)({}),[d,u]=(0,n.useState)(!0),[h,x]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),{showSuccessRU:p,showErrorRU:g}=k();if(!t||"ADMIN"!==t.role&&"SUPER_ADMIN"!==t.role)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-red-500 rounded-lg p-8 text-center",children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-red-400 mb-4",children:"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d"}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438"})]})});(0,n.useEffect)((()=>{b()}),[]);const b=async()=>{try{const e=localStorage.getItem("token"),[t,s,n]=await Promise.allSettled([i.A.get("".concat(Ko,"/admin/users/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("".concat(Ko,"/bots"),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("".concat(Ko,"/admin/games/stats"),{headers:{Authorization:"Bearer ".concat(e)}})]);c({users:"fulfilled"===t.status?t.value.data:{total:"\u2014",active:"\u2014",banned:"\u2014"},bots:"fulfilled"===s.status?s.value.data.length:"\u2014",games:"fulfilled"===n.status?n.value.data:{total:"\u2014",active:"\u2014",completed:"\u2014"}}),u(!1)}catch(e){console.error("Error loading statistics:",e),u(!1)}},y=[{id:"dashboard",title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})},{id:"users",title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})})},{id:"bets",title:"\u0421\u0442\u0430\u0432\u043a\u0438",icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12h3m-6 0h.01"})]})},{id:"regular-bots",title:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0411\u043e\u0442\u044b",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})})},{id:"human-bots",title:"Human \u0411\u043e\u0442\u044b",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"bot-settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432",icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"bot-analytics",title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"bots",title:"\u0411\u043e\u0442\u044b",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})})},{id:"games",title:"\u0418\u0433\u0440\u044b",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{id:"gems",title:"\u0413\u0435\u043c\u044b",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.091 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})})},{id:"settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",icon:(0,l.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"profit",title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})},{id:"analytics",title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"logs",title:"\u041b\u043e\u0433\u0438",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}],v=e=>{let{title:t,value:s,icon:n,color:a="text-accent-primary"}=e;return(0,l.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:t}),(0,l.jsx)("p",{className:"font-rajdhani text-3xl font-bold ".concat(a),children:s})]}),(0,l.jsx)("div",{className:"".concat(a," opacity-60"),children:n})]})})},j=()=>{var e,s,n;return(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"\u041e\u0431\u0437\u043e\u0440 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsx)(v,{title:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",value:(null===(e=o.users)||void 0===e?void 0:e.total)||"\u2014",icon:(0,l.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,l.jsx)(v,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",value:o.bots||"\u2014",icon:(0,l.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"text-blue-400"}),(0,l.jsx)(v,{title:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440",value:(null===(s=o.games)||void 0===s?void 0:s.total)||"\u2014",icon:(0,l.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),color:"text-purple-400"}),(0,l.jsx)(v,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440",value:(null===(n=o.games)||void 0===n?void 0:n.active)||"\u2014",icon:(0,l.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"text-orange-400"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"Quick Actions"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("button",{onClick:()=>r("users"),className:"w-full px-4 py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83d\udc65 User Management"}),(0,l.jsx)("button",{onClick:()=>r("bots"),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83e\udd16 Bot Management"}),(0,l.jsx)("button",{onClick:()=>r("games"),className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83c\udfae Game Monitoring"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"System Information"}),(0,l.jsxs)("div",{className:"space-y-3 text-text-secondary",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Version:"}),(0,l.jsx)("span",{className:"text-white",children:"GemPlay v1.0"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Status:"}),(0,l.jsx)("span",{className:"text-green-400",children:"\ud83d\udfe2 Online"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Role:"}),(0,l.jsx)("span",{className:"text-accent-primary font-bold",children:t.role})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Last Login:"}),(0,l.jsx)("span",{className:"text-white",children:t.last_login?new Date(t.last_login).toLocaleDateString("en-US"):"Not specified"})]})]})]})]})]})},w=async()=>{if(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.")){f(!0);try{const e=localStorage.getItem("token");await i.A.post("".concat(Ko,"/admin/games/reset-all"),{},{headers:{Authorization:"Bearer ".concat(e)}}),p("\u0412\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b"),await b()}catch(s){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a:",s),g("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a: "+((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||s.message))}finally{f(!1)}}},N=()=>{var e,t,s;return(0,l.jsx)("div",{className:"space-y-8",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"Game Management"}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,l.jsxs)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,l.jsx)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-red-400",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,l.jsx)("p",{className:"text-text-secondary text-sm mb-4",children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442 \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b, \u0432\u0435\u0440\u043d\u0451\u0442 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0433\u0435\u043c\u044b \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e \u0432\u0441\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0438 \u0431\u043e\u0442\u0430\u043c. \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."}),(0,l.jsx)("button",{onClick:w,disabled:m,className:"px-6 py-3 font-rajdhani font-bold rounded-lg transition-all duration-300 ".concat(m?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"),children:m?(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,l.jsx)("span",{children:"\u0421\u0431\u0440\u043e\u0441..."})]}):"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]})]}),(0,l.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438\u0433\u0440"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(e=o.games)||void 0===e?void 0:e.total)||"\u2014"})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"Active Games"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:(null===(t=o.games)||void 0===t?void 0:t.active)||"\u2014"})]}),(0,l.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,l.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-green-400",children:(null===(s=o.games)||void 0===s?void 0:s.completed)||"\u2014"})]})]})]})]})})};return d?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c..."})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary flex",children:[(0,l.jsx)("div",{className:"".concat(h?"w-16":"w-64"," bg-surface-sidebar border-r border-border-primary min-h-screen transition-all duration-300 flex-shrink-0"),children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[!h&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-lg flex items-center justify-center",children:(0,l.jsxs)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"font-russo text-xl text-accent-primary",children:"\u0410\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c"}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"GemPlay"})]})]}),(0,l.jsx)("button",{onClick:()=>x(!h),className:"admin-tooltip flex items-center justify-center p-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",title:h?"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0435\u043d\u044e":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0435\u043d\u044e",children:(0,l.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 ".concat(h?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),h?(0,l.jsx)("button",{onClick:s,className:"w-full flex items-center justify-center px-2 py-2 mb-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",title:"\u041d\u0430\u0437\u0430\u0434",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}):(0,l.jsxs)("button",{onClick:s,className:"w-full flex items-center space-x-2 px-4 py-2 mb-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,l.jsx)("span",{className:"text-sm font-rajdhani",children:"\u041d\u0430\u0437\u0430\u0434"})]}),(0,l.jsx)("nav",{className:"space-y-2",children:y.map((e=>(0,l.jsxs)("button",{onClick:()=>r(e.id),className:"admin-tooltip w-full flex items-center ".concat(h?"justify-center":"space-x-3"," px-4 py-3 rounded-lg transition-all duration-200 ").concat(a===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary border-l-4 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-card"),title:h?e.title:"",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:e.icon}),!h&&(0,l.jsx)("span",{className:"font-rajdhani font-medium",children:e.title})]},e.id)))})]})}),(0,l.jsx)("div",{className:"flex-1 p-8 overflow-auto",children:(()=>{switch(a){case"dashboard":default:return(0,l.jsx)(j,{});case"users":return(0,l.jsx)(he,{user:t});case"bets":return(0,l.jsx)(To,{});case"regular-bots":return(0,l.jsx)(Wo,{});case"human-bots":return(0,l.jsx)(Vo,{});case"bot-settings":return(0,l.jsx)(Uo,{user:t});case"bot-analytics":return(0,l.jsx)(qo,{});case"bots":return(0,l.jsx)("div",{className:"text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430\u043c\u0438 (\u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435)"});case"games":return(0,l.jsx)(N,{});case"gems":return(0,l.jsx)("div",{className:"text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438 (\u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435)"});case"profit":return(0,l.jsx)(zo,{user:t});case"settings":return(0,l.jsx)(Go,{})}})()}),(0,l.jsx)(Qo,{})]})},Jo=n.lazy((()=>Promise.resolve().then(s.bind(s,509)))),Zo="".concat("https://a6b85680-bfc3-4195-a454-dcbbcf45b5c6.preview.emergentagent.com","/api"),el=e=>{let{onLogin:t}=e;const[s,a]=(0,n.useState)(!0),[o,c]=(0,n.useState)({email:"",password:"",username:"",gender:"male"}),[d,u]=(0,n.useState)(!1);return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center p-8",children:(0,l.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-xl p-8 max-w-md w-full",children:[(0,l.jsx)("h1",{className:"font-russo text-3xl text-accent-primary text-center mb-2",children:"GemPlay"}),(0,l.jsx)("p",{className:"font-roboto text-text-secondary text-center mb-6",children:"PvP NFT Gem Battle Game"}),(0,l.jsxs)("div",{className:"flex mb-6",children:[(0,l.jsx)("button",{onClick:()=>a(!0),className:"flex-1 py-2 px-4 rounded-l-lg font-rajdhani font-bold transition-colors ".concat(s?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:"LOGIN"}),(0,l.jsx)("button",{onClick:()=>a(!1),className:"flex-1 py-2 px-4 rounded-r-lg font-rajdhani font-bold transition-colors ".concat(s?"bg-surface-sidebar text-text-secondary":"bg-accent-primary text-white"),children:"REGISTER"})]}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0);try{if(s){console.log("\ud83d\udd10 Attempting login for:",o.email);const e=await i.A.post("".concat(Zo,"/auth/login"),{email:o.email,password:o.password});console.log("\ud83c\udf89 Login successful. Response:",e.data),localStorage.setItem("token",e.data.access_token),e.data.refresh_token&&(localStorage.setItem("refresh_token",e.data.refresh_token),console.log("\ud83d\udd04 Refresh token saved")),console.log("\ud83d\udcbe Token saved to localStorage"),t(e.data.user)}else{const e=await i.A.post("".concat(Zo,"/auth/register"),{username:o.username,email:o.email,password:o.password,gender:o.gender});alert("Registration successful! Verification token: ".concat(e.data.verification_token)),await i.A.post("".concat(Zo,"/auth/verify-email"),{token:e.data.verification_token});const s=await i.A.post("".concat(Zo,"/auth/login"),{email:o.email,password:o.password});localStorage.setItem("token",s.data.access_token),s.data.refresh_token&&localStorage.setItem("refresh_token",s.data.refresh_token),t(s.data.user)}}catch(r){var n,a;alert((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"An error occurred")}finally{u(!1)}},className:"space-y-4",children:[!s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"text",placeholder:"Username",value:o.username,onChange:e=>c((0,r.A)((0,r.A)({},o),{},{username:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0}),(0,l.jsxs)("select",{value:o.gender,onChange:e=>c((0,r.A)((0,r.A)({},o),{},{gender:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,l.jsx)("option",{value:"male",children:"Male"}),(0,l.jsx)("option",{value:"female",children:"Female"})]})]}),(0,l.jsx)("input",{type:"email",placeholder:"Email",value:o.email,onChange:e=>c((0,r.A)((0,r.A)({},o),{},{email:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0}),(0,l.jsx)("input",{type:"password",placeholder:"Password",value:o.password,onChange:e=>c((0,r.A)((0,r.A)({},o),{},{password:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0}),(0,l.jsx)("button",{type:"submit",disabled:d,className:"w-full py-3 bg-gradient-accent text-white font-rajdhani font-bold text-lg rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:d?"LOADING...":s?"LOGIN":"REGISTER"})]})]})})};const tl=function(){const[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)("lobby"),[r,o]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!0),[h,x]=(0,n.useState)(!1);(0,n.useEffect)((()=>{m()}),[]);const m=async()=>{const e=localStorage.getItem("token"),s=localStorage.getItem("refresh_token");if(console.log("\ud83d\udd0d Checking auth status. Token exists:",!!e,"Refresh token exists:",!!s),e)try{console.log("\ud83d\udce1 Making request to /api/auth/me with token:",e.substring(0,20)+"...");const s=await i.A.get("".concat(Zo,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});console.log("\u2705 Auth check successful. User:",s.data),t(s.data)}catch(l){var n,a,r;if(console.error("\u274c Auth check failed:",null===(n=l.response)||void 0===n?void 0:n.status,(null===(a=l.response)||void 0===a?void 0:a.data)||l.message),401===(null===(r=l.response)||void 0===r?void 0:r.status)&&s){console.log("\ud83d\udd04 Attempting to refresh token...");try{const e=await i.A.post("".concat(Zo,"/auth/refresh?refresh_token=").concat(s));return console.log("\u2705 Token refreshed successfully"),localStorage.setItem("token",e.data.access_token),e.data.refresh_token&&localStorage.setItem("refresh_token",e.data.refresh_token),void t(e.data.user)}catch(c){var o;console.error("\u274c Token refresh failed:",(null===(o=c.response)||void 0===o?void 0:o.data)||c.message)}}console.log("\ud83d\uddd1\ufe0f Removing invalid tokens"),localStorage.removeItem("token"),localStorage.removeItem("refresh_token")}else console.log("\ud83d\udd12 No token found in localStorage");u(!1)},f=e=>{console.log("\ud83d\ude80 handleLogin called with userData:",e),t(e),console.log("\u2705 User state updated")};return c?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading..."})}):e?(0,l.jsx)(_,{children:(0,l.jsx)(p,{children:r?(0,l.jsx)(Xo,{user:e,onClose:()=>{o(!1)}}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-primary flex",children:[(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)(d,{currentView:s,setCurrentView:a,user:e,isCollapsed:h,setIsCollapsed:x,onOpenAdminPanel:()=>{o(!0)},onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),t(null),a("lobby"),o(!1)}})}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen",children:[(0,l.jsx)("nav",{className:"sticky top-0 z-40 bg-surface-sidebar border-b border-border-primary p-4 flex-shrink-0",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)("h1",{className:"text-xl font-russo text-text-primary capitalize",children:"my-bets"===s?"My Bets":"game-lobby"===s?"Game Lobby":"create-game"===s?"Create Game":"notification-demo"===s?"Notification Demo":s})}),(0,l.jsx)("div",{className:"md:hidden"}),(0,l.jsx)("div",{className:"block",children:(0,l.jsx)(B,{user:e})}),(0,l.jsx)("div",{className:"md:hidden ml-2",children:(0,l.jsx)("button",{onClick:()=>a("profile"),className:"w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ".concat("profile"===s?"bg-gradient-to-r from-green-600 to-green-700 ring-2 ring-accent-primary":"bg-gradient-to-r from-green-600 to-green-700 hover:ring-2 hover:ring-accent-primary/50"),children:(0,l.jsx)("span",{className:"font-russo text-white text-sm",children:e.username.charAt(0).toUpperCase()})})})]})}),(0,l.jsx)("div",{className:"flex-1 overflow-auto pb-20 md:pb-0",children:(0,l.jsxs)("div",{className:"min-w-0 px-4 md:px-0",children:["lobby"===s&&(0,l.jsx)(R,{user:e,onUpdateUser:m,setCurrentView:a}),"my-bets"===s&&(0,l.jsx)(I,{user:e,onUpdateUser:m}),"profile"===s&&(0,l.jsx)(W,{user:e,onUpdateUser:m,setCurrentView:a}),"shop"===s&&(0,l.jsx)(U,{user:e,onUpdateUser:m}),"inventory"===s&&(0,l.jsx)(G,{user:e,onUpdateUser:m}),"create-game"===s&&(0,l.jsx)(ie,{user:e,onUpdateUser:m}),"game-lobby"===s&&(0,l.jsx)(le,{user:e,onUpdateUser:m}),"leaderboard"===s&&(0,l.jsx)(Q,{user:e,onUpdateUser:m}),"history"===s&&(0,l.jsx)(X,{user:e,onUpdateUser:m}),"notification-demo"===s&&("ADMIN"===e.role||"SUPER_ADMIN"===e.role)&&!1,"monitoring"===s&&("ADMIN"===e.role||"SUPER_ADMIN"===e.role)&&(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438..."})}),children:(0,l.jsx)(Jo,{user:e})})]})})]}),(0,l.jsx)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-surface-sidebar border-t border-border-primary",children:(0,l.jsxs)("div",{className:"flex items-center justify-around py-2 px-4",children:[(0,l.jsx)("button",{onClick:()=>a("lobby"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("lobby"===s?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,l.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,l.jsx)("button",{onClick:()=>a("my-bets"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("my-bets"===s?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,l.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})})}),(0,l.jsx)("button",{onClick:()=>a("shop"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("shop"===s?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,l.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})})}),(0,l.jsx)("button",{onClick:()=>a("inventory"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("inventory"===s?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,l.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,l.jsx)("button",{onClick:()=>a("leaderboard"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("leaderboard"===s?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,l.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),(0,l.jsx)(Qo,{})]})})}):(0,l.jsx)(el,{onLogin:f})};a.createRoot(document.getElementById("root")).render((0,l.jsx)(n.StrictMode,{children:(0,l.jsx)(tl,{})}))})();
//# sourceMappingURL=main.bb80f392.js.map