/*! For license information please see main.622ef90f.js.LICENSE.txt */
(()=>{var e={318:()=>{if("undefined"!==typeof window&&window.ethereum){if(console.log("\u26a0\ufe0f MetaMask detected - blocking automatic connection"),window.ethereum.connect&&(window.ethereum.connect=function(){return console.log("\ud83d\udeab MetaMask connection blocked"),Promise.reject(new Error("MetaMask connection disabled"))}),window.ethereum.on){const e=window.ethereum.on;window.ethereum.on=function(t,n){if("connect"!==t&&"accountsChanged"!==t)return e.call(this,t,n);console.log('\ud83d\udeab MetaMask event "'.concat(t,'" blocked'))}}if(window.ethereum.request){const e=window.ethereum.request;window.ethereum.request=function(t){return t&&"eth_requestAccounts"===t.method?(console.log("\ud83d\udeab MetaMask account request blocked"),Promise.reject(new Error("MetaMask account request disabled"))):e.call(this,t)}}}console.log("\u2705 MetaMask blocker loaded")},4:(e,t,n)=>{"use strict";var a=n(853),s=n(43),r=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var S=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===S?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case x:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return C(e(t))}catch(n){}}return null}var M,L,E=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function T(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||"",L=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+M+e+L}var P=!1;function z(e,t){if(!e||P)return"";P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var a=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){a=r}e.call(n.prototype)}}else{try{throw Error()}catch(i){a=i}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&a&&"string"===typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(s=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(a===l.length||s===c.length)for(a=l.length-1,s=c.length-1;1<=a&&0<=s&&l[a]!==c[s];)s--;for(;1<=a&&0<=s;a--,s--)if(l[a]!==c[s]){if(1!==a||1!==s)do{if(a--,0>--s||l[a]!==c[s]){var d="\n"+l[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=s);break}}}finally{P=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?T(n):""}function O(e){switch(e.tag){case 26:case 27:case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function R(e){try{var t="";do{t+=O(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function I(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function D(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function B(e){if(I(e)!==e)throw Error(i(188))}function F(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=F(e)))return t;e=e.sibling}return null}var W=Array.isArray,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},U=[],q=-1;function $(e){return{current:e}}function G(e){0>q||(e.current=U[q],U[q]=null,q--)}function Y(e,t){q++,U[q]=e.current,e.current=t}var Q=$(null),K=$(null),X=$(null),J=$(null);function Z(e,t){switch(Y(X,t),Y(K,e),Y(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Kd(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xd(e=Kd(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(Q),Y(Q,t)}function ee(){G(Q),G(K),G(X)}function te(e){null!==e.memoizedState&&Y(J,e);var t=Q.current,n=Xd(t,e.type);t!==n&&(Y(K,e),Y(Q,n))}function ne(e){K.current===e&&(G(Q),G(K)),J.current===e&&(G(J),Ru._currentValue=H)}var ae=Object.prototype.hasOwnProperty,se=a.unstable_scheduleCallback,re=a.unstable_cancelCallback,ie=a.unstable_shouldYield,oe=a.unstable_requestPaint,le=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,de=a.unstable_ImmediatePriority,ue=a.unstable_UserBlockingPriority,he=a.unstable_NormalPriority,xe=a.unstable_LowPriority,me=a.unstable_IdlePriority,pe=a.log,fe=a.unstable_setDisableYieldValue,ge=null,be=null;function ye(e){if("function"===typeof pe&&fe(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/we|0)|0},je=Math.log,we=Math.LN2;var Ne=128,_e=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,s=e.suspendedLanes,r=e.pingedLanes,i=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~s)?a=ke(n):0!==(r&=o)?a=ke(r):e||0!==(i=o&~i)&&(a=ke(i)):0!==(o=n&~s)?a=ke(o):0!==r?a=ke(r):e||0!==(i=n&~i)&&(a=ke(i)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(i=t&-t)||32===s&&0!==(4194176&i))?t:a}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Me(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Le(){var e=Ne;return 0===(4194176&(Ne<<=1))&&(Ne=128),e}function Ee(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ve(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194218&n}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ve(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=V.p;return 0!==e?e:void 0===(e=window.event)?32:Xu(e.type)}var Ie=Math.random().toString(36).slice(2),De="__reactFiber$"+Ie,Be="__reactProps$"+Ie,Fe="__reactContainer$"+Ie,We="__reactEvents$"+Ie,Ve="__reactListeners$"+Ie,He="__reactHandles$"+Ie,Ue="__reactResources$"+Ie,qe="__reactMarker$"+Ie;function $e(e){delete e[De],delete e[Be],delete e[We],delete e[Ve],delete e[He]}function Ge(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fe]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=lu(e);null!==e;){if(n=e[De])return n;e=lu(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[De]||e[Fe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ke(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[qe]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},rt={};function it(e,t,n){if(s=t,ae.call(rt,s)||!ae.call(st,s)&&(at.test(s)?rt[s]=!0:(st[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=dt(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function xt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function ft(e,t,n,a,s,r,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?bt(e,i,ct(t)):null!=n?bt(e,i,ct(n)):null!=a&&e.removeAttribute("value"),null==s&&null!=r&&(e.defaultChecked=!!r),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function gt(e,t,n,a,s,r,i,o){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:s)&&"symbol"!==typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function bt(e,t,n){"number"===t&&xt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(i(92));if(W(a)){if(1<a.length)throw Error(i(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&_t(e,s,a)}else for(var r in t)t.hasOwnProperty(r)&&_t(e,r,t[r])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Et=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Pt=null;function zt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(ft(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Be]||null;if(!s)throw Error(i(90));ft(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ht(a)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Rt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Tt||null!==Pt)&&(Dc(),Tt&&(t=Tt,e=Pt,Pt=Tt=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function It(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Be]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Dt=!1;if(nt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(jh){Dt=!1}var Ft=null,Wt=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=Wt,a=n.length,s="value"in Ft?Ft.value:Ft.textContent,r=s.length;for(e=0;e<a&&n[e]===s[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===s[r-t];t++);return Vt=s.slice(e,1<t?1-t:void 0)}function Ut(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function $t(){return!1}function Gt(e){function t(t,n,a,s,r){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?qt:$t,this.isPropagationStopped=$t,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Yt,Qt,Kt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Gt(Xt),Zt=A({},Xt,{view:0,detail:0}),en=Gt(Zt),tn=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Yt=e.screenX-Kt.screenX,Qt=e.screenY-Kt.screenY):Qt=Yt=0,Kt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),nn=Gt(tn),an=Gt(A({},tn,{dataTransfer:0})),sn=Gt(A({},Zt,{relatedTarget:0})),rn=Gt(A({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Gt(A({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Gt(A({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=un[e])&&!!t[e]}function xn(){return hn}var mn=Gt(A({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ut(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Ut(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ut(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pn=Gt(A({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),fn=Gt(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),gn=Gt(A({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(A({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Gt(A({},Xt,{newState:0,oldState:0})),vn=[9,13,27,32],jn=nt&&"CompositionEvent"in window,wn=null;nt&&"documentMode"in document&&(wn=document.documentMode);var Nn=nt&&"TextEvent"in window&&!wn,_n=nt&&(!jn||wn&&8<wn&&11>=wn),kn=String.fromCharCode(32),Sn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==vn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!En[e.type]:"textarea"===t}function Tn(e,t,n,a){Tt?Pt?Pt.push(a):Pt=[a]:Tt=a,0<(t=Rd(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Pn=null,zn=null;function On(e){Md(e,0)}function Rn(e){if(ht(Qe(e)))return e}function In(e,t){if("change"===e)return t}var Dn=!1;if(nt){var Bn;if(nt){var Fn="oninput"in document;if(!Fn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Fn="function"===typeof Wn.oninput}Bn=Fn}else Bn=!1;Dn=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){Pn&&(Pn.detachEvent("onpropertychange",Hn),zn=Pn=null)}function Hn(e){if("value"===e.propertyName&&Rn(zn)){var t=[];Tn(t,zn,e,At(e)),Rt(On,t)}}function Un(e,t,n){"focusin"===e?(Vn(),zn=n,(Pn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(zn)}function $n(e,t){if("click"===e)return Rn(t)}function Gn(e,t){if("input"===e||"change"===e)return Rn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!ae.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,a=Kn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kn(a)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=xt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=xt((e=t.contentWindow).document)}return t}function ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ta(e,t){var n=Zn(t);t=e.focusedElem;var a=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==a&&ea(t))if(e=a.start,void 0===(n=a.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var s=t.textContent.length,r=Math.min(a.start,s);a=void 0===a.end?r:Math.min(a.end,s),!n.extend&&r>a&&(s=a,a=r,r=s),s=Xn(t,r);var i=Xn(t,a);s&&i&&(1!==n.rangeCount||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==i.node||n.focusOffset!==i.offset)&&((e=e.createRange()).setStart(s.node,s.offset),n.removeAllRanges(),r>a?(n.addRange(e),n.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var na=nt&&"documentMode"in document&&11>=document.documentMode,aa=null,sa=null,ra=null,ia=!1;function oa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ia||null==aa||aa!==xt(a)||("selectionStart"in(a=aa)&&ea(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ra&&Qn(ra,a)||(ra=a,0<(a=Rd(sa,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=aa)))}function la(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ca={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},da={},ua={};function ha(e){if(da[e])return da[e];if(!ca[e])return e;var t,n=ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in ua)return da[e]=n[t];return e}nt&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var xa=ha("animationend"),ma=ha("animationiteration"),pa=ha("animationstart"),fa=ha("transitionrun"),ga=ha("transitionstart"),ba=ha("transitioncancel"),ya=ha("transitionend"),va=new Map,ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wa(e,t){va.set(e,t),et(t,[e])}var Na=[],_a=0,ka=0;function Sa(){for(var e=_a,t=ka=_a=0;t<e;){var n=Na[t];Na[t++]=null;var a=Na[t];Na[t++]=null;var s=Na[t];Na[t++]=null;var r=Na[t];if(Na[t++]=null,null!==a&&null!==s){var i=a.pending;null===i?s.next=s:(s.next=i.next,i.next=s),a.pending=s}0!==r&&Ea(n,s,r)}}function Ca(e,t,n,a){Na[_a++]=e,Na[_a++]=t,Na[_a++]=n,Na[_a++]=a,ka|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ma(e,t,n,a){return Ca(e,t,n,a),Aa(e)}function La(e,t){return Ca(e,null,null,t),Aa(e)}function Ea(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var s=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(a=r.alternate)&&(a.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(s=!0)),e=r,r=r.return;s&&null!==t&&3===e.tag&&(r=e.stateNode,s=31-ve(n),null===(e=(r=r.hiddenUpdates)[s])?r[s]=[t]:e.push(t),t.lane=536870912|n)}function Aa(e){if(50<Mc)throw Mc=0,Lc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ta={},Pa=new WeakMap;function za(e,t){if("object"===typeof e&&null!==e){var n=Pa.get(e);return void 0!==n?n:(t={value:e,source:t,stack:R(t)},Pa.set(e,t),t)}return{value:e,source:t,stack:R(t)}}var Oa=[],Ra=0,Ia=null,Da=0,Ba=[],Fa=0,Wa=null,Va=1,Ha="";function Ua(e,t){Oa[Ra++]=Da,Oa[Ra++]=Ia,Ia=e,Da=t}function qa(e,t,n){Ba[Fa++]=Va,Ba[Fa++]=Ha,Ba[Fa++]=Wa,Wa=e;var a=Va;e=Ha;var s=32-ve(a)-1;a&=~(1<<s),n+=1;var r=32-ve(t)+s;if(30<r){var i=s-s%5;r=(a&(1<<i)-1).toString(32),a>>=i,s-=i,Va=1<<32-ve(t)+s|n<<s|a,Ha=r+e}else Va=1<<r|n<<s|a,Ha=e}function $a(e){null!==e.return&&(Ua(e,1),qa(e,1,0))}function Ga(e){for(;e===Ia;)Ia=Oa[--Ra],Oa[Ra]=null,Da=Oa[--Ra],Oa[Ra]=null;for(;e===Wa;)Wa=Ba[--Fa],Ba[Fa]=null,Ha=Ba[--Fa],Ba[Fa]=null,Va=Ba[--Fa],Ba[Fa]=null}var Ya=null,Qa=null,Ka=!1,Xa=null,Ja=!1,Za=Error(i(519));function es(e){throw rs(za(Error(i(418,"")),e)),Za}function ts(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[De]=e,t[Be]=a,n){case"dialog":Ld("cancel",t),Ld("close",t);break;case"iframe":case"object":case"embed":Ld("load",t);break;case"video":case"audio":for(n=0;n<Sd.length;n++)Ld(Sd[n],t);break;case"source":Ld("error",t);break;case"img":case"image":case"link":Ld("error",t),Ld("load",t);break;case"details":Ld("toggle",t);break;case"input":Ld("invalid",t),gt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ut(t);break;case"select":Ld("invalid",t);break;case"textarea":Ld("invalid",t),jt(t,a.value,a.defaultValue,a.children),ut(t)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Vd(t.textContent,n)?(null!=a.popover&&(Ld("beforetoggle",t),Ld("toggle",t)),null!=a.onScroll&&Ld("scroll",t),null!=a.onScrollEnd&&Ld("scrollend",t),null!=a.onClick&&(t.onclick=Hd),t=!0):t=!1,t||es(e)}function ns(e){for(Ya=e.return;Ya;)switch(Ya.tag){case 3:case 27:return void(Ja=!0);case 5:case 13:return void(Ja=!1);default:Ya=Ya.return}}function as(e){if(e!==Ya)return!1;if(!Ka)return ns(e),Ka=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Jd(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Qa&&es(e),ns(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Qa=ou(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Qa=null}}else Qa=Ya?ou(e.stateNode.nextSibling):null;return!0}function ss(){Qa=Ya=null,Ka=!1}function rs(e){null===Xa?Xa=[e]:Xa.push(e)}var is=Error(i(460)),os=Error(i(474)),ls={then:function(){}};function cs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ds(){}function us(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ds,ds),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===is)throw Error(i(483));throw e;default:if("string"===typeof t.status)t.then(ds,ds);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===is)throw Error(i(483));throw e}throw hs=t,is}}var hs=null;function xs(){if(null===hs)throw Error(i(459));var e=hs;return hs=null,e}var ms=null,ps=0;function fs(e){var t=ps;return ps+=1,null===ms&&(ms=[]),us(ms,e,t)}function gs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function bs(e,t){if(t.$$typeof===l)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Il(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=33554434,n):a:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Vl(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n,a){var r=n.type;return r===u?m(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===j&&ys(r)===t.type)?(gs(t=s(t,n.props),n),t.return=e,t):(gs(t=Bl(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function x(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function m(e,t,n,a,r){return null===t||7!==t.tag?((t=Fl(n,e.mode,a,r)).return=e,t):((t=s(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return gs(n=Bl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case d:return(t=Hl(t,e.mode,n)).return=e,t;case j:return p(e,t=(0,t._init)(t._payload),n)}if(W(t)||k(t))return(t=Fl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,fs(t),n);if(t.$$typeof===f)return p(e,So(e,t),n);bs(e,t)}return null}function g(e,t,n,a){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===s?h(e,t,n,a):null;case d:return n.key===s?x(e,t,n,a):null;case j:return g(e,t,n=(s=n._init)(n._payload),a)}if(W(n)||k(n))return null!==s?null:m(e,t,n,a,null);if("function"===typeof n.then)return g(e,t,fs(n),a);if(n.$$typeof===f)return g(e,t,So(e,n),a);bs(e,n)}return null}function b(e,t,n,a,s){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return l(t,e=e.get(n)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case c:return h(t,e=e.get(null===a.key?n:a.key)||null,a,s);case d:return x(t,e=e.get(null===a.key?n:a.key)||null,a,s);case j:return b(e,t,n,a=(0,a._init)(a._payload),s)}if(W(a)||k(a))return m(t,e=e.get(n)||null,a,s,null);if("function"===typeof a.then)return b(e,t,n,fs(a),s);if(a.$$typeof===f)return b(e,t,n,So(t,a),s);bs(t,a)}return null}function y(l,h,x,m){if("object"===typeof x&&null!==x&&x.type===u&&null===x.key&&(x=x.props.children),"object"===typeof x&&null!==x){switch(x.$$typeof){case c:e:{for(var v=x.key;null!==h;){if(h.key===v){if((v=x.type)===u){if(7===h.tag){n(l,h.sibling),(m=s(h,x.props.children)).return=l,l=m;break e}}else if(h.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===j&&ys(v)===h.type){n(l,h.sibling),gs(m=s(h,x.props),x),m.return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}x.type===u?((m=Fl(x.props.children,l.mode,m,x.key)).return=l,l=m):(gs(m=Bl(x.type,x.key,x.props,null,l.mode,m),x),m.return=l,l=m)}return o(l);case d:e:{for(v=x.key;null!==h;){if(h.key===v){if(4===h.tag&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){n(l,h.sibling),(m=s(h,x.children||[])).return=l,l=m;break e}n(l,h);break}t(l,h),h=h.sibling}(m=Hl(x,l.mode,m)).return=l,l=m}return o(l);case j:return y(l,h,x=(v=x._init)(x._payload),m)}if(W(x))return function(s,i,o,l){for(var c=null,d=null,u=i,h=i=0,x=null;null!==u&&h<o.length;h++){u.index>h?(x=u,u=null):x=u.sibling;var m=g(s,u,o[h],l);if(null===m){null===u&&(u=x);break}e&&u&&null===m.alternate&&t(s,u),i=r(m,i,h),null===d?c=m:d.sibling=m,d=m,u=x}if(h===o.length)return n(s,u),Ka&&Ua(s,h),c;if(null===u){for(;h<o.length;h++)null!==(u=p(s,o[h],l))&&(i=r(u,i,h),null===d?c=u:d.sibling=u,d=u);return Ka&&Ua(s,h),c}for(u=a(u);h<o.length;h++)null!==(x=b(u,s,h,o[h],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?h:x.key),i=r(x,i,h),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(s,e)})),Ka&&Ua(s,h),c}(l,h,x,m);if(k(x)){if("function"!==typeof(v=k(x)))throw Error(i(150));return function(s,o,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,h=o,x=o=0,m=null,f=l.next();null!==h&&!f.done;x++,f=l.next()){h.index>x?(m=h,h=null):m=h.sibling;var y=g(s,h,f.value,c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(s,h),o=r(y,o,x),null===u?d=y:u.sibling=y,u=y,h=m}if(f.done)return n(s,h),Ka&&Ua(s,x),d;if(null===h){for(;!f.done;x++,f=l.next())null!==(f=p(s,f.value,c))&&(o=r(f,o,x),null===u?d=f:u.sibling=f,u=f);return Ka&&Ua(s,x),d}for(h=a(h);!f.done;x++,f=l.next())null!==(f=b(h,s,x,f.value,c))&&(e&&null!==f.alternate&&h.delete(null===f.key?x:f.key),o=r(f,o,x),null===u?d=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(s,e)})),Ka&&Ua(s,x),d}(l,h,x=v.call(x),m)}if("function"===typeof x.then)return y(l,h,fs(x),m);if(x.$$typeof===f)return y(l,h,So(l,x),m);bs(l,x)}return"string"===typeof x&&""!==x||"number"===typeof x||"bigint"===typeof x?(x=""+x,null!==h&&6===h.tag?(n(l,h.sibling),(m=s(h,x)).return=l,l=m):(n(l,h),(m=Vl(x,l.mode,m)).return=l,l=m),o(l)):n(l,h)}return function(e,t,n,a){try{ps=0;var s=y(e,t,n,a);return ms=null,s}catch(i){if(i===is)throw i;var r=Ol(29,i,null,e.mode);return r.lanes=a,r.return=e,r}}}var js=vs(!0),ws=vs(!1),Ns=$(null),_s=$(0);function ks(e,t){Y(_s,e=cc),Y(Ns,t),cc=e|t.baseLanes}function Ss(){Y(_s,cc),Y(Ns,Ns.current)}function Cs(){cc=_s.current,G(Ns),G(_s)}var Ms=$(null),Ls=null;function Es(e){var t=e.alternate;Y(zs,1&zs.current),Y(Ms,e),null===Ls&&(null===t||null!==Ns.current||null!==t.memoizedState)&&(Ls=e)}function As(e){if(22===e.tag){if(Y(zs,zs.current),Y(Ms,e),null===Ls){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ls=e)}}else Ts()}function Ts(){Y(zs,zs.current),Y(Ms,Ms.current)}function Ps(e){G(Ms),Ls===e&&(Ls=null),G(zs)}var zs=$(0);function Os(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rs="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Is=a.unstable_scheduleCallback,Ds=a.unstable_NormalPriority,Bs={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fs(){return{controller:new Rs,data:new Map,refCount:0}}function Ws(e){e.refCount--,0===e.refCount&&Is(Ds,(function(){e.controller.abort()}))}var Vs=null,Hs=0,Us=0,qs=null;function $s(){if(0===--Hs&&null!==Vs){null!==qs&&(qs.status="fulfilled");var e=Vs;Vs=null,Us=0,qs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gs=E.S;E.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Vs){var n=Vs=[];Hs=0,Us=jd(),qs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hs++,t.then($s,$s)}(0,t),null!==Gs&&Gs(e,t)};var Ys=$(null);function Qs(){var e=Ys.current;return null!==e?e:tc.pooledCache}function Ks(e,t){Y(Ys,null===t?Ys.current:t.pool)}function Xs(){var e=Qs();return null===e?null:{parent:Bs._currentValue,pool:e}}var Js=0,Zs=null,er=null,tr=null,nr=!1,ar=!1,sr=!1,rr=0,ir=0,or=null,lr=0;function cr(){throw Error(i(321))}function dr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function ur(e,t,n,a,s,r){return Js=r,Zs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=null===e||null===e.memoizedState?ki:Si,sr=!1,r=n(a,s),sr=!1,ar&&(r=xr(t,n,a,s)),hr(e),r}function hr(e){E.H=_i;var t=null!==er&&null!==er.next;if(Js=0,tr=er=Zs=null,nr=!1,ir=0,or=null,t)throw Error(i(300));null===e||Hi||null!==(e=e.dependencies)&&No(e)&&(Hi=!0)}function xr(e,t,n,a){Zs=e;var s=0;do{if(ar&&(or=null),ir=0,ar=!1,25<=s)throw Error(i(301));if(s+=1,tr=er=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}E.H=Ci,r=t(n,a)}while(ar);return r}function mr(){var e=E.H,t=e.useState()[0];return t="function"===typeof t.then?vr(t):t,e=e.useState()[0],(null!==er?er.memoizedState:null)!==e&&(Zs.flags|=1024),t}function pr(){var e=0!==rr;return rr=0,e}function fr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function gr(e){if(nr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}nr=!1}Js=0,tr=er=Zs=null,ar=!1,ir=rr=0,or=null}function br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===tr?Zs.memoizedState=tr=e:tr=tr.next=e,tr}function yr(){if(null===er){var e=Zs.alternate;e=null!==e?e.memoizedState:null}else e=er.next;var t=null===tr?Zs.memoizedState:tr.next;if(null!==t)tr=t,er=e;else{if(null===e){if(null===Zs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(er=e).memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},null===tr?Zs.memoizedState=tr=e:tr=tr.next=e}return tr}function vr(e){var t=ir;return ir+=1,null===or&&(or=[]),e=us(or,e,t),t=Zs,null===(null===tr?t.memoizedState:tr.next)&&(t=t.alternate,E.H=null===t||null===t.memoizedState?ki:Si),e}function jr(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return vr(e);if(e.$$typeof===f)return ko(e)}throw Error(i(438,String(e)))}function wr(e){var t=null,n=Zs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Zs.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=N;return t.index++,n}function Nr(e,t){return"function"===typeof t?t(e):t}function _r(e){return kr(yr(),er,e)}function kr(e,t,n){var a=e.queue;if(null===a)throw Error(i(311));a.lastRenderedReducer=n;var s=e.baseQueue,r=a.pending;if(null!==r){if(null!==s){var o=s.next;s.next=r.next,r.next=o}t.baseQueue=s=r,a.pending=null}if(r=e.baseState,null===s)e.memoizedState=r;else{var l=o=null,c=null,d=t=s.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ac&h)===h:(Js&h)===h){var x=d.revertLane;if(0===x)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Us&&(u=!0);else{if((Js&x)===x){d=d.next,x===Us&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=r):c=c.next=h,Zs.lanes|=x,uc|=x}h=d.action,sr&&n(r,h),r=d.hasEagerState?d.eagerState:n(r,h)}else x={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=x,o=r):c=c.next=x,Zs.lanes|=h,uc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=r:c.next=l,!Yn(r,e.memoizedState)&&(Hi=!0,u&&null!==(n=qs)))throw n;e.memoizedState=r,e.baseState=o,e.baseQueue=c,a.lastRenderedState=r}return null===s&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Sr(e){var t=yr(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{r=e(r,o.action),o=o.next}while(o!==s);Yn(r,t.memoizedState)||(Hi=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Cr(e,t,n){var a=Zs,s=yr(),r=Ka;if(r){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Yn((er||s).memoizedState,n);if(o&&(s.memoizedState=n,Hi=!0),s=s.queue,Jr(Er.bind(null,a,s,e),[e]),s.getSnapshot!==t||o||null!==tr&&1&tr.memoizedState.tag){if(a.flags|=2048,Gr(9,Lr.bind(null,a,s,n,t),{destroy:void 0},null),null===tc)throw Error(i(349));r||0!==(60&Js)||Mr(a,t,n)}return n}function Mr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lr(e,t,n,a){t.value=n,t.getSnapshot=a,Ar(t)&&Tr(e)}function Er(e,t,n){return n((function(){Ar(t)&&Tr(e)}))}function Ar(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(a){return!0}}function Tr(e){var t=La(e,2);null!==t&&Tc(t,e,2)}function Pr(e){var t=br();if("function"===typeof e){var n=e;if(e=n(),sr){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t}function zr(e,t,n,a){return e.baseState=n,kr(e,er,"function"===typeof a?a:Nr)}function Or(e,t,n,a,s){if(ji(e))throw Error(i(485));if(null!==(e=t.action)){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==E.T?n(!0):r.isTransition=!1,a(r),null===(n=t.pending)?(r.next=t.pending=r,Rr(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Rr(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var r=E.T,i={};E.T=i;try{var o=n(s,a),l=E.S;null!==l&&l(i,o),Ir(e,t,o)}catch(c){Br(e,t,c)}finally{E.T=r}}else try{Ir(e,t,r=n(s,a))}catch(d){Br(e,t,d)}}function Ir(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Dr(e,t,n)}),(function(n){return Br(e,t,n)})):Dr(e,t,n)}function Dr(e,t,n){t.status="fulfilled",t.value=n,Fr(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Rr(e,n)))}function Br(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,Fr(t),t=t.next}while(t!==a)}e.action=null}function Fr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wr(e,t){return t}function Vr(e,t){if(Ka){var n=tc.formState;if(null!==n){e:{var a=Zs;if(Ka){if(Qa){t:{for(var s=Qa,r=Ja;8!==s.nodeType;){if(!r){s=null;break t}if(null===(s=ou(s.nextSibling))){s=null;break t}}s="F!"===(r=s.data)||"F"===r?s:null}if(s){Qa=ou(s.nextSibling),a="F!"===s.data;break e}}es(a)}a=!1}a&&(t=n[0])}}return(n=br()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},n.queue=a,n=bi.bind(null,Zs,a),a.dispatch=n,a=Pr(!1),r=vi.bind(null,Zs,!1,a.queue),s={state:t,dispatch:null,action:e,pending:null},(a=br()).queue=s,n=Or.bind(null,Zs,s,r,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Hr(e){return Ur(yr(),er,e)}function Ur(e,t,n){t=kr(e,t,Wr)[0],e=_r(Nr)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?vr(t):t;var a=yr(),s=a.queue,r=s.dispatch;return n!==a.memoizedState&&(Zs.flags|=2048,Gr(9,qr.bind(null,s,n),{destroy:void 0},null)),[t,r,e]}function qr(e,t){e.action=t}function $r(e){var t=yr(),n=er;if(null!==n)return Ur(t,n,e);yr(),t=t.memoizedState;var a=(n=yr()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Gr(e,t,n,a){return e={tag:e,create:t,inst:n,deps:a,next:null},null===(t=Zs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Yr(){return yr().memoizedState}function Qr(e,t,n,a){var s=br();Zs.flags|=e,s.memoizedState=Gr(1|t,n,{destroy:void 0},void 0===a?null:a)}function Kr(e,t,n,a){var s=yr();a=void 0===a?null:a;var r=s.memoizedState.inst;null!==er&&null!==a&&dr(a,er.memoizedState.deps)?s.memoizedState=Gr(t,n,r,a):(Zs.flags|=e,s.memoizedState=Gr(1|t,n,r,a))}function Xr(e,t){Qr(8390656,8,e,t)}function Jr(e,t){Kr(2048,8,e,t)}function Zr(e,t){return Kr(4,2,e,t)}function ei(e,t){return Kr(4,4,e,t)}function ti(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ni(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4,4,ti.bind(null,t,e),n)}function ai(){}function si(e,t){var n=yr();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&dr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ri(e,t){var n=yr();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&dr(t,a[1]))return a[0];if(a=e(),sr){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[a,t],a}function ii(e,t,n){return void 0===n||0!==(1073741824&Js)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),Zs.lanes|=e,uc|=e,n)}function oi(e,t,n,a){return Yn(n,t)?n:null!==Ns.current?(e=ii(e,n,a),Yn(e,t)||(Hi=!0),e):0===(42&Js)?(Hi=!0,e.memoizedState=n):(e=Ac(),Zs.lanes|=e,uc|=e,t)}function li(e,t,n,a,s){var r=V.p;V.p=0!==r&&8>r?r:8;var i=E.T,o={};E.T=o,vi(e,!1,t,n);try{var l=s(),c=E.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)yi(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),a}(l,a),Ec());else yi(e,t,a,Ec())}catch(d){yi(e,t,{then:function(){},status:"rejected",reason:d},Ec())}finally{V.p=r,E.T=i}}function ci(){}function di(e,t,n,a){if(5!==e.tag)throw Error(i(476));var s=ui(e).queue;li(e,s,t,H,null===n?ci:function(){return hi(e),n(a)})}function ui(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:H},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function hi(e){yi(e,ui(e).next.queue,{},Ec())}function xi(){return ko(Ru)}function mi(){return yr().memoizedState}function pi(){return yr().memoizedState}function fi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ec(),a=To(t,e=Ao(n),n);return null!==a&&(Tc(a,t,n),Po(a,t,n)),t={cache:Fs()},void(e.payload=t)}t=t.return}}function gi(e,t,n){var a=Ec();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ji(e)?wi(t,n):null!==(n=Ma(e,t,n,a))&&(Tc(n,e,a),Ni(n,t,a))}function bi(e,t,n){yi(e,t,n,Ec())}function yi(e,t,n,a){var s={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ji(e))wi(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=r(i,n);if(s.hasEagerState=!0,s.eagerState=o,Yn(o,i))return Ca(e,t,s,0),null===tc&&Sa(),!1}catch(l){}if(null!==(n=Ma(e,t,s,a)))return Tc(n,e,a),Ni(n,t,a),!0}return!1}function vi(e,t,n,a){if(a={lane:2,revertLane:jd(),action:a,hasEagerState:!1,eagerState:null,next:null},ji(e)){if(t)throw Error(i(479))}else null!==(t=Ma(e,n,a,2))&&Tc(t,e,2)}function ji(e){var t=e.alternate;return e===Zs||null!==t&&t===Zs}function wi(e,t){ar=nr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ni(e,t,n){if(0!==(4194176&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}var _i={readContext:ko,use:jr,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr};_i.useCacheRefresh=cr,_i.useMemoCache=cr,_i.useHostTransitionStatus=cr,_i.useFormState=cr,_i.useActionState=cr,_i.useOptimistic=cr;var ki={readContext:ko,use:jr,useCallback:function(e,t){return br().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Xr,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Qr(4194308,4,ti.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qr(4194308,4,e,t)},useInsertionEffect:function(e,t){Qr(4,2,e,t)},useMemo:function(e,t){var n=br();t=void 0===t?null:t;var a=e();if(sr){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=br();if(void 0!==n){var s=n(t);if(sr){ye(!0);try{n(t)}finally{ye(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=gi.bind(null,Zs,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},br().memoizedState=e},useState:function(e){var t=(e=Pr(e)).queue,n=bi.bind(null,Zs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ai,useDeferredValue:function(e,t){return ii(br(),e,t)},useTransition:function(){var e=Pr(!1);return e=li.bind(null,Zs,e.queue,!0,!1),br().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Zs,s=br();if(Ka){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===tc)throw Error(i(349));0!==(60&ac)||Mr(a,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Xr(Er.bind(null,a,r,e),[e]),a.flags|=2048,Gr(9,Lr.bind(null,a,r,n,t),{destroy:void 0},null),n},useId:function(){var e=br(),t=tc.identifierPrefix;if(Ka){var n=Ha;t=":"+t+"R"+(n=(Va&~(1<<32-ve(Va)-1)).toString(32)+n),0<(n=rr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lr++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return br().memoizedState=fi.bind(null,Zs)}};ki.useMemoCache=wr,ki.useHostTransitionStatus=xi,ki.useFormState=Vr,ki.useActionState=Vr,ki.useOptimistic=function(e){var t=br();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vi.bind(null,Zs,!0,n),n.dispatch=t,[e,t]};var Si={readContext:ko,use:jr,useCallback:si,useContext:ko,useEffect:Jr,useImperativeHandle:ni,useInsertionEffect:Zr,useLayoutEffect:ei,useMemo:ri,useReducer:_r,useRef:Yr,useState:function(){return _r(Nr)},useDebugValue:ai,useDeferredValue:function(e,t){return oi(yr(),er.memoizedState,e,t)},useTransition:function(){var e=_r(Nr)[0],t=yr().memoizedState;return["boolean"===typeof e?e:vr(e),t]},useSyncExternalStore:Cr,useId:mi};Si.useCacheRefresh=pi,Si.useMemoCache=wr,Si.useHostTransitionStatus=xi,Si.useFormState=Hr,Si.useActionState=Hr,Si.useOptimistic=function(e,t){return zr(yr(),0,e,t)};var Ci={readContext:ko,use:jr,useCallback:si,useContext:ko,useEffect:Jr,useImperativeHandle:ni,useInsertionEffect:Zr,useLayoutEffect:ei,useMemo:ri,useReducer:Sr,useRef:Yr,useState:function(){return Sr(Nr)},useDebugValue:ai,useDeferredValue:function(e,t){var n=yr();return null===er?ii(n,e,t):oi(n,er.memoizedState,e,t)},useTransition:function(){var e=Sr(Nr)[0],t=yr().memoizedState;return["boolean"===typeof e?e:vr(e),t]},useSyncExternalStore:Cr,useId:mi};function Mi(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ci.useCacheRefresh=pi,Ci.useMemoCache=wr,Ci.useHostTransitionStatus=xi,Ci.useFormState=$r,Ci.useActionState=$r,Ci.useOptimistic=function(e,t){var n=yr();return null!==er?zr(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Li={isMounted:function(e){return!!(e=e._reactInternals)&&I(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ec(),s=Ao(a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=To(e,s,a))&&(Tc(t,e,a),Po(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ec(),s=Ao(a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=To(e,s,a))&&(Tc(t,e,a),Po(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ec(),a=Ao(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=To(e,a,n))&&(Tc(t,e,n),Po(t,e,n))}};function Ei(e,t,n,a,s,r,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,i):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,a)||!Qn(s,r))}function Ai(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Li.enqueueReplaceState(t,t.state,null)}function Ti(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var s in n===t&&(n=A({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var Pi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function zi(e){Pi(e)}function Oi(e){console.error(e)}function Ri(e){Pi(e)}function Ii(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Di(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout((function(){throw a}))}}function Bi(e,t,n){return(n=Ao(n)).tag=3,n.payload={element:null},n.callback=function(){Ii(e,t)},n}function Fi(e){return(e=Ao(e)).tag=3,e}function Wi(e,t,n,a){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var r=a.value;e.payload=function(){return s(r)},e.callback=function(){Di(t,n,a)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Di(t,n,a),"function"!==typeof s&&(null===wc?wc=new Set([this]):wc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Vi=Error(i(461)),Hi=!1;function Ui(e,t,n,a){t.child=null===e?ws(t,null,n,a):js(t,e.child,n,a)}function qi(e,t,n,a,s){n=n.render;var r=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return _o(t),a=ur(e,t,n,i,r,s),o=pr(),null===e||Hi?(Ka&&o&&$a(t),t.flags|=1,Ui(e,t,a,s),t.child):(fr(e,t,s),ho(e,t,s))}function $i(e,t,n,a,s){if(null===e){var r=n.type;return"function"!==typeof r||Rl(r)||void 0!==r.defaultProps||null!==n.compare?((e=Bl(n.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Gi(e,t,r,a,s))}if(r=e.child,!xo(e,s)){var i=r.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(i,a)&&e.ref===t.ref)return ho(e,t,s)}return t.flags|=1,(e=Il(r,a)).ref=t.ref,e.return=t,t.child=e}function Gi(e,t,n,a,s){if(null!==e){var r=e.memoizedProps;if(Qn(r,a)&&e.ref===t.ref){if(Hi=!1,t.pendingProps=a=r,!xo(e,s))return t.lanes=e.lanes,ho(e,t,s);0!==(131072&e.flags)&&(Hi=!0)}}return Xi(e,t,n,a,s)}function Yi(e,t,n){var a=t.pendingProps,s=a.children,r=0!==(2&t.stateNode._pendingVisibility),i=null!==e?e.memoizedState:null;if(Ki(e,t),"hidden"===a.mode||r){if(0!==(128&t.flags)){if(a=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,r=0;null!==s;)r=r|s.lanes|s.childLanes,s=s.sibling;t.childLanes=r&~a}else t.childLanes=0,t.child=null;return Qi(e,t,a,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Qi(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ks(0,null!==i?i.cachePool:null),null!==i?ks(t,i):Ss(),As(t)}else null!==i?(Ks(0,i.cachePool),ks(t,i),Ts(),t.memoizedState=null):(null!==e&&Ks(0,null),Ss(),Ts());return Ui(e,t,s,n),t.child}function Qi(e,t,n,a){var s=Qs();return s=null===s?null:{parent:Bs._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ks(0,null),Ss(),As(t),null!==e&&wo(e,t,a,!0),null}function Ki(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xi(e,t,n,a,s){return _o(t),n=ur(e,t,n,a,void 0,s),a=pr(),null===e||Hi?(Ka&&a&&$a(t),t.flags|=1,Ui(e,t,n,s),t.child):(fr(e,t,s),ho(e,t,s))}function Ji(e,t,n,a,s,r){return _o(t),t.updateQueue=null,n=xr(t,a,n,s),hr(e),a=pr(),null===e||Hi?(Ka&&a&&$a(t),t.flags|=1,Ui(e,t,n,r),t.child):(fr(e,t,r),ho(e,t,r))}function Zi(e,t,n,a,s){if(_o(t),null===t.stateNode){var r=Ta,i=n.contextType;"object"===typeof i&&null!==i&&(r=ko(i)),r=new n(a,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=Li,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=a,r.state=t.memoizedState,r.refs={},Lo(t),i=n.contextType,r.context="object"===typeof i&&null!==i?ko(i):Ta,r.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(Mi(t,n,i,a),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(i=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),i!==r.state&&Li.enqueueReplaceState(r,r.state,null),Io(t,a,r,s),Ro(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){r=t.stateNode;var o=t.memoizedProps,l=Ti(n,o);r.props=l;var c=r.context,d=n.contextType;i=Ta,"object"===typeof d&&null!==d&&(i=ko(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o||c!==i)&&Ai(t,r,a,i),Mo=!1;var h=t.memoizedState;r.state=h,Io(t,a,r,s),Ro(),c=t.memoizedState,o||h!==c||Mo?("function"===typeof u&&(Mi(t,n,u,a),c=t.memoizedState),(l=Mo||Ei(t,n,l,a,h,c,i))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=i,a=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Eo(e,t),d=Ti(n,i=t.memoizedProps),r.props=d,u=t.pendingProps,h=r.context,c=n.contextType,l=Ta,"object"===typeof c&&null!==c&&(l=ko(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==u||h!==l)&&Ai(t,r,a,l),Mo=!1,h=t.memoizedState,r.state=h,Io(t,a,r,s),Ro();var x=t.memoizedState;i!==u||h!==x||Mo||null!==e&&null!==e.dependencies&&No(e.dependencies)?("function"===typeof o&&(Mi(t,n,o,a),x=t.memoizedState),(d=Mo||Ei(t,n,d,a,h,x,l)||null!==e&&null!==e.dependencies&&No(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,x,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,x,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),r.props=a,r.state=x,r.context=l,a=d):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Ki(e,t),a=0!==(128&t.flags),r||a?(r=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&a?(t.child=js(t,e.child,null,s),t.child=js(t,null,n,s)):Ui(e,t,n,s),t.memoizedState=r.state,e=t.child):e=ho(e,t,s),e}function eo(e,t,n,a){return ss(),t.flags|=256,Ui(e,t,n,a),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Xs()}}function ao(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function so(e,t,n){var a,s=t.pendingProps,r=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&zs.current)),a&&(r=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(Ka){if(r?Es(t):Ts(),Ka){var l,c=Qa;if(l=c){e:{for(l=c,c=Ja;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=ou(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Wa?{id:Va,overflow:Ha}:null,retryLane:536870912},(l=Ol(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Ya=t,Qa=null,l=!0):l=!1}l||es(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Ps(t)}return c=s.children,s=s.fallback,r?(Ts(),c=io({mode:"hidden",children:c},r=t.mode),s=Fl(s,r,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(r=t.child).memoizedState=no(n),r.childLanes=ao(e,a,n),t.memoizedState=to,s):(Es(t),ro(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Es(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Ts(),t.child=e.child,t.flags|=128,t=null):(Ts(),r=s.fallback,c=t.mode,s=io({mode:"visible",children:s.children},c),(r=Fl(r,c,n,null)).flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,js(t,e.child,null,n),(s=t.child).memoizedState=no(n),s.childLanes=ao(e,a,n),t.memoizedState=to,t=r);else if(Es(t),"$!"===c.data){if(a=c.nextSibling&&c.nextSibling.dataset)var d=a.dgst;a=d,(s=Error(i(419))).stack="",s.digest=a,rs({value:s,source:null,stack:null}),t=oo(e,t,n)}else if(Hi||wo(e,t,n,!1),a=0!==(n&e.childLanes),Hi||a){if(null!==(a=tc)){if(0!==(42&(s=n&-n)))s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(0!==(s=0!==(s&(a.suspendedLanes|n))?0:s)&&s!==l.retryLane)throw l.retryLane=s,La(e,s),Tc(a,e,s),Vi}"$?"===c.data||Uc(),t=oo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=od.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Qa=ou(c.nextSibling),Ya=t,Ka=!0,Xa=null,Ja=!1,null!==e&&(Ba[Fa++]=Va,Ba[Fa++]=Ha,Ba[Fa++]=Wa,Va=e.id,Ha=e.overflow,Wa=t),(t=ro(t,s.children)).flags|=4096);return t}return r?(Ts(),r=s.fallback,c=t.mode,d=(l=e.child).sibling,(s=Il(l,{mode:"hidden",children:s.children})).subtreeFlags=31457280&l.subtreeFlags,null!==d?r=Il(d,r):(r=Fl(r,c,n,null)).flags|=2,r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,null===(c=e.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(d=Bs._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Xs(),c={baseLanes:c.baseLanes|n,cachePool:l}),r.memoizedState=c,r.childLanes=ao(e,a,n),t.memoizedState=to,s):(Es(t),e=(n=e.child).sibling,(n=Il(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function ro(e,t){return(t=io({mode:"visible",children:t},e.mode)).return=e,e.child=t}function io(e,t){return Wl(e,t,0,null)}function oo(e,t,n){return js(t,e.child,null,n),(e=ro(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),vo(e.return,t,n)}function co(e,t,n,a,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=s)}function uo(e,t,n){var a=t.pendingProps,s=a.revealOrder,r=a.tail;if(Ui(e,t,a.children,n),0!==(2&(a=zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(Y(zs,a),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Os(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),co(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Os(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}co(t,!0,n,null,r);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),uc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(wo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Il(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Il(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!No(e))}function mo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Hi=!0;else{if(!xo(e,n)&&0===(128&t.flags))return Hi=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),bo(t,Bs,e.memoizedState.cache),ss();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:bo(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(Es(t),t.flags|=128,null):0!==(n&t.child.childLanes)?so(e,t,n):(Es(t),null!==(e=ho(e,t,n))?e.sibling:null);Es(t);break;case 19:var s=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(wo(e,t,n,!1),a=0!==(n&t.childLanes)),s){if(a)return uo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(zs,zs.current),a)break;return null;case 22:case 23:return t.lanes=0,Yi(e,t,n);case 24:bo(t,Bs,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);Hi=0!==(131072&e.flags)}else Hi=!1,Ka&&0!==(1048576&t.flags)&&qa(t,Da,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,s=a._init;if(a=s(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((s=a.$$typeof)===g){t.tag=11,t=qi(null,t,a,e,n);break e}if(s===v){t.tag=14,t=$i(null,t,a,e,n);break e}}throw t=C(a)||a,Error(i(306,t,""))}Rl(a)?(e=Ti(a,e),t.tag=1,t=Zi(null,t,a,e,n)):(t.tag=0,t=Xi(null,t,a,e,n))}return t;case 0:return Xi(e,t,t.type,t.pendingProps,n);case 1:return Zi(e,t,a=t.type,s=Ti(a,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(i(387));var r=t.pendingProps;a=(s=t.memoizedState).element,Eo(e,t),Io(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bo(t,Bs,r),r!==s.cache&&jo(t,[Bs],n,!0),Ro(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=eo(e,t,r,n);break e}if(r!==a){rs(a=za(Error(i(424)),t)),t=eo(e,t,r,n);break e}for(Qa=ou(t.stateNode.containerInfo.firstChild),Ya=t,Ka=!0,Xa=null,Ja=!0,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ss(),r===a){t=ho(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 26:return Ki(e,t),null===e?(n=fu(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ka||(n=t.type,e=t.pendingProps,(a=Qd(X.current).createElement(n))[De]=t,a[Be]=e,$d(a,n,e),Xe(a),t.stateNode=a):t.memoizedState=fu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Ka&&(a=t.stateNode=cu(t.type,t.pendingProps,X.current),Ya=t,Ja=!0,Qa=ou(a.firstChild)),a=t.pendingProps.children,null!==e||Ka?Ui(e,t,a,n):t.child=js(t,null,a,n),Ki(e,t),t.child;case 5:return null===e&&Ka&&((s=a=Qa)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(null==s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===r)return e}if(null===(e=ou(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,Ja))?(t.stateNode=a,Ya=t,Qa=ou(a.firstChild),Ja=!1,s=!0):s=!1),s||es(t)),te(t),s=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,Jd(s,r)?a=null:null!==o&&Jd(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=ur(e,t,mr,null,null,n),Ru._currentValue=s),Ki(e,t),Ui(e,t,a,n),t.child;case 6:return null===e&&Ka&&((e=n=Qa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=ou(e.nextSibling)))return null}return e}(n,t.pendingProps,Ja))?(t.stateNode=n,Ya=t,Qa=null,e=!0):e=!1),e||es(t)),null;case 13:return so(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=js(t,null,a,n):Ui(e,t,a,n),t.child;case 11:return qi(e,t,t.type,t.pendingProps,n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,bo(t,t.type,a.value),Ui(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,_o(t),a=a(s=ko(s)),t.flags|=1,Ui(e,t,a,n),t.child;case 14:return $i(e,t,t.type,t.pendingProps,n);case 15:return Gi(e,t,t.type,t.pendingProps,n);case 19:return uo(e,t,n);case 22:return Yi(e,t,n);case 24:return _o(t),a=ko(Bs),null===e?(null===(s=Qs())&&(s=tc,r=Fs(),s.pooledCache=r,r.refCount++,null!==r&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:a,cache:s},Lo(t),bo(t,Bs,s)):(0!==(e.lanes&n)&&(Eo(e,t),Io(t,null,null,n),Ro()),s=e.memoizedState,r=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bo(t,Bs,a)):(a=r.cache,bo(t,Bs,a),a!==s.cache&&jo(t,[Bs],n,!0))),Ui(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var po=$(null),fo=null,go=null;function bo(e,t,n){Y(po,t._currentValue),t._currentValue=n}function yo(e){e._currentValue=po.current,G(po)}function vo(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function jo(e,t,n,a){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var r=s.dependencies;if(null!==r){var o=s.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),vo(r.return,n,e),a||(o=null);break e}r=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(r=o.alternate)&&(r.lanes|=n),vo(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function wo(e,t,n,a){e=null;for(var s=t,r=!1;null!==s;){if(!r)if(0!==(524288&s.flags))r=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;Yn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===J.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Ru):e=[Ru])}s=s.return}null!==e&&jo(t,e,n,a),t.flags|=262144}function No(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _o(e){fo=e,go=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ko(e){return Co(fo,e)}function So(e,t){return null===fo&&_o(e),Co(e,t)}function Co(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===go){if(null===e)throw Error(i(308));go=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else go=go.next=t;return n}var Mo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ao(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function To(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&ec)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Aa(e),Ea(e,null,n),t}return Ca(e,a,t,n),Aa(e)}function Po(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,ze(e,n)}}function zo(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?s=r=i:r=r.next=i,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oo=!1;function Ro(){if(Oo){if(null!==qs)throw qs}}function Io(e,t,n,a){Oo=!1;var s=e.updateQueue;Mo=!1;var r=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?r=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=s.baseState;for(i=0,d=c=l=null,o=r;;){var h=-536870913&o.lane,x=h!==o.lane;if(x?(ac&h)===h:(a&h)===h){0!==h&&h===Us&&(Oo=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,p=o;h=t;var f=n;switch(p.tag){case 1:if("function"===typeof(m=p.payload)){u=m.call(f,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,u,h):m)||void 0===h)break e;u=A({},u,h);break e;case 2:Mo=!0}}null!==(h=o.callback)&&(e.flags|=64,x&&(e.flags|=8192),null===(x=s.callbacks)?s.callbacks=[h]:x.push(h))}else x={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=x,l=u):d=d.next=x,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(x=o).next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null===r&&(s.shared.lanes=0),uc|=i,e.lanes=i,e.memoizedState=u}}function Do(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Bo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Do(n[e],t)}function Fo(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var r=n.create,i=n.inst;a=r(),i.destroy=a}n=n.next}while(n!==s)}}catch(o){ad(t,t.return,o)}}function Wo(e,t,n){try{var a=t.updateQueue,s=null!==a?a.lastEffect:null;if(null!==s){var r=s.next;a=r;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,s=t;var l=n;try{o()}catch(c){ad(s,l,c)}}}a=a.next}while(a!==r)}}catch(c){ad(t,t.return,c)}}function Vo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Bo(t,n)}catch(a){ad(e,e.return,a)}}}function Ho(e,t,n){n.props=Ti(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ad(e,t,a)}}function Uo(e,t){try{var n=e.ref;if(null!==n){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var s=a;break;default:s=a}"function"===typeof n?e.refCleanup=n(s):n.current=s}}catch(r){ad(e,t,r)}}function qo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(s){ad(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){ad(e,t,r)}else n.current=null}function $o(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){ad(e,e.return,s)}}function Go(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,o=null,l=null,c=null,d=null,u=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(m)||Ud(e,t,m,null,a,h)}}for(var x in a){var m=a[x];if(h=n[x],a.hasOwnProperty(x)&&(null!=m||null!=h))switch(x){case"type":r=m;break;case"name":s=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==h&&Ud(e,t,x,m,a,h)}}return void ft(e,o,l,c,d,u,r,s);case"select":for(r in m=o=l=x=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":m=c;default:a.hasOwnProperty(r)||Ud(e,t,r,null,a,c)}for(s in a)if(r=a[s],c=n[s],a.hasOwnProperty(s)&&(null!=r||null!=c))switch(s){case"value":x=r;break;case"defaultValue":l=r;break;case"multiple":o=r;default:r!==c&&Ud(e,t,s,r,a,c)}return t=l,n=o,a=m,void(null!=x?yt(e,!!n,x,!1):!!a!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=x=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ud(e,t,l,null,a,s)}for(o in a)if(s=a[o],r=n[o],a.hasOwnProperty(o)&&(null!=s||null!=r))switch(o){case"value":x=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==r&&Ud(e,t,o,s,a,r)}return void vt(e,x,m);case"option":for(var p in n)if(x=n[p],n.hasOwnProperty(p)&&null!=x&&!a.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Ud(e,t,p,null,a,x);for(c in a)if(x=a[c],m=n[c],a.hasOwnProperty(c)&&x!==m&&(null!=x||null!=m))if("selected"===c)e.selected=x&&"function"!==typeof x&&"symbol"!==typeof x;else Ud(e,t,c,x,a,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var f in n)x=n[f],n.hasOwnProperty(f)&&null!=x&&!a.hasOwnProperty(f)&&Ud(e,t,f,null,a,x);for(d in a)if(x=a[d],m=n[d],a.hasOwnProperty(d)&&x!==m&&(null!=x||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(i(137,t));break;default:Ud(e,t,d,x,a,m)}return;default:if(St(t)){for(var g in n)x=n[g],n.hasOwnProperty(g)&&void 0!==x&&!a.hasOwnProperty(g)&&qd(e,t,g,void 0,a,x);for(u in a)x=a[u],m=n[u],!a.hasOwnProperty(u)||x===m||void 0===x&&void 0===m||qd(e,t,u,x,a,m);return}}for(var b in n)x=n[b],n.hasOwnProperty(b)&&null!=x&&!a.hasOwnProperty(b)&&Ud(e,t,b,null,a,x);for(h in a)x=a[h],m=n[h],!a.hasOwnProperty(h)||x===m||null==x&&null==m||Ud(e,t,h,x,a,m)}(a,e.type,n,t),a[Be]=t}catch(s){ad(e,e.return,s)}}function Yo(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Yo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ko(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Hd));else if(4!==a&&27!==a&&null!==(e=e.child))for(Ko(e,t,n),e=e.sibling;null!==e;)Ko(e,t,n),e=e.sibling}function Xo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&27!==a&&null!==(e=e.child))for(Xo(e,t,n),e=e.sibling;null!==e;)Xo(e,t,n),e=e.sibling}var Jo=!1,Zo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,al=!1;function sl(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:gl(e,n),4&a&&Fo(5,n);break;case 1:if(gl(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){ad(n,n.return,o)}else{var s=Ti(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ad(n,n.return,l)}}64&a&&Vo(n),512&a&&Uo(n,n.return);break;case 3:if(gl(e,n),64&a&&null!==(a=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Bo(a,e)}catch(o){ad(n,n.return,o)}}break;case 26:gl(e,n),512&a&&Uo(n,n.return);break;case 27:case 5:gl(e,n),null===t&&4&a&&$o(n),512&a&&Uo(n,n.return);break;case 12:default:gl(e,n);break;case 13:gl(e,n),4&a&&dl(e,n);break;case 22:if(!(s=null!==n.memoizedState||Jo)){t=null!==t&&null!==t.memoizedState||Zo;var r=Jo,i=Zo;Jo=s,(Zo=t)&&!i?yl(e,n,0!==(8772&n.subtreeFlags)):gl(e,n),Jo=r,Zo=i}512&a&&("manual"===n.memoizedProps.mode?Uo(n,n.return):qo(n,n.return))}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var il=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,n)}catch(i){}switch(n.tag){case 26:Zo||qo(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||qo(n,t);var a=il,s=ol;for(il=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);$e(n),il=a,ol=s;break;case 5:Zo||qo(n,t);case 6:s=il;var r=ol;if(il=null,ll(e,t,n),ol=r,null!==(il=s))if(ol)try{e=il,a=n.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)}catch(o){ad(n,t,o)}else try{il.removeChild(n.stateNode)}catch(o){ad(n,t,o)}break;case 18:null!==il&&(ol?(t=il,n=n.stateNode,8===t.nodeType?ru(t.parentNode,n):1===t.nodeType&&ru(t,n),ph(t)):ru(il,n.stateNode));break;case 4:a=il,s=ol,il=n.stateNode.containerInfo,ol=!0,ll(e,t,n),il=a,ol=s;break;case 0:case 11:case 14:case 15:Zo||Wo(2,n,t),Zo||Wo(4,n,t),ll(e,t,n);break;case 1:Zo||(qo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&Ho(n,t,a)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zo||qo(n,t),Zo=(a=Zo)||null!==n.memoizedState,ll(e,t,n),Zo=a;break;default:ll(e,t,n)}}function dl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{ph(e)}catch(n){ad(t,t.return,n)}}function ul(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var a=ld.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a],r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:il=l.stateNode,ol=!1;break e;case 3:case 4:il=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===il)throw Error(i(160));cl(r,o,s),il=null,ol=!1,null!==(r=s.alternate)&&(r.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}var xl=null;function ml(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),pl(e),4&a&&(Wo(3,e,e.return),Fo(3,e),Wo(5,e,e.return));break;case 1:hl(t,e),pl(e),512&a&&(Zo||null===n||qo(n,n.return)),64&a&&Jo&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var s=xl;if(hl(t,e),pl(e),512&a&&(Zo||null===n||qo(n,n.return)),4&a){var r=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":(!(r=s.getElementsByTagName("title")[0])||r[qe]||r[De]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=s.createElement(a),s.head.insertBefore(r,s.querySelector("head > title"))),$d(r,a,n),r[De]=e,Xe(r),a=r;break e;case"link":var o=Cu("link","href",s).get(a+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((r=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}$d(r=s.createElement(a),a,n),s.head.appendChild(r);break;case"meta":if(o=Cu("meta","content",s).get(a+(n.content||"")))for(l=0;l<o.length;l++)if((r=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}$d(r=s.createElement(a),a,n),s.head.appendChild(r);break;default:throw Error(i(468,a))}r[De]=e,Xe(r),a=r}e.stateNode=a}else Mu(s,e.type,e.stateNode);else e.stateNode=wu(s,a,e.memoizedProps);else r!==a?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===a?Mu(s,e.type,e.stateNode):wu(s,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Go(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&a&&null===e.alternate){s=e.stateNode,r=e.memoizedProps;try{for(var c=s.firstChild;c;){var d=c.nextSibling,u=c.nodeName;c[qe]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===c.rel.toLowerCase()||s.removeChild(c),c=d}for(var h=e.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);$d(s,h,r),s[De]=e,s[Be]=r}catch(p){ad(e,e.return,p)}}case 5:if(hl(t,e),pl(e),512&a&&(Zo||null===n||qo(n,n.return)),32&e.flags){s=e.stateNode;try{wt(s,"")}catch(p){ad(e,e.return,p)}}4&a&&null!=e.stateNode&&Go(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&a&&(el=!0);break;case 6:if(hl(t,e),pl(e),4&a){if(null===e.stateNode)throw Error(i(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(p){ad(e,e.return,p)}}break;case 3:if(Su=null,s=xl,xl=hu(t.containerInfo),hl(t,e),xl=s,pl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{ph(t.containerInfo)}catch(p){ad(e,e.return,p)}el&&(el=!1,fl(e));break;case 4:a=xl,xl=hu(e.stateNode.containerInfo),hl(t,e),pl(e),xl=a;break;case 12:hl(t,e),pl(e);break;case 13:hl(t,e),pl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(yc=le()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,ul(e,a)));break;case 22:if(512&a&&(Zo||null===n||qo(n,n.return)),c=null!==e.memoizedState,d=null!==n&&null!==n.memoizedState,Jo=(u=Jo)||c,Zo=(h=Zo)||d,hl(t,e),Zo=h,Jo=u,pl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&a&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Jo||Zo,null===n||d||t||bl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){d=n=t;try{if(s=d.stateNode,c)"function"===typeof(r=s.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{o=d.stateNode;var m=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(p){ad(d,d.return,p)}}}else if(6===t.tag){if(null===n){d=t;try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){ad(d,d.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,ul(e,n))));break;case 19:hl(t,e),pl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,ul(e,a)));break;case 21:break;default:hl(t,e),pl(e)}}function pl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Yo(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 27:var s=a.stateNode;Xo(e,Qo(e),s);break;case 5:var r=a.stateNode;32&a.flags&&(wt(r,""),a.flags&=-33),Xo(e,Qo(e),r);break;case 3:case 4:var o=a.stateNode.containerInfo;Ko(e,Qo(e),o);break;default:throw Error(i(161))}}}catch(l){ad(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;fl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)sl(e,t.alternate,t),t=t.sibling}function bl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wo(4,t,t.return),bl(t);break;case 1:qo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Ho(t,t.return,n),bl(t);break;case 26:case 27:case 5:qo(t,t.return),bl(t);break;case 22:qo(t,t.return),null===t.memoizedState&&bl(t);break;default:bl(t)}e=e.sibling}}function yl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,s=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:yl(s,r,n),Fo(4,r);break;case 1:if(yl(s,r,n),"function"===typeof(s=(a=r).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){ad(a,a.return,c)}if(null!==(s=(a=r).updateQueue)){var o=a.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)Do(l[s],o)}catch(c){ad(a,a.return,c)}}n&&64&i&&Vo(r),Uo(r,r.return);break;case 26:case 27:case 5:yl(s,r,n),n&&null===a&&4&i&&$o(r),Uo(r,r.return);break;case 12:default:yl(s,r,n);break;case 13:yl(s,r,n),n&&4&i&&dl(s,r);break;case 22:null===r.memoizedState&&yl(s,r,n),Uo(r,r.return)}t=t.sibling}}function vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ws(n))}function jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ws(e))}function wl(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t,n,a),t=t.sibling}function Nl(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:wl(e,t,n,a),2048&s&&Fo(9,t);break;case 3:wl(e,t,n,a),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ws(e)));break;case 12:if(2048&s){wl(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,o=r.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ad(t,t.return,l)}}else wl(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,null!==t.memoizedState?4&r._visibility?wl(e,t,n,a):kl(e,t):4&r._visibility?wl(e,t,n,a):(r._visibility|=4,_l(e,t,n,a,0!==(10256&t.subtreeFlags))),2048&s&&vl(t.alternate,t);break;case 24:wl(e,t,n,a),2048&s&&jl(t.alternate,t);break;default:wl(e,t,n,a)}}function _l(e,t,n,a,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var r=e,i=t,o=n,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:_l(r,i,o,l,s),Fo(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?4&d._visibility?_l(r,i,o,l,s):kl(r,i):(d._visibility|=4,_l(r,i,o,l,s)),s&&2048&c&&vl(i.alternate,i);break;case 24:_l(r,i,o,l,s),s&&2048&c&&jl(i.alternate,i);break;default:_l(r,i,o,l,s)}t=t.sibling}}function kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:kl(n,a),2048&s&&vl(a.alternate,a);break;case 24:kl(n,a),2048&s&&jl(a.alternate,a);break;default:kl(n,a)}t=t.sibling}}var Sl=8192;function Cl(e){if(e.subtreeFlags&Sl)for(e=e.child;null!==e;)Ml(e),e=e.sibling}function Ml(e){switch(e.tag){case 26:Cl(e),e.flags&Sl&&null!==e.memoizedState&&function(e,t,n){if(null===Eu)throw Error(i(475));var a=Eu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=gu(n.href),r=e.querySelector(bu(s));if(r)return null!==(e=r._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=Tu.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=r,void Xe(r);r=e.ownerDocument||e,n=yu(n),(s=du.get(s))&&_u(n,s),Xe(r=r.createElement("link"));var o=r;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),$d(r,"link",n),t.instance=r}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=Tu.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(xl,e.memoizedState,e.memoizedProps);break;case 5:default:Cl(e);break;case 3:case 4:var t=xl;xl=hu(e.stateNode.containerInfo),Cl(e),xl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Sl,Sl=16777216,Cl(e),Sl=t):Cl(e))}}function Ll(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function El(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];nl=a,Pl(a,e)}Ll(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:El(e),2048&e.flags&&Wo(9,e,e.return);break;case 3:case 12:default:El(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Tl(e)):El(e)}}function Tl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];nl=a,Pl(a,e)}Ll(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Wo(8,t,t.return),Tl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Tl(t));break;default:Tl(t)}e=e.sibling}}function Pl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Wo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Ws(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,nl=a;else e:for(n=e;null!==nl;){var s=(a=nl).sibling,r=a.return;if(rl(a),a===n){nl=null;break e}if(null!==s){s.return=r,nl=s;break e}nl=r}}}function zl(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,a){return new zl(e,t,n,a)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Il(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Dl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bl(e,t,n,a,s,r){var o=0;if(a=e,"function"===typeof e)Rl(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Fl(n.children,s,r,t);case h:o=8,s|=24;break;case x:return(e=Ol(12,n,t,2|s)).elementType=x,e.lanes=r,e;case b:return(e=Ol(13,n,t,s)).elementType=b,e.lanes=r,e;case y:return(e=Ol(19,n,t,s)).elementType=y,e.lanes=r,e;case w:return Wl(n,s,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:case f:o=10;break e;case p:o=9;break e;case g:o=11;break e;case v:o=14;break e;case j:o=16,a=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),a=null}return(t=Ol(o,n,t,s)).elementType=e,t.type=a,t.lanes=r,t}function Fl(e,t,n,a){return(e=Ol(7,e,a,t)).lanes=n,e}function Wl(e,t,n,a){(e=Ol(22,e,a,t)).elementType=w,e.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=s._current;if(null===e)throw Error(i(456));if(0===(2&s._pendingVisibility)){var t=La(e,2);null!==t&&(s._pendingVisibility|=2,Tc(t,e,2))}},attach:function(){var e=s._current;if(null===e)throw Error(i(456));if(0!==(2&s._pendingVisibility)){var t=La(e,2);null!==t&&(s._pendingVisibility&=-3,Tc(t,e,2))}}};return e.stateNode=s,e}function Vl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Hl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e){e.flags|=4}function ql(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Lu(t)){if(null!==(t=Ms.current)&&((4194176&ac)===ac?null!==Ls:(62914560&ac)!==ac&&0===(536870912&ac)||t!==Ls))throw hs=ls,os;e.flags|=8192}}function $l(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,pc|=t)}function Gl(e,t){if(!Ka)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=31457280&s.subtreeFlags,a|=31457280&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ql(e,t,n){var a=t.pendingProps;switch(Ga(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Yl(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),yo(Bs),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(as(t)?Ul(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xa&&(zc(Xa),Xa=null))),Yl(t),null;case 26:return n=t.memoizedState,null===e?(Ul(t),null!==n?(Yl(t),ql(t,n)):(Yl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ul(t),Yl(t),ql(t,n)):(Yl(t),t.flags&=-16777217):(e.memoizedProps!==a&&Ul(t),Yl(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Ul(t);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Yl(t),null}e=Q.current,as(t)?ts(t):(e=cu(s,a,n),t.stateNode=e,Ul(t))}return Yl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Ul(t);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Yl(t),null}if(e=Q.current,as(t))ts(t);else{switch(s=Qd(X.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?s.createElement(n,{is:a.is}):s.createElement(n)}}e[De]=t,e[Be]=a;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch($d(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ul(t)}}return Yl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Ul(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(e=X.current,as(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(s=Ya))switch(s.tag){case 27:case 5:a=s.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Vd(e.nodeValue,n)))||es(t)}else(e=Qd(e).createTextNode(a))[De]=t,t.stateNode=e}return Yl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=as(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[De]=t}else ss(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),s=!1}else null!==Xa&&(zc(Xa),Xa=null),s=!0;if(!s)return 256&t.flags?(Ps(t),t):(Ps(t),null)}if(Ps(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(s=a.alternate.memoizedState.cachePool.pool);var r=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),$l(t,t.updateQueue),Yl(t),null;case 4:return ee(),null===e&&Td(t.stateNode.containerInfo),Yl(t),null;case 10:return yo(t.type),Yl(t),null;case 19:if(G(zs),null===(s=t.memoizedState))return Yl(t),null;if(a=0!==(128&t.flags),null===(r=s.rendering))if(a)Gl(s,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=Os(e))){for(t.flags|=128,Gl(s,!1),e=r.updateQueue,t.updateQueue=e,$l(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Dl(n,e),n=n.sibling;return Y(zs,1&zs.current|2),t.child}e=e.sibling}null!==s.tail&&le()>vc&&(t.flags|=128,a=!0,Gl(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Os(r))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$l(t,e),Gl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!r.alternate&&!Ka)return Yl(t),null}else 2*le()-s.renderingStartTime>vc&&536870912!==n&&(t.flags|=128,a=!0,Gl(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=s.last)?e.sibling=r:t.child=r,s.last=r)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=le(),t.sibling=null,e=zs.current,Y(zs,a?1&e|2:1&e),t):(Yl(t),null);case 22:case 23:return Ps(t),Cs(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null!==(n=t.updateQueue)&&$l(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&G(Ys),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yo(Bs),Yl(t),null;case 25:return null}throw Error(i(156,t.tag))}function Kl(e,t){switch(Ga(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yo(Bs),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Ps(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ss()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(zs),null;case 4:return ee(),null;case 10:return yo(t.type),null;case 22:case 23:return Ps(t),Cs(),null!==e&&G(Ys),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yo(Bs),null;default:return null}}function Xl(e,t){switch(Ga(t),t.tag){case 3:yo(Bs),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Ps(t);break;case 19:G(zs);break;case 10:yo(t.type);break;case 22:case 23:Ps(t),Cs(),null!==e&&G(Ys);break;case 24:yo(Bs)}}var Jl={getCacheForType:function(e){var t=ko(Bs),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,ac=0,sc=0,rc=null,ic=!1,oc=!1,lc=!1,cc=0,dc=0,uc=0,hc=0,xc=0,mc=0,pc=0,fc=null,gc=null,bc=!1,yc=0,vc=1/0,jc=null,wc=null,Nc=!1,_c=null,kc=0,Sc=0,Cc=null,Mc=0,Lc=null;function Ec(){if(0!==(2&ec)&&0!==ac)return ac&-ac;if(null!==E.T){return 0!==Us?Us:jd()}return Re()}function Ac(){0===mc&&(mc=0===(536870912&ac)||Ka?Le():536870912);var e=Ms.current;return null!==e&&(e.flags|=32),mc}function Tc(e,t,n){(e===tc&&2===sc||null!==e.cancelPendingCommit)&&(Fc(e,0),Ic(e,ac,mc,!1)),Te(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===dc&&Ic(e,ac,mc,!1)),pd(e))}function Pc(e,t,n){if(0!==(6&ec))throw Error(i(327));for(var a=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),s=a?function(e,t){var n=ec;ec|=2;var a=Vc(),s=Hc();tc!==e||ac!==t?(jc=null,vc=le()+500,Fc(e,t)):oc=Ce(e,t);e:for(;;)try{if(0!==sc&&null!==nc){t=nc;var r=rc;t:switch(sc){case 1:sc=0,rc=null,Kc(e,t,r,1);break;case 2:if(cs(r)){sc=0,rc=null,Qc(t);break}t=function(){2===sc&&tc===e&&(sc=7),pd(e)},r.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:cs(r)?(sc=0,rc=null,Qc(t)):(sc=0,rc=null,Kc(e,t,r,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Lu(o)){sc=0,rc=null;var c=l.sibling;if(null!==c)nc=c;else{var d=l.return;null!==d?(nc=d,Xc(d)):nc=null}break t}}sc=0,rc=null,Kc(e,t,r,5);break;case 6:sc=0,rc=null,Kc(e,t,r,6);break;case 8:Bc(),dc=6;break e;default:throw Error(i(462))}}Gc();break}catch(u){Wc(e,u)}return go=fo=null,E.H=a,E.A=s,ec=n,null!==nc?0:(tc=null,ac=0,Sa(),dc)}(e,t):qc(e,t,!0),r=a;;){if(0===s){oc&&!a&&Ic(e,t,0,!1);break}if(6===s)Ic(e,t,0,!ic);else{if(n=e.current.alternate,r&&!Rc(n)){s=qc(e,t,!1),r=!1;continue}if(2===s){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=fc;var c=l.current.memoizedState.isDehydrated;if(c&&(Fc(l,o).flags|=256),2!==(o=qc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=r,hc|=r,s=4;break e}r=gc,gc=s,null!==r&&zc(r)}s=o}if(r=!1,2!==s)continue}}if(1===s){Fc(e,0),Ic(e,t,0,!0);break}e:{switch(a=e,s){case 0:case 1:throw Error(i(345));case 4:if((4194176&t)===t){Ic(a,t,mc,!ic);break e}break;case 2:gc=null;break;case 3:case 5:break;default:throw Error(i(329))}if(a.finishedWork=n,a.finishedLanes=t,(62914560&t)===t&&10<(r=yc+300-le())){if(Ic(a,t,mc,!ic),0!==Se(a,0))break e;a.timeoutHandle=eu(Oc.bind(null,a,n,gc,jc,bc,t,mc,hc,pc,ic,2,-0,0),r)}else Oc(a,n,gc,jc,bc,t,mc,hc,pc,ic,0,-0,0)}}break}pd(e)}function zc(e){null===gc?gc=e:gc.push.apply(gc,e)}function Oc(e,t,n,a,s,r,o,l,c,d,u,h,x){var m=t.subtreeFlags;if((8192&m||16785408===(16785408&m))&&(Eu={stylesheets:null,count:0,unsuspend:Au},Ml(t),null!==(t=function(){if(null===Eu)throw Error(i(475));var e=Eu;return e.stylesheets&&0===e.count&&zu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&zu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,a,s,o,l,c,1,h,x)),void Ic(e,r,o,!d);Zc(e,n,a,s,o,l,c,u,h,x)}function Rc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var s=n[a],r=s.getSnapshot;s=s.value;try{if(!Yn(r(),s))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ic(e,t,n,a){t&=~xc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var r=31-ve(s),i=1<<r;a[r]=-1,s&=~i}0!==n&&Pe(e,n,t)}function Dc(){return 0!==(6&ec)||(fd(0,!1),!1)}function Bc(){if(null!==nc){if(0===sc)var e=nc.return;else go=fo=null,gr(e=nc),ms=null,ps=0,e=nc;for(;null!==e;)Xl(e.alternate,e),e=e.return;nc=null}}function Fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,tu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),tc=e,nc=n=Il(e.current,null),ac=t,sc=0,rc=null,ic=!1,oc=Ce(e,t),lc=!1,pc=mc=xc=hc=uc=dc=0,gc=fc=null,bc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var s=31-ve(a),r=1<<s;t|=e[s],a&=~r}return cc=t,Sa(),n}function Wc(e,t){Zs=null,E.H=_i,t===is?(t=xs(),sc=3):t===os?(t=xs(),sc=4):sc=t===Vi?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,rc=t,null===nc&&(dc=1,Ii(e,za(t,e.current)))}function Vc(){var e=E.H;return E.H=_i,null===e?_i:e}function Hc(){var e=E.A;return E.A=Jl,e}function Uc(){dc=4,ic||(4194176&ac)!==ac&&null!==Ms.current||(oc=!0),0===(134217727&uc)&&0===(134217727&hc)||null===tc||Ic(tc,ac,mc,!1)}function qc(e,t,n){var a=ec;ec|=2;var s=Vc(),r=Hc();tc===e&&ac===t||(jc=null,Fc(e,t)),t=!1;var i=dc;e:for(;;)try{if(0!==sc&&null!==nc){var o=nc,l=rc;switch(sc){case 8:Bc(),i=6;break e;case 3:case 2:case 6:null===Ms.current&&(t=!0);var c=sc;if(sc=0,rc=null,Kc(e,o,l,c),n&&oc){i=0;break e}break;default:c=sc,sc=0,rc=null,Kc(e,o,l,c)}}$c(),i=dc;break}catch(d){Wc(e,d)}return t&&e.shellSuspendCounter++,go=fo=null,ec=a,E.H=s,E.A=r,null===nc&&(tc=null,ac=0,Sa()),i}function $c(){for(;null!==nc;)Yc(nc)}function Gc(){for(;null!==nc&&!ie();)Yc(nc)}function Yc(e){var t=mo(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ji(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ji(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:gr(t);default:Xl(n,t),t=mo(n,t=nc=Dl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Kc(e,t,n,a){go=fo=null,gr(t),ms=null,ps=0;var s=t.return;try{if(function(e,t,n,a,s){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&wo(t,n,s,!0),null!==(n=Ms.current)){switch(n.tag){case 13:return null===Ls?Uc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===ls?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),sd(e,a,s)),!1;case 22:return n.flags|=65536,a===ls?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),sd(e,a,s)),!1}throw Error(i(435,n.tag))}return sd(e,a,s),Uc(),!1}if(Ka)return null!==(t=Ms.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Za&&rs(za(e=Error(i(422),{cause:a}),n))):(a!==Za&&rs(za(t=Error(i(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,a=za(a,n),zo(e,s=Bi(e.stateNode,a,s)),4!==dc&&(dc=2)),!1;var r=Error(i(520),{cause:a});if(r=za(r,n),null===fc?fc=[r]:fc.push(r),4!==dc&&(dc=2),null===t)return!0;a=za(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,zo(n,e=Bi(n.stateNode,a,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===wc||!wc.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,Wi(s=Fi(s),e,n,a),zo(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ac))return dc=1,Ii(e,za(n,e.current)),void(nc=null)}catch(r){if(null!==s)throw nc=s,r;return dc=1,Ii(e,za(n,e.current)),void(nc=null)}32768&t.flags?(Ka||1===a?e=!0:oc||0!==(536870912&ac)?e=!1:(ic=e=!0,(2===a||3===a||6===a)&&(null!==(a=Ms.current)&&13===a.tag&&(a.flags|=16384))),Jc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void Jc(t,ic);e=t.return;var n=Ql(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===dc&&(dc=5)}function Jc(e,t){do{var n=Kl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);dc=6,nc=null}function Zc(e,t,n,a,s,r,o,l,c,d){var u=E.T,h=V.p;try{V.p=2,E.T=null,function(e,t,n,a,s,r,o,l){do{td()}while(null!==_c);if(0!==(6&ec))throw Error(i(327));var c=e.finishedWork;if(a=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d=c.lanes|c.childLanes;if(function(e,t,n,a,s,r){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-ve(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var x=h[d];null!==x&&(x.lane&=-536870913)}n&=~u}0!==a&&Pe(e,a,0),0!==r&&0===s&&0!==e.tag&&(e.suspendedLanes|=r&~(i&~t))}(e,a,d|=ka,r,o,l),e===tc&&(nc=tc=null,ac=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Nc||(Nc=!0,Sc=d,Cc=n,function(e,t){se(e,t)}(he,(function(){return td(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=E.T,E.T=null,r=V.p,V.p=2,o=ec,ec|=4,function(e,t){if(e=e.containerInfo,Gd=Uu,ea(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(f){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,x=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==r||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)x=h,h=m;for(;;){if(h===e)break t;if(x===n&&++d===s&&(l=o),x===r&&++u===a&&(c=o),null!==(m=h.nextSibling))break;x=(h=x).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yd={focusedElem:e,selectionRange:n},Uu=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(r=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var p=Ti(n.type,s,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(p,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(g){ad(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))iu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":iu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}p=al,al=!1}(e,c),ml(c,e),ta(Yd,e.containerInfo),Uu=!!Gd,Yd=Gd=null,e.current=c,sl(e,c.alternate,c),oe(),ec=o,V.p=r,E.T=n):e.current=c,Nc?(Nc=!1,_c=e,kc=a):ed(e,d),d=e.pendingLanes,0===d&&(wc=null),function(e){if(be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),pd(e),null!==t)for(s=e.onRecoverableError,c=0;c<t.length;c++)d=t[c],s(d.value,{componentStack:d.stack});0!==(3&kc)&&td(),d=e.pendingLanes,0!==(4194218&a)&&0!==(42&d)?e===Lc?Mc++:(Mc=0,Lc=e):Mc=0,fd(0,!1)}(e,t,n,a,h,s,r,o)}finally{E.T=u,V.p=h}}function ed(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ws(t)))}function td(){if(null!==_c){var e=_c,t=Sc;Sc=0;var n=Oe(kc),a=E.T,s=V.p;try{if(V.p=32>n?32:n,E.T=null,null===_c)var r=!1;else{n=Cc,Cc=null;var o=_c,l=kc;if(_c=null,kc=0,0!==(6&ec))throw Error(i(331));var c=ec;if(ec|=4,Al(o.current),Nl(o,o.current,l,n),ec=c,fd(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,o)}catch(d){}r=!0}return r}finally{V.p=s,E.T=a,ed(e,t)}}return!1}function nd(e,t,n){t=za(n,t),null!==(e=To(e,t=Bi(e.stateNode,t,2),2))&&(Te(e,2),pd(e))}function ad(e,t,n){if(3===e.tag)nd(e,e,n);else for(;null!==t;){if(3===t.tag){nd(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===wc||!wc.has(a))){e=za(n,e),null!==(a=To(t,n=Fi(2),2))&&(Wi(n,a,t,e),Te(a,2),pd(a));break}}t=t.return}}function sd(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new Zl;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(n)||(lc=!0,s.add(n),e=rd.bind(null,e,t,n),t.then(e,e))}function rd(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(ac&n)===n&&(4===dc||3===dc&&(62914560&ac)===ac&&300>le()-yc?0===(2&ec)&&Fc(e,0):xc|=n,pc===ac&&(pc=0)),pd(e)}function id(e,t){0===t&&(t=Ee()),null!==(e=La(e,t))&&(Te(e,t),pd(e))}function od(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),id(e,n)}function ld(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==a&&a.delete(t),id(e,n)}var cd=null,dd=null,ud=!1,hd=!1,xd=!1,md=0;function pd(e){var t;e!==dd&&null===e.next&&(null===dd?cd=dd=e:dd=dd.next=e),hd=!0,ud||(ud=!0,t=gd,au((function(){0!==(6&ec)?se(de,t):t()})))}function fd(e,t){if(!xd&&hd){xd=!0;do{for(var n=!1,a=cd;null!==a;){if(!t)if(0!==e){var s=a.pendingLanes;if(0===s)var r=0;else{var i=a.suspendedLanes,o=a.pingedLanes;r=(1<<31-ve(42|e)+1)-1,r=201326677&(r&=s&~(i&~o))?201326677&r|1:r?2|r:0}0!==r&&(n=!0,vd(a,r))}else r=ac,0===(3&(r=Se(a,a===tc?r:0)))||Ce(a,r)||(n=!0,vd(a,r));a=a.next}}while(n);xd=!1}}function gd(){hd=ud=!1;var e=0;0!==md&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zd&&(Zd=e,!0);return Zd=null,!1}()&&(e=md),md=0);for(var t=le(),n=null,a=cd;null!==a;){var s=a.next,r=bd(a,t);0===r?(a.next=null,null===n?cd=s:n.next=s,null===s&&(dd=n)):(n=a,(0!==e||0!==(3&r))&&(hd=!0)),a=s}fd(e,!1)}function bd(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var i=31-ve(r),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&a)||(s[i]=Me(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}if(n=ac,n=Se(e,e===(t=tc)?n:0),a=e.callbackNode,0===n||e===t&&2===sc||null!==e.cancelPendingCommit)return null!==a&&null!==a&&re(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&re(a),Oe(n)){case 2:case 8:n=ue;break;case 32:default:n=he;break;case 268435456:n=me}return a=yd.bind(null,e),n=se(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&re(a),e.callbackPriority=2,e.callbackNode=null,2}function yd(e,t){var n=e.callbackNode;if(td()&&e.callbackNode!==n)return null;var a=ac;return 0===(a=Se(e,e===tc?a:0))?null:(Pc(e,a,t),bd(e,le()),null!=e.callbackNode&&e.callbackNode===n?yd.bind(null,e):null)}function vd(e,t){if(td())return null;Pc(e,t,!0)}function jd(){return 0===md&&(md=Le()),md}function wd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function Nd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var _d=0;_d<ja.length;_d++){var kd=ja[_d];wa(kd.toLowerCase(),"on"+(kd[0].toUpperCase()+kd.slice(1)))}wa(xa,"onAnimationEnd"),wa(ma,"onAnimationIteration"),wa(pa,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(fa,"onTransitionRun"),wa(ga,"onTransitionStart"),wa(ba,"onTransitionCancel"),wa(ya,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sd));function Md(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(d){Pi(d)}s.currentTarget=null,r=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(d){Pi(d)}s.currentTarget=null,r=l}}}}function Ld(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var a=e+"__bubble";n.has(a)||(Pd(t,e,2,!1),n.add(a))}function Ed(e,t,n){var a=0;t&&(a|=4),Pd(n,e,a,t)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[Ad]){e[Ad]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Cd.has(t)||Ed(t,!1,e),Ed(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ad]||(t[Ad]=!0,Ed("selectionchange",!1,t))}}function Pd(e,t,n,a){switch(Xu(t)){case 2:var s=qu;break;case 8:s=$u;break;default:s=Gu}n=s.bind(null,t,n,e),s=void 0,!Dt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zd(e,t,n,a,s){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=Ge(o)))return;if(5===(l=i.tag)||6===l||26===l||27===l){a=r=i;continue e}o=o.parentNode}}a=a.return}Rt((function(){var a=r,s=At(n),i=[];e:{var o=va.get(e);if(void 0!==o){var l=Jt,c=e;switch(e){case"keypress":if(0===Ut(n))break e;case"keydown":case"keyup":l=mn;break;case"focusin":c="focus",l=sn;break;case"focusout":c="blur",l=sn;break;case"beforeblur":case"afterblur":l=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=fn;break;case xa:case ma:case pa:l=rn;break;case ya:l=gn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=bn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=pn;break;case"toggle":case"beforetoggle":l=yn}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==o?o+"Capture":null:o;d=[];for(var x,m=a;null!==m;){var p=m;if(x=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===x||null===h||null!=(p=It(m,h))&&d.push(Od(m,p,x)),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Et||!(c=n.relatedTarget||n.fromElement)||!Ge(c)&&!c[Fe])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?Ge(c):null)&&(u=I(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=a),l!==c)){if(d=nn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=pn,p="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:Qe(l),x=null==c?o:Qe(c),(o=new d(p,m+"leave",l,n,s)).target=u,o.relatedTarget=x,p=null,Ge(s)===a&&((d=new d(h,m+"enter",c,n,s)).target=x,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,m=0,x=d=l;x;x=Id(x))m++;for(x=0,p=h;p;p=Id(p))x++;for(;0<m-x;)d=Id(d),m--;for(;0<x-m;)h=Id(h),x--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Id(d),h=Id(h)}d=null}else d=null;null!==l&&Dd(i,o,l,d,!1),null!==c&&null!==u&&Dd(i,u,c,d,!0)}if("select"===(l=(o=a?Qe(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=In;else if(An(o))if(Dn)f=Gn;else{f=qn;var g=Un}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&St(a.elementType)&&(f=In):f=$n;switch(f&&(f=f(e,a))?Tn(i,f,n,s):(g&&g(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&bt(o,"number",o.value)),g=a?Qe(a):window,e){case"focusin":(An(g)||"true"===g.contentEditable)&&(aa=g,sa=a,ra=null);break;case"focusout":ra=sa=aa=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,oa(i,n,s);break;case"selectionchange":if(na)break;case"keydown":case"keyup":oa(i,n,s)}var b;if(jn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ln?Cn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(_n&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ln&&(b=Ht()):(Wt="value"in(Ft=s)?Ft.value:Ft.textContent,Ln=!0)),0<(g=Rd(a,y)).length&&(y=new ln(y,e,null,n,s),i.push({event:y,listeners:g}),b?y.data=b:null!==(b=Mn(n))&&(y.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Sn=!0,kn);case"textInput":return(e=t.data)===kn&&Sn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!jn&&Cn(e,t)?(e=Ht(),Vt=Wt=Ft=null,Ln=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Rd(a,"onBeforeInput")).length&&(g=new ln("onBeforeInput","beforeinput",null,n,s),i.push({event:g,listeners:y}),g.data=b)),function(e,t,n,a,s){if("submit"===t&&n&&n.stateNode===s){var r=wd((s[Be]||null).action),i=a.submitter;i&&null!==(t=(t=i[Be]||null)?wd(t.formAction):i.getAttribute("formAction"))&&(r=t,i=null);var o=new Jt("action","action",null,a,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==md){var e=i?Nd(s,i):new FormData(s);di(n,{pending:!0,data:e,method:s.method,action:r},null,e)}}else"function"===typeof r&&(o.preventDefault(),e=i?Nd(s,i):new FormData(s),di(n,{pending:!0,data:e,method:s.method,action:r},r,e))},currentTarget:s}]})}}(i,e,a,n,s)}Md(i,t)}))}function Od(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rd(e,t){for(var n=t+"Capture",a=[];null!==e;){var s=e,r=s.stateNode;5!==(s=s.tag)&&26!==s&&27!==s||null===r||(null!=(s=It(e,n))&&a.unshift(Od(e,s,r)),null!=(s=It(e,t))&&a.push(Od(e,s,r))),e=e.return}return a}function Id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Dd(e,t,n,a,s){for(var r=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=It(n,r))&&i.unshift(Od(n,c,l)):s||null!=(c=It(n,r))&&i.push(Od(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Bd=/\r\n?/g,Fd=/\u0000|\uFFFD/g;function Wd(e){return("string"===typeof e?e:""+e).replace(Bd,"\n").replace(Fd,"")}function Vd(e,t){return t=Wd(t),Wd(e)===t}function Hd(){}function Ud(e,t,n,a,s,r){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||wt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&wt(e,""+a);break;case"className":ot(e,"class",a);break;case"tabIndex":ot(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,a);break;case"style":kt(e,a,r);break;case"data":if("object"!==t){ot(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Lt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&Ud(e,t,"name",s.name,s,null),Ud(e,t,"formEncType",s.formEncType,s,null),Ud(e,t,"formMethod",s.formMethod,s,null),Ud(e,t,"formTarget",s.formTarget,s,null)):(Ud(e,t,"encType",s.encType,s,null),Ud(e,t,"method",s.method,s,null),Ud(e,t,"target",s.target,s,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Lt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Hd);break;case"onScroll":null!=a&&Ld("scroll",e);break;case"onScrollEnd":null!=a&&Ld("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Lt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ld("beforetoggle",e),Ld("toggle",e),it(e,"popover",a);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":it(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&it(e,n=Ct.get(n)||n,a)}}function qd(e,t,n,a,s,r){switch(n){case"style":kt(e,a,r);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(i(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof a?wt(e,a):("number"===typeof a||"bigint"===typeof a)&&wt(e,""+a);break;case"onScroll":null!=a&&Ld("scroll",e);break;case"onScrollEnd":null!=a&&Ld("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Be]||null)?r[n]:null)&&e.removeEventListener(t,r,s),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):it(e,n,a):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s)))}}function $d(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ld("error",e),Ld("load",e);var a,s=!1,r=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ud(e,t,a,o,n,null)}}return r&&Ud(e,t,"srcSet",n.srcSet,n,null),void(s&&Ud(e,t,"src",n.src,n,null));case"input":Ld("invalid",e);var l=a=o=r=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(null!=u)switch(s){case"name":r=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:Ud(e,t,s,u,n,null)}}return gt(e,a,l,c,d,o,r,!1),void ut(e);case"select":for(r in Ld("invalid",e),s=o=a=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Ud(e,t,r,l,n,null)}return t=a,n=o,e.multiple=!!s,void(null!=t?yt(e,!!s,t,!1):null!=n&&yt(e,!!s,n,!0));case"textarea":for(o in Ld("invalid",e),a=r=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Ud(e,t,o,l,n,null)}return jt(e,s,r,a),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Ud(e,t,c,s,n,null);return;case"dialog":Ld("cancel",e),Ld("close",e);break;case"iframe":case"object":Ld("load",e);break;case"video":case"audio":for(s=0;s<Sd.length;s++)Ld(Sd[s],e);break;case"image":Ld("error",e),Ld("load",e);break;case"details":Ld("toggle",e);break;case"embed":case"source":case"link":Ld("error",e),Ld("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(s=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ud(e,t,d,s,n,null)}return;default:if(St(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(s=n[u])&&qd(e,t,u,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Ud(e,t,l,s,n,null))}var Gd=null,Yd=null;function Qd(e){return 9===e.nodeType?e:e.ownerDocument}function Kd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Jd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zd=null;var eu="function"===typeof setTimeout?setTimeout:void 0,tu="function"===typeof clearTimeout?clearTimeout:void 0,nu="function"===typeof Promise?Promise:void 0,au="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nu?function(e){return nu.resolve(null).then(e).catch(su)}:eu;function su(e){setTimeout((function(){throw e}))}function ru(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===a)return e.removeChild(s),void ph(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=s}while(n);ph(t)}function iu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":iu(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function ou(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function lu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cu(e,t,n){switch(t=Qd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}var du=new Map,uu=new Set;function hu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var xu=V.d;V.d={f:function(){var e=xu.f(),t=Dc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?hi(t):xu.r(e)},D:function(e){xu.D(e),pu("dns-prefetch",e,null)},C:function(e,t){xu.C(e,t),pu("preconnect",e,t)},L:function(e,t,n){xu.L(e,t,n);var a=mu;if(a&&e&&t){var s='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+pt(n.imageSizes)+'"]')):s+='[href="'+pt(e)+'"]';var r=s;switch(t){case"style":r=gu(e);break;case"script":r=vu(e)}du.has(r)||(e=A({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),du.set(r,e),null!==a.querySelector(s)||"style"===t&&a.querySelector(bu(r))||"script"===t&&a.querySelector(ju(r))||($d(t=a.createElement("link"),"link",e),Xe(t),a.head.appendChild(t)))}},m:function(e,t){xu.m(e,t);var n=mu;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+pt(a)+'"][href="'+pt(e)+'"]',r=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=vu(e)}if(!du.has(r)&&(e=A({rel:"modulepreload",href:e},t),du.set(r,e),null===n.querySelector(s))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ju(r)))return}$d(a=n.createElement("link"),"link",e),Xe(a),n.head.appendChild(a)}}},X:function(e,t){xu.X(e,t);var n=mu;if(n&&e){var a=Ke(n).hoistableScripts,s=vu(e),r=a.get(s);r||((r=n.querySelector(ju(s)))||(e=A({src:e,async:!0},t),(t=du.get(s))&&ku(e,t),Xe(r=n.createElement("script")),$d(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}},S:function(e,t,n){xu.S(e,t,n);var a=mu;if(a&&e){var s=Ke(a).hoistableStyles,r=gu(e);t=t||"default";var i=s.get(r);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(bu(r)))o.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=du.get(r))&&_u(e,n);var l=i=a.createElement("link");Xe(l),$d(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Nu(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(r,i)}}},M:function(e,t){xu.M(e,t);var n=mu;if(n&&e){var a=Ke(n).hoistableScripts,s=vu(e),r=a.get(s);r||((r=n.querySelector(ju(s)))||(e=A({src:e,async:!0,type:"module"},t),(t=du.get(s))&&ku(e,t),Xe(r=n.createElement("script")),$d(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}};var mu="undefined"===typeof document?null:document;function pu(e,t,n){var a=mu;if(a&&"string"===typeof t&&t){var s=pt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),uu.has(s)||(uu.add(s),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(s)&&($d(t=a.createElement("link"),"link",e),Xe(t),a.head.appendChild(t)))}}function fu(e,t,n,a){var s,r,o,l,c=(c=X.current)?hu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=gu(n.href),(a=(n=Ke(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=gu(n.href);var d=Ke(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(bu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),du.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},du.set(e,n),d||(s=c,r=e,o=n,l=u.state,s.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=s.createElement("link"),l.preload=r,r.addEventListener("load",(function(){return l.loading|=1})),r.addEventListener("error",(function(){return l.loading|=2})),$d(r,"link",o),Xe(r),s.head.appendChild(r))))),t&&null===a)throw Error(i(528,""));return u}if(t&&null!==a)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=vu(n),(a=(n=Ke(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function gu(e){return'href="'+pt(e)+'"'}function bu(e){return'link[rel="stylesheet"]['+e+"]"}function yu(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function vu(e){return'[src="'+pt(e)+'"]'}function ju(e){return"script[async]"+e}function wu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(a)return t.instance=a,Xe(a),a;var s=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(a=(e.ownerDocument||e).createElement("style")),$d(a,"style",s),Nu(a,n.precedence,e),t.instance=a;case"stylesheet":s=gu(n.href);var r=e.querySelector(bu(s));if(r)return t.state.loading|=4,t.instance=r,Xe(r),r;a=yu(n),(s=du.get(s))&&_u(a,s),Xe(r=(e.ownerDocument||e).createElement("link"));var o=r;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),$d(r,"link",a),t.state.loading|=4,Nu(r,n.precedence,e),t.instance=r;case"script":return r=vu(n.src),(s=e.querySelector(ju(r)))?(t.instance=s,Xe(s),s):(a=n,(s=du.get(r))&&ku(a=A({},n),s),Xe(s=(e=e.ownerDocument||e).createElement("script")),$d(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Nu(a,n.precedence,e));return t.instance}function Nu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,r=s,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function _u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ku(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Su=null;function Cu(e,t,n){if(null===Su){var a=new Map,s=Su=new Map;s.set(n,a)}else(a=(s=Su).get(n))||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[qe]||r[De]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var i=r.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(r):a.set(i,[r])}}return a}function Mu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Lu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Eu=null;function Au(){}function Tu(){if(this.count--,0===this.count)if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Pu=null;function zu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Pu=new Map,t.forEach(Ou,e),Pu=null,Tu.call(e))}function Ou(e,t){if(!(4&t.state.loading)){var n=Pu.get(e);if(n)var a=n.get(null);else{n=new Map,Pu.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var i=s[r];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),a=i)}a&&n.set(null,a)}i=(s=t.instance).getAttribute("data-precedence"),(r=n.get(i)||a)===a&&n.set(null,s),n.set(i,s),this.count++,a=Tu.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),r?r.parentNode.insertBefore(s,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Ru={$$typeof:f,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Iu(e,t,n,a,s,r,i,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Du(e,t,n,a,s,r,i,o,l,c,d,u){return e=new Iu(e,t,n,i,o,l,c,u),t=1,!0===r&&(t|=24),r=Ol(3,null,null,t),e.current=r,r.stateNode=e,(t=Fs()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},Lo(r),e}function Bu(e){return e?e=Ta:Ta}function Fu(e,t,n,a,s,r){s=Bu(s),null===a.context?a.context=s:a.pendingContext=s,(a=Ao(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(a.callback=r),null!==(n=To(e,a,t))&&(Tc(n,0,t),Po(n,e,t))}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}function Hu(e){if(13===e.tag){var t=La(e,67108864);null!==t&&Tc(t,0,67108864),Vu(e,67108864)}}var Uu=!0;function qu(e,t,n,a){var s=E.T;E.T=null;var r=V.p;try{V.p=2,Gu(e,t,n,a)}finally{V.p=r,E.T=s}}function $u(e,t,n,a){var s=E.T;E.T=null;var r=V.p;try{V.p=8,Gu(e,t,n,a)}finally{V.p=r,E.T=s}}function Gu(e,t,n,a){if(Uu){var s=Yu(a);if(null===s)zd(e,t,a,Qu,n),ih(e,a);else if(function(e,t,n,a,s){switch(t){case"focusin":return Zu=oh(Zu,e,t,n,a,s),!0;case"dragenter":return eh=oh(eh,e,t,n,a,s),!0;case"mouseover":return th=oh(th,e,t,n,a,s),!0;case"pointerover":var r=s.pointerId;return nh.set(r,oh(nh.get(r)||null,e,t,n,a,s)),!0;case"gotpointercapture":return r=s.pointerId,ah.set(r,oh(ah.get(r)||null,e,t,n,a,s)),!0}return!1}(s,e,t,n,a))a.stopPropagation();else if(ih(e,a),4&t&&-1<rh.indexOf(e)){for(;null!==s;){var r=Ye(s);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var i=ke(r.pendingLanes);if(0!==i){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-ve(i);o.entanglements[1]|=l,i&=~l}pd(r),0===(6&ec)&&(vc=le()+500,fd(0,!1))}}break;case 13:null!==(o=La(r,2))&&Tc(o,0,2),Dc(),Vu(r,2)}if(null===(r=Yu(a))&&zd(e,t,a,Qu,n),r===s)break;s=r}null!==s&&a.stopPropagation()}else zd(e,t,a,null,n)}}function Yu(e){return Ku(e=At(e))}var Qu=null;function Ku(e){if(Qu=null,null!==(e=Ge(e))){var t=I(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=D(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Qu=e,null}function Xu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case xe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Ju=!1,Zu=null,eh=null,th=null,nh=new Map,ah=new Map,sh=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ih(e,t){switch(e){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(t.pointerId)}}function oh(e,t,n,a,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=Ye(t))&&Hu(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function lh(e){var t=Ge(e.target);if(null!==t){var n=I(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=D(n)))return e.blockedOn=t,void function(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}(e.priority,(function(){if(13===n.tag){var e=Ec(),t=La(n,e);null!==t&&Tc(t,0,e),Vu(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yu(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&Hu(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Et=a,n.target.dispatchEvent(a),Et=null,t.shift()}return!0}function dh(e,t,n){ch(e)&&n.delete(t)}function uh(){Ju=!1,null!==Zu&&ch(Zu)&&(Zu=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(dh),ah.forEach(dh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ju||(Ju=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uh)))}var xh=null;function mh(e){xh!==e&&(xh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,(function(){xh===e&&(xh=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if("function"!==typeof a){if(null===Ku(a||n))continue;break}var r=Ye(n);null!==r&&(e.splice(t,3),t-=3,di(r,{pending:!0,data:s,method:n.method,action:a},a,s))}})))}function ph(e){function t(t){return hh(t,e)}null!==Zu&&hh(Zu,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),ah.forEach(t);for(var n=0;n<sh.length;n++){var a=sh[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<sh.length&&null===(n=sh[0]).blockedOn;)lh(n),null===n.blockedOn&&sh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var s=n[a],r=n[a+1],i=s[Be]||null;if("function"===typeof r)i||mh(n);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,i=r[Be]||null)o=i.formAction;else if(null!==Ku(s))continue}else o=i.action;"function"===typeof o?n[a+1]=o:(n.splice(a,3),a-=3),mh(n)}}}function fh(e){this._internalRoot=e}function gh(e){this._internalRoot=e}gh.prototype.render=fh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Fu(t.current,Ec(),e,t,null,null)},gh.prototype.unmount=fh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&td(),Fu(e.current,2,null,e,null,null),Dc(),t[Fe]=null}},gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sh.length&&0!==t&&t<sh[n].priority;n++);sh.splice(n,0,e),0===n&&lh(e)}};var bh=s.version;if("19.0.0"!==bh)throw Error(i(527,bh,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=I(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(a=s.return)){n=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return B(s),e;if(r===a)return B(s),t;r=r.sibling}throw Error(i(188))}if(n.return!==a.return)n=s,a=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,a=r;break}if(l===a){o=!0,a=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,a=s;break}if(l===a){o=!0,a=r,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?F(e):null)?null:e.stateNode};var yh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:E,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{ge=vh.inject(yh),be=vh}catch(wh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,a="",s=zi,r=Oi,l=Ri;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Du(e,1,!1,null,0,n,a,s,r,l,0,null),e[Fe]=t.current,Td(8===e.nodeType?e.parentNode:e),new fh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var a=!1,s="",r=zi,l=Oi,c=Ri,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Du(e,1,!0,t,0,a,s,r,l,c,0,d)).context=Bu(null),n=t.current,(s=Ao(a=Ec())).callback=null,To(n,s,a),t.current.lanes=a,Te(t,a),pd(t),e[Fe]=t.current,Td(e),new gh(t)},t.version="19.0.0"},672:(e,t,n)=>{"use strict";var a=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:r}):"script"===n&&i.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(e,t,a){var s=null;if(void 0!==a&&(s=""+a),void 0!==t.key&&(s=""+t.key),"key"in t)for(var r in a={},t)"key"!==r&&(a[r]=t[r]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=s,t.jsxs=s},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,p(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function _(e,t,a,s,r,i){return a=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:i}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(){}function L(e,t,s,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case a:d=!0;break;case h:return L((d=e._init)(e._payload),t,s,r,i)}}if(d)return i=i(e),d=""===r?"."+C(e,0):r,j(i)?(s="",null!=d&&(s=d.replace(S,"$&/")+"/"),L(i,t,s,"",(function(e){return e}))):null!=i&&(k(i)&&(l=i,c=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+d,i=_(l.type,c,void 0,0,0,l.props)),t.push(i)),1;d=0;var u,m=""===r?".":r+":";if(j(e))for(var p=0;p<e.length;p++)d+=L(r=e[p],t,s,o=m+C(r,p),i);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=x&&u[x]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(r=e.next()).done;)d+=L(r=r.value,t,s,o=m+C(r,p++),i);else if("object"===o){if("function"===typeof e.then)return L(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(M,M):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function E(e,t,n){if(null==e)return e;var a=[],s=0;return L(e,a,"","",(function(e){return t.call(n,e,s++)})),a}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key;if(null!=t)for(r in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!N.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(a[r]=t[r]);var r=arguments.length-2;if(1===r)a.children=n;else if(1<r){for(var i=Array(r),o=0;o<r;o++)i[o]=arguments[o+2];a.children=i}return _(e.type,s,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var a,s={},r=null;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)N.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(s[a]=t[a]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return _(e,r,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var a=e(),s=w.S;null!==s&&s(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(P,T)}catch(r){T(r)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},579:(e,t,n)=>{"use strict";e.exports=n(799)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,n))c<s&&0>r(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<s&&0>r(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,x=3,m=!1,p=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=a(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(f=!1,v(e),!p)if(null!==a(c))p=!0,A();else{var t=a(d);null!==t&&T(j,t.startTime-e)}}var w,N=!1,_=-1,k=5,S=-1;function C(){return!(t.unstable_now()-S<k)}function M(){if(N){var e=t.unstable_now();S=e;var n=!0;try{e:{p=!1,f&&(f=!1,b(_),_=-1),m=!0;var r=x;try{t:{for(v(e),h=a(c);null!==h&&!(h.expirationTime>e&&C());){var i=h.callback;if("function"===typeof i){h.callback=null,x=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,v(e),n=!0;break t}h===a(c)&&s(c),v(e)}else s(c);h=a(c)}if(null!==h)n=!0;else{var l=a(d);null!==l&&T(j,l.startTime-e),n=!1}}break e}finally{h=null,x=r,m=!1}n=void 0}}finally{n?w():N=!1}}}if("function"===typeof y)w=function(){y(M)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,E=L.port2;L.port1.onmessage=M,w=function(){E.postMessage(null)}}else w=function(){g(M,0)};function A(){N||(N=!0,w())}function T(e,n){_=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,s,r){var i=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?i+r:i:r=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>i?(e.sortIndex=r,n(d,e),null===a(c)&&e===a(d)&&(f?(b(_),_=-1):f=!0,T(j,r-i))):(e.sortIndex=o,n(c,e),p||m||(p=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(896)}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>ue,hasStandardBrowserEnv:()=>xe,hasStandardBrowserWebWorkerEnv:()=>me,navigator:()=>he,origin:()=>pe});var t=n(43),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function r(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return function(){return e.apply(t,arguments)}}const{toString:d}=Object.prototype,{getPrototypeOf:u}=Object,h=(x=Object.create(null),e=>{const t=d.call(e);return x[t]||(x[t]=t.slice(8,-1).toLowerCase())});var x;const m=e=>(e=e.toLowerCase(),t=>h(t)===e),p=e=>t=>typeof t===e,{isArray:f}=Array,g=p("undefined");const b=m("ArrayBuffer");const y=p("string"),v=p("function"),j=p("number"),w=e=>null!==e&&"object"===typeof e,N=e=>{if("object"!==h(e))return!1;const t=u(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_=m("Date"),k=m("File"),S=m("Blob"),C=m("FileList"),M=m("URLSearchParams"),[L,E,A,T]=["ReadableStream","Request","Response","Headers"].map(m);function P(e,t){let n,a,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),f(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const a=s?Object.getOwnPropertyNames(e):Object.keys(e),r=a.length;let i;for(n=0;n<r;n++)i=a[n],t.call(null,e[i],i,e)}}function z(e,t){t=t.toLowerCase();const n=Object.keys(e);let a,s=n.length;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const O="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,R=e=>!g(e)&&e!==O;const I=(D="undefined"!==typeof Uint8Array&&u(Uint8Array),e=>D&&e instanceof D);var D;const B=m("HTMLFormElement"),F=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),W=m("RegExp"),V=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};P(n,((n,s)=>{let r;!1!==(r=t(n,s,e))&&(a[s]=r||n)})),Object.defineProperties(e,a)};const H=m("AsyncFunction"),U=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],O.addEventListener("message",(e=>{let{source:t,data:s}=e;t===O&&s===n&&a.length&&a.shift()()}),!1),e=>{a.push(e),O.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,v(O.postMessage)),q="undefined"!==typeof queueMicrotask?queueMicrotask.bind(O):"undefined"!==typeof process&&process.nextTick||U,$={isArray:f,isArrayBuffer:b,isBuffer:function(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=h(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&b(e.buffer),t},isString:y,isNumber:j,isBoolean:e=>!0===e||!1===e,isObject:w,isPlainObject:N,isReadableStream:L,isRequest:E,isResponse:A,isHeaders:T,isUndefined:g,isDate:_,isFile:k,isBlob:S,isRegExp:W,isFunction:v,isStream:e=>w(e)&&v(e.pipe),isURLSearchParams:M,isTypedArray:I,isFileList:C,forEach:P,merge:function e(){const{caseless:t}=R(this)&&this||{},n={},a=(a,s)=>{const r=t&&z(n,s)||s;N(n[r])&&N(a)?n[r]=e(n[r],a):N(a)?n[r]=e({},a):f(a)?n[r]=a.slice():n[r]=a};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&P(arguments[s],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return P(t,((t,a)=>{n&&v(t)?e[a]=c(t,n):e[a]=t}),{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let s,r,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)i=s[r],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&u(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:h,kindOfTest:m,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!j(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:B,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:V,freezeMethods:e=>{V(e,((t,n)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];v(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:z,global:O,isContextDefined:R,isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(w(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const s=f(e)?[]:{};return P(e,((e,t)=>{const r=n(e,a+1);!g(r)&&(s[t]=r)})),t[a]=void 0,s}}return e};return n(e,0)},isAsyncFn:H,isThenable:e=>e&&(w(e)||v(e))&&v(e.then)&&v(e.catch),setImmediate:U,asap:q};function G(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const Y=G.prototype,Q={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Q[e]={value:e}})),Object.defineProperties(G,Q),Object.defineProperty(Y,"isAxiosError",{value:!0}),G.from=(e,t,n,a,s,r)=>{const i=Object.create(Y);return $.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),G.call(i,e.message,t,n,a,s),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const K=G;function X(e){return $.isPlainObject(e)||$.isArray(e)}function J(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function Z(e,t,n){return e?e.concat(t).map((function(e,t){return e=J(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ee=$.toFlatObject($,{},null,(function(e){return/^is[A-Z]/.test(e)}));const te=function(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!$.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,r=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if($.isDate(e))return e.toISOString();if(!o&&$.isBlob(e))throw new K("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(e)||$.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if($.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if($.isArray(e)&&function(e){return $.isArray(e)&&!e.some(X)}(e)||($.isFileList(e)||$.endsWith(n,"[]"))&&(o=$.toArray(e)))return n=J(n),o.forEach((function(e,a){!$.isUndefined(e)&&null!==e&&t.append(!0===i?Z([n],a,r):null===i?n:n+"[]",l(e))})),!1;return!!X(e)||(t.append(Z(s,n,r),l(e)),!1)}const d=[],u=Object.assign(ee,{defaultVisitor:c,convertValue:l,isVisitable:X});if(!$.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!$.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),$.forEach(n,(function(n,r){!0===(!($.isUndefined(n)||null===n)&&s.call(t,n,$.isString(r)?r.trim():r,a,u))&&e(n,a?a.concat(r):[r])})),d.pop()}}(e),t};function ne(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ae(e,t){this._pairs=[],e&&te(e,this,t)}const se=ae.prototype;se.append=function(e,t){this._pairs.push([e,t])},se.toString=function(e){const t=e?function(t){return e.call(this,t,ne)}:ne;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const re=ae;function ie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oe(e,t,n){if(!t)return e;const a=n&&n.encode||ie;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(r=s?s(t,n):$.isURLSearchParams(t)?t.toString():new re(t,n).toString(a),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const le=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ce={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},de={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:re,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ue="undefined"!==typeof window&&"undefined"!==typeof document,he="object"===typeof navigator&&navigator||void 0,xe=ue&&(!he||["ReactNative","NativeScript","NS"].indexOf(he.product)<0),me="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pe=ue&&window.location.href||"http://localhost",fe=l(l({},e),de);const ge=function(e){function t(e,n,a,s){let r=e[s++];if("__proto__"===r)return!0;const i=Number.isFinite(+r),o=s>=e.length;if(r=!r&&$.isArray(a)?a.length:r,o)return $.hasOwnProp(a,r)?a[r]=[a[r],n]:a[r]=n,!i;a[r]&&$.isObject(a[r])||(a[r]=[]);return t(e,n,a[r],s)&&$.isArray(a[r])&&(a[r]=function(e){const t={},n=Object.keys(e);let a;const s=n.length;let r;for(a=0;a<s;a++)r=n[a],t[r]=e[r];return t}(a[r])),!i}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,((e,a)=>{t(function(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,n,0)})),n}return null};const be={transitional:ce,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=$.isObject(e);s&&$.isHTMLForm(e)&&(e=new FormData(e));if($.isFormData(e))return a?JSON.stringify(ge(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return te(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return fe.isNode&&$.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=$.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return te(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),function(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||be.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw K.from(s,K.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],(e=>{be.headers[e]={}}));const ye=be,ve=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),je=Symbol("internals");function we(e){return e&&String(e).trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:$.isArray(e)?e.map(Ne):String(e)}function _e(e,t,n,a,s){return $.isFunction(a)?a.call(this,t,n):(s&&(t=n),$.isString(t)?$.isString(a)?-1!==t.indexOf(a):$.isRegExp(a)?a.test(t):void 0:void 0)}class ke{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(e,t,n){const s=we(t);if(!s)throw new Error("header name must be a non-empty string");const r=$.findKey(a,s);(!r||void 0===a[r]||!0===n||void 0===n&&!1!==a[r])&&(a[r||t]=Ne(e))}const r=(e,t)=>$.forEach(e,((e,n)=>s(e,n,t)));if($.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if($.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,a,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),a=e.substring(s+1).trim(),!n||t[n]&&ve[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)})),t})(e),t);else if($.isHeaders(e))for(const[i,o]of e.entries())s(o,i,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=we(e)){const n=$.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if($.isFunction(t))return t.call(this,e,n);if($.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=we(e)){const n=$.findKey(this,e);return!(!n||void 0===this[n]||t&&!_e(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function s(e){if(e=we(e)){const s=$.findKey(n,e);!s||t&&!_e(0,n[s],s,t)||(delete n[s],a=!0)}}return $.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];e&&!_e(0,this[s],s,e,!0)||(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return $.forEach(this,((a,s)=>{const r=$.findKey(n,s);if(r)return t[r]=Ne(a),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();i!==s&&delete t[s],t[i]=Ne(a),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return $.forEach(this,((n,a)=>{null!=n&&!1!==n&&(t[a]=e&&$.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[je]=this[je]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=we(e);t[a]||(!function(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+n,{value:function(e,n,s){return this[a].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[a]=!0)}return $.isArray(e)?e.forEach(a):a(e),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$.reduceDescriptors(ke.prototype,((e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}})),$.freezeMethods(ke);const Se=ke;function Ce(e,t){const n=this||ye,a=t||n,s=Se.from(a.headers);let r=a.data;return $.forEach(e,(function(e){r=e.call(n,r,s.normalize(),t?t.status:void 0)})),s.normalize(),r}function Me(e){return!(!e||!e.__CANCEL__)}function Le(e,t,n){K.call(this,null==e?"canceled":e,K.ERR_CANCELED,t,n),this.name="CanceledError"}$.inherits(Le,K,{__CANCEL__:!0});const Ee=Le;function Ae(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Te=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s,r=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];s||(s=l),n[r]=o,a[r]=l;let d=i,u=0;for(;d!==r;)u+=n[d++],d%=e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Pe=function(e,t){let n,a,s=0,r=1e3/t;const i=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=r,n=null,a&&(clearTimeout(a),a=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=r?i(l,e):(n=l,a||(a=setTimeout((()=>{a=null,i(n)}),r-t)))},()=>n&&i(n)]},ze=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const s=Te(50,250);return Pe((n=>{const r=n.loaded,i=n.lengthComputable?n.total:void 0,o=r-a,l=s(o);a=r;e({loaded:r,total:i,progress:i?r/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&r<=i?(i-r)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Oe=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Re=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return $.asap((()=>e(...n)))},Ie=fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,De=fe.hasStandardBrowserEnv?{write(e,t,n,a,s,r){const i=[e+"="+encodeURIComponent(t)];$.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),$.isString(a)&&i.push("path="+a),$.isString(s)&&i.push("domain="+s),!0===r&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Be(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Fe=e=>e instanceof Se?l({},e):e;function We(e,t){t=t||{};const n={};function a(e,t,n,a){return $.isPlainObject(e)&&$.isPlainObject(t)?$.merge.call({caseless:a},e,t):$.isPlainObject(t)?$.merge({},t):$.isArray(t)?t.slice():t}function s(e,t,n,s){return $.isUndefined(t)?$.isUndefined(e)?void 0:a(void 0,e,0,s):a(e,t,0,s)}function r(e,t){if(!$.isUndefined(t))return a(void 0,t)}function i(e,t){return $.isUndefined(t)?$.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,s,r){return r in t?a(n,s):r in e?a(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>s(Fe(e),Fe(t),0,!0)};return $.forEach(Object.keys(Object.assign({},e,t)),(function(a){const r=l[a]||s,i=r(e[a],t[a],a);$.isUndefined(i)&&r!==o||(n[a]=i)})),n}const Ve=e=>{const t=We({},e);let n,{data:a,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Se.from(o),t.url=oe(Be(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),$.isFormData(a))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(s&&$.isFunction(s)&&(s=s(t)),s||!1!==s&&Ie(t.url))){const e=r&&i&&De.read(i);e&&o.set(r,e)}return t},He="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const a=Ve(e);let s=a.data;const r=Se.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:x}=a;function m(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function f(){if(!p)return;const a=Se.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Ae((function(e){t(e),m()}),(function(e){n(e),m()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:a,config:e,request:p}),p=null}p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout,"onloadend"in p?p.onloadend=f:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(f)},p.onabort=function(){p&&(n(new K("Request aborted",K.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new K("Network Error",K.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const s=a.transitional||ce;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new K(t,s.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,p)),p=null},void 0===s&&r.setContentType(null),"setRequestHeader"in p&&$.forEach(r.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),$.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),u&&"json"!==u&&(p.responseType=a.responseType),x&&([l,d]=ze(x,!0),p.addEventListener("progress",l)),h&&p.upload&&([o,c]=ze(h),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{p&&(n(!t||t.type?new Ee(null,e,p):t),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===fe.protocols.indexOf(g)?n(new K("Unsupported protocol "+g+":",K.ERR_BAD_REQUEST,e)):p.send(s||null)}))},Ue=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof K?t:new Ee(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,s(new K("timeout ".concat(t," of ms exceeded"),K.ETIMEDOUT))}),t);const i=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:o}=a;return o.unsubscribe=()=>$.asap(i),o}};function qe(e,t){this.v=e,this.k=t}function $e(e){return function(){return new Ge(e.apply(this,arguments))}}function Ge(e){var t,n;function a(t,n){try{var r=e[t](n),i=r.value,o=i instanceof qe;Promise.resolve(o?i.v:i).then((function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return a(l,n);n=e[l](n).value}s(r.done?"return":"normal",n)}),(function(e){a("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(r,i){var o={key:e,arg:s,resolve:r,reject:i,next:null};n?n=n.next=o:(t=n=o,a(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ye(e){return new qe(e,0)}function Qe(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise((function(n){n(e[t](a))})),{done:!1,value:new qe(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Ke(e){var t,n,a,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Xe(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Xe(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Xe=function(e){this.s=e,this.n=e.next},Xe.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Xe(e)}Ge.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ge.prototype.next=function(e){return this._invoke("next",e)},Ge.prototype.throw=function(e){return this._invoke("throw",e)},Ge.prototype.return=function(e){return this._invoke("return",e)};const Je=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,s=0;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Ze=function(){var e=$e((function*(e,t){var n,a=!1,s=!1;try{for(var r,i=Ke(et(e));a=!(r=yield Ye(i.next())).done;a=!1){const e=r.value;yield*Qe(Ke(Je(e,t)))}}catch(o){s=!0,n=o}finally{try{a&&null!=i.return&&(yield Ye(i.return()))}finally{if(s)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),et=function(){var e=$e((function*(e){if(e[Symbol.asyncIterator])return void(yield*Qe(Ke(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ye(t.read());if(e)break;yield n}}finally{yield Ye(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),tt=(e,t,n,a)=>{const s=Ze(e,t);let r,i=0,o=e=>{r||(r=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await s.next();if(t)return o(),void e.close();let r=a.byteLength;if(n){let e=i+=r;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},nt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,at=nt&&"function"===typeof ReadableStream,st=nt&&("function"===typeof TextEncoder?(rt=new TextEncoder,e=>rt.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var rt;const it=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(s){return!1}},ot=at&&it((()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),lt=at&&it((()=>$.isReadableStream(new Response("").body))),ct={stream:lt&&(e=>e.body)};var dt;nt&&(dt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ct[e]&&(ct[e]=$.isFunction(dt[e])?t=>t[e]():(t,n)=>{throw new K("Response type '".concat(e,"' is not supported"),K.ERR_NOT_SUPPORT,n)})})));const ut=async(e,t)=>{const n=$.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if($.isBlob(e))return e.size;if($.isSpecCompliantForm(e)){const t=new Request(fe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return $.isArrayBufferView(e)||$.isArrayBuffer(e)?e.byteLength:($.isURLSearchParams(e)&&(e+=""),$.isString(e)?(await st(e)).byteLength:void 0)})(t):n},ht=nt&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:r,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:x}=Ve(e);d=d?(d+"").toLowerCase():"text";let m,p=Ue([s,r&&r.toAbortSignal()],i);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&ot&&"get"!==n&&"head"!==n&&0!==(g=await ut(u,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if($.isFormData(a)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Oe(g,ze(Re(c)));a=tt(n.body,65536,e,t)}}$.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,l(l({},x),{},{signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:s?h:void 0}));let r=await fetch(m);const i=lt&&("stream"===d||"response"===d);if(lt&&(o||i&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=$.toFiniteNumber(r.headers.get("content-length")),[n,a]=o&&Oe(t,ze(Re(o),!0))||[];r=new Response(tt(r.body,65536,n,(()=>{a&&a(),f&&f()})),e)}d=d||"text";let b=await ct[$.findKey(ct,d)||"text"](r,e);return!i&&f&&f(),await new Promise(((t,n)=>{Ae(t,n,{data:b,headers:Se.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:m})}))}catch(b){if(f&&f(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new K("Network Error",K.ERR_NETWORK,e,m),{cause:b.cause||b});throw K.from(b,b&&b.code,e,m)}}),xt={http:null,xhr:He,fetch:ht};$.forEach(xt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const mt=e=>"- ".concat(e),pt=e=>$.isFunction(e)||null===e||!1===e,ft=e=>{e=$.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let r=0;r<t;r++){let t;if(n=e[r],a=n,!pt(n)&&(a=xt[(t=String(n)).toLowerCase()],void 0===a))throw new K("Unknown adapter '".concat(t,"'"));if(a)break;s[t||"#"+r]=a}if(!a){const e=Object.entries(s).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(mt).join("\n"):" "+mt(e[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function gt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function bt(e){gt(e),e.headers=Se.from(e.headers),e.data=Ce.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ft(e.adapter||ye.adapter)(e).then((function(t){return gt(e),t.data=Ce.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t}),(function(t){return Me(t)||(gt(e),t&&t.response&&(t.response.data=Ce.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)}))}const yt="1.8.4",vt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{vt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const jt={};vt.transitional=function(e,t,n){function a(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,r)=>{if(!1===e)throw new K(a(s," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!jt[s]&&(jt[s]=!0,console.warn(a(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,r)}},vt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const wt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const r=a[s],i=t[r];if(i){const t=e[r],n=void 0===t||i(t,r,e);if(!0!==n)throw new K("option "+r+" must be "+n,K.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new K("Unknown option "+r,K.ERR_BAD_OPTION)}},validators:vt},Nt=wt.validators;class _t{constructor(e){this.defaults=e,this.interceptors={request:new le,response:new le}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(a){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=We(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;void 0!==n&&wt.assertOptions(n,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),null!=a&&($.isFunction(a)?t.paramsSerializer={serialize:a}:wt.assertOptions(a,{encode:Nt.function,serialize:Nt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),wt.assertOptions(t,{baseUrl:Nt.spelling("baseURL"),withXsrfToken:Nt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=s&&$.merge(s.common,s[t.method]);s&&$.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Se.concat(r,s);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[bt.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(x){t.call(this,x);break}}try{c=bt.call(this,h)}catch(x){return Promise.reject(x)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return oe(Be((e=We(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],(function(e){_t.prototype[e]=function(t,n){return this.request(We(n||{},{method:e,url:t,data:(n||{}).data}))}})),$.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,s){return this.request(We(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}_t.prototype[e]=t(),_t.prototype[e+"Form"]=t(!0)}));const kt=_t;class St{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e,a,s){n.reason||(n.reason=new Ee(e,a,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new St((function(t){e=t})),cancel:e}}}const Ct=St;const Mt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mt).forEach((e=>{let[t,n]=e;Mt[n]=t}));const Lt=Mt;const Et=function e(t){const n=new kt(t),a=c(kt.prototype.request,n);return $.extend(a,kt.prototype,n,{allOwnKeys:!0}),$.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(We(t,n))},a}(ye);Et.Axios=kt,Et.CanceledError=Ee,Et.CancelToken=Ct,Et.isCancel=Me,Et.VERSION=yt,Et.toFormData=te,Et.AxiosError=K,Et.Cancel=Et.CanceledError,Et.all=function(e){return Promise.all(e)},Et.spread=function(e){return function(t){return e.apply(null,t)}},Et.isAxiosError=function(e){return $.isObject(e)&&!0===e.isAxiosError},Et.mergeConfig=We,Et.AxiosHeaders=Se,Et.formToJSON=e=>ge($.isHTMLForm(e)?new FormData(e):e),Et.getAdapter=ft,Et.HttpStatusCode=Lt,Et.default=Et;const At=Et,Tt="https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com/api";var Pt=n(579);const zt=e=>{var n,a,s,r,i,o;let{isCollapsed:c}=e;const[d,u]=(0,t.useState)(!1),h=(0,t.useRef)(null),x=(0,t.useRef)(null),{notifications:m,unreadCount:p,loading:f,fetchNotifications:g,markAsRead:b,markAllAsRead:y,getNotificationIcon:v,timeAgo:j}=(()=>{const[e,n]=(0,t.useState)([]),[a,s]=(0,t.useState)(0),[r,i]=(0,t.useState)(!1),o=async()=>{try{i(!0);const e=localStorage.getItem("token");if(!e)return;const t=await At.get("".concat(Tt,"/notifications"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data),s(t.data.filter((e=>!e.read)).length)}catch(e){console.error("Error fetching notifications:",e)}finally{i(!1)}};return(0,t.useEffect)((()=>{o();const e=setInterval(o,3e4);return()=>clearInterval(e)}),[]),{notifications:e,unreadCount:a,loading:r,fetchNotifications:o,markAsRead:async e=>{try{const t=localStorage.getItem("token");await At.post("".concat(Tt,"/notifications/").concat(e,"/mark-read"),{},{headers:{Authorization:"Bearer ".concat(t)}}),n((t=>t.map((t=>t.id===e?l(l({},t),{},{read:!0}):t)))),s((e=>Math.max(0,e-1)))}catch(t){console.error("Error marking notification as read:",t)}},markAllAsRead:async()=>{try{const e=localStorage.getItem("token");await At.post("".concat(Tt,"/notifications/mark-all-read"),{},{headers:{Authorization:"Bearer ".concat(e)}}),n((e=>e.map((e=>l(l({},e),{},{read:!0}))))),s(0)}catch(e){console.error("Error marking all notifications as read:",e)}},getNotificationIcon:e=>{switch(e){case"GIFT_RECEIVED":return{icon:"\ud83c\udf81",color:"text-green-400"};case"GAME_WON":return{icon:"\ud83c\udfc6",color:"text-yellow-400"};case"GAME_LOST":return{icon:"\ud83d\ude1e",color:"text-red-400"};case"BALANCE_LOW":return{icon:"\ud83d\udcb0",color:"text-orange-400"};default:return{icon:"\u2139\ufe0f",color:"text-blue-400"}}},timeAgo:e=>{const t=new Date,n=new Date(e),a=Math.floor((t-n)/6e4);return a<1?"Just now":a<60?"".concat(a,"m ago"):a<1440?"".concat(Math.floor(a/60),"h ago"):"".concat(Math.floor(a/1440),"d ago")}}})(),{position:w,calculatePosition:N}=(e=>{const[n,a]=(0,t.useState)({right:0,top:"100%"});return{position:n,calculatePosition:()=>{if(!e.current)return;const t=e.current.getBoundingClientRect(),n=(window.innerWidth,window.innerHeight),s=400;let r={right:0,top:"100%",left:"auto",bottom:"auto",maxHeight:"".concat(s,"px")};t.right-320<0&&(r.left=0,r.right="auto");const i=n-t.bottom-8,o=t.top-8;i<s&&o>i?(r.bottom="100%",r.top="auto",r.maxHeight="".concat(Math.min(o,s),"px")):r.maxHeight="".concat(Math.min(i,s),"px"),a(r)}}})(h),_=e=>{x.current&&!x.current.contains(e.target)&&h.current&&!h.current.contains(e.target)&&u(!1)};return(0,t.useEffect)((()=>{if(d)return document.addEventListener("mousedown",_),window.addEventListener("resize",N),()=>{document.removeEventListener("mousedown",_),window.removeEventListener("resize",N)}}),[d,N]),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsxs)("button",{ref:h,onClick:()=>{d||(N(),g()),u(!d)},className:"p-2 hover:bg-surface-card rounded-lg transition-colors relative ".concat(c?"w-full flex justify-center":""),children:[(0,Pt.jsx)("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),p>0&&(0,Pt.jsx)("span",{className:"absolute -top-1 -right-1 min-w-[1.25rem] h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1",children:p>99?"99+":p})]}),d&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"fixed inset-0 z-[9998]",onClick:()=>u(!1)}),(0,Pt.jsxs)("div",{ref:x,className:"fixed z-[9999] w-80 bg-surface-card border border-border-primary rounded-lg shadow-2xl overflow-hidden",style:l(l({},w),{},{right:"auto"!==w.right?"".concat((null===(n=h.current)||void 0===n?void 0:n.getBoundingClientRect().right)-((null===(a=h.current)||void 0===a?void 0:a.getBoundingClientRect().width)||0)-320+((null===(s=h.current)||void 0===s?void 0:s.getBoundingClientRect().width)||0),"px"):w.right,left:"auto"!==w.left?"".concat(null===(r=h.current)||void 0===r?void 0:r.getBoundingClientRect().left,"px"):w.left,top:"auto"!==w.top?"".concat(((null===(i=h.current)||void 0===i?void 0:i.getBoundingClientRect().bottom)||0)+8,"px"):w.top,bottom:"auto"!==w.bottom?"".concat(window.innerHeight-((null===(o=h.current)||void 0===o?void 0:o.getBoundingClientRect().top)||0)+8,"px"):w.bottom,maxHeight:w.maxHeight,minWidth:"320px",maxWidth:"320px"}),children:[(0,Pt.jsxs)("div",{className:"px-4 py-3 border-b border-border-primary flex items-center justify-between bg-surface-card",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-white",children:"Notifications"}),p>0&&(0,Pt.jsx)("button",{onClick:y,className:"text-xs text-accent-primary hover:text-accent-secondary transition-colors",children:"Mark all read"})]}),(0,Pt.jsx)("div",{className:"overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",style:{maxHeight:"calc(100% - 120px)",minHeight:"200px"},children:0===m.length?(0,Pt.jsxs)("div",{className:"px-4 py-8 text-center text-text-secondary",children:[(0,Pt.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,Pt.jsx)("div",{className:"text-sm",children:"No notifications yet"}),(0,Pt.jsx)("div",{className:"text-xs mt-1",children:"You'll see notifications here when something happens"})]}):(0,Pt.jsx)("div",{className:"space-y-0",children:m.map((e=>{const{icon:t,color:n}=v(e.type);return(0,Pt.jsx)("div",{onClick:()=>{e.read||b(e.id)},className:"px-4 py-3 border-b border-border-primary last:border-b-0 hover:bg-surface-sidebar cursor-pointer transition-colors ".concat(e.read?"":"bg-accent-primary bg-opacity-5"),children:(0,Pt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Pt.jsx)("div",{className:"text-lg ".concat(n," flex-shrink-0 mt-0.5"),children:t}),(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Pt.jsx)("h4",{className:"text-sm font-medium ".concat(e.read?"text-text-secondary":"text-white"),children:e.title}),!e.read&&(0,Pt.jsx)("div",{className:"w-2 h-2 bg-accent-primary rounded-full flex-shrink-0"})]}),(0,Pt.jsx)("p",{className:"text-xs ".concat(e.read?"text-gray-500":"text-text-secondary"," leading-relaxed mb-1"),children:e.message}),(0,Pt.jsx)("div",{className:"text-xs text-gray-500",children:j(e.created_at)})]})]})},e.id)}))})}),m.length>0&&(0,Pt.jsx)("div",{className:"px-4 py-2 border-t border-border-primary bg-surface-sidebar",children:(0,Pt.jsx)("button",{onClick:()=>u(!1),className:"w-full text-xs text-text-secondary hover:text-white transition-colors text-center",children:"Close notifications"})})]})]})]})},Ot=e=>{let{currentView:n,setCurrentView:a,user:s,isCollapsed:r,setIsCollapsed:i,onOpenAdminPanel:o,onLogout:l}=e;const[c,d]=(0,t.useState)(0),[u,h]=(0,t.useState)(!1),x=async()=>{try{if(!s)return;const e=localStorage.getItem("token"),t=(await At.get("".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}})).data,n=(t.virtual_balance||0)+(t.frozen_balance||0)+(t.total_gem_value||0);d(n)}catch(e){console.error("Error fetching total balance:",e),d(0)}};(0,t.useEffect)((()=>{s&&x()}),[s]),(0,t.useEffect)((()=>{if(!s)return;const e=setInterval(x,1e4);return()=>clearInterval(e)}),[s]);const m=[{id:"lobby",label:"Lobby",icon:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),color:"text-gray-400"},{id:"my-bets",label:"My Bets",icon:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),color:"text-gray-400"},{id:"shop",label:"Shop",icon:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})}),color:"text-gray-400"},{id:"inventory",label:"Inventory",icon:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),color:"text-gray-400"},{id:"leaderboard",label:"Leaderboard",icon:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"text-gray-400"},{id:"profile",label:"Profile",icon:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),color:"text-gray-400"},{id:"history",label:"History",icon:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"text-gray-400"},{id:"admin-panel",label:"Admin Panel",icon:(0,Pt.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),color:"text-purple-400",adminOnly:!0}];return(0,Pt.jsxs)("div",{className:"bg-surface-sidebar border-r border-border-primary transition-all duration-300 flex flex-col h-full ".concat(r?"w-16":"w-64"),children:[(0,Pt.jsxs)("div",{className:"p-4 border-b border-border-primary ".concat(r?"px-2":""),children:[(0,Pt.jsxs)("div",{className:"flex items-center ".concat(r?"justify-center":"justify-between"),children:[!r&&(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 flex items-center justify-center",children:(0,Pt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-10 h-10 object-contain"})}),(0,Pt.jsx)("span",{className:"font-russo text-2xl text-accent-primary",children:"GemPLAY"})]}),r&&(0,Pt.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Pt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-8 h-8 object-contain"})}),!r&&(0,Pt.jsx)("button",{onClick:()=>i(!r),className:"p-1 hover:bg-surface-card rounded-lg transition-colors",children:(0,Pt.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),(0,Pt.jsx)("div",{className:"".concat(r?"flex justify-center mt-2":"mt-3 flex justify-center"),children:(0,Pt.jsx)(zt,{isCollapsed:r})}),r&&(0,Pt.jsx)("div",{className:"flex justify-center mt-2",children:(0,Pt.jsx)("button",{onClick:()=>i(!r),className:"p-2 hover:bg-surface-card rounded-lg transition-colors",children:(0,Pt.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-300 rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})})]}),(0,Pt.jsx)("nav",{className:"flex-1 py-4",children:(0,Pt.jsx)("ul",{className:"space-y-1 ".concat(r?"px-1":"px-2"),children:m.map((e=>e.adminOnly&&(!s||"ADMIN"!==s.role&&"SUPER_ADMIN"!==s.role)?null:(0,Pt.jsx)("li",{children:(0,Pt.jsxs)("button",{onClick:()=>{"admin-panel"===e.id?o():a(e.id)},className:"w-full flex items-center transition-all duration-300 group relative overflow-hidden ".concat(r?"justify-center p-2 mx-1 rounded-lg":"px-3 py-3 rounded-lg"," ").concat(n===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary":"hover:bg-surface-card ".concat(e.color," hover:text-white")),title:r?e.label:"",children:[n===e.id&&(0,Pt.jsx)("div",{className:"absolute inset-0 border border-accent-primary bg-accent-primary/10 border-opacity-40 rounded-lg ".concat(r?"border-opacity-50":"border-l-4 border-accent-primary border-opacity-100 border-t-0 border-r-0 border-b-0 bg-accent-primary/15")}),(0,Pt.jsx)("div",{className:"relative z-10 transition-all duration-300 ".concat(n===e.id?"text-accent-primary":"".concat(e.color," group-hover:text-white")," ").concat(r?"flex items-center justify-center group-hover:scale-110 group-hover:translate-x-1":""),children:e.icon}),!r&&(0,Pt.jsx)("span",{className:"ml-3 font-rajdhani font-semibold tracking-wide relative z-10",children:e.label})]})},e.id)))})}),!r&&s&&(0,Pt.jsxs)("div",{className:"p-4 border-t border-border-primary",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,Pt.jsx)("span",{className:"font-russo text-white text-sm",children:s.username.charAt(0).toUpperCase()})}),(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsx)("p",{className:"font-rajdhani font-semibold text-white truncate",children:s.username}),(0,Pt.jsxs)("p",{className:"font-roboto text-sm text-green-400",children:["$",c.toFixed(2)||"0.00"]})]})]}),(0,Pt.jsxs)("button",{onClick:l,className:"w-full flex items-center justify-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 group",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"LOGOUT"]})]}),r&&s&&(0,Pt.jsx)("div",{className:"p-2 border-t border-border-primary",children:(0,Pt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Pt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,Pt.jsx)("span",{className:"font-russo text-white text-xs",children:s.username.charAt(0).toUpperCase()})}),(0,Pt.jsx)("button",{onClick:l,className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all duration-300 group flex items-center justify-center",title:"Logout",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})};let Rt=null;const It=()=>{if(!Rt){const e=new Set;Rt={registerRefreshCallback:t=>(e.add(t),()=>{e.delete(t)}),triggerLobbyRefresh:()=>{e.forEach((e=>{try{e()}catch(t){console.error("Error in global lobby refresh callback:",t)}}))}}}return Rt},Dt="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Bt=(0,t.createContext)(),Ft=()=>{const e=(0,t.useContext)(Bt);if(!e)throw new Error("useGems must be used within a GemsProvider");return e},Wt=e=>{let{children:n}=e;const[a,s]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c();const e=It().registerRefreshCallback((()=>{console.log("\ud83d\udc8e GemsContext auto-refresh triggered by global operation"),c()}));return()=>{e()}}),[]);const c=async()=>{i(!0);try{const e=localStorage.getItem("token");if(!e)return console.warn("No token found, using default gem definitions"),s(d()),void i(!1);const t=(await At.get("".concat(Dt,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}})).data||[],n=await At.get("".concat(Dt,"/gems/definitions")),a=(n.data||[]).map((e=>{const n=t.find((t=>t.type===e.type));return{type:e.type,name:e.name,price:e.price,color:e.color,icon:u(e.type),rarity:e.rarity,quantity:n?n.quantity:0,frozen_quantity:n?n.frozen_quantity:0,available_quantity:n?n.quantity-n.frozen_quantity:0,total_value:n?n.quantity*e.price:0,available_value:n?(n.quantity-n.frozen_quantity)*e.price:0,frozen_value:n?n.frozen_quantity*e.price:0,has_gems:!!n&&n.quantity>0,has_available:!!n&&n.quantity-n.frozen_quantity>0,last_updated:n?n.updated_at:null}}));s(a),l(new Date),i(!1)}catch(e){console.error("Error fetching inventory data:",e);try{const e=await At.get("".concat(Dt,"/gems/definitions")),t=(e.data||[]).map((e=>({type:e.type,name:e.name,price:e.price,color:e.color,icon:u(e.type),rarity:e.rarity,quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null})));s(t)}catch(t){console.error("Error fetching gem definitions:",t),s(d())}i(!1)}},d=()=>[{type:"Ruby",name:"Ruby",price:1,color:"#ef4444",icon:"/gems/gem-red.svg",rarity:"common",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Amber",name:"Amber",price:2,color:"#f97316",icon:"/gems/gem-orange.svg",rarity:"common",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Topaz",name:"Topaz",price:5,color:"#eab308",icon:"/gems/gem-yellow.svg",rarity:"uncommon",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Emerald",name:"Emerald",price:10,color:"#22c55e",icon:"/gems/gem-green.svg",rarity:"rare",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Aquamarine",name:"Aquamarine",price:25,color:"#06b6d4",icon:"/gems/gem-cyan.svg",rarity:"epic",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Sapphire",name:"Sapphire",price:50,color:"#3b82f6",icon:"/gems/gem-blue.svg",rarity:"legendary",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Magic",name:"Magic",price:100,color:"#a855f7",icon:"/gems/gem-purple.svg",rarity:"mythic",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null}],u=e=>({Ruby:"/gems/gem-red.svg",Amber:"/gems/gem-orange.svg",Topaz:"/gems/gem-yellow.svg",Emerald:"/gems/gem-green.svg",Aquamarine:"/gems/gem-cyan.svg",Sapphire:"/gems/gem-blue.svg",Magic:"/gems/gem-purple.svg"}[e]||"/gems/gem-red.svg"),h=e=>a.find((t=>t.type===e||t.name===e)),x={gemsData:a,loading:r,lastUpdate:o,gemsDefinitions:a,getGemByType:h,getGemValue:e=>{const t=h(e);return t?t.price:0},getGemIcon:e=>{const t=h(e);return t?t.icon:"/gems/gem-red.svg"},getAvailableGems:()=>a.filter((e=>e.has_available)),getAllGemsWithQuantity:()=>a.filter((e=>e.has_gems)),getSortedGems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"price",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return[...a].sort(((n,a)=>"asc"===t?n[e]-a[e]:a[e]-n[e]))},getTotalPortfolioValue:()=>a.reduce(((e,t)=>e+t.total_value),0),getAvailablePortfolioValue:()=>a.reduce(((e,t)=>e+t.available_value),0),getFrozenPortfolioValue:()=>a.reduce(((e,t)=>e+t.frozen_value),0),refreshInventory:async()=>{await c()},validateGemOperation:e=>{for(const[t,n]of Object.entries(e)){const e=h(t);if(!e)return{valid:!1,error:"Unknown gem type: ".concat(t)};if(e.available_quantity<n)return{valid:!1,error:"Insufficient ".concat(t," gems. Available: ").concat(e.available_quantity,", Required: ").concat(n)}}return{valid:!0}},getGemIconPath:u};return(0,Pt.jsx)(Bt.Provider,{value:x,children:n})},Vt=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!==typeof e||isNaN(e))return t?"0,00":"0";const n={minimumFractionDigits:t?2:0,maximumFractionDigits:t?2:0,useGrouping:!0};return(t?e:Math.floor(e)).toLocaleString("en-US",n).replace(/,/g," ").replace(".",",")},Ht=function(e){return"$".concat(Vt(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]))},Ut=e=>"$".concat(Vt(e,!0)),qt=e=>"number"!==typeof e||isNaN(e)?"$0":"$".concat(Math.floor(e).toLocaleString("en-US")),$t=e=>"number"!==typeof e||isNaN(e)?"0":Math.round(e).toString(),Gt=e=>{let{user:t}=e;const{gemsData:n,loading:a}=Ft(),s=e=>{let{gemType:t}=e;const a=n.find((e=>e.type===t));if(!a)return null;const{name:s,icon:r,color:i,price:o,quantity:l,frozen_quantity:c,available_quantity:d,has_gems:u,has_available:h}=a;return(0,Pt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 text-center transition-all duration-300 ".concat(u?"hover:scale-105 hover:shadow-lg":""),style:{border:"1px solid ".concat(i).concat(u?"60":"20"),boxShadow:u?"0 0 8px ".concat(i,"20"):"none"},children:[(0,Pt.jsx)("div",{className:"flex justify-center mb-2",children:(0,Pt.jsx)("div",{className:"w-12 h-12 flex items-center justify-center",children:(0,Pt.jsx)("img",{src:r,alt:s,className:"w-10 h-10 object-contain transition-all duration-300 ".concat(u?"brightness-100":"brightness-50 opacity-40"),style:{filter:u?"drop-shadow(0 0 6px ".concat(i,"60)"):"grayscale(100%)"}})})}),(0,Pt.jsx)("h3",{className:"font-rajdhani text-sm font-bold mb-1 transition-colors duration-300 ".concat(u?"text-white":"text-gray-500"),children:s}),(0,Pt.jsx)("div",{className:"font-rajdhani text-lg font-bold mb-2 transition-colors duration-300",style:{color:u?i:"#6b7280"},children:Ht(o)}),(0,Pt.jsx)("div",{className:"space-y-1",children:u?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"font-rajdhani text-xs text-green-400 font-medium",children:[d," Available"]}),c>0&&(0,Pt.jsxs)("div",{className:"font-rajdhani text-xs text-orange-400 font-medium",children:[c," Frozen"]})]}):(0,Pt.jsx)("div",{className:"font-rajdhani text-xs text-gray-600",children:"0 Owned"})})]})};return a?(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto mb-6",children:(0,Pt.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[...Array(7)].map(((e,t)=>(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-20 rounded-lg p-3 animate-pulse",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-gray-600 rounded-full mx-auto mb-2"}),(0,Pt.jsx)("div",{className:"w-16 h-3 bg-gray-600 rounded mx-auto mb-2"}),(0,Pt.jsx)("div",{className:"w-12 h-4 bg-gray-600 rounded mx-auto mb-2"}),(0,Pt.jsx)("div",{className:"w-14 h-3 bg-gray-600 rounded mx-auto"})]},t)))})}):(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto mb-6",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[(0,Pt.jsx)(s,{gemType:"Ruby"}),(0,Pt.jsx)(s,{gemType:"Amber"}),(0,Pt.jsx)(s,{gemType:"Topaz"}),(0,Pt.jsx)(s,{gemType:"Emerald"}),(0,Pt.jsx)(s,{gemType:"Aquamarine"}),(0,Pt.jsx)(s,{gemType:"Sapphire"}),(0,Pt.jsx)(s,{gemType:"Magic"})]})})},Yt="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api");let Qt=null,Kt=null;const Xt=3e5,Jt=async()=>{const e=Date.now();return Qt&&Kt&&e-Kt<Xt||(Qt=await(async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Yt,"/admin/gems"),{headers:{Authorization:"Bearer ".concat(e)}});return t.data&&t.data.gems?t.data.gems:[]}catch(e){return console.error("Error fetching gem prices:",e),[]}})(),Kt=e),Qt},Zt=e=>{if("number"!==typeof e||isNaN(e))return"0 Gems";const t=Math.round(e);return 1===t?"1 Gem":"".concat(t," Gems")},en=async()=>{await Jt()},tn=t.memo((e=>{var n,a;let{game:s,isMyBet:r=!1,isOngoing:i=!1,isBot:o=!1,onAccept:c,onCancel:d,onOpenJoinBattle:u,onUpdateUser:h,currentTime:x=new Date,user:m}=e;const{gemsDefinitions:p,getGemByType:f}=Ft(),g=(0,t.useMemo)((()=>r&&"ACTIVE"===s.status?"bg-[#23233e] border-[#23d364] border-opacity-40 hover:border-opacity-60":"".concat("bg-[#09295e]"," border-[#23d364] border-opacity-30 hover:border-opacity-50")),[r,s.status]),b=(0,t.useCallback)((e=>e?e.length>15?e.substring(0,15)+"...":e:"Player"),[]),y=(0,t.useMemo)((()=>{var e;return b((null===(e=s.creator)||void 0===e?void 0:e.username)||"Player")}),[null===(n=s.creator)||void 0===n?void 0:n.username,b]),v=(0,t.useCallback)((()=>{c?c(s.game_id||s.id):u&&u(s)}),[c,u,s.game_id,s.id,s]),j=(0,t.useCallback)((()=>{d&&d(s.game_id||s.id)}),[d,s.game_id,s.id]),w=(0,t.useMemo)((()=>s.bet_gems?Object.entries(s.bet_gems).reduce(((e,t)=>{let[n,a]=t;const s=f(n);return e+(s?s.price*a:0)}),0):0),[s.bet_amount,s.gems,p]),N=(0,t.useMemo)((()=>(()=>{if(!s.created_at)return null;const e=new Date(s.created_at),t=new Date(e.getTime()+864e5);if(t-x<=0)return null;const n=t.getHours(),a=t.getMinutes();return"".concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))})()),[s.created_at,x]),_=(0,t.useMemo)((()=>s.bet_gems?Object.entries(s.bet_gems).map((e=>{let[t,n]=e;const a=f(t);return a?l(l({},a),{},{quantity:n}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price)):[]),[s.gems,p]),k=(0,t.useMemo)((()=>(()=>{var e,t;return s.is_human_bot||"human_bot"===s.creator_type||"HUMAN"===s.bot_type?"female"===((null===(t=s.creator)||void 0===t?void 0:t.gender)||"male")?"/Women.svg":"/Men.svg":o?"\ud83e\udd16":"female"===((null===(e=s.creator)||void 0===e?void 0:e.gender)||"male")?"/Women.svg":"/Men.svg"})()),[s.is_human_bot,s.creator_type,s.bot_type,null===(a=s.creator)||void 0===a?void 0:a.gender,o]);return(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("div",{className:"".concat(g," border rounded-lg p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"),children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0",children:o?(0,Pt.jsx)("div",{className:"w-14 h-14 rounded-full bg-blue-700 flex items-center justify-center text-white text-lg",children:"\ud83e\udd16"}):(0,Pt.jsx)("img",{src:k,alt:"Player Avatar",className:"w-14 h-14 rounded-full bg-surface-sidebar p-1"})}),(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Pt.jsx)("h3",{className:"text-white font-rajdhani font-bold text-lg truncate",children:o?"Bot":y}),r&&(0,Pt.jsx)("span",{className:"bg-blue-600 text-white text-xs font-rajdhani font-bold px-2 py-1 rounded",children:"My Bet"}),o&&(0,Pt.jsx)("span",{className:"bg-blue-600 text-white text-xs font-rajdhani font-bold px-2 py-1 rounded",children:"HUMAN"===s.bot_type?"Human-like":"AI"})]}),(0,Pt.jsx)("div",{className:"flex items-center space-x-1 mb-2 overflow-x-auto",children:_.map(((e,t)=>(0,Pt.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[(0,Pt.jsx)("img",{src:e.icon,alt:e.name,className:"w-4 h-4"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-xs font-rajdhani",children:e.quantity}),t<_.length-1&&(0,Pt.jsx)("span",{className:"text-text-secondary text-xs",children:"\u2022"})]},e.type)))}),(0,Pt.jsx)("div",{className:"text-green-400 font-rajdhani font-bold text-xl",children:Zt(w)}),N&&(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs font-rajdhani mt-1",children:["Auto-cancel: ",N]})]}),(0,Pt.jsx)("div",{className:"flex-shrink-0",children:r?"ACTIVE"===s.status||"REVEAL"===s.status?(0,Pt.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-gray-600 text-gray-400 font-rajdhani font-bold rounded-lg cursor-not-allowed",children:"In Progress"}):(0,Pt.jsx)("button",{onClick:j,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 hover:scale-105",children:"Cancel"}):i?(0,Pt.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-orange-600 text-white font-rajdhani font-bold rounded-lg cursor-not-allowed",children:"Busy"}):(0,Pt.jsx)("button",{onClick:v,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 hover:scale-105",children:"Accept"})})]})})})}));tn.displayName="PlayerCard";const nn=tn,an=(0,t.createContext)(),sn=()=>{const e=(0,t.useContext)(an);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},rn=e=>{let{children:n}=e;const[a,s]=(0,t.useState)([]),r=(0,t.useCallback)((e=>{s((t=>t.filter((t=>t.id!==e))))}),[]),i=(0,t.useCallback)((function(e){const t="string"===typeof e?{message:e,type:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||"info"}:e,n=Date.now()+Math.random(),a=l({id:n,type:t.type||"info",message:t.message||"",duration:t.duration||5e3,isRussian:t.isRussian||!1},t);return s((e=>[...e,a])),setTimeout((()=>{r(n)}),a.duration),n}),[r]),o=(0,t.useCallback)((()=>{s([])}),[]),c=(0,t.useCallback)((function(e){return i(l({type:"success",message:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),d=(0,t.useCallback)((function(e){return i(l({type:"error",message:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),u=(0,t.useCallback)((function(e){return i(l({type:"warning",message:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),h=(0,t.useCallback)((function(e){return i(l({type:"info",message:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),x=(0,t.useCallback)((function(e){return i(l({type:"success",message:e,isRussian:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),m=(0,t.useCallback)((function(e){return i(l({type:"error",message:e,isRussian:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),p=(0,t.useCallback)((function(e){return i(l({type:"warning",message:e,isRussian:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),f=(0,t.useCallback)((function(e){return i(l({type:"info",message:e,isRussian:!0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),g={notifications:a,addNotification:i,removeNotification:r,clearAllNotifications:o,showSuccess:c,showError:d,showWarning:u,showInfo:h,showSuccessRU:x,showErrorRU:m,showWarningRU:p,showInfoRU:f};return(0,Pt.jsx)(an.Provider,{value:g,children:n})},on={LOW:["Ruby","Amber"],MID:["Topaz","Emerald","Aquamarine"],HIGH:["Sapphire","Magic"]},ln=(e,t)=>{const n=Math.round(100*t),a=[];for(const c of e){const e=Math.round(100*c.price);for(let t=0;t<c.availableQuantity;t++)a.push({type:c.type,name:c.name,price:c.price,priceCents:e,icon:c.icon,color:c.color})}const s=new Array(n+1).fill(!1);s[0]=!0;const r=new Array(n+1).fill(-1);for(let c=0;c<a.length;c++){const e=a[c].priceCents;for(let t=n;t>=e;t--)s[t-e]&&!s[t]&&(s[t]=!0,r[t]=c)}if(!s[n])return{success:!1,combination:[]};const i=[];let o=n;for(;o>0&&-1!==r[o];){const e=a[r[o]];i.push(e),o-=e.priceCents}const l={};for(const c of i){const e=c.type;l[e]||(l[e]=0),l[e]++}return{success:!0,combination:Object.entries(l).map((t=>{let[n,a]=t;const s=e.find((e=>e.type===n));return{type:n,name:s.name,price:s.price,quantity:a,totalValue:s.price*a,icon:s.icon,color:s.color}}))}},cn=e=>{const t=e.filter((e=>e.available_quantity>0)).map((e=>({type:e.type,name:e.name,price:e.price,availableQuantity:e.available_quantity,totalQuantity:e.quantity,frozenQuantity:e.frozen_quantity,icon:e.icon,color:e.color})));return console.log("Available gems for strategy:",t.map((e=>"".concat(e.name,": ").concat(e.availableQuantity,"/").concat(e.totalQuantity," available (").concat(e.frozenQuantity," frozen)")))),t},dn=(e,t,n)=>{if(!t||!Array.isArray(t))return{success:!1,combination:[],message:"Invalid gems data provided."};if(!n||n<=0)return{success:!1,combination:[],message:"Please enter a valid bet amount."};if(0===t.filter((e=>e.available_quantity>0)).length)return{success:!1,combination:[],message:"No gems available in inventory. Purchase gems first."};const a=t.reduce(((e,t)=>e+t.available_quantity*t.price),0);if(n>a)return{success:!1,combination:[],message:"Cannot create bet of $".concat(n.toFixed(2),". Maximum possible with current inventory: $").concat(a.toFixed(2))};console.log("Strategy: ".concat(e,", Target: $").concat(n,", Max possible: $").concat(a));try{switch(e){case"small":return((e,t)=>{const n=cn(e);if(0===n.length)return{success:!1,combination:[],message:"No gems available in inventory."};const a=[...n].sort(((e,t)=>e.price-t.price));let s=t;const r={};for(;s>0;){let e=!1;for(const t of a){const n=r[t.type]||0;if(n<t.availableQuantity&&t.price<=s){r[t.type]=n+1,s-=t.price,e=!0,console.log("Small Strategy: Using ".concat(t.name," #").concat(n+1,"/").concat(t.availableQuantity,", remaining: $").concat(s.toFixed(2)));break}}if(!e){let e=!1;for(const t of a){const n=r[t.type]||0;if(n<t.availableQuantity&&t.price===s){r[t.type]=n+1,s=0,e=!0,console.log("Small Strategy: Found exact match with ".concat(t.name," #").concat(n+1,"/").concat(t.availableQuantity));break}}if(!e){console.log("Small Strategy: Trying DP algorithm as fallback");const e=ln(n,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Small strategy: Found exact combination for $".concat(t.toFixed(2))}:(console.error("Small Strategy: No solution found",{targetAmount:t,availableGems:n.map((e=>"".concat(e.name,": ").concat(e.availableQuantity))),selectedSoFar:r,remainingNeeded:s}),{success:!1,combination:[],message:"Not enough gems in inventory to create this bet amount. Try a lower amount or purchase more gems."})}}}const i=Object.entries(r).map((e=>{let[t,a]=e;const s=n.find((e=>e.type===t));if(a>s.availableQuantity)throw console.error("VALIDATION ERROR: Trying to use ".concat(a," ").concat(t," but only ").concat(s.availableQuantity," available")),new Error("Cannot use ".concat(a," ").concat(t,", only ").concat(s.availableQuantity," available in inventory"));return{type:t,name:s.name,price:s.price,quantity:a,totalValue:s.price*a,icon:s.icon,color:s.color}})),o=i.reduce(((e,t)=>e+t.totalValue),0);return Math.abs(o-t)>.01?(console.error("AMOUNT MISMATCH: Target ".concat(t,", got ").concat(o)),{success:!1,combination:[],message:"Amount calculation error: expected $".concat(t.toFixed(2),", got $").concat(o.toFixed(2))}):{success:!0,combination:i.sort(((e,t)=>e.price-t.price)),message:"Small strategy: Found exact combination for $".concat(o.toFixed(2))}})(t,n);case"smart":return((e,t)=>{const n=cn(e);if(0===n.length)return{success:!1,combination:[],message:"No gems available in inventory."};const a={low:n.filter((e=>on.LOW.includes(e.type))),mid:n.filter((e=>on.MID.includes(e.type))),high:n.filter((e=>on.HIGH.includes(e.type)))};a.low.sort(((e,t)=>e.price-t.price)),a.mid.sort(((e,t)=>e.price-t.price)),a.high.sort(((e,t)=>t.price-e.price));const s={};let r=t;const i=(e,t)=>{let n=0;for(;r>0&&n<t&&e.length>0;){let a=!1;for(const i of e){const e=s[i.type]||0;if(e<i.availableQuantity&&i.price<=r&&i.price<=t-n){s[i.type]=e+1,r-=i.price,n+=i.price,a=!0;break}}if(!a)break}return n},o=.6*t,l=.3*t,c=.1*t;if(i(a.mid,o),i(a.low,l),i(a.high,c),r>0){const e=[...a.mid,...a.low,...a.high];for(;r>0;){let t=!1;for(const n of e){const e=s[n.type]||0;if(e<n.availableQuantity&&n.price<=r){s[n.type]=e+1,r-=n.price,t=!0,console.log("Smart Strategy Phase 2: Using ".concat(n.name," #").concat(e+1,"/").concat(n.availableQuantity,", remaining: $").concat(r.toFixed(2)));break}}if(!t){for(const n of e){const e=s[n.type]||0;if(e<n.availableQuantity&&n.price===r){s[n.type]=e+1,r=0,t=!0;break}}if(!t)break}}}if(r>0){const e=ln(n,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Smart strategy: Found balanced combination for $".concat(t.toFixed(2))}:{success:!1,combination:[],message:"Not enough gems in inventory to form this bet. Please adjust your balance or select manually."}}const d=Object.entries(s).map((e=>{let[t,a]=e;const s=n.find((e=>e.type===t));if(a>s.availableQuantity)throw console.error("VALIDATION ERROR: Trying to use ".concat(a," ").concat(t," but only ").concat(s.availableQuantity," available")),new Error("Cannot use ".concat(a," ").concat(t,", only ").concat(s.availableQuantity," available in inventory"));return{type:t,name:s.name,price:s.price,quantity:a,totalValue:s.price*a,icon:s.icon,color:s.color}})),u=d.reduce(((e,t)=>e+t.totalValue),0);return Math.abs(u-t)>.01?(console.error("AMOUNT MISMATCH: Target ".concat(t,", got ").concat(u)),{success:!1,combination:[],message:"Amount calculation error: expected $".concat(t.toFixed(2),", got $").concat(u.toFixed(2))}):{success:!0,combination:d.sort(((e,t)=>e.price-t.price)),message:"Smart strategy: Found balanced combination for $".concat(u.toFixed(2))}})(t,n);case"big":return((e,t)=>{const n=cn(e);if(0===n.length)return{success:!1,combination:[],message:"No gems available in inventory."};const a=[...n].sort(((e,t)=>t.price-e.price));let s=t;const r={};for(;s>0;){let e=!1;for(const t of a){const n=r[t.type]||0;if(n<t.availableQuantity&&t.price<=s){r[t.type]=n+1,s-=t.price,e=!0,console.log("Big Strategy: Using ".concat(t.name," #").concat(n+1,"/").concat(t.availableQuantity,", remaining: $").concat(s.toFixed(2)));break}}if(!e){for(const t of a){const n=r[t.type]||0;if(n<t.availableQuantity&&t.price===s){r[t.type]=n+1,s=0,e=!0;break}}if(!e){const e=ln(n,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Big strategy: Found combination with fewest gems for $".concat(t.toFixed(2))}:{success:!1,combination:[],message:"Not enough gems in inventory to form this bet. Please adjust your balance or select manually."}}}}const i=Object.entries(r).map((e=>{let[t,a]=e;const s=n.find((e=>e.type===t));if(a>s.availableQuantity)throw console.error("VALIDATION ERROR: Trying to use ".concat(a," ").concat(t," but only ").concat(s.availableQuantity," available")),new Error("Cannot use ".concat(a," ").concat(t,", only ").concat(s.availableQuantity," available in inventory"));return{type:t,name:s.name,price:s.price,quantity:a,totalValue:s.price*a,icon:s.icon,color:s.color}})),o=i.reduce(((e,t)=>e+t.totalValue),0);return Math.abs(o-t)>.01?(console.error("AMOUNT MISMATCH: Target ".concat(t,", got ").concat(o)),{success:!1,combination:[],message:"Amount calculation error: expected $".concat(t.toFixed(2),", got $").concat(o.toFixed(2))}):{success:!0,combination:i.sort(((e,t)=>e.price-t.price)),message:"Big strategy: Found combination with fewest gems for $".concat(o.toFixed(2))}})(t,n);default:return{success:!1,combination:[],message:"Invalid strategy selected."}}}catch(s){return console.error("Error in gem combination algorithm:",s),{success:!1,combination:[],message:"Error calculating gem combination: ".concat(s.message)}}},un=e=>{let{user:n,onClose:a,onUpdateUser:s}=e;const{gemsData:r,validateGemOperation:i,refreshInventory:o}=Ft(),{showSuccess:c,showError:d}=sn(),[u,h]=(0,t.useState)(1),[x,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(""),[g,b]=(0,t.useState)({}),[y,v]=(0,t.useState)(0),[j,w]=(0,t.useState)(""),N=3e3,_=.03,k=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}],S=[{id:1,name:"Gem Selection",description:"Choose gems and amount"},{id:2,name:"Move",description:"Choose your move"},{id:3,name:"Confirm",description:"Create bet"}];(0,t.useEffect)((()=>{const e=Object.entries(g).reduce(((e,t)=>{let[n,a]=t;const s=r.find((e=>e.type===n));return e+(s?s.price*a:0)}),0);v(e)}),[g,r]);const C=e=>{if(!p||parseFloat(p)<=0)return void d("Please enter a valid bet amount first");const t=parseFloat(p);if(t<1)d("Minimum bet amount is $".concat(1));else if(t>N)d("Maximum bet amount is $".concat(N));else{m(!0);try{console.log("Attempting ".concat(e," strategy for $").concat(t," with gems:"),r.map((e=>"".concat(e.name,": ").concat(e.available_quantity))));const n=dn(e,r,t);if(n.success){const a={};n.combination.forEach((e=>{a[e.type]=e.quantity}));const s=n.combination.reduce(((e,t)=>e+t.totalValue),0);if(Math.abs(s-t)>.01)throw new Error("Amount mismatch: expected $".concat(t,", got $").concat(s));b(a),c(n.message),console.log("".concat(e," strategy successful:"),a)}else d(n.message),console.error("".concat(e," strategy failed:"),n.message)}catch(n){console.error("Error calculating gem combination:",n);const e=n.message.includes("available in inventory")?n.message:"Error calculating gem combination. Please try manually selecting gems.";d(e)}finally{m(!1)}}},M=(e,t)=>{const n=r.find((t=>t.type===e));if(!n)return;const a=n.available_quantity,s=Math.max(0,Math.min(a,t));b((t=>{if(s<=0){const n=l({},t);return delete n[e],n}return l(l({},t),{},{[e]:s})}))},L=()=>!!j||(d("Please select your move"),!1),E=()=>{const e=Object.entries(g).map((e=>{let[t,n]=e;const a=r.find((e=>e.type===t));return a?l(l({},a),{},{quantity:n}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price));return 0===e.length?(0,Pt.jsx)("div",{className:"text-text-secondary text-sm text-center py-4",children:"No gems selected. Choose amount and strategy above."}):(0,Pt.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e=>{const t=e.quantity*e.price;return(0,Pt.jsxs)("div",{className:"flex items-center space-x-1 bg-surface-sidebar rounded-lg px-3 py-2 border border-opacity-30",style:{borderColor:e.color},children:[(0,Pt.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,Pt.jsxs)("span",{className:"text-text-secondary text-xs font-rajdhani",children:["x",e.quantity]}),(0,Pt.jsxs)("span",{className:"text-green-400 text-xs font-rajdhani font-bold",children:["= ",Zt(t)]})]},e.type)}))})};return(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg w-full max-w-lg max-h-[90vh] overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-primary",children:[(0,Pt.jsx)("h2",{className:"text-white font-russo text-xl",children:"Create Bet"}),(0,Pt.jsx)("button",{onClick:a,className:"text-text-secondary hover:text-white transition-colors",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:S.map(((e,n)=>(0,Pt.jsxs)(t.Fragment,{children:[(0,Pt.jsxs)("div",{className:"flex-1 flex items-center space-x-2 ".concat(u>=e.id?"text-accent-primary":"text-text-secondary"),children:[(0,Pt.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(u>=e.id?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:e.id}),(0,Pt.jsx)("span",{className:"text-xs font-rajdhani hidden sm:block",children:e.name})]}),n<S.length-1&&(0,Pt.jsx)("div",{className:"w-8 h-0.5 ".concat(u>e.id?"bg-accent-primary":"bg-surface-sidebar")})]},e.id)))})}),(0,Pt.jsxs)("div",{className:"px-4 overflow-y-auto max-h-96",children:[1===u&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-surface-card border-b border-border-primary p-4 -mx-4 mb-0 z-10",children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Bet Amount"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)("input",{type:"number",value:p,onChange:e=>{return t=e.target.value,void f(t);var t},placeholder:"Enter amount...",min:1,max:N,className:"w-full px-4 py-3 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white text-xl font-rajdhani font-bold text-center focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 text-xl font-bold",children:"$"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between text-text-secondary text-sm mt-2",children:[(0,Pt.jsxs)("span",{children:["Min: $",1]}),(0,Pt.jsxs)("span",{children:["Max: $",N]})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Auto Combination"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Pt.jsx)("button",{onClick:()=>C("small"),disabled:!p||parseFloat(p)<=0||x,className:"px-4 py-3 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",title:"\ud83d\udd34 Use more cheap gems (Ruby, Amber, Topaz)",children:x?(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udd34 Small"}),(0,Pt.jsx)("button",{onClick:()=>C("smart"),disabled:!p||parseFloat(p)<=0||x,className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",title:"\ud83d\udfe2 Balanced mid-range gems (60% mid, 30% low, 10% high)",children:x?(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe2 Smart"}),(0,Pt.jsx)("button",{onClick:()=>C("big"),disabled:!p||parseFloat(p)<=0||x,className:"px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",title:"\ud83d\udfe3 Use fewer expensive gems (Magic, Sapphire, Aquamarine)",children:x?(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe3 Big"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Pt.jsx)("label",{className:"text-white font-rajdhani text-lg",children:"Selected Gems"}),(0,Pt.jsxs)("div",{className:"font-rajdhani text-xl font-bold ".concat(p&&Math.abs(y-parseFloat(p))<.01?"text-green-400":y>0?"text-orange-400":"text-text-secondary"),children:[Zt(y),p&&parseFloat(p)>0&&(0,Pt.jsxs)("span",{className:"text-text-secondary text-sm ml-2",children:["/ ",Ut(parseFloat(p))]})]})]}),(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4 min-h-16 border border-border-primary",children:E()}),p&&parseFloat(p)>0&&Math.abs(y-parseFloat(p))>.01&&(0,Pt.jsxs)("div",{className:"mt-2 text-orange-400 text-sm font-rajdhani",children:["\u26a0\ufe0f Selected gems total ($",y,") doesn't match bet amount ($",parseFloat(p),"). Use auto-combination buttons or adjust manually."]})]}),(0,Pt.jsxs)("div",{className:"pb-4",children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Your Inventory"}),(0,Pt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 max-h-64 overflow-y-auto",children:r.map((e=>{const t=g[e.type]||0;return e.has_gems?(0,Pt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 border border-opacity-20",style:{borderColor:e.color},children:[(0,Pt.jsxs)("div",{className:"text-center mb-2",children:[(0,Pt.jsx)("img",{src:e.icon,alt:e.name,className:"w-8 h-8 mx-auto mb-1"}),(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:e.name}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:Zt(e.price)})]}),(0,Pt.jsxs)("div",{className:"flex items-center justify-between space-x-1",children:[(0,Pt.jsx)("button",{onClick:()=>M(e.type,t-1),disabled:t<=0,className:"w-6 h-6 bg-red-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"\u2212"}),(0,Pt.jsxs)("div",{className:"text-center flex-1",children:[(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold text-sm",children:t}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs",children:["/",e.available_quantity]})]}),(0,Pt.jsx)("button",{onClick:()=>M(e.type,t+1),disabled:t>=e.available_quantity,className:"w-6 h-6 bg-green-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"+"})]})]},e.type):null}))})]})]}),2===u&&(0,Pt.jsx)("div",{className:"py-4",children:(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Choose Your Move"}),(0,Pt.jsx)("p",{className:"text-text-secondary",children:"Select your strategy for the battle"}),(0,Pt.jsxs)("div",{className:"text-green-400 font-rajdhani text-lg mt-2",children:["Betting: ",Zt(y)]})]}),(0,Pt.jsx)("div",{className:"grid grid-cols-3 gap-4",children:k.map((e=>(0,Pt.jsxs)("button",{onClick:()=>w(e.id),className:"p-6 rounded-lg border-2 transition-all duration-300 hover:scale-105 ".concat(j===e.id?"border-accent-primary bg-accent-primary bg-opacity-20":"border-surface-sidebar hover:border-accent-primary border-opacity-50"),children:[(0,Pt.jsx)("img",{src:e.icon,alt:e.name,className:"w-16 h-16 mx-auto mb-3"}),(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg",children:e.name})]},e.id)))})]})}),3===u&&(0,Pt.jsx)("div",{className:"py-4",children:(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-4",children:"Confirm Your Bet"})}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Bet Amount:"}),(0,Pt.jsx)("span",{className:"text-white font-rajdhani font-bold",children:Zt(y)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Commission (3%):"}),(0,Pt.jsx)("span",{className:"text-orange-400 font-rajdhani font-bold",children:Zt(y*_)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Your Move:"}),(0,Pt.jsx)("span",{className:"text-white font-rajdhani font-bold capitalize",children:j})]}),(0,Pt.jsxs)("div",{className:"border-t border-border-primary pt-3 mt-3",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm mb-2",children:"Selected Gems (from Inventory):"}),(0,Pt.jsx)("div",{className:"space-y-2",children:E()})]})]}),(0,Pt.jsx)("div",{className:"bg-yellow-900 bg-opacity-20 border border-yellow-500 border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsxs)("div",{className:"text-yellow-400 text-sm",children:[(0,Pt.jsx)("div",{className:"font-bold mb-1",children:"Important:"}),(0,Pt.jsx)("div",{children:"Your gems and commission will be frozen in inventory until the game completes. The bet will auto-cancel in 24 hours if no opponent joins."})]})]})})]})})]}),(0,Pt.jsx)("div",{className:"p-4 border-t border-border-primary",children:(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[u>1&&(0,Pt.jsx)("button",{onClick:()=>{u>1&&h(u-1)},disabled:x,className:"px-4 py-2 bg-surface-sidebar text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:"Back"}),u<3?(0,Pt.jsx)("button",{onClick:()=>{let e=!1;switch(u){case 1:e=(()=>{const e=parseFloat(p);if(isNaN(e)||e<1||e>N)return d("Bet amount must be between $".concat(1," and $").concat(N)),!1;if(0===Object.keys(g).length)return d("Please select at least one gem"),!1;if(Math.abs(y-e)>.01)return d("Selected gems total ($".concat(y,") must match bet amount ($").concat(e,"). Use auto-combination buttons or adjust manually.")),!1;const t=i(g);if(!t.valid)return d(t.error),!1;const a=y*_,s=((null===n||void 0===n?void 0:n.virtual_balance)||0)-((null===n||void 0===n?void 0:n.frozen_balance)||0);return!(s<a)||(d("Insufficient balance for commission. Required: ".concat(Ut(a),", Available: ").concat(Ut(s))),!1)})();break;case 2:e=L()}e&&u<3&&h(u+1)},disabled:x,className:"flex-1 px-4 py-2 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:"Next"}):(0,Pt.jsx)("button",{onClick:async()=>{if(L()){m(!0);try{const e=await fetch("".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api/games/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({move:j,bet_gems:g})}),t=await e.json();if(e.ok){c("Bet created! ".concat(Ut(y*_)," (3%) frozen until game completion.")),await o(),null===s||void 0===s||s();It().triggerLobbyRefresh(),console.log("\ud83c\udfae Bet created - triggering lobby refresh"),a()}else d(t.detail||"Failed to create bet")}catch(e){d("Network error. Please try again.")}finally{m(!1)}}},disabled:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:x?"Creating...":"Create Bet"})]})})]})})},hn=e=>{let{targetAmount:t,commissionAmount:n,selectedGems:a,onSelectedGemsChange:s,gemsData:r,loading:i,onStrategySelect:o,showError:c}=e;const d=e=>{try{return"number"!==typeof e||isNaN(e)?"$0.00":"$".concat(e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))}catch(t){return console.error("Error formatting currency:",t),"$0.00"}},u=Object.entries(a).reduce(((e,t)=>{let[n,a]=t;const s=r.find((e=>e.type===n));return e+(s?s.price*a:0)}),0),h=(e,t)=>{const n=r.find((t=>t.type===e));if(!n)return;const i=n.available_quantity,o=Math.max(0,Math.min(i,t)),c=l({},a);o<=0?delete c[e]:c[e]=o,s(c)},x=e=>{try{const n=dn(e,r,t);if(n.success){const t={};n.combination.forEach((e=>{t[e.type]=e.quantity})),s(t),o&&o(e)}else c(n.message)}catch(n){console.error("Error calculating gem combination:",n),c("Error calculating gem combination")}};return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Match Opponent's Bet"}),(0,Pt.jsx)("div",{className:"text-green-400 font-rajdhani text-2xl font-bold",children:d(t)}),(0,Pt.jsxs)("div",{className:"text-blue-400 font-rajdhani text-lg",children:["Your Bet: ",d(u)]}),n>0&&(0,Pt.jsxs)("div",{className:"text-orange-400 font-rajdhani text-sm",children:["Commission: ",d(n)]}),Math.abs(u-t)>.01&&(0,Pt.jsxs)("div",{className:"text-red-400 text-sm mt-1",children:["\u26a0\ufe0f Amount mismatch: ",d(Math.abs(u-t))]})]}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h4",{className:"text-white font-rajdhani text-lg",children:"Auto Combination"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Pt.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x("small")},disabled:i,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm",title:"\ud83d\udd34 Use more cheap gems (Ruby, Amber, then others)",children:i?(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udd34 Small"}),(0,Pt.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x("smart")},disabled:i,className:"px-3 py-2 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm",title:"\ud83d\udfe2 Balanced mid-range gems (60% mid, 30% low, 10% high)",children:i?(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe2 Smart"}),(0,Pt.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x("big")},disabled:i,className:"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm",title:"\ud83d\udfe3 Use fewer expensive gems (Magic, Sapphire, then others)",children:i?(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe3 Big"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"text-white font-rajdhani font-bold mb-2",children:"Selected Gems"}),Object.keys(a).length>0?(0,Pt.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(a).map((e=>{let[t,n]=e;const a=r.find((e=>e.type===t));return a?l(l({},a),{},{quantity:n}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price)).map((e=>{const t=e.quantity*e.price;return(0,Pt.jsxs)("div",{className:"flex items-center space-x-1 bg-surface-card rounded-lg px-3 py-2 border border-opacity-30",style:{borderColor:e.color},children:[(0,Pt.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,Pt.jsxs)("span",{className:"text-text-secondary text-xs font-rajdhani",children:["x",e.quantity]}),(0,Pt.jsxs)("span",{className:"text-green-400 text-xs font-rajdhani font-bold",children:["= ",d(t)]})]},e.type)}))}):(0,Pt.jsx)("div",{className:"text-text-secondary text-center py-4",children:"No gems selected. Use Auto Combination or select manually below."})]}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h5",{className:"text-white font-rajdhani font-bold",children:"Your Inventory"}),(0,Pt.jsx)("div",{className:"flex flex-wrap gap-3",children:r&&Array.isArray(r)?r.map((e=>{const t=e.available_quantity||0,n=a[e.type]||0;return!e.has_available&&n<=0?null:(0,Pt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 border border-opacity-20 min-w-[140px]",style:{borderColor:e.color},children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:e.name}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:d(e.price)})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Pt.jsx)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),h(e.type,Math.max(0,n-1))},disabled:n<=0,className:"w-5 h-5 bg-red-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"\u2212"}),(0,Pt.jsxs)("div",{className:"flex-1 text-center",children:[(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:n}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs",children:["/",t]})]}),(0,Pt.jsx)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),h(e.type,n+1)},disabled:n>=t,className:"w-5 h-5 bg-green-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"+"})]})]},e.type)})):(0,Pt.jsx)("div",{className:"text-center text-text-secondary py-4 w-full",children:"Loading gems..."})})]})]})},xn=e=>{var t,n;let{targetAmount:a,totalGemValue:s,selectedMove:r,onSelectedMoveChange:i}=e;const o=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}];return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Choose Your Move"}),(0,Pt.jsx)("p",{className:"text-text-secondary mb-2",children:"Select your strategy for the battle"}),(0,Pt.jsxs)("div",{className:"text-green-400 font-rajdhani text-lg",children:["Betting: ",qt(s)]})]}),(0,Pt.jsx)("div",{className:"grid grid-cols-3 gap-4",children:o.map((e=>(0,Pt.jsx)("button",{onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),n=e.id,i&&i(n)},className:"p-6 rounded-lg border-2 transition-all duration-300 hover:scale-105 ".concat(r===e.id?"border-accent-primary bg-accent-primary bg-opacity-20":"border-border-primary hover:border-accent-primary"),children:(0,Pt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Pt.jsx)("img",{src:e.icon,alt:e.name,className:"w-16 h-16"}),(0,Pt.jsx)("span",{className:"text-white font-rajdhani font-bold",children:e.name})]})},e.id)))}),r&&(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("div",{className:"inline-block bg-accent-primary bg-opacity-20 border border-accent-primary rounded-lg px-4 py-2",children:(0,Pt.jsxs)("span",{className:"text-accent-primary font-rajdhani font-bold",children:["Selected: ",null===(t=o.find((e=>e.id===r)))||void 0===t?void 0:t.name]})})}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"text-white font-rajdhani font-bold mb-3",children:"Battle Summary"}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Target Amount:"}),(0,Pt.jsx)("span",{className:"text-white font-rajdhani font-bold",children:qt(a)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Your Bet:"}),(0,Pt.jsx)("span",{className:"text-green-400 font-rajdhani font-bold",children:qt(s)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Your Move:"}),(0,Pt.jsx)("span",{className:"text-accent-primary font-rajdhani font-bold",children:r?null===(n=o.find((e=>e.id===r)))||void 0===n?void 0:n.name:"Not selected"})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-600 rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-blue-400 font-rajdhani font-bold mb-2",children:"\u26a1 Battle Rules"}),(0,Pt.jsxs)("ul",{className:"text-blue-300 text-sm space-y-1",children:[(0,Pt.jsx)("li",{children:"\u2022 Rock beats Scissors"}),(0,Pt.jsx)("li",{children:"\u2022 Paper beats Rock"}),(0,Pt.jsx)("li",{children:"\u2022 Scissors beats Paper"}),(0,Pt.jsx)("li",{children:"\u2022 Winner takes all gems"})]})]})]})},mn=e=>{var n,a,s,r,i,o,l,c,d,u,h,x;let{battleResult:m,selectedMove:p,targetAmount:f,totalGemValue:g,commissionAmount:b,playerData:y,onClose:v}=e;const[j,w]=t.useState(30);t.useEffect((()=>{const e=setInterval((()=>{w((e=>e<=1?(v(),0):e-1))}),1e3);return()=>clearInterval(e)}),[v]);const N=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}],{result:_="draw",opponentMove:k="rock",gameData:S=null}=m||{},C=(()=>{switch(_){case"win":return{title:"VICTORY!",color:"text-green-400",bgColor:"bg-green-900",borderColor:"border-green-600"};case"lose":return{title:"DEFEAT!",color:"text-red-400",bgColor:"bg-red-900",borderColor:"border-red-600"};default:return{title:"DRAW!",color:"text-yellow-400",bgColor:"bg-yellow-900",borderColor:"border-yellow-600"}}})();return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"text-center py-4",children:[(0,Pt.jsx)("h3",{className:"text-5xl font-russo mb-6 ".concat(C.color," animate-pulse"),children:C.title}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-sm",children:["Auto-closing in ",j," seconds"]})]}),(0,Pt.jsx)("div",{className:"".concat(C.bgColor," bg-opacity-10 border-2 ").concat(C.borderColor," rounded-xl p-6"),children:(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full border-4 ".concat("win"===_?"border-green-400":"lose"===_?"border-red-400":"border-yellow-400"," bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"),children:(0,Pt.jsx)("span",{className:"text-white font-russo text-xl",children:(null===y||void 0===y||null===(n=y.player)||void 0===n||null===(a=n.username)||void 0===a||null===(s=a.charAt(0))||void 0===s?void 0:s.toUpperCase())||"Y"})}),(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg mb-2",children:(null===y||void 0===y||null===(r=y.player)||void 0===r?void 0:r.username)||"You"}),(0,Pt.jsx)("div",{className:"text-sm font-bold ".concat("win"===_?"text-green-400":"lose"===_?"text-red-400":"text-yellow-400"),children:"win"===_?"WINNER":"lose"===_?"LOSER":"DRAW"}),(0,Pt.jsxs)("div",{className:"mt-4",children:[(0,Pt.jsx)("img",{src:null===(i=N.find((e=>e.id===p)))||void 0===i?void 0:i.icon,alt:p,className:"w-16 h-16 mx-auto mb-2"}),(0,Pt.jsx)("div",{className:"text-accent-primary font-rajdhani capitalize font-bold",children:null===(o=N.find((e=>e.id===p)))||void 0===o?void 0:o.name})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-4xl font-russo text-white mb-2",children:"VS"}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"Rock Paper Scissors"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full border-4 ".concat("lose"===_?"border-green-400":"win"===_?"border-red-400":"border-yellow-400"," bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center"),children:(0,Pt.jsx)("span",{className:"text-white font-russo text-xl",children:(null===y||void 0===y||null===(l=y.opponent)||void 0===l||null===(c=l.username)||void 0===c||null===(d=c.charAt(0))||void 0===d?void 0:d.toUpperCase())||"O"})}),(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg mb-2",children:(null===y||void 0===y||null===(u=y.opponent)||void 0===u?void 0:u.username)||"Opponent"}),(0,Pt.jsx)("div",{className:"text-sm font-bold ".concat("lose"===_?"text-green-400":"win"===_?"text-red-400":"text-yellow-400"),children:"lose"===_?"WINNER":"win"===_?"LOSER":"DRAW"}),(0,Pt.jsxs)("div",{className:"mt-4",children:[(0,Pt.jsx)("img",{src:null===(h=N.find((e=>e.id===k)))||void 0===h?void 0:h.icon,alt:k,className:"w-16 h-16 mx-auto mb-2"}),(0,Pt.jsx)("div",{className:"text-accent-primary font-rajdhani capitalize font-bold",children:null===(x=N.find((e=>e.id===k)))||void 0===x?void 0:x.name})]})]})]})}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-xl p-6 border border-border-primary",children:[(0,Pt.jsx)("h5",{className:"text-white font-rajdhani font-bold text-xl mb-4 text-center",children:"\ud83d\udcb0 Battle Summary"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,Pt.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Total Bet Amount:"}),(0,Pt.jsx)("span",{className:"text-white font-rajdhani font-bold text-lg",children:qt(g)})]}),b>0&&(0,Pt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,Pt.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Platform Commission (3%):"}),(0,Pt.jsxs)("span",{className:"text-orange-400 font-rajdhani font-bold",children:["-",Ut(b)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,Pt.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Prize Pool:"}),(0,Pt.jsx)("span",{className:"text-green-400 font-rajdhani font-bold text-lg",children:qt(2*g-b)})]}),(0,Pt.jsxs)("div",{className:"pt-3 border-t-2 border-accent-primary border-opacity-30",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-white font-rajdhani font-bold text-lg",children:"Your Result:"}),(0,Pt.jsx)("span",{className:"font-rajdhani font-bold text-xl ".concat(C.color),children:"win"===_?"+".concat(qt(2*g-b)):"lose"===_?"-".concat(qt(g)):"\xb1".concat(qt(0))})]}),(0,Pt.jsx)("div",{className:"text-center mt-2",children:(0,Pt.jsx)("span",{className:"text-sm font-rajdhani ".concat(C.color),children:"win"===_?"You won all gems!":"lose"===_?"You lost your gems!":"All gems returned!"})})]})]}),S&&(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary text-center mt-4 pt-3 border-t border-border-primary border-opacity-20",children:["Game ID: ",S.id]})]}),(0,Pt.jsxs)("div",{className:"".concat(C.bgColor," bg-opacity-20 border ").concat(C.borderColor," rounded-lg p-4"),children:[(0,Pt.jsx)("div",{className:"".concat(C.color," font-rajdhani font-bold mb-2"),children:"win"===_?"\ud83c\udf89 Congratulations!":"lose"===_?"\ud83d\udc94 Better luck next time!":"\ud83e\udd1d Fair game!"}),(0,Pt.jsx)("div",{className:"text-white text-sm",children:"win"===_?"You won the battle and received all the gems!":"lose"===_?"You lost the battle. Your gems went to the opponent.":"It's a draw! All gems are returned to their original owners."})]}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),v&&v()},className:"w-full py-4 text-white font-rajdhani font-bold text-lg rounded-xl hover:scale-105 transition-all duration-300 ".concat("win"===_?"bg-gradient-to-r from-green-600 to-green-700":"lose"===_?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"),children:["win"===_?"\ud83c\udf89 Claim Victory!":"lose"===_?"\ud83d\udc94 Accept Defeat":"\ud83e\udd1d Continue Playing"," (OK)"]}),(0,Pt.jsxs)("div",{className:"text-center text-text-secondary text-sm",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsxs)("span",{children:["Window closes automatically in ",j," seconds"]})]}),(0,Pt.jsx)("div",{className:"mt-1",children:"Your balance and gems have been updated automatically"})]})]})]})},pn=e=>{let{bet:n,user:a,onClose:s,onUpdateUser:r}=e;if(!n||!a||!s)return console.error("JoinBattleModal: Missing required props",{bet:n,user:a,onClose:s}),null;const i=(null===n||void 0===n?void 0:n.bet_amount)||0,o=(null===n||void 0===n?void 0:n.is_bot_game)||!1,l=o?0:.03*i,[c,d]=(0,t.useState)(1),[u,h]=(0,t.useState)(!1),[x,m]=(0,t.useState)(60),[p,f]=(0,t.useState)(!1),[g,b]=(0,t.useState)(3),[y,v]=(0,t.useState)({}),[j,w]=(0,t.useState)(""),[N,_]=(0,t.useState)(null),[k,S]=(0,t.useState)(!1),{gemsData:C=[],refreshInventory:M=()=>{}}=Ft()||{},{showSuccess:L,showError:E}=sn()||{},A=async()=>{(()=>{if(!j)return E("Please select your move"),!1;if(0===Object.keys(y).length)return E("Please select gems to match opponent's bet"),!1;const e=Object.entries(y).reduce(((e,t)=>{let[n,a]=t;const s=C.find((e=>e.type===n));return e+(s?s.price*a:0)}),0);if(Math.abs(e-i)>.01)return E("Selected gems value ($".concat(e.toFixed(2),") must match opponent's bet ($").concat(i.toFixed(2),")")),!1;for(const[t,n]of Object.entries(y)){const e=C.find((e=>e.type===t));if(!e)return E("Invalid gem type: ".concat(t)),!1;if(e.available_quantity<n)return E("Insufficient ".concat(e.name," gems. Available: ").concat(e.available_quantity,", Required: ").concat(n)),!1}if(!o){const e=.06*i,t=((null===a||void 0===a?void 0:a.virtual_balance)||0)-((null===a||void 0===a?void 0:a.frozen_balance)||0);if(t<e)return E("Insufficient balance for commission. Required: $".concat(e.toFixed(2),", Available: $").concat(t.toFixed(2))),!1}return!0})()&&(h(!0),f(!0),b(3),await new Promise((e=>{let t=3;const n=setInterval((()=>{t<=1?(clearInterval(n),f(!1),e()):(t--,b(t))}),1e3)})),await(async()=>{h(!0);try{console.log("\ud83c\udfae === ASYNC BATTLE JOIN ==="),console.log("\ud83c\udfae Joining battle:",{gameId:n.id,selectedMove:j,selectedGems:y,userId:a.id});const e=await fetch("".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api/games/").concat(n.id,"/join"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({move:j,gems:y})});if(S(!0),!e.ok){const t=await e.json();throw new Error(t.detail||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043a \u0438\u0433\u0440\u0435")}const t=await e.json();console.log("\ud83c\udfae Join game response:",t);let s=null;if(!t.game_id||void 0===t.winner_id)throw new Error("\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 API. \u041e\u0436\u0438\u0434\u0430\u043b\u0438\u0441\u044c \u043f\u043e\u043b\u044f game_id \u0438 winner_id.");console.log("\ud83c\udfae Game completed immediately"),s=t.winner_id===a.id?"win":t.winner_id?"lose":"draw",_({result:s,opponentMove:t.creator_move,gameData:t}),await M(),r&&r(),It().triggerLobbyRefresh(),console.log("\u2694\ufe0f Battle joined/completed - triggering lobby refresh"),d(3),L("Battle completed! ".concat("win"===s?"Victory!":"lose"===s?"Defeat!":"Draw!"))}catch(e){console.error("\ud83d\udea8 Async battle join error:",e),E(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043a \u0431\u0438\u0442\u0432\u0435")}finally{h(!1)}})())},T=async()=>{k&&c<3&&await(async()=>{if(k)try{console.log("\ud83d\udeaa Leaving game:",n.id);const e=await fetch("".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api/games/").concat(n.id,"/leave"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok){const t=await e.json();return void console.error("Error leaving game:",t)}const t=await e.json();console.log("\ud83d\udeaa Leave game response:",t),await M(),r&&r(),It().triggerLobbyRefresh(),L("Successfully left the game")}catch(e){console.error("\ud83d\udea8 Error leaving game:",e)}})(),s()};(0,t.useEffect)((()=>{if(c>=3)return;const e=setInterval((()=>{m((e=>e<=1?(T(),0):e-1))}),1e3);return()=>clearInterval(e)}),[c,k]);const P=e=>{h(!0);try{const t=dn(e,C,i);if(t.success){const n={};t.combination.forEach((e=>{n[e.type]=e.quantity})),v(n);const a={small:"Small",smart:"Smart",big:"Big"};L(t.message||"".concat(a[e]," strategy: exact combination for $").concat(i.toFixed(2)))}else E(t.message||"Insufficient gems to create exact combination")}catch(t){console.error("Error with strategy selection:",t),E(t.message||"Error with automatic gem selection")}finally{h(!1)}},z=[{id:1,name:"Gem Selection",description:"Select your gems"},{id:2,name:"Move Selection",description:"Choose your move"},{id:3,name:"Battle Result",description:"Battle result"}],O=(null===a||void 0===a?void 0:a.virtual_balance)||0,R=(null===a||void 0===a?void 0:a.frozen_balance)||0,I=O-R;if(!o&&I<l)return(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg w-full max-w-md p-6",children:[(0,Pt.jsx)("h2",{className:"text-xl font-russo text-white mb-4",children:"\u26a0\ufe0f Insufficient Funds"}),(0,Pt.jsxs)("p",{className:"text-text-secondary mb-4",children:["You need at least $",l.toFixed(2)," for commission (3%) to join this bet."]}),(0,Pt.jsxs)("p",{className:"text-text-secondary mb-4",children:["Balance: $",O.toFixed(2)," | Frozen: $",R.toFixed(2)," | Available: $",I.toFixed(2)]}),(0,Pt.jsx)("button",{onClick:s,className:"w-full py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Close"})]})});const D=C.reduce(((e,t)=>e+t.available_quantity*t.price),0);if(D<i)return(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg w-full max-w-md p-6",children:[(0,Pt.jsx)("h2",{className:"text-xl font-russo text-white mb-4",children:"\u26a0\ufe0f Insufficient Gems"}),(0,Pt.jsxs)("p",{className:"text-text-secondary mb-4",children:["You don't have enough gems to match this bet amount of $",i.toFixed(2),"."]}),(0,Pt.jsxs)("p",{className:"text-text-secondary mb-4",children:["Your total gem value: $",D.toFixed(2)]}),(0,Pt.jsx)("button",{onClick:s,className:"w-full py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Close"})]})});const B=()=>{const e=Object.entries(y).reduce(((e,t)=>{let[n,a]=t;const s=C.find((e=>e.type===n));return e+(s?s.price*a:0)}),0);switch(c){case 1:return Object.keys(y).length>0&&Math.abs(e-i)<=.01;case 2:return""!==j;default:return!1}};return(0,Pt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:[p&&(0,Pt.jsx)("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"countdown-number text-white font-russo text-9xl transform transition-all duration-500",style:{filter:"drop-shadow(0 0 30px rgba(255, 255, 255, 0.8))"},children:g},g),(0,Pt.jsx)("div",{className:"text-white font-rajdhani text-2xl mt-8 opacity-90 animate-pulse",children:"\u2694\ufe0f Starting Battle..."}),(0,Pt.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,Pt.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,Pt.jsx)("div",{className:"w-96 h-96 border-2 border-white border-opacity-20 rounded-full animate-ping"}),(0,Pt.jsx)("div",{className:"absolute inset-4 border border-accent-primary border-opacity-40 rounded-full animate-pulse"})]})})]})}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-primary",children:[(0,Pt.jsx)("h2",{className:"text-white font-russo text-xl",children:"Join Battle"}),c<=2&&(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 ".concat(x<=15?"text-red-400":"text-yellow-400"),children:[(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsxs)("span",{className:"font-rajdhani font-bold text-lg ".concat(x<=15?"animate-pulse":""),children:[Math.floor(x/60),":",(x%60).toString().padStart(2,"0")]})]}),(0,Pt.jsx)("button",{type:"button",onClick:T,className:"text-text-secondary hover:text-white transition-colors",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:z.map(((e,n)=>(0,Pt.jsxs)(t.Fragment,{children:[(0,Pt.jsxs)("div",{className:"flex-1 flex items-center space-x-2 ".concat(c>=e.id?"text-accent-primary":"text-text-secondary"),children:[(0,Pt.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(c>=e.id?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:e.id}),(0,Pt.jsx)("span",{className:"text-xs font-rajdhani hidden sm:block",children:e.name})]}),n<z.length-1&&(0,Pt.jsx)("div",{className:"w-8 h-0.5 ".concat(c>e.id?"bg-accent-primary":"bg-surface-sidebar")})]},e.id)))})}),c<=2&&x<=15&&(0,Pt.jsx)("div",{className:"px-4 py-2 bg-red-900 bg-opacity-20 border-b border-red-600",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 text-red-400",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsxs)("span",{className:"text-sm font-rajdhani font-bold animate-pulse",children:["Warning: Only ",x," seconds remaining!"]})]})}),(0,Pt.jsx)("div",{className:"p-4 overflow-y-auto max-h-96",children:(()=>{var e;const t=Object.entries(y).reduce(((e,t)=>{let[n,a]=t;const s=C.find((e=>e.type===n));return e+(s?s.price*a:0)}),0);switch(c){case 1:return(0,Pt.jsx)(hn,{targetAmount:i,commissionAmount:l,selectedGems:y,onSelectedGemsChange:v,gemsData:C,loading:u,onStrategySelect:P,showError:E});case 2:return(0,Pt.jsx)(xn,{targetAmount:i,totalGemValue:t,selectedMove:j,onSelectedMoveChange:w});case 3:return(0,Pt.jsx)(mn,{battleResult:N,selectedMove:j,targetAmount:i,totalGemValue:t,commissionAmount:l,playerData:{player:a,opponent:(null===n||void 0===n?void 0:n.creator)||(null===N||void 0===N||null===(e=N.gameData)||void 0===e?void 0:e.creator)||{username:"Opponent"}},onClose:s});default:return(0,Pt.jsx)("div",{className:"p-4 text-white",children:"Unknown Step"})}})()}),c<=2&&(0,Pt.jsx)("div",{className:"p-4 border-t border-border-primary",children:(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[c>1&&(0,Pt.jsx)("button",{type:"button",onClick:()=>{d((e=>Math.max(1,e-1)))},disabled:u,className:"px-4 py-2 bg-surface-sidebar text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:"Back"}),(0,Pt.jsx)("button",{type:"button",onClick:()=>{2===c?A():B()&&d((e=>e+1))},disabled:u||!B(),className:"flex-1 px-4 py-2 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300 disabled:opacity-50",children:2===c?"Start Battle!":"Next"})]})})]})]})},fn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api");const gn=new class{constructor(){this.enabled=!0,this.volume=.3,this.sounds=new Map,this.audioCache=new Map,this.context=null,this.currentlyPlaying=null,this.criticalSounds=new Set,this.initAudioContext(),this.loadSettings(),this.loadSounds(),this.criticalSounds=new Set(["\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438","\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438","\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430","reveal","\u043f\u043e\u0431\u0435\u0434\u0430","\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435","\u043d\u0438\u0447\u044c\u044f","\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430","\u043f\u0440\u043e\u0434\u0430\u0436\u0430_\u0433\u0435\u043c\u0430"])}initAudioContext(){try{this.context=new(window.AudioContext||window.webkitAudioContext)}catch(e){console.warn("AudioContext \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f:",e)}}loadSettings(){try{const e=JSON.parse(localStorage.getItem("gemplay-sound-settings")||"{}");this.enabled=!1!==e.enabled,this.volume=e.volume||.3}catch(e){console.warn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0437\u0432\u0443\u043a\u0430:",e)}}saveSettings(){try{const e={enabled:this.enabled,volume:this.volume};localStorage.setItem("gemplay-sound-settings",JSON.stringify(e))}catch(e){console.warn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0437\u0432\u0443\u043a\u0430:",e)}}async loadSounds(){try{const e=localStorage.getItem("token");if(!e)return console.log("No auth token, using fallback sounds"),void this.createFallbackSounds();const t=await fetch("".concat(fn,"/admin/sounds"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw new Error("HTTP ".concat(t.status));const n=await t.json();console.log("Loaded ".concat(n.length," sounds from API"));for(const a of n)this.sounds.has(a.event_trigger)||this.sounds.set(a.event_trigger,[]),this.sounds.get(a.event_trigger).push(a);for(const[a,s]of this.sounds.entries())s.sort(((e,t)=>t.priority-e.priority));await this.preloadCriticalSounds()}catch(e){console.warn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0432\u0443\u043a\u043e\u0432 \u0438\u0437 API:",e),this.createFallbackSounds()}}async preloadCriticalSounds(){const e=[];for(const n of this.criticalSounds){const t=this.sounds.get(n);if(t)for(const n of t)n.has_audio_file&&!this.audioCache.has(n.id)&&e.push(this.loadAudioFile(n))}try{await Promise.all(e),console.log("Critical sounds preloaded")}catch(t){console.warn("Error preloading critical sounds:",t)}}async loadAudioFile(e){if(this.audioCache.has(e.id))return this.audioCache.get(e.id);try{const t=await this.createProgrammaticSound(e.event_trigger);return this.audioCache.set(e.id,t),t}catch(t){return console.warn("Error loading audio for sound ".concat(e.id,":"),t),null}}createFallbackSounds(){const e=[{event_trigger:"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",priority:7,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",priority:6,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430",priority:5,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"reveal",priority:8,is_enabled:!0,volume:.6,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u043e\u0431\u0435\u0434\u0430",priority:9,is_enabled:!0,volume:.8,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",priority:6,is_enabled:!0,volume:.4,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043d\u0438\u0447\u044c\u044f",priority:4,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430",priority:6,is_enabled:!0,volume:.6,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"hover",priority:2,is_enabled:!0,volume:.3,delay:0,can_repeat:!1,game_type:"ALL"},{event_trigger:"\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430",priority:3,is_enabled:!0,volume:.4,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430",priority:3,is_enabled:!0,volume:.4,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043e\u0448\u0438\u0431\u043a\u0430",priority:8,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"}];for(const t of e)this.sounds.has(t.event_trigger)||this.sounds.set(t.event_trigger,[]),this.sounds.get(t.event_trigger).push(t);console.log("Fallback sounds created")}async playSound(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!this.enabled||!this.context)return;const a=this.sounds.get(e);if(!a||0===a.length)return void console.warn("Sound not found for event: ".concat(e));const s=a.filter((e=>e.is_enabled&&("ALL"===e.game_type||e.game_type===t)));if(0===s.length)return void console.warn("No applicable sounds for event: ".concat(e,", gameType: ").concat(t));const r=s[0];if(this.currentlyPlaying&&this.currentlyPlaying.priority>=r.priority)console.log("Sound blocked by higher priority: ".concat(this.currentlyPlaying.priority," >= ").concat(r.priority));else if(r.can_repeat||!this.currentlyPlaying||this.currentlyPlaying.event_trigger!==e){this.currentlyPlaying&&this.stopCurrentSound(),r.delay>0&&await new Promise((e=>setTimeout(e,r.delay)));try{"suspended"===this.context.state&&await this.context.resume(),this.currentlyPlaying=r,r.has_audio_file?await this.playAudioFile(r,n):await this.playProgrammaticSound(r,n)}catch(i){console.warn("Error playing sound ".concat(e,":"),i)}finally{this.currentlyPlaying=null}}else console.log("Sound repeat blocked for: ".concat(e))}async playAudioFile(e,t){let n=this.audioCache.get(e.id);if(!n&&(n=await this.loadAudioFile(e),!n))return void await this.playProgrammaticSound(e,t);const a=this.context.createBufferSource(),s=this.context.createGain();a.buffer=n,a.connect(s),s.connect(this.context.destination);const r=this.volume*e.volume*t;s.gain.setValueAtTime(r,this.context.currentTime),a.start(0),a.onended=()=>{this.currentlyPlaying===e&&(this.currentlyPlaying=null)}}async playProgrammaticSound(e,t){const n=this.getProgrammaticSoundFunction(e.event_trigger);if(n){n(this.volume*e.volume*t),setTimeout((()=>{this.currentlyPlaying===e&&(this.currentlyPlaying=null)}),1e3)}}getProgrammaticSoundFunction(e){return{"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438":e=>this.createClickSound(800,.1*e,"sine"),"\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438":e=>this.createTingSound([600,800],.3*e),"\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430":e=>this.createClickSound(400,.05*e,"square"),reveal:e=>this.createMagicalSound(e),"\u043f\u043e\u0431\u0435\u0434\u0430":e=>this.createVictorySound(e),"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":e=>this.createDefeatSound(e),"\u043d\u0438\u0447\u044c\u044f":e=>this.createDrawSound(e),"\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430":e=>this.createCoinSound(e),"\u043f\u0440\u043e\u0434\u0430\u0436\u0430_\u0433\u0435\u043c\u0430":e=>this.createCrystalSound(e),"\u043f\u043e\u0434\u0430\u0440\u043e\u043a_\u0433\u0435\u043c\u043e\u0432":e=>this.createGiftSound(e),hover:e=>this.createHoverSound(e),"\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430":e=>this.createWooshSound(!0,e),"\u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430":e=>this.createWooshSound(!1,e),"\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435":e=>this.createNotificationSound(e),"\u043e\u0448\u0438\u0431\u043a\u0430":e=>this.createErrorSound(e),"\u0442\u0430\u0439\u043c\u0435\u0440_reveal":e=>this.createExpireSound(e),"\u043d\u0430\u0433\u0440\u0430\u0434\u0430":e=>this.createRewardSound(e)}[e]}stopCurrentSound(){this.currentlyPlaying=null}updateSettings(e,t){this.enabled=e,this.volume=Math.max(0,Math.min(1,t)),this.saveSettings()}async reloadSounds(){this.sounds.clear(),this.audioCache.clear(),await this.loadSounds()}async createProgrammaticSound(e){return null}createClickSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sine";if(!this.context)return;const a=this.context.createOscillator(),s=this.context.createGain();a.frequency.setValueAtTime(e,this.context.currentTime),a.type=n,s.gain.setValueAtTime(0,this.context.currentTime),s.gain.linearRampToValueAtTime(.3*this.volume,this.context.currentTime+.01),s.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+t),a.connect(s),s.connect(this.context.destination),a.start(this.context.currentTime),a.stop(this.context.currentTime+t)}createTingSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[600,800],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3;this.context&&e.forEach(((e,n)=>{const a=.05*n,s=this.context.createOscillator(),r=this.context.createGain();s.frequency.setValueAtTime(e,this.context.currentTime+a),s.type="sine",r.gain.setValueAtTime(0,this.context.currentTime+a),r.gain.linearRampToValueAtTime(.2*this.volume,this.context.currentTime+a+.01),r.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+a+t),s.connect(r),r.connect(this.context.destination),s.start(this.context.currentTime+a),s.stop(this.context.currentTime+a+t)}))}createMagicalSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.currentTime;[440,554,659,880].forEach(((n,a)=>{const s=.1*a,r=this.context.createOscillator(),i=this.context.createGain();r.frequency.setValueAtTime(n,t+s),r.frequency.exponentialRampToValueAtTime(1.5*n,t+s+.5),r.type="sine",i.gain.setValueAtTime(0,t+s),i.gain.linearRampToValueAtTime(.3*this.volume*e,t+s+.1),i.gain.exponentialRampToValueAtTime(.001,t+s+.8),r.connect(i),i.connect(this.context.destination),r.start(t+s),r.stop(t+s+.8)}))}createVictorySound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.currentTime;[523,659,784,1047].forEach(((n,a)=>{const s=.15*a,r=this.context.createOscillator(),i=this.context.createGain();r.frequency.setValueAtTime(n,t+s),r.type="triangle",i.gain.setValueAtTime(0,t+s),i.gain.linearRampToValueAtTime(.4*this.volume*e,t+s+.05),i.gain.exponentialRampToValueAtTime(.001,t+s+.3),r.connect(i),i.connect(this.context.destination),r.start(t+s),r.stop(t+s+.3)}))}createDefeatSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.createOscillator(),n=this.context.createGain();t.frequency.setValueAtTime(220,this.context.currentTime),t.frequency.exponentialRampToValueAtTime(110,this.context.currentTime+.8),t.type="sawtooth",n.gain.setValueAtTime(0,this.context.currentTime),n.gain.linearRampToValueAtTime(.2*this.volume*e,this.context.currentTime+.1),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.8),t.connect(n),n.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.8)}createDrawSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.createOscillator(),n=this.context.createGain();t.frequency.setValueAtTime(330,this.context.currentTime),t.type="square",n.gain.setValueAtTime(0,this.context.currentTime),n.gain.linearRampToValueAtTime(.15*this.volume*e,this.context.currentTime+.1),n.gain.linearRampToValueAtTime(0,this.context.currentTime+.3),t.connect(n),n.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.3)}createCoinSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;[800,1e3,1200].forEach(((t,n)=>{const a=.05*n,s=this.context.createOscillator(),r=this.context.createGain();s.frequency.setValueAtTime(t,this.context.currentTime+a),s.type="sine",r.gain.setValueAtTime(0,this.context.currentTime+a),r.gain.linearRampToValueAtTime(.25*this.volume*e,this.context.currentTime+a+.01),r.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+a+.2),s.connect(r),r.connect(this.context.destination),s.start(this.context.currentTime+a),s.stop(this.context.currentTime+a+.2)}))}createCrystalSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context)for(let t=0;t<8;t++){const n=.02*t,a=800+800*Math.random(),s=this.context.createOscillator(),r=this.context.createGain();s.frequency.setValueAtTime(a,this.context.currentTime+n),s.type="sine",r.gain.setValueAtTime(0,this.context.currentTime+n),r.gain.linearRampToValueAtTime(.1*this.volume*e,this.context.currentTime+n+.01),r.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+n+.3),s.connect(r),r.connect(this.context.destination),s.start(this.context.currentTime+n),s.stop(this.context.currentTime+n+.3)}}createGiftSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.currentTime;[659,784,988].forEach(((n,a)=>{const s=.1*a,r=this.context.createOscillator(),i=this.context.createGain();r.frequency.setValueAtTime(n,t+s),r.type="sine",i.gain.setValueAtTime(0,t+s),i.gain.linearRampToValueAtTime(.2*this.volume*e,t+s+.05),i.gain.exponentialRampToValueAtTime(.001,t+s+.25),r.connect(i),i.connect(this.context.destination),r.start(t+s),r.stop(t+s+.25)}))}createHoverSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.createOscillator(),n=this.context.createGain();t.frequency.setValueAtTime(500,this.context.currentTime),t.type="sine",n.gain.setValueAtTime(0,this.context.currentTime),n.gain.linearRampToValueAtTime(.1*this.volume*e,this.context.currentTime+.02),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.1),t.connect(n),n.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.1)}createWooshSound(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.context)return;const n=this.context.createOscillator(),a=this.context.createGain();e?(n.frequency.setValueAtTime(200,this.context.currentTime),n.frequency.exponentialRampToValueAtTime(800,this.context.currentTime+.3)):(n.frequency.setValueAtTime(800,this.context.currentTime),n.frequency.exponentialRampToValueAtTime(200,this.context.currentTime+.3)),n.type="sawtooth",a.gain.setValueAtTime(0,this.context.currentTime),a.gain.linearRampToValueAtTime(.15*this.volume*t,this.context.currentTime+.1),a.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.3),n.connect(a),a.connect(this.context.destination),n.start(this.context.currentTime),n.stop(this.context.currentTime+.3)}createNotificationSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;[523,659,523].forEach(((t,n)=>{const a=.15*n,s=this.context.createOscillator(),r=this.context.createGain();s.frequency.setValueAtTime(t,this.context.currentTime+a),s.type="square",r.gain.setValueAtTime(0,this.context.currentTime+a),r.gain.linearRampToValueAtTime(.2*this.volume*e,this.context.currentTime+a+.05),r.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+a+.2),s.connect(r),r.connect(this.context.destination),s.start(this.context.currentTime+a),s.stop(this.context.currentTime+a+.2)}))}createErrorSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.createOscillator(),n=this.context.createGain();t.frequency.setValueAtTime(300,this.context.currentTime),t.frequency.linearRampToValueAtTime(250,this.context.currentTime+.15),t.frequency.linearRampToValueAtTime(300,this.context.currentTime+.3),t.type="square",n.gain.setValueAtTime(0,this.context.currentTime),n.gain.linearRampToValueAtTime(.2*this.volume*e,this.context.currentTime+.05),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.3),t.connect(n),n.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.3)}createExpireSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.createOscillator(),n=this.context.createGain();t.frequency.setValueAtTime(400,this.context.currentTime),t.frequency.exponentialRampToValueAtTime(200,this.context.currentTime+1),t.type="triangle",n.gain.setValueAtTime(0,this.context.currentTime),n.gain.linearRampToValueAtTime(.25*this.volume*e,this.context.currentTime+.1),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+1),t.connect(n),n.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+1)}createRewardSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.context)return;const t=this.context.currentTime;[523,659,784,1047,1319].forEach(((n,a)=>{const s=.1*a,r=this.context.createOscillator(),i=this.context.createGain();r.frequency.setValueAtTime(n,t+s),r.type="sine",i.gain.setValueAtTime(0,t+s),i.gain.linearRampToValueAtTime(.3*this.volume*e,t+s+.05),i.gain.exponentialRampToValueAtTime(.001,t+s+.4),r.connect(i),i.connect(this.context.destination),r.start(t+s),r.stop(t+s+.4)}))}},bn=gn,yn=()=>{(0,t.useEffect)((()=>{const e=()=>{bn.context&&"suspended"===bn.context.state&&bn.context.resume(),document.removeEventListener("click",e),document.removeEventListener("keydown",e)};return document.addEventListener("click",e),document.addEventListener("keydown",e),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",e)}}),[]);const e={createBet:(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return bn.playSound("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",e)}),[]),acceptBet:(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return bn.playSound("\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",e)}),[]),selectMove:(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return bn.playSound("\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430",e)}),[]),reveal:(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return bn.playSound("reveal",e)}),[]),victory:(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return bn.playSound("\u043f\u043e\u0431\u0435\u0434\u0430",e)}),[]),defeat:(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return bn.playSound("\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",e)}),[]),draw:(0,t.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return bn.playSound("\u043d\u0438\u0447\u044c\u044f",e)}),[])},n={buy:(0,t.useCallback)((()=>bn.playSound("\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430")),[]),sell:(0,t.useCallback)((()=>bn.playSound("\u043f\u0440\u043e\u0434\u0430\u0436\u0430_\u0433\u0435\u043c\u0430")),[]),gift:(0,t.useCallback)((()=>bn.playSound("\u043f\u043e\u0434\u0430\u0440\u043e\u043a_\u0433\u0435\u043c\u043e\u0432")),[])},a={hover:(0,t.useCallback)((()=>bn.playSound("hover")),[]),modalOpen:(0,t.useCallback)((()=>bn.playSound("\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430")),[]),modalClose:(0,t.useCallback)((()=>bn.playSound("\u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430")),[]),notification:(0,t.useCallback)((()=>bn.playSound("\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435")),[]),error:(0,t.useCallback)((()=>bn.playSound("\u043e\u0448\u0438\u0431\u043a\u0430")),[]),click:(0,t.useCallback)((()=>bn.playSound("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438")),[])},s={timerExpire:(0,t.useCallback)((()=>bn.playSound("\u0442\u0430\u0439\u043c\u0435\u0440_reveal")),[]),reward:(0,t.useCallback)((()=>bn.playSound("\u043d\u0430\u0433\u0440\u0430\u0434\u0430")),[])};return{game:e,gem:n,ui:a,system:s,settings:{isEnabled:(0,t.useCallback)((()=>bn.enabled),[]),getVolume:(0,t.useCallback)((()=>bn.volume),[]),setEnabled:(0,t.useCallback)((e=>bn.updateSettings(e,bn.volume)),[]),setVolume:(0,t.useCallback)((e=>bn.updateSettings(bn.enabled,e)),[]),reloadSounds:(0,t.useCallback)((()=>bn.reloadSounds()),[])},playSound:{createBet:e.createBet,acceptBet:e.acceptBet,selectMove:e.selectMove,reveal:e.reveal,victory:e.victory,defeat:e.defeat,draw:e.draw,buyGem:n.buy,sellGem:n.sell,giftGem:n.gift,hover:a.hover,modalOpen:a.modalOpen,modalClose:a.modalClose,notification:a.notification,error:a.error,settings:a.click,timerExpire:s.timerExpire,reward:s.reward},playCoin:n.buy,playClick:a.click,playSuccess:e.victory,playModalClose:a.modalClose,playHover:a.hover}},vn=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{ui:t}=yn();return e?{onMouseEnter:t.hover}:{}},jn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),wn=e=>{let{user:n,onUpdateUser:a,setCurrentView:s}=e;const{showSuccess:r,showError:i}=sn(),{game:o,ui:c}=yn(),d=vn(!0),u=(()=>{const{ui:e}=yn();return{onOpen:e.modalOpen,onClose:e.modalClose}})(),[h,x]=(0,t.useState)({available:0,gems:0,total:0}),[m,p]=(0,t.useState)([]),[f,g]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[v,j]=(0,t.useState)([]),[w,N]=(0,t.useState)([]),[_,k]=(0,t.useState)(!0),[S,C]=(0,t.useState)("live-players"),[M,L]=(0,t.useState)(!1),[E,A]=(0,t.useState)([]),[T,P]=(0,t.useState)({minAmount:"",maxAmount:""}),[z,O]=(0,t.useState)(null),[R,I]=(0,t.useState)(!1),[D,B]=(0,t.useState)({myBets:1,availableBets:1,ongoingBattles:1,availableBots:1,ongoingBotBattles:1});(0,t.useEffect)((()=>{F(),en().then((()=>{Jt().then(A)}));const e=setInterval(F,1e4),t=It().registerRefreshCallback((()=>{console.log("\ud83d\udd04 Lobby auto-refresh triggered by operation"),F()}));return()=>{clearInterval(e),t()}}),[]);const F=async()=>{try{const n=localStorage.getItem("token"),a=await At.get("".concat(jn,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(n)}}),s=await At.get("".concat(jn,"/games/available"),{headers:{Authorization:"Bearer ".concat(n)}}),r=await At.get("".concat(jn,"/games/my-bets"),{headers:{Authorization:"Bearer ".concat(n)}}),i=await At.get("".concat(jn,"/bots/active-games"),{headers:{Authorization:"Bearer ".concat(n)}});x({available:a.data.virtual_balance||0,gems:a.data.total_gem_value||0,total:a.data.total_value||0});const o=s.data||[];g(o.filter((e=>!e.is_bot_game||!(!e.is_bot_game||!e.is_human_bot))));const l=i.data||[];j(l.filter((e=>e.is_bot_game&&!e.is_human_bot)));const c=r.data||[];p(c.filter((e=>"WAITING"===e.status)));const d=c.filter((e=>"ACTIVE"===e.status||"REVEAL"===e.status));try{var e;const t=localStorage.getItem("token"),n=(null===(e=(await At.get("".concat(jn,"/admin/games"),{params:{human_bot_only:!0,status:"ACTIVE"},headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).data)||void 0===e?void 0:e.games)||[],a=[...d,...n];y(a)}catch(t){console.error("Error fetching Human-bot games:",t),y(d)}N(c.filter((e=>("ACTIVE"===e.status||"REVEAL"===e.status)&&e.is_bot_game))),k(!1)}catch(t){console.error("Error fetching lobby data:",t),k(!1)}},W=e=>{const t=v.some((t=>(t.game_id||t.id)===(e.game_id||e.id)))||w.some((t=>(t.game_id||t.id)===(e.game_id||e.id))),n=l(l({},e),{},{is_bot_game:t});O(n),I(!0)},V=e=>{let{title:t,icon:n,count:a,children:s,color:r="text-blue-400"}=e;return(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("div",{className:r,children:n}),(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:t})]}),(0,Pt.jsx)("span",{className:"px-2 py-1 bg-accent-dark text-white text-xs rounded-full font-rajdhani",children:a})]}),s]})},H=e=>{let{currentPage:t,totalItems:n,onPageChange:a,section:s,itemsPerPage:r}=e;const i=Math.ceil(n/r);return i<=1?null:(0,Pt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[(0,Pt.jsx)("button",{onClick:()=>a(s,Math.max(1,t-1)),disabled:1===t,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50",children:"Previous"}),(0,Pt.jsxs)("span",{className:"font-roboto text-text-secondary",children:[t," of ",i]}),(0,Pt.jsx)("button",{onClick:()=>a(s,Math.min(i,t+1)),disabled:t===i,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50",children:"Next"})]})},U=(e,t)=>{B((n=>l(l({},n),{},{[e]:t})))},q=async e=>{try{const t=localStorage.getItem("token"),n=await At.delete("".concat(jn,"/games/").concat(e,"/cancel"),{headers:{Authorization:"Bearer ".concat(t)}});if(console.log("Cancel bet response:",n.data),n.data&&n.data.success){r("Bet cancelled successfully");It().triggerLobbyRefresh(),console.log("\u274c Bet cancelled - triggering lobby refresh"),await F(),a&&a()}else console.error("Cancel bet failed - no success field:",n.data),i("Failed to cancel bet - unexpected response format")}catch(s){var t,n;console.error("Error cancelling bet:",s),console.error("Error response:",null===(t=s.response)||void 0===t?void 0:t.data);let e="Failed to cancel bet";if(null!==(n=s.response)&&void 0!==n&&n.data){const t=s.response.data;"string"===typeof t?e=t:t.detail?"string"===typeof t.detail?e=t.detail:Array.isArray(t.detail)&&(e=t.detail.map((e=>e.msg||e.message||"Validation error")).join(", ")):t.message?e=t.message:t.error&&(e=t.error)}else s.message&&(e=s.message);i(e),await F()}},$=(e,t,n)=>{const a=(t-1)*n,s=a+n;return e.slice(a,s)},G=()=>{let e=f;if(T.minAmount){const t=parseFloat(T.minAmount);isNaN(t)||(e=e.filter((e=>(e.bet_amount||0)>=t)))}if(T.maxAmount){const t=parseFloat(T.maxAmount);isNaN(t)||(e=e.filter((e=>(e.bet_amount||0)<=t)))}return e},Y=(0,t.useCallback)(((e,t)=>{P((n=>l(l({},n),{},{[e]:t}))),B((e=>l(l({},e),{},{availableBets:1})))}),[]),Q=(0,t.useCallback)((e=>{Y("minAmount",e.target.value)}),[Y]),K=(0,t.useCallback)((e=>{Y("maxAmount",e.target.value)}),[Y]),X=(0,t.useCallback)((()=>{P({minAmount:"",maxAmount:""}),B((e=>l(l({},e),{},{availableBets:1})))}),[]);if(_)return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading Lobby..."})});const J=()=>(0,Pt.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,Pt.jsxs)(V,{title:"My Bets",count:m.length,color:"text-green-400",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[$(m,D.myBets,8).map((e=>(0,Pt.jsx)(nn,{game:e,user:n,isMyBet:!0,onCancel:q,onUpdateUser:()=>{F(),a&&a()},currentTime:new Date},e.game_id||e.id))),0===m.length&&(0,Pt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"You have no active bets"})]}),(0,Pt.jsx)(H,{currentPage:D.myBets,totalItems:m.length,onPageChange:U,section:"myBets",itemsPerPage:8})]}),(0,Pt.jsxs)(V,{title:"Available Bets",count:G().length,color:"text-blue-400",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),children:[(0,Pt.jsx)("div",{className:"mb-4 bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"\u041c\u0438\u043d. \u0441\u0443\u043c\u043c\u0430:"}),(0,Pt.jsx)("input",{type:"number",placeholder:"$0",value:T.minAmount,onChange:Q,className:"w-20 px-2 py-1 bg-surface-card border border-accent-primary border-opacity-30 rounded text-white text-sm focus:outline-none focus:border-accent-primary",min:"0",step:"1"})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"\u041c\u0430\u043a\u0441. \u0441\u0443\u043c\u043c\u0430:"}),(0,Pt.jsx)("input",{type:"number",placeholder:"$\u221e",value:T.maxAmount,onChange:K,className:"w-20 px-2 py-1 bg-surface-card border border-accent-primary border-opacity-30 rounded text-white text-sm focus:outline-none focus:border-accent-primary",min:"0",step:"1"})]}),(T.minAmount||T.maxAmount)&&(0,Pt.jsx)("button",{onClick:X,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded transition-colors",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),(0,Pt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e: ",G().length," \u0438\u0437 ",f.length," \u0441\u0442\u0430\u0432\u043e\u043a"]})]})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[$(G(),D.availableBets,12).map((e=>(0,Pt.jsx)(nn,{game:e,user:n,onOpenJoinBattle:W,onUpdateUser:()=>{F(),a&&a()},currentTime:new Date},e.game_id||e.id))),0===G().length&&f.length>0&&(0,Pt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"\u041d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c"}),0===f.length&&(0,Pt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No available bets"})]}),(0,Pt.jsx)(H,{currentPage:D.availableBets,totalItems:G().length,onPageChange:U,section:"availableBets",itemsPerPage:12})]}),(0,Pt.jsxs)(V,{title:"Ongoing Battles",count:b.length,color:"text-orange-400",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[$(b,D.ongoingBattles,8).map((e=>(0,Pt.jsx)(nn,{game:e,isOngoing:!0,currentTime:new Date},e.game_id||e.id))),0===b.length&&(0,Pt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No active battles"})]}),(0,Pt.jsx)(H,{currentPage:D.ongoingBattles,totalItems:b.length,onPageChange:U,section:"ongoingBattles",itemsPerPage:8})]})]}),Z=()=>(0,Pt.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,Pt.jsxs)(V,{title:"Available Bots",count:v.length,color:"text-cyan-400",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[$(v,D.availableBots,12).map((e=>(0,Pt.jsx)(nn,{game:e,user:n,onOpenJoinBattle:W,onUpdateUser:()=>{F(),a&&a()},currentTime:new Date,isBot:!0},e.game_id||e.id))),0===v.length&&(0,Pt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No available bots"})]}),(0,Pt.jsx)(H,{currentPage:D.availableBots,totalItems:v.length,onPageChange:U,section:"availableBots",itemsPerPage:12})]}),(0,Pt.jsxs)(V,{title:"Ongoing Bot Battles",count:w.length,color:"text-red-400",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[$(w,D.ongoingBotBattles,8).map((e=>(0,Pt.jsx)(nn,{game:e,user:n,isOngoing:!0,isBot:!0,onUpdateUser:()=>{F(),a&&a()},currentTime:new Date},e.game_id||e.id))),0===w.length&&(0,Pt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No ongoing bot battles"})]}),(0,Pt.jsx)(H,{currentPage:D.ongoingBotBattles,totalItems:w.length,onPageChange:U,section:"ongoingBotBattles",itemsPerPage:8})]})]});return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Game Lobby"}),(0,Pt.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Join battles, create bets, and dominate the arena"})]}),(0,Pt.jsx)(Gt,{user:n}),(0,Pt.jsx)("div",{className:"text-center mb-8",children:(0,Pt.jsxs)("button",l(l({onClick:()=>{o.createBet(),u.onOpen(),L(!0)}},d),{},{className:"px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white font-rajdhani font-bold text-xl rounded-lg hover:scale-105 hover:from-green-400 hover:to-green-500 transition-all duration-300 shadow-lg hover:shadow-green-500/50",children:[(0,Pt.jsx)("svg",{className:"w-6 h-6 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"CREATE BET"]}))}),(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,Pt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"live-players",label:"Live Players",icon:"\ud83d\udc65",count:f.length+m.length+b.length},{id:"bot-players",label:"Bot Players",icon:"\ud83e\udd16",count:v.length+w.length}].map((e=>(0,Pt.jsxs)("button",l(l({onClick:()=>{c.click(),C(e.id)}},d),{},{className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(S===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Pt.jsx)("span",{className:"mr-2",children:e.icon}),e.label,(0,Pt.jsx)("span",{className:"ml-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:e.count})]}),e.id)))})}),(0,Pt.jsxs)("div",{children:["live-players"===S&&(0,Pt.jsx)(J,{}),"bot-players"===S&&(0,Pt.jsx)(Z,{})]}),M&&(0,Pt.jsx)(un,{user:n,onClose:()=>{u.onClose(),L(!1)},onUpdateUser:a}),R&&z&&(0,Pt.jsx)(pn,{bet:{id:z.game_id||z.id,bet_amount:z.bet_amount,bet_gems:z.bet_gems,creator:z.creator,is_bot_game:z.is_bot_game},user:n,onClose:()=>{u.onClose(),O(null),I(!1)},onUpdateUser:()=>{F(),a&&a()}})]})},Nn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),_n=e=>{let{user:n}=e;const[a,s]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("awaiting"),[c,d]=(0,t.useState)(1);(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Nn,"/games/my-bets"),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data||[]),i(!1)}catch(e){console.error("Error fetching my bets:",e),s([]),i(!1)}},h=()=>{const e=a.filter((e=>e&&e.status));switch(o){case"awaiting":return e.filter((e=>"WAITING"===e.status&&e.creator_id===n.id));case"ongoing":return e.filter((e=>"ACTIVE"===e.status));case"wins":return e.filter((e=>"COMPLETED"===e.status&&e.winner_id===n.id));case"losses":return e.filter((e=>"COMPLETED"===e.status&&e.winner_id&&e.winner_id!==n.id));case"draws":return e.filter((e=>"COMPLETED"===e.status&&!e.winner_id));case"cancelled":return e.filter((e=>"CANCELLED"===e.status||"TIMEOUT"===e.status));default:return e}},x=e=>{switch(e){case"WAITING":return"bg-yellow-600 text-yellow-100";case"ACTIVE":return"bg-orange-600 text-orange-100";case"COMPLETED":return"bg-green-600 text-green-100";case"CANCELLED":return"bg-red-600 text-red-100";case"UNKNOWN":return"bg-gray-500 text-gray-100";default:return"bg-gray-600 text-gray-100"}},m=e=>{const t="rounded-lg p-4 transition-all duration-300";return"ACTIVE"===e.status?"".concat(t," bg-[#23233e] border-[#23d364] border-opacity-40 hover:border-opacity-60 border"):"".concat(t," bg-[#09295e] border-[#23d364] border-opacity-30 hover:border-opacity-50 border")},p=e=>{let{bet:t}=e;return(0,Pt.jsxs)("div",{className:m(t),children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,Pt.jsxs)("span",{className:"font-russo text-white",children:["#",t.id?t.id.slice(-4):"N/A"]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h4",{className:"font-rajdhani font-bold text-white",children:["Game #",t.id?t.id.substring(0,8):"Unknown"]}),(0,Pt.jsx)("p",{className:"font-roboto text-xs text-text-secondary",children:t.created_at?new Date(t.created_at).toLocaleString():"Unknown date"})]})]}),(0,Pt.jsx)("span",{className:"px-3 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(x(t.status||"UNKNOWN")),children:"ACTIVE"===t.status?"In Progress":t.status||"UNKNOWN"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Bet Amount:"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-green-400 font-bold",children:Zt(t.bet_amount||0)})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Opponent:"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-white",children:t.opponent_username||"Waiting..."})]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Gems:"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-white text-sm",children:t.bet_gems&&Object.keys(t.bet_gems).length>0?Object.entries(t.bet_gems).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", "):"No gems"})]}),"COMPLETED"===t.status&&n&&t.winner_id&&(0,Pt.jsx)("div",{className:"pt-3 border-t border-accent-primary border-opacity-30",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Result:"}),(0,Pt.jsx)("span",{className:"font-rajdhani font-bold ".concat(t.winner_id===n.id?"text-green-400":"text-red-400"),children:t.winner_id===n.id?"WON":"LOST"})]})})]})};if(r)return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading My Bets..."})});const f=h(),g=(()=>{const e=h(),t=10*(c-1),n=t+10;return e.slice(t,n)})(),b=Math.ceil(f.length/10);return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"My Bets"}),(0,Pt.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Track your betting history and active games"})]}),(0,Pt.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,Pt.jsx)("div",{className:"flex flex-wrap gap-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"awaiting",label:"Awaiting Opponent",count:a.filter((e=>e&&"WAITING"===e.status&&e.creator_id===n.id)).length},{id:"ongoing",label:"Ongoing Battles",count:a.filter((e=>e&&"ACTIVE"===e.status)).length},{id:"wins",label:"Wins",count:a.filter((e=>e&&"COMPLETED"===e.status&&e.winner_id===n.id)).length},{id:"losses",label:"Losses",count:a.filter((e=>e&&"COMPLETED"===e.status&&e.winner_id&&e.winner_id!==n.id)).length},{id:"draws",label:"Draws",count:a.filter((e=>e&&"COMPLETED"===e.status&&!e.winner_id)).length},{id:"cancelled",label:"Cancelled",count:a.filter((e=>e&&("CANCELLED"===e.status||"TIMEOUT"===e.status))).length}].map((e=>(0,Pt.jsxs)("button",{onClick:()=>{l(e.id),d(1)},className:"py-2 px-3 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 ".concat(o===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[e.label,(0,Pt.jsx)("span",{className:"ml-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:e.count})]},e.id)))})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8 max-w-4xl mx-auto",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Total Bets"}),(0,Pt.jsx)("p",{className:"font-roboto text-2xl font-bold text-accent-primary",children:a.length})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Won"}),(0,Pt.jsx)("p",{className:"font-roboto text-2xl font-bold text-green-400",children:n?a.filter((e=>"COMPLETED"===e.status&&e.winner_id===n.id)).length:0})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Lost"}),(0,Pt.jsx)("p",{className:"font-roboto text-2xl font-bold text-red-400",children:n?a.filter((e=>"COMPLETED"===e.status&&e.winner_id&&e.winner_id!==n.id)).length:0})]})]}),(0,Pt.jsx)("div",{className:"max-w-4xl mx-auto",children:g.length>0?(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g.map((e=>(0,Pt.jsx)(p,{bet:e},e.id)))}):(0,Pt.jsxs)("div",{className:"text-center py-16",children:[(0,Pt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfaf"}),(0,Pt.jsxs)("h2",{className:"font-russo text-2xl text-accent-secondary mb-2",children:["No ",o," bets"]}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"active"===o?"Create your first bet to get started!":"You don't have any ".concat(o," bets yet.")})]})}),b>1&&(0,Pt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,Pt.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Previous"}),(0,Pt.jsx)("div",{className:"flex space-x-1",children:[...Array(b)].map(((e,t)=>(0,Pt.jsx)("button",{onClick:()=>d(t+1),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(c===t+1?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white"),children:t+1},t+1)))}),(0,Pt.jsx)("button",{onClick:()=>d(Math.min(b,c+1)),disabled:c===b,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Next"})]})]})},kn=e=>{let{isOpen:n,onClose:a}=e;const[s,r]=(0,t.useState)(bn.volume),[i,o]=(0,t.useState)(bn.enabled),[l,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n&&(r(bn.volume),o(bn.enabled))}),[n]);const d=async e=>{i&&await bn.playSound(e)};if(!n)return null;const u=(h=s,i&&0!==h?h<=.3?"quiet":h<=.7?"normal":"loud":"off");var h;return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-white",children:"\ud83d\udd0a \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0437\u0432\u0443\u043a\u0430"}),(0,Pt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"text-white font-semibold mb-3",children:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c \u0437\u0432\u0443\u043a\u0430"}),(0,Pt.jsx)("div",{className:"space-y-2",children:[{value:"off",label:"\ud83d\udd07 \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e",description:"\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430"},{value:"quiet",label:"\ud83d\udd08 \u0422\u0438\u0445\u043e",description:"\u0414\u043b\u044f \u043a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0430\u0446\u0438\u0438"},{value:"normal",label:"\ud83d\udd09 \u041e\u0431\u044b\u0447\u043d\u043e",description:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c"},{value:"loud",label:"\ud83d\udd0a \u0413\u0440\u043e\u043c\u043a\u043e",description:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u0438\u0435"}].map((e=>(0,Pt.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Pt.jsx)("input",{type:"radio",name:"volumeLevel",value:e.value,checked:u===e.value,onChange:()=>(e=>{const t=(e=>{switch(e){case"off":return 0;case"quiet":default:return.3;case"normal":return.5;case"loud":return 1}})(e),n="off"!==e;bn.updateSettings(n,t),r(t),o(n),n&&setTimeout((()=>bn.playSound("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438")),100)})(e.value),className:"w-4 h-4 text-accent-primary"}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsx)("div",{className:"text-white font-medium",children:e.label}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:e.description})]})]},e.value)))})]}),i&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"text-white font-semibold mb-3",children:"\u0422\u0435\u0441\u0442 \u0437\u0432\u0443\u043a\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,Pt.jsx)("button",{onClick:()=>d("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438"),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"\ud83d\udc8e \u0421\u0442\u0430\u0432\u043a\u0430"}),(0,Pt.jsx)("button",{onClick:()=>d("\u043f\u043e\u0431\u0435\u0434\u0430"),className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:"\ud83c\udf89 \u041f\u043e\u0431\u0435\u0434\u0430"}),(0,Pt.jsx)("button",{onClick:()=>d("\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430"),className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors text-sm",children:"\ud83d\udcb0 \u041f\u043e\u043a\u0443\u043f\u043a\u0430"}),(0,Pt.jsx)("button",{onClick:()=>d("\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm",children:"\ud83d\udd14 \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"})]}),(0,Pt.jsx)("button",{onClick:async()=>{c(!0);try{await bn.reloadSounds(),console.log("Sounds reloaded successfully")}catch(e){console.error("Error reloading sounds:",e)}finally{c(!1)}},disabled:l,className:"w-full px-3 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm disabled:opacity-50",children:l?"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c...":"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0432\u0443\u043a\u0438"})]}),(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"text-text-secondary text-sm",children:[(0,Pt.jsxs)("p",{className:"mb-2",children:[(0,Pt.jsx)("strong",{children:"\ud83d\udca1 \u0421\u043e\u0432\u0435\u0442:"})," \u0417\u0432\u0443\u043a\u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u043b\u0443\u0447\u0448\u0435 \u043e\u0449\u0443\u0449\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438 \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0432\u0430\u0436\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f."]}),(0,Pt.jsx)("p",{className:"mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a\u043e \u0432\u0441\u0435\u043c \u0438\u0433\u0440\u0430\u043c."}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430:"})," \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442 \u0437\u0432\u0443\u043a\u0438 \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b."]})]})})]}),(0,Pt.jsx)("div",{className:"flex justify-end mt-6",children:(0,Pt.jsx)("button",{onClick:a,className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/80 transition-colors font-medium",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})})]})})},Sn=e=>{let{user:n}=e;const[a,s]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1),{ui:u,settings:h}=yn(),x="https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com",m=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(x,"/api/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data)}catch(e){console.error("Error fetching balance:",e)}},p=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(x,"/api/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[])}catch(e){console.error("Error fetching gems:",e)}},f=async()=>{l(!0),await Promise.all([m(),p()]),l(!1)};(0,t.useEffect)((()=>{if(null!==n&&void 0!==n&&n.id){f();const e=It().registerRefreshCallback((()=>{f()}));return()=>{e()}}}),[null===n||void 0===n?void 0:n.id]);const g=(()=>{if(!a)return null;const e=a.virtual_balance,t=a.frozen_balance,n=r.reduce(((e,t)=>e+t.quantity),0),s=r.reduce(((e,t)=>e+t.frozen_quantity),0),i=a.available_gem_value,o=a.total_gem_value-a.available_gem_value,l=e+t+a.total_gem_value;return{balance:{total:e+t,frozen:t,available:e},gems:{totalCount:n,totalValue:a.total_gem_value,frozenCount:s,frozenValue:o,availableValue:i},total:{value:l}}})(),b=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2});return o||!g?(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"}),(0,Pt.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"}),(0,Pt.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"flex space-x-1 sm:space-x-2 md:space-x-4 overflow-x-auto",children:[(0,Pt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-1 md:flex-shrink-0 shadow-sm",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1 md:block hidden",children:"Balance"}),(0,Pt.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-lg font-bold text-green-400 break-words whitespace-nowrap",children:["$",b(g.balance.total)]}),g.balance.frozen>0&&(0,Pt.jsxs)("div",{className:"text-xs text-orange-400 block md:block",children:["Frozen: $",b(g.balance.frozen)]}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary block md:block",children:["$",b(g.balance.available)]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-1 md:flex-shrink-0 shadow-sm",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1 md:block hidden",children:"Gems"}),(0,Pt.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-lg font-bold text-purple-400 break-words whitespace-nowrap",children:[b(g.gems.totalCount),"/",b(g.gems.totalValue)]}),g.gems.frozenCount>0&&(0,Pt.jsxs)("div",{className:"text-xs text-orange-400 block md:block",children:["Frozen: ",b(g.gems.frozenCount),"/",b(g.gems.frozenValue)]}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary block md:block",children:["$",b(g.gems.availableValue)]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-1 md:flex-shrink-0 shadow-sm",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1 md:block hidden",children:"Total"}),(0,Pt.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-lg font-bold text-accent-primary break-words whitespace-nowrap",children:["$",b(g.total.value)]}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary block md:block",children:["$",(()=>{const e=g.balance.frozen+g.gems.frozenValue,t=g.total.value-e;return"".concat(b(t))})()]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-blue-500/20 hover:border-blue-500/40 transition-colors duration-200 min-w-0 flex-shrink-0 shadow-sm hidden md:block",children:(0,Pt.jsxs)("button",{onClick:()=>{u.modalOpen(),d(!0)},onMouseEnter:()=>u.hover(),className:"text-center w-full h-full flex flex-col items-center justify-center",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0437\u0432\u0443\u043a\u0430",children:[(0,Pt.jsx)("div",{className:"text-lg mb-1",children:h.isEnabled()?"\ud83d\udd0a":"\ud83d\udd07"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary hidden md:block",children:"Sound"})]})})]}),(0,Pt.jsx)(kn,{isOpen:c,onClose:()=>{u.modalClose(),d(!1)}})]})},Cn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Mn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=new Date(e),a=n.getTime()+6e4*n.getTimezoneOffset();return new Date(a+36e5*t).toLocaleString()},Ln=e=>{let{user:n,onUpdateUser:a,setCurrentView:s,onOpenAdminPanel:r,onLogout:i}=e;const[o,c]=(0,t.useState)("overview"),[d,u]=(0,t.useState)(""),[h,x]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)({username:"",gender:"male",timezone_offset:0}),[b,y]=(0,t.useState)(!1),[v,j]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n&&g({username:n.username||"",gender:n.gender||"male",timezone_offset:n.timezone_offset||0})}),[n.username,n.gender,n.timezone_offset]);const{showSuccess:w,showError:N,showSuccessRU:_,showErrorRU:k}=sn(),S=async()=>{const e=parseFloat(d);if(!e||e<=0)return void alert("Please enter a valid amount");const t=n.daily_limit_max-n.daily_limit_used;if(e>t)alert("You can only add up to ".concat(Ut(t).replace("$","$")," more today"));else{x(!0);try{const t=localStorage.getItem("token"),n=await At.post("".concat(Cn,"/auth/add-balance"),{amount:e},{headers:{Authorization:"Bearer ".concat(t)}});u("");It().triggerLobbyRefresh(),console.log("\ud83d\udcb5 Added $".concat(e," balance - triggering lobby refresh")),a&&a(),w(n.data.message)}catch(i){var s,r;N((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"Error adding balance")}finally{x(!1)}}},C=(0,t.useCallback)((async()=>{if(f.username.trim()){y(!0);try{const e=localStorage.getItem("token");console.log("\ud83d\udd04 Updating profile with data:",f);const t=await At.put("".concat(Cn,"/auth/profile"),f,{headers:{Authorization:"Bearer ".concat(e)}});console.log("\u2705 Profile update response:",t.data),a&&a(),p(!1),_("\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")}catch(s){var e,t,n;console.error("\u274c Profile update error:",s),console.error("Error response:",null===(e=s.response)||void 0===e?void 0:e.data),k((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")}finally{y(!1)}}else N("Username cannot be empty")}),[f,a,N,_,k]),M=(0,t.useCallback)((()=>{g({username:n.username||"",gender:n.gender||"male",timezone_offset:n.timezone_offset||0}),p(!1)}),[n.username,n.gender,n.timezone_offset]),L=(0,t.useCallback)((e=>{g((t=>l(l({},t),{},{username:e.target.value})))}),[]),E=(0,t.useCallback)((e=>{g((t=>l(l({},t),{},{gender:e.target.value})))}),[]),A=(0,t.useCallback)((e=>{g((t=>l(l({},t),{},{timezone_offset:parseInt(e.target.value)})))}),[]),T=()=>{j(!v);const e=document.createElement("textarea");e.value=n.id,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{document.execCommand("copy"),_("ID \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430!")}catch(t){k("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID")}finally{document.body.removeChild(e)}},P=()=>{return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Pt.jsx)("div",{className:"w-20 h-20 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,Pt.jsx)("img",{src:m?"female"===f.gender?"/Women.svg":"/Men.svg":"female"===n.gender?"/Women.svg":"/Men.svg",alt:m?"female"===f.gender?"Female":"Male":"female"===n.gender?"Female":"Male",className:"w-22 h-22"})}),(0,Pt.jsxs)("div",{className:"flex-1",children:[m?(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"Username"}),(0,Pt.jsx)("input",{type:"text",value:f.username,onChange:L,className:"w-full px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"Gender"}),(0,Pt.jsxs)("select",{value:f.gender,onChange:E,className:"w-full px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary",children:[(0,Pt.jsx)("option",{value:"male",children:"Male"}),(0,Pt.jsx)("option",{value:"female",children:"Female"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"Timezone Offset (UTC)"}),(0,Pt.jsx)("select",{value:f.timezone_offset,onChange:A,className:"w-full px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary",children:Array.from({length:25},((e,t)=>t-12)).map((e=>(0,Pt.jsxs)("option",{value:e,children:["UTC",e>=0?"+":"",e]},e)))})]})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white",children:n.username}),(0,Pt.jsx)("button",{onClick:()=>p(!0),className:"px-3 py-1 bg-accent-primary text-white rounded-lg text-sm font-rajdhani font-bold hover:bg-opacity-80 transition-colors",children:"Edit Profile"})]}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary mb-1",children:n.email})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,Pt.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-rajdhani font-bold ".concat("ADMIN"===n.role||"SUPER_ADMIN"===n.role?"bg-red-600 text-red-100":"bg-blue-600 text-blue-100"),children:n.role}),(0,Pt.jsx)("span",{className:"px-3 py-1 bg-green-600 text-green-100 rounded-full text-xs font-rajdhani font-bold",children:n.status})]}),(0,Pt.jsxs)("div",{className:"font-roboto text-text-secondary text-sm cursor-pointer hover:text-accent-primary transition-colors",onClick:T,title:"Click to show full ID and copy",children:["ID: ",v?n.id:(e=n.id,!e||e.length<6?e:"".concat(e.substring(0,3),"...").concat(e.substring(e.length-3)))]}),m&&(0,Pt.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,Pt.jsx)("button",{onClick:C,disabled:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-rajdhani font-bold hover:bg-green-700 transition-colors disabled:opacity-50",children:b?"Saving...":"Save"}),(0,Pt.jsx)("button",{onClick:M,disabled:b,className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-rajdhani font-bold hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-green-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Balance"}),(0,Pt.jsx)("p",{className:"font-roboto text-xl font-bold text-green-400",children:Ut(n.virtual_balance||0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-blue-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Games Played"}),(0,Pt.jsx)("p",{className:"font-roboto text-xl font-bold text-blue-400",children:n.total_games_played||0})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-accent-primary/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-accent-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Games Won"}),(0,Pt.jsx)("p",{className:"font-roboto text-xl font-bold text-accent-primary",children:n.total_games_won||0})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-purple-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Win Rate"}),(0,Pt.jsxs)("p",{className:"font-roboto text-xl font-bold text-purple-400",children:[n.total_games_played>0?Math.round(n.total_games_won/n.total_games_played*100):0,"%"]})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Account Information"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Member Since:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-white",children:Mn(n.created_at,n.timezone_offset||0)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Last Login:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-white",children:n.last_login?Mn(n.last_login,n.timezone_offset||0):"Never"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Timezone:"}),(0,Pt.jsxs)("span",{className:"font-rajdhani text-white",children:["UTC",n.timezone_offset>=0?"+":"",n.timezone_offset||0]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Gaming Statistics"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Total Wagered:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-white",children:Ut(n.total_amount_wagered||0)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Total Won:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-green-400",children:Ut(n.total_amount_won||0)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Net Profit:"}),(0,Pt.jsx)("span",{className:"font-rajdhani font-bold ".concat((n.total_amount_won||0)-(n.total_amount_wagered||0)>=0?"text-green-400":"text-red-400"),children:Ut((n.total_amount_won||0)-(n.total_amount_wagered||0))})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Daily Limit Used:"}),(0,Pt.jsxs)("span",{className:"font-rajdhani text-white",children:[Ut(n.daily_limit_used||0)," / ",Ut(n.daily_limit_max||1e3)]})]})]})]})]})]});var e},z=()=>{const e=n.daily_limit_max-n.daily_limit_used,t=e>0;return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Balance Management"}),(0,Pt.jsxs)("div",{className:"mb-6 p-4 bg-surface-sidebar rounded-lg",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Daily Deposit Limit:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-white font-bold",children:Ut(n.daily_limit_max)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Used Today:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-warning font-bold",children:Ut(n.daily_limit_used)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Remaining:"}),(0,Pt.jsx)("span",{className:"font-rajdhani font-bold ".concat(t?"text-green-400":"text-red-400"),children:Ut(e)})]}),(0,Pt.jsx)("div",{className:"mt-3",children:(0,Pt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,n.daily_limit_used/n.daily_limit_max*100),"%")}})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-2",children:"Add Virtual Dollars to Balance"}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("input",{type:"number",min:"1",max:e,value:d,onChange:e=>u(e.target.value),placeholder:"Enter amount",className:"flex-1 px-4 py-3 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani text-center focus:outline-none focus:border-accent-primary",disabled:!t}),(0,Pt.jsx)("button",{onClick:S,disabled:!t||h||!d,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(t&&!h&&d?"bg-gradient-accent text-white hover:scale-105 hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:h?"ADDING...":"ADD BALANCE"})]})]}),!t&&(0,Pt.jsx)("p",{className:"font-roboto text-red-400 text-sm",children:"Daily limit reached. Limit resets at 00:00 server time."}),(0,Pt.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[100,500,e].map((e=>(0,Pt.jsx)("button",{onClick:()=>u(e.toString()),disabled:!t||e<=0,className:"py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 ".concat(t&&e>0?"bg-surface-sidebar border border-accent-primary border-opacity-30 text-white hover:bg-accent-primary hover:text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"),children:Ut(e>0?e:0)},e)))})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Other Settings"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-center py-8",children:"Additional profile settings will be available in future updates."})]})]})};return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary",children:[(0,Pt.jsx)("div",{className:"md:hidden hidden sticky top-0 z-30 bg-surface-sidebar border-b border-border-primary p-4",children:(0,Pt.jsx)(Sn,{user:n})}),(0,Pt.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-2xl sm:text-3xl md:text-6xl text-accent-primary mb-4",children:"Profile"}),(0,Pt.jsx)("p",{className:"font-roboto text-base sm:text-lg md:text-xl text-text-secondary px-4",children:"Manage your account and view your gaming statistics"})]}),(0,Pt.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,Pt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"overview",label:"Overview",icon:"\ud83d\udc64"},{id:"settings",label:"Settings",icon:"\u2699\ufe0f"}].map((e=>(0,Pt.jsxs)("button",{onClick:()=>c(e.id),className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(o===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Pt.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id)))})}),(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto",children:["overview"===o&&(0,Pt.jsx)(P,{}),"settings"===o&&(0,Pt.jsx)(z,{})]})]})]})},En="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),An=e=>{let{user:n,onUpdateUser:a}=e;const{showSuccess:s,showError:r}=sn(),{getGemIconPath:i,refreshInventory:o}=Ft(),{gem:c,ui:d,system:u}=yn(),h=vn(!0),[x,m]=(0,t.useState)([]),[p,f]=(0,t.useState)(null),[g,b]=(0,t.useState)(!0),[y,v]=(0,t.useState)(null),[j,w]=(0,t.useState)({});(0,t.useEffect)((()=>{N(),_()}),[]);const N=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(En,"/gems/definitions"),{headers:{Authorization:"Bearer ".concat(e)}});m(t.data)}catch(e){console.error("Error fetching gems:",e)}},_=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(En,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});f(t.data),b(!1)}catch(e){console.error("Error fetching balance:",e),b(!1)}},k=async e=>{const t=j[e]||1;v(e);try{const n=localStorage.getItem("token");await At.post("".concat(En,"/gems/buy?gem_type=").concat(e,"&quantity=").concat(t),{},{headers:{Authorization:"Bearer ".concat(n)}});c.buy(),s("Successfully purchased ".concat(t," ").concat(e," gem").concat(t>1?"s":"","!")),await _(),await o();It().triggerLobbyRefresh(),console.log("\ud83d\udc8e Bought ".concat(t," ").concat(e," gems - triggering lobby refresh")),a&&a()}catch(l){var n,i;d.error();const e=(null===(n=l.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.detail)||"Error buying gems. Please try again.";r(e)}finally{v(null)}};return g?(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading Shop..."})}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"Gem Shop"}),(0,Pt.jsx)("p",{className:"font-roboto text-xl text-text-secondary",children:"Purchase NFT Gems with Virtual Dollars"})]}),(0,Pt.jsx)(Gt,{user:n}),(0,Pt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:x.map(((e,t)=>{const n=j[e.type]||1,a=e.price*n,s=p&&p.virtual_balance>=a;return(0,Pt.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl group cursor-pointer",style:{backgroundColor:"#081730",border:"1px solid ".concat(e.color),boxShadow:"0 0 20px ".concat(e.color,"40")},onMouseEnter:t=>{t.currentTarget.style.border="2px solid #23d364",t.currentTarget.style.boxShadow="0 0 30px #23d36440, 0 0 20px ".concat(e.color,"60")},onMouseLeave:t=>{t.currentTarget.style.border="1px solid ".concat(e.color),t.currentTarget.style.boxShadow="0 0 20px ".concat(e.color,"40")},children:[(0,Pt.jsx)("div",{className:"flex justify-center mb-4",children:(0,Pt.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative transition-all duration-300 group-hover:scale-110",children:[(0,Pt.jsx)("div",{className:"absolute inset-0 animate-pulse transition-all duration-300 group-hover:scale-125",style:{background:"radial-gradient(circle, ".concat(e.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,Pt.jsx)("img",{src:i(e.type),alt:e.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10 transition-all duration-300 group-hover:scale-110 group-hover:brightness-125",style:{filter:"drop-shadow(0 0 10px ".concat(e.color,"40)")}})]})}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-white mb-2 transition-all duration-300 group-hover:text-green-400",children:e.name}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm mb-3",children:e.rarity}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("span",{className:"font-rajdhani text-2xl font-bold text-green-400",children:Ut(e.price)}),(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("label",{className:"font-roboto text-text-secondary text-sm block mb-2",children:"Quantity:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"1000",value:n,onChange:t=>((e,t)=>{w((n=>l(l({},n),{},{[e]:Math.max(1,parseInt(t)||1)})))})(e.type,t.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani text-center"})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Total: "}),(0,Pt.jsx)("span",{className:"font-rajdhani text-xl font-bold ".concat(s?"text-green-400":"text-red-400"),children:Ut(a)})]}),(0,Pt.jsx)("button",l(l({onClick:()=>k(e.type),disabled:!s||y===e.type},h),{},{className:"w-full py-3 px-6 rounded-lg font-rajdhani font-bold text-lg transition-all duration-300 uppercase tracking-wider ".concat(s&&y!==e.type?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(s?e.color:"#666"),color:s?e.color:"#666",boxShadow:s?"0 0 15px ".concat(e.color,"30"):"none"},children:y===e.type?"BUYING...":"BUY"}))]})]},t)}))})})]})},Tn="https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com/api",Pn=e=>{let{isOpen:n,onClose:a,gemType:s,quantity:r,gemPrice:i,senderName:o,senderEmail:l,onGiftSuccess:c}=e;const{showSuccess:d,showError:u}=sn(),[h,x]=(0,t.useState)(""),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[v,j]=(0,t.useState)(null),w=i*r,N=.03*w,_=w;(0,t.useEffect)((()=>{v&&clearTimeout(v);const e=setTimeout((()=>{(async e=>{if(e.trim()){g(!0);try{const t=localStorage.getItem("token"),n=await At.get("".concat(Tn,"/users/search?query=").concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}});n.data&&n.data.length>0?p(n.data[0]):p(null)}catch(t){console.error("Error searching recipient:",t),p(null)}finally{g(!1)}}else p(null)})(h)}),500);return j(e),()=>{e&&clearTimeout(e)}}),[h]);return n?(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-accent-primary",children:"\ud83c\udf81 Gift Confirmation"}),(0,Pt.jsx)("button",{onClick:a,className:"text-text-secondary hover:text-white transition-colors",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"mb-4 p-3 bg-surface-sidebar rounded-lg",children:[(0,Pt.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:"From:"}),(0,Pt.jsxs)("div",{className:"text-white font-rajdhani font-semibold",children:[o," (",l,")"]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"To (email or username):"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Enter recipient's email or username...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:border-accent-primary focus:outline-none"}),f&&(0,Pt.jsx)("div",{className:"absolute right-3 top-2.5",children:(0,Pt.jsx)("div",{className:"w-4 h-4 border-2 border-accent-primary border-t-transparent rounded-full animate-spin"})})]}),m&&(0,Pt.jsx)("div",{className:"mt-2 p-3 bg-green-900 bg-opacity-20 border border-green-500 border-opacity-30 rounded-lg",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-green-400 font-medium",children:m.username}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:m.email})]})]})}),h&&!m&&!f&&(0,Pt.jsx)("div",{className:"mt-2 p-3 bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,Pt.jsx)("div",{className:"text-red-400 text-sm",children:"User not found"})]})})]}),(0,Pt.jsxs)("div",{className:"mb-6 p-4 bg-surface-sidebar rounded-lg",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"Gift Details:"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Gem:"}),(0,Pt.jsxs)("span",{className:"text-white font-medium",children:[r,"x ",s]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Value:"}),(0,Pt.jsx)("span",{className:"text-white font-medium",children:qt(w)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Commission (3%):"}),(0,Pt.jsxs)("span",{className:"text-orange-400 font-medium",children:["-",Ut(N)]})]}),(0,Pt.jsx)("div",{className:"border-t border-border-primary pt-2 mt-2",children:(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Recipient will receive:"}),(0,Pt.jsxs)("span",{className:"text-green-400 font-bold",children:[r,"x ",s," (",qt(_),")"]})]})})]})]}),(0,Pt.jsx)("div",{className:"mb-6 p-3 bg-yellow-900 bg-opacity-20 border border-yellow-500 border-opacity-30 rounded-lg",children:(0,Pt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsxs)("div",{className:"text-yellow-400 text-sm",children:[(0,Pt.jsx)("div",{className:"font-medium mb-1",children:"Warning!"}),(0,Pt.jsx)("div",{children:"This action cannot be undone. Make sure you've entered the correct recipient."})]})]})}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:a,className:"flex-1 px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-text-secondary hover:text-white hover:border-accent-primary transition-colors font-rajdhani font-medium",children:"Cancel"}),(0,Pt.jsx)("button",{onClick:async()=>{if(m)if(m.email!==l){y(!0);try{const e=localStorage.getItem("token");await At.post("".concat(Tn,"/gems/gift?recipient_email=").concat(m.email,"&gem_type=").concat(s,"&quantity=").concat(r),{},{headers:{Authorization:"Bearer ".concat(e)}});d("You sent a gift to ".concat(m.username,". A commission of ").concat(Ut(N)," has been deducted from your balance."));It().triggerLobbyRefresh(),c&&c(),a()}catch(n){var e,t;u((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error sending gift")}finally{y(!1)}}else u("Cannot send a gift to yourself");else u("Please select a valid recipient")},disabled:!m||b,className:"flex-1 px-4 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(m&&!b?"bg-accent-primary hover:bg-accent-primary/80 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:b?(0,Pt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Pt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,Pt.jsx)("span",{children:"Sending..."})]}):"Confirm Gift"})]})]})}):null},zn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),On=e=>{let{user:n,onUpdateUser:a}=e;const{getGemIconPath:s}=Ft(),{showSuccess:r,showError:i}=sn(),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(null),[h,x]=(0,t.useState)(!0),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)({}),[b,y]=(0,t.useState)(null),[v,j]=(0,t.useState)(!1),[w,N]=(0,t.useState)(null);(0,t.useEffect)((()=>{_(),k();const e=setInterval((()=>{k(),_()}),1e4);return()=>clearInterval(e)}),[]);const _=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(zn,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data)}catch(e){console.error("Error fetching inventory:",e)}},k=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(zn,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data),x(!1)}catch(e){console.error("Error fetching balance:",e),x(!1)}},S=(()=>{if(!d)return null;const e=d.virtual_balance,t=d.frozen_balance,n=o.reduce(((e,t)=>e+t.quantity),0),a=o.reduce(((e,t)=>e+t.frozen_quantity),0),s=d.available_gem_value,r=d.total_gem_value-d.available_gem_value,i=e+t+d.total_gem_value;return{balance:{total:e+t,frozen:t,available:e},gems:{totalCount:n,totalValue:d.total_gem_value,frozenCount:a,frozenValue:r,availableValue:s},total:{value:i}}})(),C=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),M=e=>{let{id:n,tooltip:a,children:s}=e;const[r,i]=(0,t.useState)({top:0,left:0}),o=e=>{const t=e.currentTarget.getBoundingClientRect();i({top:t.top-10,left:t.left+t.width/2-140}),y(n)};return(0,Pt.jsxs)("div",{className:"relative",children:[s,(0,Pt.jsx)("button",{onMouseEnter:o,onMouseLeave:()=>y(null),onClick:o,className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-gray-600 text-white text-xs flex items-center justify-center hover:bg-gray-500 transition-colors z-20",children:"i"}),b===n&&(0,Pt.jsxs)("div",{className:"fixed w-64 bg-slate-800 text-white text-sm rounded-lg p-3 shadow-xl border border-slate-700 z-[99999]",style:{top:"".concat(r.top,"px"),left:"".concat(r.left,"px"),maxWidth:"280px",transform:"translateY(-100%)"},children:[(0,Pt.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-slate-800"}),a]})]})};return h?(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading Inventory..."})}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"My Inventory"}),(0,Pt.jsx)("p",{className:"font-roboto text-xl text-text-secondary mb-8",children:"Manage Your NFT Gem Collection"}),S&&(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-4 md:gap-6 min-w-0 overflow-x-auto",children:[(0,Pt.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-green-500 transition-colors duration-200",children:(0,Pt.jsx)(M,{id:"balance",tooltip:"Your virtual dollar balance. Shows total balance, frozen funds (reserved for active bets), and available amount for new bets.",children:(0,Pt.jsxs)("div",{className:"text-center pt-2",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Balance"}),(0,Pt.jsx)("div",{className:"mb-1 md:mb-2",children:(0,Pt.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-green-400 break-words",children:["$",C(S.balance.total)]})}),S.balance.frozen>0&&(0,Pt.jsxs)("div",{className:"text-xs text-orange-400 mb-1",children:["Frozen: $",C(S.balance.frozen)]}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:["Available: $",C(S.balance.available)]})]})})}),(0,Pt.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-purple-500 transition-colors duration-200",children:(0,Pt.jsx)(M,{id:"gems",tooltip:"Your gem collection. Gems are used to create and accept bets. Higher value gems allow for larger bets.",children:(0,Pt.jsxs)("div",{className:"text-center pt-2",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Gems"}),(0,Pt.jsx)("div",{className:"mb-1 md:mb-2",children:(0,Pt.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-purple-400 break-words",children:[C(S.gems.totalCount),"/",C(S.gems.totalValue)]})}),S.gems.frozenCount>0&&(0,Pt.jsxs)("div",{className:"text-xs text-orange-400 mb-1",children:["Frozen: ",C(S.gems.frozenCount)," / $",C(S.gems.frozenValue)]}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:["Available: $",C(S.gems.availableValue)]})]})})}),(0,Pt.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-accent-primary transition-colors duration-200",children:(0,Pt.jsx)(M,{id:"total",tooltip:"Your total estimated value including both balance and gems.",children:(0,Pt.jsxs)("div",{className:"text-center pt-2",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Total"}),(0,Pt.jsx)("div",{className:"mb-1 md:mb-2",children:(0,Pt.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-accent-primary break-words",children:["$",C(S.total.value)]})}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:(()=>{const e=S.balance.frozen+S.gems.frozenValue,t=S.total.value-e;return e>0?"".concat(C(t)," available"):"All available"})()})]})})})]})})]}),(0,Pt.jsx)("div",{className:"max-w-7xl mx-auto",children:0===o.length?(0,Pt.jsxs)("div",{className:"text-center py-16",children:[(0,Pt.jsx)("h3",{className:"font-russo text-2xl text-text-secondary mb-4",children:"No Gems Yet"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-muted",children:"Visit the Shop to buy your first gems!"})]}):(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:o.map(((e,t)=>{const n=f[e.type]||1,c=e.quantity-e.frozen_quantity,d=e.price*n;return(0,Pt.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl group",style:{backgroundColor:"#081730",border:"1px solid ".concat(e.color),boxShadow:"0 0 20px ".concat(e.color,"40")},children:[(0,Pt.jsx)("div",{className:"flex justify-center mb-4",children:(0,Pt.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative transition-all duration-300 group-hover:scale-110",children:[(0,Pt.jsx)("div",{className:"absolute inset-0 animate-pulse transition-all duration-300 group-hover:scale-125",style:{background:"radial-gradient(circle, ".concat(e.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,Pt.jsx)("img",{src:s(e.type),alt:e.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10 transition-all duration-300 group-hover:scale-110 group-hover:brightness-125",style:{filter:"drop-shadow(0 0 10px ".concat(e.color,"40)")}})]})}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-white mb-2",children:e.name}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("span",{className:"font-rajdhani text-lg text-white",children:e.quantity}),(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" owned"}),e.frozen_quantity>0&&(0,Pt.jsxs)("div",{className:"font-roboto text-warning text-sm font-bold",children:[e.frozen_quantity," frozen in bets"]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsxs)("span",{className:"font-rajdhani text-xl font-bold text-green-400",children:["$",e.price]}),(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("label",{className:"font-roboto text-text-secondary text-xs block mb-2",children:"Quantity to sell/gift:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:c,value:n,onChange:t=>((e,t,n)=>{g((a=>l(l({},a),{},{[e]:Math.max(1,Math.min(n,parseInt(t)||1))})))})(e.type,t.target.value,c),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-rajdhani text-center text-sm",disabled:0===c})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Value: "}),(0,Pt.jsx)("span",{className:"font-rajdhani text-lg font-bold text-green-400",children:qt(d)})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("button",{onClick:()=>(async e=>{const t=o.find((t=>t.type===e)),n=f[e]||1;if(n>t.quantity-t.frozen_quantity)i("Cannot sell more gems than available");else{p(e);try{const s=localStorage.getItem("token"),i=(await At.post("".concat(zn,"/gems/sell?gem_type=").concat(e,"&quantity=").concat(n),{},{headers:{Authorization:"Bearer ".concat(s)}}),qt(t.price*n)),o="Ruby"===e?"Rubies":"Emerald"===e?"Emeralds":"Sapphire"===e?"Sapphires":"Aquamarine"===e?"Aquamarines":"Topaz"===e?"Topazes":"Amber"===e?"Ambers":"Magic"===e?"Magic gems":"".concat(e,"s"),l=1===n?e:o;r("\u2705 You sold ".concat(n," ").concat(l," for $").concat(i)),await _(),await k(),It().triggerLobbyRefresh(),console.log("\ud83d\udcb0 Sold ".concat(n," ").concat(e," gems - triggering lobby refresh")),a&&a()}catch(c){var s,l;i((null===(s=c.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.detail)||"Error selling gems")}finally{p(null)}}})(e.type),disabled:0===c||m===e.type,className:"w-full py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 uppercase tracking-wider ".concat(c>0&&m!==e.type?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(c>0?"#ff6b35":"#666"),color:c>0?"#ff6b35":"#666"},children:m===e.type?"SELLING...":"SELL"}),(0,Pt.jsx)("button",{onClick:()=>(e=>{const t=o.find((t=>t.type===e)),n=f[e]||1,a=t.quantity-t.frozen_quantity;n>a?i("Cannot gift more gems than available"):(N({gemType:e,quantity:n,gemPrice:t.price,availableQuantity:a}),j(!0))})(e.type),disabled:0===c,className:"w-full py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 uppercase tracking-wider ".concat(c>0?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(c>0?"#23d364":"#666"),color:c>0?"#23d364":"#666"},children:"GIFT"})]})]})]},t)}))})}),(0,Pt.jsx)(Pn,{isOpen:v,onClose:()=>j(!1),gemType:null===w||void 0===w?void 0:w.gemType,quantity:null===w||void 0===w?void 0:w.quantity,gemPrice:null===w||void 0===w?void 0:w.gemPrice,senderName:null===n||void 0===n?void 0:n.username,senderEmail:null===n||void 0===n?void 0:n.email,onGiftSuccess:async()=>{await _(),await k(),a&&a()}})]})},Rn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),In=e=>{let{user:n}=e;const[a,s]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("winnings"),[c,d]=(0,t.useState)(1),[u,h]=(0,t.useState)(null);(0,t.useEffect)((()=>{x()}),[o]);const x=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Rn,"/leaderboard/").concat(o),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data.leaderboard||[]),h(t.data.user_rank||null),i(!1)}catch(e){console.error("Error fetching leaderboard:",e),s([]),h(null),i(!1)}},m=(e,t)=>{var n;switch(t){case"winnings":return"$".concat((null===(n=e.total_winnings)||void 0===n?void 0:n.toLocaleString())||"0");case"wins":return e.games_won||0;case"winrate":return"".concat(e.win_rate||0,"%");case"games":return e.games_played||0;default:return e.total_winnings||0}},p=e=>1===e?"\ud83d\udc51":2===e?"\ud83e\udd48":3===e?"\ud83e\udd49":"\ud83c\udfc6",f=e=>1===e?"text-yellow-400":2===e?"text-gray-300":3===e?"text-amber-600":"text-blue-400";if(r)return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430..."})});if(0===a.length)return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white mb-2",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0438\u0433\u0440\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043f\u0430\u0441\u0442\u044c \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"})]})});const g=Math.ceil(a.length/10),b=(()=>{const e=10*(c-1),t=e+10;return a.slice(e,t)})();return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Leaderboard"}),(0,Pt.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Compete with the best players and climb the rankings"})]}),u&&(0,Pt.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,Pt.jsx)("span",{className:"font-russo text-white",children:n.username.charAt(0).toUpperCase()})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-white text-lg",children:n.username}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"Your Position"})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-2xl",children:p(u)}),(0,Pt.jsxs)("span",{className:"font-russo text-3xl font-bold ".concat(f(u)),children:["#",u]})]}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"Current Rank"})]})]})})}),(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,Pt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"winnings",label:"Total Winnings",icon:"\ud83d\udcb0"},{id:"wins",label:"Most Wins",icon:"\ud83c\udfc6"},{id:"winrate",label:"Win Rate",icon:"\ud83d\udcca"},{id:"games",label:"Most Active",icon:"\ud83c\udfae"}].map((e=>(0,Pt.jsxs)("button",{onClick:()=>{l(e.id),d(1)},className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(o===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Pt.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id)))})}),(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"bg-surface-sidebar border-b border-accent-primary border-opacity-30 p-4",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,Pt.jsx)("div",{className:"col-span-1 font-rajdhani font-bold text-text-secondary",children:"Rank"}),(0,Pt.jsx)("div",{className:"col-span-4 font-rajdhani font-bold text-text-secondary",children:"Player"}),(0,Pt.jsx)("div",{className:"col-span-2 font-rajdhani font-bold text-text-secondary",children:(e=>{switch(e){case"winnings":default:return"Total Winnings";case"wins":return"Games Won";case"winrate":return"Win Rate";case"games":return"Games Played"}})(o)}),(0,Pt.jsx)("div",{className:"col-span-2 font-rajdhani font-bold text-text-secondary",children:"Games"}),(0,Pt.jsx)("div",{className:"col-span-2 font-rajdhani font-bold text-text-secondary",children:"Win Rate"}),(0,Pt.jsx)("div",{className:"col-span-1 font-rajdhani font-bold text-text-secondary",children:"Level"})]})}),(0,Pt.jsx)("div",{className:"divide-y divide-accent-primary divide-opacity-20",children:b.map(((e,t)=>(0,Pt.jsx)("div",{className:"p-4 hover:bg-surface-sidebar transition-colors ".concat(e.user_id===n.id?"bg-accent-primary/10":""),children:(0,Pt.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,Pt.jsx)("div",{className:"col-span-1",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-lg",children:p(e.rank)}),(0,Pt.jsx)("span",{className:"font-russo font-bold ".concat(f(e.rank)),children:e.rank})]})}),(0,Pt.jsx)("div",{className:"col-span-4",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,Pt.jsx)("span",{className:"font-russo text-white text-sm",children:e.username.charAt(0).toUpperCase()})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:e.username}),(0,Pt.jsxs)("p",{className:"font-roboto text-text-secondary text-xs",children:["Favorite: ",e.favorite_gem]})]})]})}),(0,Pt.jsx)("div",{className:"col-span-2",children:(0,Pt.jsx)("span",{className:"font-rajdhani font-bold text-accent-primary text-lg",children:m(e,o)})}),(0,Pt.jsx)("div",{className:"col-span-2",children:(0,Pt.jsx)("span",{className:"font-rajdhani text-white",children:e.games_played||0})}),(0,Pt.jsx)("div",{className:"col-span-2",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("div",{className:"flex-1 bg-surface-sidebar rounded-full h-2",children:(0,Pt.jsx)("div",{className:"bg-green-400 h-2 rounded-full",style:{width:"".concat(e.win_rate||0,"%")}})}),(0,Pt.jsxs)("span",{className:"font-rajdhani text-white text-sm",children:[e.win_rate||0,"%"]})]})}),(0,Pt.jsx)("div",{className:"col-span-1",children:(0,Pt.jsx)("span",{className:"font-rajdhani font-bold text-purple-400",children:e.level||1})})]})},e.user_id)))})]}),g>1&&(0,Pt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,Pt.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Previous"}),(0,Pt.jsx)("div",{className:"flex space-x-1",children:[...Array(g)].map(((e,t)=>(0,Pt.jsx)("button",{onClick:()=>d(t+1),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(c===t+1?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white"),children:t+1},t+1)))}),(0,Pt.jsx)("button",{onClick:()=>d(Math.min(g,c+1)),disabled:c===g,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Next"})]})]})]})},Dn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Bn=e=>{let{user:n}=e;const[a,s]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)("all"),[c,d]=(0,t.useState)(1),[u,h]=(0,t.useState)("all"),[x,m]=(0,t.useState)({total_games:0,total_won:0,total_lost:0,total_draw:0,total_winnings:0,total_losses:0});(0,t.useEffect)((()=>{p()}),[o,u]);const p=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Dn,"/games/history"),{headers:{Authorization:"Bearer ".concat(e)},params:{status:"all"!==o?o:void 0,date_filter:"all"!==u?u:void 0}});s(t.data.games||[]),m(t.data.stats||x),i(!1)}catch(e){console.error("Error fetching game history:",e),s(f()),m(g()),i(!1)}},f=()=>{const e=[],t=["GemMaster2024","DiamondKing","CrystalQueen","RubyHunter","EmeraldWin","SapphireBot","TopazTitan","GemCollector","JewelBot","PreciousPlayer"],n=["rock","paper","scissors"],a=["won","lost","draw"],s=["Ruby","Emerald","Sapphire","Diamond","Topaz","Amber","Magic"];for(let r=0;r<50;r++){const i=a[Math.floor(Math.random()*a.length)],o=Math.floor(1e3*Math.random())+100,l=Math.random()<.3;e.push({id:"game_".concat(r+1),opponent_username:t[Math.floor(Math.random()*t.length)],opponent_id:"opponent_".concat(r+1),is_bot_game:l,my_move:n[Math.floor(Math.random()*n.length)],opponent_move:n[Math.floor(Math.random()*n.length)],bet_amount:o,bet_gems:{[s[Math.floor(Math.random()*s.length)]]:Math.floor(5*Math.random())+1},status:"COMPLETED",result:i,winnings:"won"===i?1.94*o:0,created_at:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),completed_at:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),game_duration:Math.floor(300*Math.random())+30})}return e.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)))},g=()=>{const e=Math.floor(50*.55),t=Math.floor(20);return{total_games:50,total_won:e,total_lost:t,total_draw:50-e-t,total_winnings:Math.floor(5e4*Math.random())+1e4,total_losses:Math.floor(3e4*Math.random())+5e3}},b=()=>{let e=a;return"all"!==o&&(e=e.filter((e=>e.result===o))),e},y=e=>{switch(e){case"rock":return"\ud83e\udea8";case"paper":return"\ud83d\udcc4";case"scissors":return"\u2702\ufe0f";default:return"\u2753"}},v=e=>{switch(e){case"won":return"text-green-400";case"lost":return"text-red-400";case"draw":return"text-yellow-400";default:return"text-gray-400"}},j=e=>{switch(e){case"won":return"WON";case"lost":return"LOST";case"draw":return"DRAW";default:return"UNKNOWN"}},w=e=>{if(e<60)return"".concat(e,"s");const t=Math.floor(e/60),n=e%60;return"".concat(t,"m ").concat(n,"s")};if(r)return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading History..."})});const N=b(),_=(()=>{const e=b(),t=10*(c-1),n=t+10;return e.slice(t,n)})(),k=Math.ceil(N.length/10);return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Game History"}),(0,Pt.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Review your past battles and track your progress"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8 max-w-6xl mx-auto",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Total Games"}),(0,Pt.jsx)("p",{className:"font-roboto text-2xl font-bold text-accent-primary",children:x.total_games})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Won"}),(0,Pt.jsx)("p",{className:"font-roboto text-2xl font-bold text-green-400",children:x.total_won})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Lost"}),(0,Pt.jsx)("p",{className:"font-roboto text-2xl font-bold text-red-400",children:x.total_lost})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Draw"}),(0,Pt.jsx)("p",{className:"font-roboto text-2xl font-bold text-yellow-400",children:x.total_draw})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Win Rate"}),(0,Pt.jsxs)("p",{className:"font-roboto text-2xl font-bold text-purple-400",children:[x.total_games>0?Math.round(x.total_won/x.total_games*100):0,"%"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Net Profit"}),(0,Pt.jsxs)("p",{className:"font-roboto text-2xl font-bold ".concat(x.total_winnings-x.total_losses>=0?"text-green-400":"text-red-400"),children:["$",(x.total_winnings-x.total_losses).toLocaleString()]})]})]}),(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"all",label:"All Games",icon:"\ud83c\udfae"},{id:"won",label:"Won",icon:"\ud83c\udfc6"},{id:"lost",label:"Lost",icon:"\ud83d\udc94"},{id:"draw",label:"Draw",icon:"\ud83e\udd1d"}].map((e=>(0,Pt.jsxs)("button",{onClick:()=>{l(e.id),d(1)},className:"flex-1 py-2 px-3 rounded-lg font-rajdhani font-bold transition-all duration-300 text-sm ".concat(o===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Pt.jsx)("span",{className:"mr-1",children:e.icon}),e.label]},e.id)))}),(0,Pt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"all",label:"All Time"},{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"}].map((e=>(0,Pt.jsx)("button",{onClick:()=>{h(e.id),d(1)},className:"flex-1 py-2 px-3 rounded-lg font-rajdhani font-bold transition-all duration-300 text-sm ".concat(u===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:e.label},e.id)))})]})}),(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[_.length>0?(0,Pt.jsx)("div",{className:"space-y-4",children:_.map((e=>{var t,n;return(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-center",children:[(0,Pt.jsxs)("div",{className:"lg:col-span-2",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"font-russo font-bold text-lg ".concat(v(e.result)),children:j(e.result)}),(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:e.is_bot_game?"\ud83e\udd16":"\ud83d\udc64"})]}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Pt.jsx)("div",{className:"lg:col-span-3",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,Pt.jsx)("span",{className:"font-russo text-white text-sm",children:e.opponent_username.charAt(0).toUpperCase()})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:e.opponent_username}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:e.is_bot_game?"Bot Player":"Human Player"})]})]})}),(0,Pt.jsx)("div",{className:"lg:col-span-2",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-2xl",children:y(e.my_move)}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"You"})]}),(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("div",{className:"text-xl text-text-secondary",children:"VS"})}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-2xl",children:y(e.opponent_move)}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"Them"})]})]})}),(0,Pt.jsx)("div",{className:"lg:col-span-3",children:(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Bet:"}),(0,Pt.jsxs)("span",{className:"font-rajdhani text-white font-bold",children:["$",e.bet_amount]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Gems:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-accent-primary text-xs",children:(n=e.bet_gems,n&&"object"===typeof n?Object.entries(n).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", "):"No gems")})]}),"won"===e.result&&(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Won:"}),(0,Pt.jsxs)("span",{className:"font-rajdhani text-green-400 font-bold",children:["+$",(null===(t=e.winnings)||void 0===t?void 0:t.toLocaleString())||0]})]})]})}),(0,Pt.jsx)("div",{className:"lg:col-span-2",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"font-rajdhani text-white font-bold",children:w(e.game_duration)}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"Duration"})]})})]})},e.game_id||e.id)}))}):(0,Pt.jsxs)("div",{className:"text-center py-16",children:[(0,Pt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdc"}),(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-2",children:"No Games Found"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"all"===o?"You haven't played any games yet. Start your first battle!":"No ".concat(o," games found for the selected filters.")})]}),k>1&&(0,Pt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,Pt.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Previous"}),(0,Pt.jsx)("div",{className:"flex space-x-1",children:[...Array(Math.min(k,5))].map(((e,t)=>{const n=c<=3?t+1:c-2+t;return n>k?null:(0,Pt.jsx)("button",{onClick:()=>d(n),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(c===n?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white"),children:n},n)}))}),(0,Pt.jsx)("button",{onClick:()=>d(Math.min(k,c+1)),disabled:c===k,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Next"})]})]})]})},Fn=[{value:"rock",label:"\u041a\u0430\u043c\u0435\u043d\u044c",icon:"\ud83e\udea8"},{value:"paper",label:"\u0411\u0443\u043c\u0430\u0433\u0430",icon:"\ud83d\udcc4"},{value:"scissors",label:"\u041d\u043e\u0436\u043d\u0438\u0446\u044b",icon:"\u2702\ufe0f"}],Wn=1,Vn=3e3,Hn=.03,Un=e=>{if(!e)return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e";const t=new Date,n=new Date(e),a=Math.floor((t-n)/6e4);return a<1?"\u0422\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e":a<60?"".concat(a," \u043c\u0438\u043d \u043d\u0430\u0437\u0430\u0434"):a<1440?"".concat(Math.floor(a/60)," \u0447 \u043d\u0430\u0437\u0430\u0434"):"".concat(Math.floor(a/1440)," \u0434\u043d \u043d\u0430\u0437\u0430\u0434")},qn=(e,t)=>{let n=0;for(const[a,s]of Object.entries(e)){const e=t.find((e=>e.type===a));e&&s>0&&(n+=e.price*s)}return n},$n=e=>e*Hn,Gn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Yn=e=>{let{user:n,onUpdateUser:a}=e;const{showSuccess:s,showError:r,showWarning:i}=sn(),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)({}),[h,x]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)(null),v=Fn;(0,t.useEffect)((()=>{j(),w()}),[]);const j=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Gn,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data),p(!1)}catch(e){console.error("Error fetching gems:",e),p(!1)}},w=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Gn,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});y(t.data)}catch(e){console.error("Error fetching balance:",e)}},N=()=>qn(d,o),_=()=>((e,t,n)=>{const a=qn(e,t),s=$n(a);return a<Wn?"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 $".concat(Wn):a>Vn?"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 $".concat(Vn):n&&n.virtual_balance<s?"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438: $".concat(s.toFixed(2)):Object.values(e).some((e=>e>0))?null:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0433\u0435\u043c \u0434\u043b\u044f \u0441\u0442\u0430\u0432\u043a\u0438"})(d,o,b);if(m)return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})});const k=N(),S=$n(N()),C=_();return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0433\u0440\u0443"}),(0,Pt.jsx)("p",{className:"font-roboto text-xl text-text-secondary",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0445\u043e\u0434 \u0438 \u043f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0433\u0435\u043c\u044b"})]}),b&&(0,Pt.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,Pt.jsxs)("p",{className:"font-rajdhani text-2xl font-bold text-green-400",children:["$",b.virtual_balance.toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),(0,Pt.jsxs)("p",{className:"font-rajdhani text-2xl font-bold text-accent-primary",children:["$",k.toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (3%)"}),(0,Pt.jsxs)("p",{className:"font-rajdhani text-2xl font-bold text-yellow-400",children:["$",S.toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a"}),(0,Pt.jsxs)("p",{className:"font-rajdhani text-2xl font-bold ".concat(b.virtual_balance-S>=0?"text-green-400":"text-red-400"),children:["$",(b.virtual_balance-S).toFixed(2)]})]})]})})}),(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-6",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0445\u043e\u0434"}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map((e=>(0,Pt.jsxs)("button",{onClick:()=>x(e.value),className:"p-6 rounded-lg border-2 transition-all duration-300 ".concat(h===e.value?"border-accent-primary bg-accent-primary/20 text-accent-primary":"border-accent-primary border-opacity-30 hover:border-accent-primary hover:border-opacity-60 text-text-secondary"),children:[(0,Pt.jsx)("div",{className:"text-4xl mb-2",children:e.icon}),(0,Pt.jsx)("div",{className:"font-rajdhani font-bold text-lg",children:e.label})]},e.value)))})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-6",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0435\u043c\u044b \u0434\u043b\u044f \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.map((e=>{const t=e.quantity-e.frozen_quantity,n=d[e.type]||0;return(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-sidebar rounded-lg border border-accent-primary border-opacity-30",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("img",{src:"/gems/".concat(e.icon),alt:e.name,className:"w-12 h-12 object-contain",style:{filter:"drop-shadow(0 0 8px ".concat(e.color,"60)")}}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"font-rajdhani font-bold text-white",children:e.name}),(0,Pt.jsxs)("p",{className:"font-roboto text-text-secondary text-sm",children:["\u0426\u0435\u043d\u0430: $",e.price," | \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ",t]})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("input",{type:"number",min:"0",max:t,value:n,onChange:t=>((e,t)=>{const n=Math.max(0,parseInt(t)||0),a=o.find((t=>t.type===e)),s=a?a.quantity-a.frozen_quantity:0;u((t=>l(l({},t),{},{[e]:Math.min(n,s)})))})(e.type,t.target.value),className:"w-20 px-2 py-1 bg-surface-card border border-accent-primary border-opacity-30 rounded text-center text-white font-rajdhani",disabled:0===t}),(0,Pt.jsxs)("span",{className:"font-roboto text-text-secondary text-sm",children:["= $",(e.price*n).toFixed(2)]})]})]},e.type)}))})]})]}),(0,Pt.jsxs)("div",{className:"mt-8 text-center",children:[C&&(0,Pt.jsx)("p",{className:"font-roboto text-red-400 mb-4",children:C}),(0,Pt.jsx)("button",{onClick:async()=>{if(!h)return void i("Please select your move!");const e=_();if(e)return void r(e);const t=(e=>{const t={};for(const[n,a]of Object.entries(e))a>0&&(t[n]=a);return t})(d);if(0!==Object.keys(t).length){g(!0);try{const e=localStorage.getItem("token"),n=await At.post("".concat(Gn,"/games/create"),{move:h,bet_gems:t},{headers:{Authorization:"Bearer ".concat(e)}}),r=n.data.commission_reserved.toFixed(2),i=(n.data.commission_reserved/n.data.bet_amount*100).toFixed(0);s("Bet created! $".concat(r," (").concat(i,"%) frozen until game completion."),{duration:7e3}),u({}),x(""),await j(),await w(),a&&a()}catch(l){var n,o;console.error("Error creating game:",l);const e=(null===(n=l.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.detail)||"Failed to create game. Please try again.";r(e)}finally{g(!1)}}else i("Please select at least one gem for betting")},disabled:f||!h||C,className:"px-8 py-4 rounded-lg font-rajdhani font-bold text-xl transition-all duration-300 ".concat(f||!h||C?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gradient-accent text-white hover:scale-105 hover:shadow-lg"),children:f?"\u0421\u041e\u0417\u0414\u0410\u041d\u0418\u0415 \u0418\u0413\u0420\u042b...":"\u0421\u041e\u0417\u0414\u0410\u0422\u042c \u0418\u0413\u0420\u0423"})]})]})]})},Qn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Kn=e=>{let{user:n,onUpdateUser:a}=e;const[s,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)({}),[x,m]=(0,t.useState)(null),p=Fn;(0,t.useEffect)((()=>{f();const e=setInterval(f,5e3);return()=>clearInterval(e)}),[]);const f=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Qn,"/games/available"),{headers:{Authorization:"Bearer ".concat(e)}});r(t.data),o(!1)}catch(e){console.error("Error fetching games:",e),r([]),o(!1)}};if(i)return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043b\u043e\u0431\u0431\u0438..."})});const g=s.filter((e=>(e=>((e,t)=>"WAITING"===e.status&&e.creator_id!==t&&!e.opponent_id)(e,n.id))(e)));return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-8",children:[(0,Pt.jsxs)("div",{className:"text-center mb-8",children:[(0,Pt.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"\u041b\u043e\u0431\u0431\u0438 \u0438\u0433\u0440"}),(0,Pt.jsx)("p",{className:"font-roboto text-xl text-text-secondary",children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c \u0438\u0433\u0440\u0430\u043c"})]}),(0,Pt.jsx)("div",{className:"max-w-6xl mx-auto",children:0===g.length?(0,Pt.jsxs)("div",{className:"text-center py-16",children:[(0,Pt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfae"}),(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-2",children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0438\u0433\u0440\u0443 \u0438\u043b\u0438 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0443\u0442 \u0438\u0433\u0440\u044b"})]}):(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((e=>{return(0,Pt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg p-6 hover:border-accent-primary transition-all duration-300",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("h3",{className:"font-russo text-xl text-accent-secondary",children:["\u0418\u0433\u0440\u0430 #",(e.game_id||e.id).substring(0,8)]}),(0,Pt.jsx)("span",{className:"px-3 py-1 bg-green-600 text-white rounded-full text-sm font-rajdhani",children:"\u041e\u0416\u0418\u0414\u0410\u0415\u0422"})]}),(0,Pt.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-white",children:e.creator_username||"\u0418\u0433\u0440\u043e\u043a"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0421\u0442\u0430\u0432\u043a\u0430:"}),(0,Pt.jsxs)("span",{className:"font-rajdhani text-green-400 font-bold",children:["$",e.bet_amount]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0412\u0440\u0435\u043c\u044f:"}),(0,Pt.jsx)("span",{className:"font-rajdhani text-white",children:Un(e.created_at)})]}),(0,Pt.jsxs)("div",{className:"pt-2",children:[(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"\u0413\u0435\u043c\u044b:"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-white text-sm mt-1",children:(t=e.bet_gems,t&&"object"===typeof t?Object.entries(t).filter((e=>{let[t,n]=e;return n>0})).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", "):"\u041d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a")})]})]}),(0,Pt.jsx)("button",{onClick:()=>m(e.game_id||e.id),className:"w-full py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:scale-105 transition-all duration-300",children:"\u041f\u0420\u0418\u0421\u041e\u0415\u0414\u0418\u041d\u0418\u0422\u042c\u0421\u042f"})]},e.game_id||e.id);var t}))})}),x&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg p-8 max-w-md w-full mx-4",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-6 text-center",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0445\u043e\u0434"}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:p.map((e=>(0,Pt.jsx)("button",{onClick:()=>h((t=>l(l({},t),{},{[x]:e.value}))),className:"p-4 rounded-lg border-2 transition-all duration-300 ".concat(u[x]===e.value?"border-accent-primary bg-accent-primary/20 text-accent-primary":"border-border-primary hover:border-accent-primary/50 text-text-secondary"),children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("span",{className:"text-3xl",children:e.icon}),(0,Pt.jsx)("span",{className:"font-rajdhani font-bold text-lg",children:e.label})]})},e.value)))}),(0,Pt.jsxs)("div",{className:"flex space-x-4",children:[(0,Pt.jsx)("button",{onClick:()=>m(null),className:"flex-1 py-3 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0422\u041c\u0415\u041d\u0410"}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{const t=u[e];if(t){d(e);try{const s=localStorage.getItem("token"),r=await At.post("".concat(Qn,"/games/").concat(e,"/join"),{move:t},{headers:{Authorization:"Bearer ".concat(s)}});alert("\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430!\n\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ".concat(r.data.result,"\n\u0412\u0430\u0448 \u0445\u043e\u0434: ").concat(r.data.opponent_move,"\n\u041e\u043f\u043f\u043e\u043d\u0435\u043d\u0442: ").concat(r.data.creator_move,"\n\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: ").concat(r.data.winner_id?r.data.winner_id===n.id?"\u0412\u044b!":r.data.creator.username:"\u041d\u0438\u0447\u044c\u044f")),await f(),a&&a(),m(null),h((t=>l(l({},t),{},{[e]:""})))}catch(i){var s,r;alert((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043a \u0438\u0433\u0440\u0435")}finally{d(null)}}else alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0445\u043e\u0434!")})(x),disabled:c===x||!u[x],className:"flex-1 py-3 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(c!==x&&u[x]?"bg-gradient-accent text-white hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:c===x?"\u041f\u0420\u0418\u0421\u041e\u0415\u0414\u0418\u041d\u0415\u041d\u0418\u0415...":"\u0418\u0413\u0420\u0410\u0422\u042c"})]})]})})]})},Xn=e=>{let{currentPage:t=1,totalPages:n=1,onPageChange:a,itemsPerPage:s=10,totalItems:r=0,className:i="",showPageNumbers:o=!0,maxPageNumbers:l=5}=e;if(n<=1)return null;const c=e=>{e>=1&&e<=n&&a(e)},d=(()=>{const e=[],a=Math.floor(l/2);let s=Math.max(1,t-a),r=Math.min(n,s+l-1);r-s+1<l&&(s=Math.max(1,r-l+1));for(let t=s;t<=r;t++)e.push(t);return e})(),u=(t-1)*s+1,h=Math.min(t*s,r);return(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 ".concat(i),children:[(0,Pt.jsxs)("div",{className:"text-sm text-text-secondary font-rajdhani",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e ",u,"-",h," \u0438\u0437 ",r," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[t>1&&(0,Pt.jsx)("button",{onClick:()=>c(1),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 transition-colors font-rajdhani",title:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",children:"\u27e8\u27e8"}),(0,Pt.jsx)("button",{onClick:()=>c(t-1),disabled:1===t,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-rajdhani",children:"\u27e8 \u041d\u0430\u0437\u0430\u0434"}),o&&(0,Pt.jsx)("div",{className:"flex items-center space-x-1",children:d.map((e=>(0,Pt.jsx)("button",{onClick:()=>c(e),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(e===t?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20"),children:e},e)))}),!o&&n>1&&(0,Pt.jsx)("select",{value:t,onChange:e=>c(parseInt(e.target.value)),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary",children:Array.from({length:n},((e,t)=>t+1)).map((e=>(0,Pt.jsxs)("option",{value:e,children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",e]},e)))}),(0,Pt.jsx)("button",{onClick:()=>c(t+1),disabled:t===n,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-rajdhani",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u27e9"}),t<n&&(0,Pt.jsx)("button",{onClick:()=>c(n),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 transition-colors font-rajdhani",title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",children:"\u27e9\u27e9"})]})]})},Jn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[a,s]=(0,t.useState)(e),[r,i]=(0,t.useState)(1),[o,l]=(0,t.useState)(0);return(0,t.useEffect)((()=>{a>r&&r>0&&s(1)}),[n,r,a]),{currentPage:a,totalPages:r,totalItems:o,itemsPerPage:n,handlePageChange:e=>{e>=1&&e<=r&&s(e)},updatePagination:e=>{const t=Math.max(1,Math.ceil(e/n));l(e),i(t),a>t&&s(t)},resetPagination:()=>{s(1),i(1),l(0)},getPaginationParams:()=>({page:a,limit:n,offset:(a-1)*n}),isFirstPage:1===a,isLastPage:a===r,hasNextPage:a<r,hasPrevPage:a>1,startIndex:(a-1)*n,endIndex:Math.min(a*n,o)}},Zn="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),ea=e=>{let{user:n}=e;const{showSuccessRU:a,showErrorRU:s,showWarningRU:r}=sn(),[i,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(""),[x,m]=(0,t.useState)(""),[p,f]=(0,t.useState)(null),[g,b]=(0,t.useState)(new Date),[y,v]=(0,t.useState)(new Set),[j,w]=(0,t.useState)(!1),[N,_]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),C=Jn(1,10),[M,L]=(0,t.useState)(!1),[E,A]=(0,t.useState)(!1),[T,P]=(0,t.useState)(!1),[z,O]=(0,t.useState)(!1),[R,I]=(0,t.useState)(!1),[D,B]=(0,t.useState)(!1),[F,W]=(0,t.useState)(!1),[V,H]=(0,t.useState)(!1),[U,q]=(0,t.useState)(!1),[$,G]=(0,t.useState)(null),[Y,Q]=(0,t.useState)(null),[K,X]=(0,t.useState)(!1),[J,Z]=(0,t.useState)(!1),[ee,te]=(0,t.useState)(!1),[ne,ae]=(0,t.useState)(""),[se,re]=(0,t.useState)(""),[ie,oe]=(0,t.useState)(""),[le,ce]=(0,t.useState)(""),[de,ue]=(0,t.useState)({username:"",email:"",role:"",virtual_balance:0}),[he,xe]=(0,t.useState)([]),[me,pe]=(0,t.useState)([]),[fe,ge]=(0,t.useState)({});(0,t.useEffect)((()=>{be()}),[C.currentPage,u,x]),(0,t.useEffect)((()=>{const e=setInterval((()=>{b(new Date)}),1e3);return()=>clearInterval(e)}),[]);const be=async()=>{try{d(!0);const e=localStorage.getItem("token"),t=new URLSearchParams({page:C.currentPage.toString(),limit:C.itemsPerPage.toString()});u&&t.append("search",u),x&&t.append("status",x);const n=await At.get("".concat(Zn,"/admin/users?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),a=(n.data.users||[]).sort(((e,t)=>{const n={SUPER_ADMIN:1,ADMIN:2,USER:3},a=n[e.role]||3,s=n[t.role]||3;return a===s?e.username.localeCompare(t.username):a-s}));o(a),C.updatePagination(n.data.total||0),d(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",e),d(!1)}},ye=async e=>{try{var t,n,a,r,i,o,l,c;const s=localStorage.getItem("token"),[d,u,h]=await Promise.all([At.get("".concat(Zn,"/admin/users/").concat(e,"/gems"),{headers:{Authorization:"Bearer ".concat(s)}}),At.get("".concat(Zn,"/admin/users/").concat(e,"/bets"),{headers:{Authorization:"Bearer ".concat(s)}}),At.get("".concat(Zn,"/admin/users/").concat(e,"/stats"),{headers:{Authorization:"Bearer ".concat(s)}})]);xe(d.data.gems||[]),pe(u.data.active_bets||[]),ge({total_games:(null===(t=h.data.game_stats)||void 0===t?void 0:t.total_games)||0,games_won:(null===(n=h.data.game_stats)||void 0===n?void 0:n.games_won)||0,games_lost:(null===(a=h.data.game_stats)||void 0===a?void 0:a.games_lost)||0,games_draw:(null===(r=h.data.game_stats)||void 0===r?void 0:r.games_draw)||0,win_rate:(null===(i=h.data.game_stats)||void 0===i?void 0:i.win_rate)||0,profit:(null===(o=h.data.financial_stats)||void 0===o?void 0:o.total_profit)||0,gifts_sent:(null===(l=h.data.financial_stats)||void 0===l?void 0:l.gifts_sent)||0,gifts_received:(null===(c=h.data.financial_stats)||void 0===c?void 0:c.gifts_received)||0,ip_history:h.data.ip_history||[]})}catch(d){console.error("Error fetching user details:",d),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}},ve=e=>new Date(e).toLocaleDateString("ru-RU"),je=e=>new Date(e).toLocaleString("ru-RU"),we=e=>{const t=e.online_status,n={ONLINE:{color:"bg-green-500",text:"\u041e\u043d\u043b\u0430\u0439\u043d"},OFFLINE:{color:"bg-yellow-500",text:"\u041e\u0444\u043b\u0430\u0439\u043d"},BANNED:{color:"bg-red-500",text:"BANNED"}}[t]||{color:"bg-gray-500",text:t};return(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(n.color),children:n.text})},Ne=e=>{const t={USER:{color:"bg-blue-600",text:"\u0418\u0433\u0440\u043e\u043a"},ADMIN:{color:"bg-purple-600",text:"\u0410\u0434\u043c\u0438\u043d"},SUPER_ADMIN:{color:"bg-red-600",text:"\u0421\u0443\u043f\u0435\u0440-\u0430\u0434\u043c\u0438\u043d"}}[e]||{color:"bg-gray-600",text:e};return(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},_e=e=>{const t=[],n=e.total_games_played||0,a=e.total_games_won||0,s=n>0?a/n*100:0;return n>=10&&s>80&&t.push({type:"high_winrate",message:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u0432\u0438\u043d\u0440\u0435\u0439\u0442: ".concat(s.toFixed(1),"% \u0437\u0430 ").concat(n," \u0438\u0433\u0440")}),t},[ke,Se]=(0,t.useState)({}),Ce=async e=>{if(!ke[e]){const t=await(async e=>{try{const t=localStorage.getItem("token"),n=await At.get("".concat(Zn,"/admin/users/").concat(e,"/gems"),{headers:{Authorization:"Bearer ".concat(t)}});return n.data.gems&&n.data.gems.length>0?n.data.gems.map((e=>"".concat(e.type," x").concat(e.quantity))).join(", "):"\u041d\u0435\u0442 \u0433\u0435\u043c\u043e\u0432"}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0433\u0435\u043c\u0430\u0445:",t),"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"}})(e);Se((n=>l(l({},n),{},{[e]:t})))}},Me=async e=>{e.preventDefault();try{const e=localStorage.getItem("token");await At.put("".concat(Zn,"/admin/users/").concat(p.id),de,{headers:{Authorization:"Bearer ".concat(e)}}),L(!1),be(),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",t),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}},Le=async()=>{if(ne.trim())try{const e=localStorage.getItem("token"),t={reason:ne,duration:se||void 0};await At.post("".concat(Zn,"/admin/users/").concat(p.id,"/ban"),t,{headers:{Authorization:"Bearer ".concat(e)}}),A(!1),be(),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u0430\u043d\u0435\u043d")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0430\u043d\u0430:",e),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0431\u0430\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}else r("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u0430\u043d\u0430")},Ee=async()=>{try{const e=localStorage.getItem("token"),t=await At.post("".concat(Zn,"/admin/users/").concat(p.id,"/bets/cleanup-stuck"),{},{headers:{Authorization:"Bearer ".concat(e)}});a("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await ye(p.id)}catch(n){var e,t;console.error("Error cleaning up stuck bets:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";s(a)}},Ae=async()=>{if(ie.trim())if("SUPER_ADMIN"===(null===n||void 0===n?void 0:n.role))try{const e=localStorage.getItem("token");await At.delete("".concat(Zn,"/admin/users/").concat(p.id),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:ie}}),te(!1),be(),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",e),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}else s("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b");else r("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f")},Te=()=>{v(new Set),w(!1),_(!1)},Pe=()=>(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Pt.jsx)("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("form",{onSubmit:Me,className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Pt.jsx)("input",{type:"text",value:de.username,onChange:e=>ue(l(l({},de),{},{username:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"Email"}),(0,Pt.jsx)("input",{type:"email",value:de.email,onChange:e=>ue(l(l({},de),{},{email:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0420\u043e\u043b\u044c"}),(0,Pt.jsxs)("select",{value:de.role,onChange:e=>ue(l(l({},de),{},{role:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Pt.jsx)("option",{value:"USER",children:"USER"}),(0,Pt.jsx)("option",{value:"ADMIN",children:"ADMIN"}),(0,Pt.jsx)("option",{value:"SUPER_ADMIN",children:"SUPER_ADMIN"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0411\u0430\u043b\u0430\u043d\u0441 ($)"}),(0,Pt.jsx)("input",{type:"number",step:"0.01",value:de.virtual_balance,onChange:e=>ue(l(l({},de),{},{virtual_balance:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{type:"submit",className:"flex-1 py-2 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,Pt.jsx)("button",{type:"button",onClick:()=>L(!1),className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),ze=()=>(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Pt.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsxs)("p",{className:"text-text-secondary",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,Pt.jsx)("span",{className:"text-white font-bold",children:null===p||void 0===p?void 0:p.username})]}),(0,Pt.jsxs)("p",{className:"text-text-secondary",children:["Email: ",(0,Pt.jsx)("span",{className:"text-white",children:null===p||void 0===p?void 0:p.email})]})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u0430\u043d\u0430 *"}),(0,Pt.jsx)("textarea",{value:ne,onChange:e=>ae(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u0430\u043d\u0430...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3",required:!0})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Pt.jsxs)("select",{value:se,onChange:e=>re(e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Pt.jsx)("option",{value:"",children:"\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0439 \u0431\u0430\u043d"}),(0,Pt.jsx)("option",{value:"1hour",children:"1 \u0447\u0430\u0441"}),(0,Pt.jsx)("option",{value:"1day",children:"1 \u0434\u0435\u043d\u044c"}),(0,Pt.jsx)("option",{value:"1week",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),(0,Pt.jsx)("option",{value:"1month",children:"1 \u043c\u0435\u0441\u044f\u0446"})]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:Le,className:"flex-1 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c"}),(0,Pt.jsx)("button",{onClick:()=>A(!1),className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),Oe=()=>{const[e,n]=(0,t.useState)(""),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(1),[d,u]=(0,t.useState)(""),[h,x]=(0,t.useState)("increase"),[m,f]=(0,t.useState)(""),g=async(e,t)=>{n(e),o(t),c(1),u(""),f(""),x("increase")};return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\ud83d\udc8e \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438 - ",null===p||void 0===p?void 0:p.username]}),(0,Pt.jsx)("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[0===he.length?(0,Pt.jsx)("p",{className:"text-text-secondary text-center py-4",children:"\u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0433\u0435\u043c\u043e\u0432"}):he.map(((e,t)=>(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-accent flex items-center justify-center",children:"\ud83d\udc8e"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:e.type}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-sm",children:["\u0412\u0441\u0435\u0433\u043e: ",e.quantity," \u0448\u0442 | \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ",e.quantity-(e.frozen_quantity||0)," \u0448\u0442 | \u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: ",e.frozen_quantity||0," \u0448\u0442"]}),(0,Pt.jsxs)("div",{className:"text-accent-primary text-sm",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: $",(e.quantity*e.price).toFixed(2)]})]})]})}),(0,Pt.jsxs)("div",{className:"flex space-x-2 mt-2 flex-wrap",children:[(0,Pt.jsx)("button",{onClick:()=>g("modify",e),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 mb-1",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e"}),(0,Pt.jsx)("button",{onClick:()=>g("freeze",e),className:"px-3 py-1 bg-orange-600 text-white text-xs rounded hover:bg-orange-700 mb-1",disabled:e.quantity-(e.frozen_quantity||0)<=0,children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c"}),(0,Pt.jsx)("button",{onClick:()=>g("unfreeze",e),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 mb-1",disabled:(e.frozen_quantity||0)<=0,children:"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c"}),(0,Pt.jsx)("button",{onClick:()=>g("delete",e),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 mb-1",disabled:e.quantity-(e.frozen_quantity||0)<=0,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},t))),e&&i&&(0,Pt.jsxs)("div",{className:"mt-4 bg-surface-sidebar rounded-lg p-4 border border-accent-primary border-opacity-30",children:[(0,Pt.jsxs)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:["freeze"===e&&"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0433\u0435\u043c\u044b","unfreeze"===e&&"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0433\u0435\u043c\u044b","delete"===e&&"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0435\u043c\u044b","modify"===e&&"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u0435\u043c\u043e\u0432"]}),(0,Pt.jsxs)("p",{className:"text-text-secondary text-sm mb-3",children:["\u0413\u0435\u043c: ",i.type," |","freeze"===e&&" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ".concat(i.quantity-(i.frozen_quantity||0)," \u0448\u0442"),"unfreeze"===e&&" \u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: ".concat(i.frozen_quantity||0," \u0448\u0442"),"delete"===e&&" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ".concat(i.quantity-(i.frozen_quantity||0)," \u0448\u0442"),"modify"===e&&" \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(i.quantity," \u0448\u0442")]}),(0,Pt.jsxs)("div",{className:"space-y-3",children:["modify"===e&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435:"}),(0,Pt.jsxs)("select",{value:h,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white",children:[(0,Pt.jsx)("option",{value:"increase",children:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,Pt.jsx)("option",{value:"decrease",children:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"freeze"===e?i.quantity-(i.frozen_quantity||0):"unfreeze"===e?i.frozen_quantity||0:"delete"===e?i.quantity-(i.frozen_quantity||0):"modify"===e&&"decrease"===h?i.quantity:999999,value:l,onChange:e=>c(parseInt(e.target.value)||1),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,Pt.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f...",className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white"})]}),"modify"===e&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e:"}),(0,Pt.jsx)("textarea",{value:m,onChange:e=>f(e.target.value),placeholder:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432...",className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white",rows:"2"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("button",{onClick:async()=>{if(!i||!l||l<=0)r("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e");else try{if("freeze"===e){const e=i.quantity-(i.frozen_quantity||0);if(l>e)return void r("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438");await(async(e,t,n)=>{try{const s=localStorage.getItem("token");await At.post("".concat(Zn,"/admin/users/").concat(p.id,"/gems/freeze"),{gem_type:e,quantity:t,reason:n||"Admin action"},{headers:{Authorization:"Bearer ".concat(s)}}),a("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e")),await ye(p.id)}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432:",r),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0433\u0435\u043c\u043e\u0432")}})(i.type,l,d)}else if("unfreeze"===e){if(l>(i.frozen_quantity||0))return void r("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0438");await(async(e,t,n)=>{try{const s=localStorage.getItem("token");await At.post("".concat(Zn,"/admin/users/").concat(p.id,"/gems/unfreeze"),{gem_type:e,quantity:t,reason:n||"Admin action"},{headers:{Authorization:"Bearer ".concat(s)}}),a("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e")),await ye(p.id)}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432:",r),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0433\u0435\u043c\u043e\u0432")}})(i.type,l,d)}else if("delete"===e){const e=i.quantity-(i.frozen_quantity||0);if(l>e)return void r("\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0433\u0435\u043c\u044b. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u044c\u0442\u0435 \u0438\u0445.");await(async(e,t,n)=>{try{const s=localStorage.getItem("token");await At.delete("".concat(Zn,"/admin/users/").concat(p.id,"/gems/").concat(e,"?quantity=").concat(t,"&reason=").concat(encodeURIComponent(n||"Admin action")),{headers:{Authorization:"Bearer ".concat(s)}}),a("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u043e")),await ye(p.id)}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432:",r),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432")}})(i.type,l,d)}else if("modify"===e){const e="increase"===h?l:-l;if("decrease"===h&&l>i.quantity)return void r("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f");await(async(e,t,n,r)=>{try{const s=localStorage.getItem("token");await At.post("".concat(Zn,"/admin/users/").concat(p.id,"/gems/modify"),{gem_type:e,change:t,reason:n||"Admin action",notification:r},{headers:{Authorization:"Bearer ".concat(s)}});const i=t>0?"\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e":"\u0443\u0434\u0430\u043b\u0435\u043d\u043e";a("".concat(Math.abs(t)," ").concat(e," \u0433\u0435\u043c\u043e\u0432 ").concat(i)),await ye(p.id),be()}catch(i){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432:",i),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432")}})(i.type,e,d,m)}n(""),o(null)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0441 \u0433\u0435\u043c\u0430\u043c\u0438:",t)}},className:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-secondary font-rajdhani font-bold",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),(0,Pt.jsx)("button",{onClick:()=>{n(""),o(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]}),(0,Pt.jsxs)("div",{className:"mt-6 border-t border-border-primary pt-4",children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-2",children:"\u041e\u0431\u0449\u0435\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0443 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,Pt.jsx)("textarea",{value:le,onChange:e=>ce(e.target.value),placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043e\u0431\u0449\u0435\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u0445...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3"})]})]})]})})},Re=()=>{const e=e=>{const t={WAITING:{color:"bg-yellow-600",text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"},ACTIVE:{color:"bg-blue-600",text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f"},REVEAL:{color:"bg-purple-600",text:"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435"},COMPLETED:{color:"bg-green-600",text:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"},CANCELLED:{color:"bg-red-600",text:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"}}[e]||{color:"bg-gray-600",text:e};return(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},t=e=>"WAITING"===e.status,n=e=>{const t=new Date(e.created_at);return(new Date-t)/36e5>24&&["WAITING","ACTIVE","REVEAL"].includes(e.status)},r=me.some((e=>n(e)));return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\ud83c\udfaf \u0421\u0442\u0430\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ",null===p||void 0===p?void 0:p.username]}),(0,Pt.jsx)("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r&&(0,Pt.jsx)("div",{className:"mb-4 p-3 bg-yellow-900 border border-yellow-600 rounded-lg",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-yellow-400 font-rajdhani font-bold text-sm",children:"\u26a0\ufe0f \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("div",{className:"text-yellow-300 text-xs",children:"\u0421\u0442\u0430\u0432\u043a\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u043b\u0435\u0435 24 \u0447\u0430\u0441\u043e\u0432"})]}),(0,Pt.jsx)("button",{onClick:Ee,className:"px-4 py-2 bg-orange-600 text-white text-sm rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:"\ud83e\uddf9 \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435"})]})}),(0,Pt.jsx)("div",{className:"space-y-3",children:0===me.length?(0,Pt.jsx)("p",{className:"text-text-secondary text-center py-4",children:"\u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"}):me.map(((r,i)=>(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4 border-l-4 ".concat(n(r)?"border-yellow-500":"WAITING"===r.status?"border-blue-500":"ACTIVE"===r.status?"border-green-500":"border-gray-500"),children:(0,Pt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Pt.jsxs)("div",{className:"text-white font-rajdhani font-bold text-lg",children:["$",r.amount]}),e(r.status),r.is_creator&&(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-600 text-white font-rajdhani",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),n(r)&&(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-600 text-white font-rajdhani",children:"\u23f0 \u0417\u0430\u0432\u0438\u0441\u043b\u0430"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"text-text-secondary",children:[(0,Pt.jsx)("span",{className:"text-white",children:"ID:"})," ",r.id]}),(0,Pt.jsxs)("div",{className:"text-text-secondary",children:[(0,Pt.jsx)("span",{className:"text-white",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430:"})," ",je(r.created_at)]}),r.opponent&&(0,Pt.jsxs)("div",{className:"text-text-secondary",children:[(0,Pt.jsx)("span",{className:"text-white",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"})," ",r.opponent]}),(0,Pt.jsxs)("div",{className:"text-text-secondary",children:[(0,Pt.jsx)("span",{className:"text-white",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:"})," ",(()=>{const e=new Date(r.created_at),t=Math.floor((g-e)/1e3),n=Math.max(0,t),a=Math.floor(n/3600),s=Math.floor(n%3600/60),i=n%60;return"".concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))})()]})]}),r.gems&&Object.keys(r.gems).length>0&&(0,Pt.jsxs)("div",{className:"mt-2",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0421\u0442\u0430\u0432\u043a\u0430:"}),(0,Pt.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(r.gems).map((e=>{let[t,n]=e;return n>0&&(0,Pt.jsxs)("span",{className:"px-2 py-1 bg-accent-primary bg-opacity-20 text-accent-primary text-xs rounded font-rajdhani",children:[t,": ",n]},t)}))})]})]}),(0,Pt.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[t(r)&&(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await At.post("".concat(Zn,"/admin/users/").concat(p.id,"/bets/").concat(e,"/cancel"),{},{headers:{Authorization:"Bearer ".concat(t)}});a(n.data.message),await ye(p.id)}catch(r){var t,n;console.error("Error cancelling bet:",r);const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";s(e)}})(r.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 font-rajdhani font-bold transition-colors",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443",children:"\ud83d\udeab \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),!t(r)&&(0,Pt.jsx)("span",{className:"px-3 py-1 bg-gray-600 text-gray-300 text-xs rounded font-rajdhani text-center",children:"\u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})},i)))}),me.length>0&&(0,Pt.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-primary",children:[(0,Pt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a:"}),(0,Pt.jsx)("span",{className:"text-white font-rajdhani font-bold",children:me.length})]}),(0,Pt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c:"}),(0,Pt.jsx)("span",{className:"text-green-400 font-rajdhani font-bold",children:me.filter((e=>t(e))).length})]}),r&&(0,Pt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Pt.jsx)("span",{className:"text-yellow-400",children:"\u0417\u0430\u0432\u0438\u0441\u0448\u0438\u0445:"}),(0,Pt.jsx)("span",{className:"text-yellow-400 font-rajdhani font-bold",children:me.filter((e=>n(e))).length})]})]})]})})},Ie=()=>(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pt.jsxs)("h3",{className:"font-rajdhani text-2xl font-bold text-white",children:["\u2139\ufe0f \u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 - ",null===p||void 0===p?void 0:p.username]}),(0,Pt.jsx)("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438\u0433\u0440"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440:"}),(0,Pt.jsx)("span",{className:"text-white",children:fe.total_games||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-green-400",children:"\u041f\u043e\u0431\u0435\u0434:"}),(0,Pt.jsx)("span",{className:"text-green-400",children:fe.games_won||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-red-400",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439:"}),(0,Pt.jsx)("span",{className:"text-red-400",children:fe.games_lost||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-400",children:"\u041d\u0438\u0447\u044c\u0438\u0445:"}),(0,Pt.jsx)("span",{className:"text-gray-400",children:fe.games_draw||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Win Rate:"}),(0,Pt.jsxs)("span",{className:"text-accent-primary",children:[fe.win_rate||0,"%"]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udcb0 \u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"}),(0,Pt.jsxs)("span",{className:"".concat((fe.profit||0)>=0?"text-green-400":"text-red-400"),children:["$",(fe.profit||0).toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e:"}),(0,Pt.jsx)("span",{className:"text-white",children:fe.gifts_sent||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:"}),(0,Pt.jsx)("span",{className:"text-white",children:fe.gifts_received||0})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udd52 \u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f:"}),(0,Pt.jsx)("span",{className:"text-white",children:je(null===p||void 0===p?void 0:p.created_at)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0432\u0438\u0437\u0438\u0442:"}),(0,Pt.jsx)("span",{className:"text-yellow-400",children:je((null===p||void 0===p?void 0:p.last_login)||(null===p||void 0===p?void 0:p.created_at))})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83c\udf10 IP \u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),(0,Pt.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:(fe.ip_history||["192.168.1.1","10.0.0.1"]).map(((e,t)=>(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:[e," ",0===t&&(0,Pt.jsx)("span",{className:"text-accent-primary",children:"(\u0442\u0435\u043a\u0443\u0449\u0438\u0439)"})]},t)))})]})]}),(0,Pt.jsx)("div",{className:"mt-6 flex justify-center",children:(0,Pt.jsx)("button",{className:"px-6 py-2 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:opacity-90",children:"\ud83d\udce4 \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439"})})]})}),De=()=>(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u274c \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Pt.jsx)("button",{onClick:()=>te(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg p-3 mb-4",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsx)("span",{className:"text-red-400 text-sm font-rajdhani",children:"\u041d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435!"})]})}),(0,Pt.jsxs)("p",{className:"text-text-secondary",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,Pt.jsx)("span",{className:"text-white font-bold",children:null===p||void 0===p?void 0:p.username})]}),(0,Pt.jsxs)("p",{className:"text-text-secondary mb-4",children:["Email: ",(0,Pt.jsx)("span",{className:"text-white",children:null===p||void 0===p?void 0:p.email})]}),"SUPER_ADMIN"!==(null===n||void 0===n?void 0:n.role)&&(0,Pt.jsx)("div",{className:"bg-yellow-900 bg-opacity-20 border border-yellow-500 border-opacity-30 rounded-lg p-3 mb-4",children:(0,Pt.jsx)("span",{className:"text-yellow-400 text-sm",children:"\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b"})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f *"}),(0,Pt.jsx)("textarea",{value:ie,onChange:e=>oe(e.target.value),placeholder:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3",required:!0,disabled:"SUPER_ADMIN"!==(null===n||void 0===n?void 0:n.role)})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:Ae,disabled:"SUPER_ADMIN"!==(null===n||void 0===n?void 0:n.role),className:"flex-1 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430"}),(0,Pt.jsx)("button",{onClick:()=>te(!1),className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})});return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"}),(0,Pt.jsxs)("p",{className:"font-roboto text-text-secondary",children:["\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",i.length," \u0438\u0437 \u043c\u043d\u043e\u0433\u0438\u0445"]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>H(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-rajdhani font-bold transition-colors",children:"\ud83d\udd13 \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0432\u0441\u044e \u0437\u0430\u0432\u0438\u0441\u0448\u0443\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e"}),(0,Pt.jsx)("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\ud83d\udcb0 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441\u044b"}),(0,Pt.jsx)("div",{className:"flex space-x-2",children:["","ACTIVE","BANNED","EMAIL_PENDING"].map((e=>(0,Pt.jsx)("button",{onClick:()=>(e=>{m(e),C.handlePageChange(1)})(e),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(x===e?"bg-accent-primary text-white":"bg-surface-card text-text-secondary hover:text-white"),children:e||"\u0412\u0441\u0435"},e)))})]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-4",children:[(0,Pt.jsx)("div",{className:"flex-1",children:(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)("svg",{className:"absolute left-3 top-3 w-5 h-5 text-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,Pt.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 email...",value:u,onChange:e=>{h(e.target.value),C.handlePageChange(1)},className:"w-full pl-10 pr-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]})}),(0,Pt.jsx)("button",{onClick:be,className:"px-6 py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]}),N&&(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 mb-4",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("span",{className:"text-text-secondary font-roboto",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",(0,Pt.jsx)("span",{className:"font-bold",children:y.size})]}),(0,Pt.jsx)("button",{onClick:Te,className:"text-text-secondary hover:text-white transition-colors",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"})]}),(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Pt.jsx)("button",{onClick:async()=>{if(0===y.size)return;if("SUPER_ADMIN"!==(null===n||void 0===n?void 0:n.role))return void s("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b");const e=prompt("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:");if(!e||!e.trim())return void r("\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430");const t=i.filter((e=>y.has(e.id))).filter((e=>"ADMIN"===e.role||"SUPER_ADMIN"===e.role));if(t.length>0)return void s("\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432: ".concat(t.map((e=>e.username)).join(", ")));if(!window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(y.size," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!")))return;S(!0);const o=Array.from(y);let l=0,c=0;try{const t=localStorage.getItem("token");for(const n of o)try{await At.delete("".concat(Zn,"/admin/users/").concat(n),{headers:{Authorization:"Bearer ".concat(t)},data:{reason:e}}),l++}catch(d){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(n,":"),d),c++}a("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e ".concat(l," \u0438\u0437 ").concat(y.size," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),c>0&&r("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(c," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),Te(),be()}catch(d){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",d),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438")}finally{S(!1)}},disabled:k,className:"px-4 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445"})})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:c?(0,Pt.jsx)("div",{className:"p-8 text-center",children:(0,Pt.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439..."})}):(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:(0,Pt.jsx)("input",{type:"checkbox",checked:j,onChange:()=>{if(j)v(new Set),_(!1);else{const e=new Set(i.map((e=>e.id)));v(e),_(!0)}w(!j)},className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u041e\u043d\u043b\u0430\u0439\u043d \u0441\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0420\u043e\u043b\u044c"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0413\u0435\u043c\u044b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0418\u0413\u0420\u042b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0420\u0435\u0433 / \u041f\u043e\u0441. \u0432\u0438\u0437\u0438\u0442"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:i.map((e=>{const t=_e(e),n=e.total_games_played||0,r=e.total_games_won||0,i=e.total_games_lost||n-r-(e.total_games_draw||0),o=e.total_games_draw||0;return(0,Pt.jsxs)("tr",{className:"hover:bg-surface-sidebar transition-colors",children:[(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("input",{type:"checkbox",checked:y.has(e.id),onChange:()=>(e=>{const t=new Set(y);t.has(e)?t.delete(e):t.add(e),v(t),_(t.size>0)})(e.id),className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("female"===e.gender?"bg-pink-600":"bg-blue-600"),children:"female"===e.gender?"\ud83d\udc69":"\ud83d\udc68"}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("div",{className:"font-rajdhani font-bold text-white",children:e.username}),(0,Pt.jsx)("div",{className:"font-roboto text-text-secondary text-sm",children:e.email})]})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:we(e)}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:Ne(e.role)}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsx)("div",{className:"font-rajdhani font-bold text-accent-primary",children:Ut(e.virtual_balance||0)})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsxs)("div",{className:"relative group",children:[(0,Pt.jsxs)("button",{onClick:()=>(async e=>{f(e),await ye(e.id),P(!0)})(e),onMouseEnter:()=>Ce(e.id),className:"text-accent-primary hover:text-accent-secondary underline text-sm",title:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0433\u0435\u043c\u0430\u043c\u0438",children:[e.total_gems||0," \u0448\u0442 / $",(e.total_gems_value||0).toFixed(2)]}),(0,Pt.jsxs)("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-gray-900 border border-gray-600 rounded-lg p-2 text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[(0,Pt.jsx)("div",{className:"font-bold mb-1",children:"\u0420\u0430\u0437\u0431\u0438\u0432\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0430\u043c:"}),(0,Pt.jsx)("div",{children:ke[e.id]||"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsxs)("button",{onClick:()=>(async e=>{f(e),await ye(e.id),O(!0)})(e),className:"text-blue-400 hover:text-blue-300 underline text-sm",title:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:[e.active_bets_count||0," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"]})}),(0,Pt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Pt.jsxs)("div",{className:"text-white font-roboto text-sm",children:[(0,Pt.jsx)("span",{className:"text-green-400",children:r}),"/",(0,Pt.jsx)("span",{className:"text-red-400",children:i}),"/",(0,Pt.jsx)("span",{className:"text-gray-400",children:o})]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u0431\u0434 / \u041f\u0440\u0436 / \u041d\u0447\u044f"})]}),(0,Pt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:ve(e.created_at)}),(0,Pt.jsx)("div",{className:"text-yellow-400 text-xs",children:ve(e.last_login||e.created_at)})]}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Pt.jsxs)("div",{className:"relative group",children:[(0,Pt.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token"),s=0===_e(e).length;await At.post("".concat(Zn,"/admin/users/").concat(e.id,"/flag-suspicious"),{is_suspicious:s,reason:t||"Admin action"},{headers:{Authorization:"Bearer ".concat(n)}}),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(s?"\u043e\u0442\u043c\u0435\u0447\u0435\u043d \u043a\u0430\u043a \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439":"\u0441\u043d\u044f\u0442\u0430 \u043c\u0435\u0442\u043a\u0430 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438")),be()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:",n),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}})(e,"Admin manual flag"),className:"p-1 text-white rounded hover:opacity-80 ".concat(t.length>0?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700 opacity-50"),title:t.length>0?"\u0421\u043d\u044f\u0442\u044c \u0444\u043b\u0430\u0433 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}),t.length>0&&(0,Pt.jsx)("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-red-900 border border-red-500 rounded-lg p-2 text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",children:t.map(((e,t)=>(0,Pt.jsx)("div",{children:e.message},t)))})]}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{f(e),await ye(e.id),Z(!0)})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0438\u0433\u0440\u043e\u043a\u0435",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pt.jsx)("button",{onClick:()=>(e=>{f(e),ue({username:e.username,email:e.email,role:e.role,virtual_balance:e.virtual_balance||0}),L(!0)})(e),className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),"BANNED"===e.status?(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await At.post("".concat(Zn,"/admin/users/").concat(e,"/unban"),{},{headers:{Authorization:"Bearer ".concat(t)}}),be(),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0440\u0430\u0437\u0431\u0430\u043d\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0431\u0430\u043d\u0430:",t),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u0431\u0430\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}})(e.id),className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"\u0420\u0430\u0437\u0431\u0430\u043d\u0438\u0442\u044c",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}):(0,Pt.jsx)("button",{onClick:()=>(e=>{f(e),ae(""),re(""),A(!0)})(e),className:"p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700",title:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})})}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{G(e.id);const t=localStorage.getItem("token"),n=await At.post("".concat(Zn,"/admin/users/").concat(e.id,"/reset-bets"),{},{headers:{Authorization:"Bearer ".concat(t)}});a("".concat(n.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(n.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await be()}catch(r){var t,n;console.error("Error resetting user bets:",r);const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";s(e)}finally{G(null)}})(e),disabled:$===e.id,className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:$===e.id?(0,Pt.jsxs)("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{Q(e.id);const t=localStorage.getItem("token"),n=await At.post("".concat(Zn,"/admin/users/").concat(e.id,"/reset-balance"),{},{headers:{Authorization:"Bearer ".concat(t)}});a("".concat(n.data.message,". \u0411\u0430\u043b\u0430\u043d\u0441: $").concat(n.data.new_balance)),await be()}catch(r){var t,n;console.error("Error resetting user balance:",r);const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";s(e)}finally{Q(null)}})(e),disabled:Y===e.id,className:"p-1 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",title:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:Y===e.id?(0,Pt.jsxs)("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Pt.jsx)("button",{onClick:()=>(e=>{f(e),oe(""),te(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]})})}),(0,Pt.jsx)(Xn,{currentPage:C.currentPage,totalPages:C.totalPages,onPageChange:C.handlePageChange,itemsPerPage:C.itemsPerPage,totalItems:C.totalItems,className:"mt-6"}),M&&(0,Pt.jsx)(Pe,{}),E&&(0,Pt.jsx)(ze,{}),T&&(0,Pt.jsx)(Oe,{}),z&&(0,Pt.jsx)(Re,{}),J&&(0,Pt.jsx)(Ie,{}),ee&&(0,Pt.jsx)(De,{}),R&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\udcb0 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b"}),(0,Pt.jsx)("button",{onClick:()=>I(!1),disabled:U,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Pt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Pt.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,Pt.jsx)("div",{children:"\u2022 \u0412\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0441\u0442\u0430\u043d\u0443\u0442 \u0440\u0430\u0432\u043d\u044b\u043c\u0438 \u043d\u0443\u043b\u044e"}),(0,Pt.jsx)("div",{children:"\u2022 \u0412\u0441\u0435 \u0433\u0435\u043c\u044b \u0431\u0443\u0434\u0443\u0442 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b"}),(0,Pt.jsx)("div",{children:"\u2022 \u0412\u0441\u0435 \u0438\u0433\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b"}),(0,Pt.jsx)("div",{children:"\u2022 \u0411\u0443\u0434\u0443\u0442 \u0437\u0430\u0442\u0440\u043e\u043d\u0443\u0442\u044b \u0412\u0421\u0415 \u0438\u0433\u0440\u043e\u043a\u0438"})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b?"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0434\u0430\u043d\u044b \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>I(!1),disabled:U,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{try{q(!0);const e=localStorage.getItem("token"),t=await At.post("".concat(Zn,"/admin/users/reset-all-balances"),{},{headers:{Authorization:"Bearer ".concat(e)}});a("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_users_processed," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),I(!1),await be()}catch(n){var e,t;console.error("Error resetting all balances:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0432\u0441\u0435\u0445 \u0431\u0430\u043b\u0430\u043d\u0441\u043e\u0432";s(a)}finally{q(!1)}},disabled:U,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:U?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u043c..."]}):"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b"})]})]})]})}),V&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-blue-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-blue-400",children:"\ud83d\udd13 \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0443\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e"}),(0,Pt.jsx)("button",{onClick:()=>H(!1),disabled:K,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-blue-900 border border-blue-600 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"text-blue-400 text-sm mb-2",children:["\u2139\ufe0f ",(0,Pt.jsx)("strong",{children:"\u0418\u041d\u0424\u041e\u0420\u041c\u0410\u0426\u0418\u042f"})]}),(0,Pt.jsxs)("div",{className:"text-blue-300 text-sm space-y-1",children:[(0,Pt.jsx)("div",{children:"\u2022 \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0438\u0437 \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,Pt.jsx)("div",{children:"\u2022 \u041f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0438\u0437 frozen_balance \u0432 virtual_balance"}),(0,Pt.jsx)("div",{children:"\u2022 \u0417\u0430\u0442\u0440\u0430\u0433\u0438\u0432\u0430\u0435\u0442 \u0438\u0433\u0440\u044b \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u0445 WAITING, ACTIVE, TIMEOUT"}),(0,Pt.jsx)("div",{children:"\u2022 \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0431\u043e\u0442\u043e\u0432)"})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0432\u0441\u044e \u0437\u0430\u0432\u0438\u0441\u0448\u0443\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e?"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u042d\u0442\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f - \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>H(!1),disabled:K,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{try{X(!0);const e=localStorage.getItem("token"),t=await At.post("".concat(Zn,"/admin/users/unfreeze-stuck-commission"),{},{headers:{Authorization:"Bearer ".concat(e)}});if(t.data.success){const{message:e,total_amount_unfrozen:n,total_users_affected:s}=t.data;a("".concat(e,". \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: $").concat(n," \u0434\u043b\u044f ").concat(s," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),H(!1),await be()}}catch(n){var e,t;console.error("Error unfreezing stuck commission:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0435\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438";s(a)}finally{X(!1)}},disabled:K,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:K?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0420\u0430\u0437\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u043c..."]}):"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e"})]})]})]})})]})};function ta(e){return e+.5|0}const na=(e,t,n)=>Math.max(Math.min(e,n),t);function aa(e){return na(ta(2.55*e),0,255)}function sa(e){return na(ta(255*e),0,255)}function ra(e){return na(ta(e/2.55)/100,0,1)}function ia(e){return na(ta(100*e),0,100)}const oa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},la=[..."0123456789ABCDEF"],ca=e=>la[15&e],da=e=>la[(240&e)>>4]+la[15&e],ua=e=>(240&e)>>4===(15&e);function ha(e){var t=(e=>ua(e.r)&&ua(e.g)&&ua(e.b)&&ua(e.a))(e)?ca:da;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const xa=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ma(e,t,n){const a=t*Math.min(n,1-n),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-a*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function pa(e,t,n){const a=function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a+e/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[a(5),a(3),a(1)]}function fa(e,t,n){const a=ma(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)a[s]*=1-t-n,a[s]+=t;return a}function ga(e){const t=e.r/255,n=e.g/255,a=e.b/255,s=Math.max(t,n,a),r=Math.min(t,n,a),i=(s+r)/2;let o,l,c;return s!==r&&(c=s-r,l=i>.5?c/(2-s-r):c/(s+r),o=function(e,t,n,a,s){return e===s?(t-n)/a+(t<n?6:0):t===s?(n-e)/a+2:(e-t)/a+4}(t,n,a,c,s),o=60*o+.5),[0|o,l||0,i]}function ba(e,t,n,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,a)).map(sa)}function ya(e,t,n){return ba(ma,e,t,n)}function va(e){return(e%360+360)%360}function ja(e){const t=xa.exec(e);let n,a=255;if(!t)return;t[5]!==n&&(a=t[6]?aa(+t[5]):sa(+t[5]));const s=va(+t[2]),r=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return ba(fa,e,t,n)}(s,r,i):"hsv"===t[1]?function(e,t,n){return ba(pa,e,t,n)}(s,r,i):ya(s,r,i),{r:n[0],g:n[1],b:n[2],a:a}}const wa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Na={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let _a;function ka(e){_a||(_a=function(){const e={},t=Object.keys(Na),n=Object.keys(wa);let a,s,r,i,o;for(a=0;a<t.length;a++){for(i=o=t[a],s=0;s<n.length;s++)r=n[s],o=o.replace(r,wa[r]);r=parseInt(Na[i],16),e[o]=[r>>16&255,r>>8&255,255&r]}return e}(),_a.transparent=[0,0,0,0]);const t=_a[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Sa=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ca=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ma=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function La(e,t,n){if(e){let a=ga(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,0===t?360:1)),a=ya(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function Ea(e,t){return e?Object.assign(t||{},e):e}function Aa(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=sa(e[3]))):(t=Ea(e,{r:0,g:0,b:0,a:1})).a=sa(t.a),t}function Ta(e){return"r"===e.charAt(0)?function(e){const t=Sa.exec(e);let n,a,s,r=255;if(t){if(t[7]!==n){const e=+t[7];r=t[8]?aa(e):na(255*e,0,255)}return n=+t[1],a=+t[3],s=+t[5],n=255&(t[2]?aa(n):na(n,0,255)),a=255&(t[4]?aa(a):na(a,0,255)),s=255&(t[6]?aa(s):na(s,0,255)),{r:n,g:a,b:s,a:r}}}(e):ja(e)}class Pa{constructor(e){if(e instanceof Pa)return e;const t=typeof e;let n;"object"===t?n=Aa(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*oa[e[1]],g:255&17*oa[e[2]],b:255&17*oa[e[3]],a:5===n?17*oa[e[4]]:255}:7!==n&&9!==n||(t={r:oa[e[1]]<<4|oa[e[2]],g:oa[e[3]]<<4|oa[e[4]],b:oa[e[5]]<<4|oa[e[6]],a:9===n?oa[e[7]]<<4|oa[e[8]]:255})),t}(e)||ka(e)||Ta(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ea(this._rgb);return e&&(e.a=ra(e.a)),e}set rgb(e){this._rgb=Aa(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(ra(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?ha(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=ga(e),n=t[0],a=ia(t[1]),s=ia(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(a,"%, ").concat(s,"%, ").concat(ra(e.a),")"):"hsl(".concat(n,", ").concat(a,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,a=e.rgb;let s;const r=t===s?.5:t,i=2*r-1,o=n.a-a.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;s=1-l,n.r=255&l*n.r+s*a.r+.5,n.g=255&l*n.g+s*a.g+.5,n.b=255&l*n.b+s*a.b+.5,n.a=r*n.a+(1-r)*a.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const a=Ma(ra(e.r)),s=Ma(ra(e.g)),r=Ma(ra(e.b));return{r:sa(Ca(a+n*(Ma(ra(t.r))-a))),g:sa(Ca(s+n*(Ma(ra(t.g))-s))),b:sa(Ca(r+n*(Ma(ra(t.b))-r))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Pa(this.rgb)}alpha(e){return this._rgb.a=sa(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ta(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return La(this._rgb,2,e),this}darken(e){return La(this._rgb,2,-e),this}saturate(e){return La(this._rgb,1,e),this}desaturate(e){return La(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=ga(e);n[0]=va(n[0]+t),n=ya(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function za(){}const Oa=(()=>{let e=0;return()=>e++})();function Ra(e){return null===e||void 0===e}function Ia(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Da(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Ba(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Fa(e,t){return Ba(e)?e:t}function Wa(e,t){return"undefined"===typeof e?t:e}const Va=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ha(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Ua(e,t,n,a){let s,r,i;if(Ia(e))if(r=e.length,a)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(Da(e))for(i=Object.keys(e),r=i.length,s=0;s<r;s++)t.call(n,e[i[s]],i[s])}function qa(e,t){let n,a,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,a=e.length;n<a;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function $a(e){if(Ia(e))return e.map($a);if(Da(e)){const t=Object.create(null),n=Object.keys(e),a=n.length;let s=0;for(;s<a;++s)t[n[s]]=$a(e[n[s]]);return t}return e}function Ga(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Ya(e,t,n,a){if(!Ga(e))return;const s=t[e],r=n[e];Da(s)&&Da(r)?Qa(s,r,a):t[e]=$a(r)}function Qa(e,t,n){const a=Ia(t)?t:[t],s=a.length;if(!Da(e))return e;const r=(n=n||{}).merger||Ya;let i;for(let o=0;o<s;++o){if(i=a[o],!Da(i))continue;const t=Object.keys(i);for(let a=0,s=t.length;a<s;++a)r(t[a],e,i,n)}return e}function Ka(e,t){return Qa(e,t,{merger:Xa})}function Xa(e,t,n){if(!Ga(e))return;const a=t[e],s=n[e];Da(a)&&Da(s)?Ka(a,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=$a(s))}const Ja={"":e=>e,x:e=>e.x,y:e=>e.y};function Za(e,t){const n=Ja[t]||(Ja[t]=function(e){const t=function(e){const t=e.split("."),n=[];let a="";for(const s of t)a+=s,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function es(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ts=e=>"undefined"!==typeof e,ns=e=>"function"===typeof e,as=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const ss=Math.PI,rs=2*ss,is=rs+ss,os=Number.POSITIVE_INFINITY,ls=ss/180,cs=ss/2,ds=ss/4,us=2*ss/3,hs=Math.log10,xs=Math.sign;function ms(e,t,n){return Math.abs(e-t)<n}function ps(e){const t=Math.round(e);e=ms(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(hs(e))),a=e/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function fs(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function gs(e,t,n){let a,s,r;for(a=0,s=e.length;a<s;a++)r=e[a][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function bs(e){return e*(ss/180)}function ys(e){return e*(180/ss)}function vs(e){if(!Ba(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function js(e,t){const n=t.x-e.x,a=t.y-e.y,s=Math.sqrt(n*n+a*a);let r=Math.atan2(a,n);return r<-.5*ss&&(r+=rs),{angle:r,distance:s}}function ws(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ns(e,t){return(e-t+is)%rs-ss}function _s(e){return(e%rs+rs)%rs}function ks(e,t,n,a){const s=_s(e),r=_s(t),i=_s(n),o=_s(r-s),l=_s(i-s),c=_s(s-r),d=_s(s-i);return s===r||s===i||a&&r===i||o>l&&c<d}function Ss(e,t,n){return Math.max(t,Math.min(n,e))}function Cs(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-a&&e<=Math.max(t,n)+a}function Ms(e,t,n){n=n||(n=>e[n]<t);let a,s=e.length-1,r=0;for(;s-r>1;)a=r+s>>1,n(a)?r=a:s=a;return{lo:r,hi:s}}const Ls=(e,t,n,a)=>Ms(e,n,a?a=>{const s=e[a][t];return s<n||s===n&&e[a+1][t]===n}:a=>e[a][t]<n),Es=(e,t,n)=>Ms(e,n,(a=>e[a][t]>=n));const As=["push","pop","shift","splice","unshift"];function Ts(e,t){const n=e._chartjs;if(!n)return;const a=n.listeners,s=a.indexOf(t);-1!==s&&a.splice(s,1),a.length>0||(As.forEach((t=>{delete e[t]})),delete e._chartjs)}function Ps(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const zs="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Os(e,t){let n=[],a=!1;return function(){for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];n=r,a||(a=!0,zs.call(window,(()=>{a=!1,e.apply(t,n)})))}}const Rs=e=>"start"===e?"left":"end"===e?"right":"center",Is=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Ds(e,t,n){const a=t.length;let s=0,r=a;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:x,maxDefined:m}=i.getUserBounds();if(x){if(s=Math.min(Ls(l,d,u).lo,n?a:Ls(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,s+1).reverse().findIndex((e=>!Ra(e[o.axis])));s-=Math.max(0,e)}s=Ss(s,0,a-1)}if(m){let e=Math.max(Ls(l,i.axis,h,!0).hi+1,n?0:Ls(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!Ra(e[o.axis])));e+=Math.max(0,t)}r=Ss(e,s,a)-s}else r=a-s}return{start:s,count:r}}function Bs(e){const{xScale:t,yScale:n,_scaleRanges:a}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return e._scaleRanges=s,!0;const r=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,s),r}const Fs=e=>0===e||1===e,Ws=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*rs/n),Vs=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*rs/n)+1,Hs={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*cs),easeOutSine:e=>Math.sin(e*cs),easeInOutSine:e=>-.5*(Math.cos(ss*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Fs(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Fs(e)?e:Ws(e,.075,.3),easeOutElastic:e=>Fs(e)?e:Vs(e,.075,.3),easeInOutElastic(e){const t=.1125;return Fs(e)?e:e<.5?.5*Ws(2*e,t,.45):.5+.5*Vs(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Hs.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Hs.easeInBounce(2*e):.5*Hs.easeOutBounce(2*e-1)+.5};function Us(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function qs(e){return Us(e)?e:new Pa(e)}function $s(e){return Us(e)?e:new Pa(e).saturate(.5).darken(.1).hexString()}const Gs=["x","y","borderWidth","radius","tension"],Ys=["color","borderColor","backgroundColor"];const Qs=new Map;function Ks(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let a=Qs.get(n);return a||(a=new Intl.NumberFormat(e,t),Qs.set(n,a)),a}(t,n).format(e)}const Xs={values:e=>Ia(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const a=this.chart.options.locale;let s,r=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),r=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const i=hs(Math.abs(r)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Ks(e,a,l)},logarithmic(e,t,n){if(0===e)return"0";const a=n[t].significand||e/Math.pow(10,Math.floor(hs(e)));return[1,2,3,5,10,15].includes(a)||t>.8*n.length?Xs.numeric.call(this,e,t,n):""}};var Js={formatters:Xs};const Zs=Object.create(null),er=Object.create(null);function tr(e,t){if(!t)return e;const n=t.split(".");for(let a=0,s=n.length;a<s;++a){const t=n[a];e=e[t]||(e[t]=Object.create(null))}return e}function nr(e,t,n){return"string"===typeof t?Qa(tr(e,t),n):Qa(tr(e,""),t)}class ar{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>$s(t.backgroundColor),this.hoverBorderColor=(e,t)=>$s(t.borderColor),this.hoverColor=(e,t)=>$s(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return nr(this,e,t)}get(e){return tr(this,e)}describe(e,t){return nr(er,e,t)}override(e,t){return nr(Zs,e,t)}route(e,t,n,a){const s=tr(this,e),r=tr(this,n),i="_"+t;Object.defineProperties(s,{[i]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=r[a];return Da(e)?Object.assign({},t,e):Wa(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach((e=>e(this)))}}var sr=new ar({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Ys},numbers:{type:"number",properties:Gs}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Js.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function rr(e,t,n,a,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>a&&(a=r),a}function ir(e,t,n,a){let s=(a=a||{}).data=a.data||{},r=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(s=a.data={},r=a.garbageCollect=[],a.font=t),e.save(),e.font=t;let i=0;const o=n.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=n[l],void 0===u||null===u||Ia(u)){if(Ia(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||Ia(h)||(i=rr(e,s,r,i,h))}else i=rr(e,s,r,i,u);e.restore();const x=r.length/2;if(x>n.length){for(l=0;l<x;l++)delete s[r[l]];r.splice(0,x)}return i}function or(e,t,n){const a=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*a)/a+s}function lr(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function cr(e,t,n,a){dr(e,t,n,a,null)}function dr(e,t,n,a,s){let r,i,o,l,c,d,u,h;const x=t.pointStyle,m=t.rotation,p=t.radius;let f=(m||0)*ls;if(x&&"object"===typeof x&&(r=x.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,a),e.rotate(f),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),x){default:s?e.ellipse(n,a,s/2,p,0,0,rs):e.arc(n,a,p,0,rs),e.closePath();break;case"triangle":d=s?s/2:p,e.moveTo(n+Math.sin(f)*d,a-Math.cos(f)*p),f+=us,e.lineTo(n+Math.sin(f)*d,a-Math.cos(f)*p),f+=us,e.lineTo(n+Math.sin(f)*d,a-Math.cos(f)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,i=Math.cos(f+ds)*l,u=Math.cos(f+ds)*(s?s/2-c:l),o=Math.sin(f+ds)*l,h=Math.sin(f+ds)*(s?s/2-c:l),e.arc(n-u,a-o,c,f-ss,f-cs),e.arc(n+h,a-i,c,f-cs,f),e.arc(n+u,a+o,c,f,f+cs),e.arc(n-h,a+i,c,f+cs,f+ss),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,d=s?s/2:l,e.rect(n-d,a-l,2*d,2*l);break}f+=ds;case"rectRot":u=Math.cos(f)*(s?s/2:p),i=Math.cos(f)*p,o=Math.sin(f)*p,h=Math.sin(f)*(s?s/2:p),e.moveTo(n-u,a-o),e.lineTo(n+h,a-i),e.lineTo(n+u,a+o),e.lineTo(n-h,a+i),e.closePath();break;case"crossRot":f+=ds;case"cross":u=Math.cos(f)*(s?s/2:p),i=Math.cos(f)*p,o=Math.sin(f)*p,h=Math.sin(f)*(s?s/2:p),e.moveTo(n-u,a-o),e.lineTo(n+u,a+o),e.moveTo(n+h,a-i),e.lineTo(n-h,a+i);break;case"star":u=Math.cos(f)*(s?s/2:p),i=Math.cos(f)*p,o=Math.sin(f)*p,h=Math.sin(f)*(s?s/2:p),e.moveTo(n-u,a-o),e.lineTo(n+u,a+o),e.moveTo(n+h,a-i),e.lineTo(n-h,a+i),f+=ds,u=Math.cos(f)*(s?s/2:p),i=Math.cos(f)*p,o=Math.sin(f)*p,h=Math.sin(f)*(s?s/2:p),e.moveTo(n-u,a-o),e.lineTo(n+u,a+o),e.moveTo(n+h,a-i),e.lineTo(n-h,a+i);break;case"line":i=s?s/2:Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(n-i,a-o),e.lineTo(n+i,a+o);break;case"dash":e.moveTo(n,a),e.lineTo(n+Math.cos(f)*(s?s/2:p),a+Math.sin(f)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function ur(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function hr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function xr(e){e.restore()}function mr(e,t,n,a,s){if(!t)return e.lineTo(n.x,n.y);if("middle"===s){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else"after"===s!==!!a?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function pr(e,t,n,a){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function fr(e,t,n,a,s){if(s.strikethrough||s.underline){const r=e.measureText(a),i=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function gr(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function br(e,t,n,a,s){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=Ia(t)?t:[t],o=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ra(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,r),l=0;l<i.length;++l)c=i[l],r.backdrop&&gr(e,r.backdrop),o&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Ra(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,a,r.maxWidth)),e.fillText(c,n,a,r.maxWidth),fr(e,n,a,c,r),a+=Number(s.lineHeight);e.restore()}function yr(e,t){const{x:n,y:a,w:s,h:r,radius:i}=t;e.arc(n+i.topLeft,a+i.topLeft,i.topLeft,1.5*ss,ss,!0),e.lineTo(n,a+r-i.bottomLeft),e.arc(n+i.bottomLeft,a+r-i.bottomLeft,i.bottomLeft,ss,cs,!0),e.lineTo(n+s-i.bottomRight,a+r),e.arc(n+s-i.bottomRight,a+r-i.bottomRight,i.bottomRight,cs,0,!0),e.lineTo(n+s,a+i.topRight),e.arc(n+s-i.topRight,a+i.topRight,i.topRight,0,-cs,!0),e.lineTo(n+i.topLeft,a)}const vr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,jr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wr(e,t){const n=(""+e).match(vr);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function Nr(e,t){const n={},a=Da(t),s=a?Object.keys(t):t,r=Da(e)?a?n=>Wa(e[n],e[t[n]]):t=>e[t]:()=>e;for(const i of s)n[i]=+r(i)||0;return n}function _r(e){return Nr(e,{top:"y",right:"x",bottom:"y",left:"x"})}function kr(e){return Nr(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Sr(e){const t=_r(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Cr(e,t){e=e||{},t=t||sr.font;let n=Wa(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let a=Wa(e.style,t.style);a&&!(""+a).match(jr)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const s={family:Wa(e.family,t.family),lineHeight:wr(Wa(e.lineHeight,t.lineHeight),n),size:n,style:a,weight:Wa(e.weight,t.weight),string:""};return s.string=function(e){return!e||Ra(e.size)||Ra(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function Mr(e,t,n,a){let s,r,i,o=!0;for(s=0,r=e.length;s<r;++s)if(i=e[s],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==n&&Ia(i)&&(i=i[n%i.length],o=!1),void 0!==i))return a&&!o&&(a.cacheable=!1),i}function Lr(e,t){return Object.assign(Object.create(e),t)}function Er(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Wr("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:a,override:a=>Er([a,...e],t,s,n)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,a)=>Or(n,a,(()=>function(e,t,n,a){let s;for(const r of t)if(s=Wr(Pr(r,e),n),"undefined"!==typeof s)return zr(e,s)?Br(n,a,e,s):s}(a,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Vr(e).includes(t),ownKeys:e=>Vr(e),set(e,t,n){const s=e._storage||(e._storage=a());return e[t]=s[t]=n,delete e._keys,!0}})}function Ar(e,t,n,a){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Tr(e,a),setContext:t=>Ar(e,t,n,a),override:s=>Ar(e.override(s),t,n,a)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Or(e,t,(()=>function(e,t,n){const{_proxy:a,_context:s,_subProxy:r,_descriptors:i}=e;let o=a[t];ns(o)&&i.isScriptable(t)&&(o=function(e,t,n,a){const{_proxy:s,_context:r,_subProxy:i,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(r,i||a);o.delete(e),zr(e,l)&&(l=Br(s._scopes,s,e,l));return l}(t,o,e,n));Ia(o)&&o.length&&(o=function(e,t,n,a){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=n;if("undefined"!==typeof r.index&&a(e))return t[r.index%t.length];if(Da(t[0])){const n=t,a=s._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Br(a,s,e,l);t.push(Ar(n,r,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));zr(t,o)&&(o=Ar(o,s,r&&r[t],i));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,a)=>(e[n]=a,delete t[n],!0)})}function Tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:a,isScriptable:ns(n)?n:()=>n,isIndexable:ns(a)?a:()=>a}}const Pr=(e,t)=>e?e+es(t):t,zr=(e,t)=>Da(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Or(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const a=n();return e[t]=a,a}function Rr(e,t,n){return ns(e)?e(t,n):e}const Ir=(e,t)=>!0===e?t:"string"===typeof e?Za(t,e):void 0;function Dr(e,t,n,a,s){for(const r of t){const t=Ir(n,r);if(t){e.add(t);const r=Rr(t._fallback,n,s);if("undefined"!==typeof r&&r!==n&&r!==a)return r}else if(!1===t&&"undefined"!==typeof a&&n!==a)return null}return!1}function Br(e,t,n,a){const s=t._rootScopes,r=Rr(t._fallback,n,a),i=[...e,...s],o=new Set;o.add(a);let l=Fr(o,i,n,r||n,a);return null!==l&&(("undefined"===typeof r||r===n||(l=Fr(o,i,r,l,a),null!==l))&&Er(Array.from(o),[""],s,r,(()=>function(e,t,n){const a=e._getTarget();t in a||(a[t]={});const s=a[t];if(Ia(s)&&Da(n))return n;return s||{}}(t,n,a))))}function Fr(e,t,n,a,s){for(;n;)n=Dr(e,t,n,a,s);return n}function Wr(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Vr(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Hr(e,t,n,a){const{iScale:s}=e,{key:r="r"}=this._parsing,i=new Array(a);let o,l,c,d;for(o=0,l=a;o<l;++o)c=o+n,d=t[c],i[o]={r:s.parse(Za(d,r),c)};return i}const Ur=Number.EPSILON||1e-14,qr=(e,t)=>t<e.length&&!e[t].skip&&e[t],$r=e=>"x"===e?"y":"x";function Gr(e,t,n,a){const s=e.skip?t:e,r=t,i=n.skip?t:n,o=ws(r,s),l=ws(i,r);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=a*c,h=a*d;return{previous:{x:r.x-u*(i.x-s.x),y:r.y-u*(i.y-s.y)},next:{x:r.x+h*(i.x-s.x),y:r.y+h*(i.y-s.y)}}}function Yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=$r(t),a=e.length,s=Array(a).fill(0),r=Array(a);let i,o,l,c=qr(e,0);for(i=0;i<a;++i)if(o=l,l=c,c=qr(e,i+1),l){if(c){const e=c[t]-l[t];s[i]=0!==e?(c[n]-l[n])/e:0}r[i]=o?c?xs(s[i-1])!==xs(s[i])?0:(s[i-1]+s[i])/2:s[i-1]:s[i]}!function(e,t,n){const a=e.length;let s,r,i,o,l,c=qr(e,0);for(let d=0;d<a-1;++d)l=c,c=qr(e,d+1),l&&c&&(ms(t[d],0,Ur)?n[d]=n[d+1]=0:(s=n[d]/t[d],r=n[d+1]/t[d],o=Math.pow(s,2)+Math.pow(r,2),o<=9||(i=3/Math.sqrt(o),n[d]=s*i*t[d],n[d+1]=r*i*t[d])))}(e,s,r),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const a=$r(n),s=e.length;let r,i,o,l=qr(e,0);for(let c=0;c<s;++c){if(i=o,o=l,l=qr(e,c+1),!o)continue;const s=o[n],d=o[a];i&&(r=(s-i[n])/3,o["cp1".concat(n)]=s-r,o["cp1".concat(a)]=d-r*t[c]),l&&(r=(l[n]-s)/3,o["cp2".concat(n)]=s+r,o["cp2".concat(a)]=d+r*t[c])}}(e,r,t)}function Qr(e,t,n){return Math.max(Math.min(e,n),t)}function Kr(e,t,n,a,s){let r,i,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Yr(e,s);else{let n=a?e[e.length-1]:e[0];for(r=0,i=e.length;r<i;++r)o=e[r],l=Gr(n,o,e[Math.min(r+1,i-(a?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,a,s,r,i,o=ur(e[0],t);for(n=0,a=e.length;n<a;++n)i=r,r=o,o=n<a-1&&ur(e[n+1],t),r&&(s=e[n],i&&(s.cp1x=Qr(s.cp1x,t.left,t.right),s.cp1y=Qr(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=Qr(s.cp2x,t.left,t.right),s.cp2y=Qr(s.cp2y,t.top,t.bottom)))}(e,n)}function Xr(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Jr(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Zr(e,t,n){let a;return"string"===typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[n])):a=e,a}const ei=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ti=["top","right","bottom","left"];function ni(e,t,n){const a={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=ti[s];a[r]=parseFloat(e[t+"-"+r+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function ai(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:a}=t,s=ei(n),r="border-box"===s.boxSizing,i=ni(s,"padding"),o=ni(s,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,a=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=a;let i,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,r,e.target))i=s,o=r;else{const e=t.getBoundingClientRect();i=a.clientX-e.left,o=a.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,n),u=i.left+(d&&o.left),h=i.top+(d&&o.top);let{width:x,height:m}=t;return r&&(x-=i.width+o.width,m-=i.height+o.height),{x:Math.round((l-u)/x*n.width/a),y:Math.round((c-h)/m*n.height/a)}}const si=e=>Math.round(10*e)/10;function ri(e,t,n,a){const s=ei(e),r=ni(s,"margin"),i=Zr(s.maxWidth,e,"clientWidth")||os,o=Zr(s.maxHeight,e,"clientHeight")||os,l=function(e,t,n){let a,s;if(void 0===t||void 0===n){const r=e&&Jr(e);if(r){const e=r.getBoundingClientRect(),i=ei(r),o=ni(i,"border","width"),l=ni(i,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,a=Zr(i.maxWidth,r,"clientWidth"),s=Zr(i.maxHeight,r,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:a||os,maxHeight:s||os}}(e,t,n);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const e=ni(s,"border","width"),t=ni(s,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-r.width),d=Math.max(0,a?c/a:d-r.height),c=si(Math.min(c,i,l.maxWidth)),d=si(Math.min(d,o,l.maxHeight)),c&&!d&&(d=si(c/2));return(void 0!==t||void 0!==n)&&a&&l.height&&d>l.height&&(d=l.height,c=si(Math.floor(d*a))),{width:c,height:d}}function ii(e,t,n){const a=t||1,s=Math.floor(e.height*a),r=Math.floor(e.width*a);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==a||i.height!==s||i.width!==r)&&(e.currentDevicePixelRatio=a,i.height=s,i.width=r,e.ctx.setTransform(a,0,0,a,0,0),!0)}const oi=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Xr()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function li(e,t){const n=function(e,t){return ei(e).getPropertyValue(t)}(e,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function ci(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function di(e,t,n,a){return{x:e.x+n*(t.x-e.x),y:"middle"===a?n<.5?e.y:t.y:"after"===a?n<1?e.y:t.y:n>0?t.y:e.y}}function ui(e,t,n,a){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},i=ci(e,s,n),o=ci(s,r,n),l=ci(r,t,n),c=ci(i,o,n),d=ci(o,l,n);return ci(c,d,n)}function hi(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function xi(e,t){let n,a;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=a)}function mi(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function pi(e){return"angle"===e?{between:ks,compare:Ns,normalize:_s}:{between:Cs,compare:(e,t)=>e-t,normalize:e=>e}}function fi(e){let{start:t,end:n,count:a,loop:s,style:r}=e;return{start:t%a,end:n%a,loop:s&&(n-t+1)%a===0,style:r}}function gi(e,t,n){if(!n)return[e];const{property:a,start:s,end:r}=n,i=t.length,{compare:o,between:l,normalize:c}=pi(a),{start:d,end:u,loop:h,style:x}=function(e,t,n){const{property:a,start:s,end:r}=n,{between:i,normalize:o}=pi(a),l=t.length;let c,d,{start:u,end:h,loop:x}=e;if(x){for(u+=l,h+=l,c=0,d=l;c<d&&i(o(t[u%l][a]),s,r);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:x,style:e.style}}(e,t,n),m=[];let p,f,g,b=!1,y=null;const v=()=>b||l(s,g,p)&&0!==o(s,g),j=()=>!b||0===o(r,p)||l(r,g,p);for(let w=d,N=d;w<=u;++w)f=t[w%i],f.skip||(p=c(f[a]),p!==g&&(b=l(p,s,r),null===y&&v()&&(y=0===o(p,s)?w:N),null!==y&&j()&&(m.push(fi({start:y,end:w,loop:h,count:i,style:x})),y=null),N=w,g=p));return null!==y&&m.push(fi({start:y,end:u,loop:h,count:i,style:x})),m}function bi(e,t){const n=[],a=e.segments;for(let s=0;s<a.length;s++){const r=gi(a[s],e.points,t);r.length&&n.push(...r)}return n}function yi(e,t,n,a){return a&&a.setContext&&n?function(e,t,n,a){const s=e._chart.getContext(),r=vi(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=n.length,c=[];let d=r,u=t[0].start,h=u;function x(e,t,a,s){const r=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=r;for(;n[t%l].skip;)t+=r;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:a,style:s}),d=s,u=t%l)}}for(const m of t){u=o?u:m.start;let e,t=n[u%l];for(h=u+1;h<=m.end;h++){const r=n[h%l];e=vi(a.setContext(Lr(s,{type:"segment",p0:t,p1:r,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:i}))),ji(e,d)&&x(u,h-1,m.loop,d),t=r,d=e}u<h-1&&x(u,h-1,m.loop,d)}return c}(e,t,n,a):t}function vi(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ji(e,t){if(!t)return!1;const n=[],a=function(e,t){return Us(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,a)!==JSON.stringify(t,a)}function wi(e,t,n){return e.options.clip?e[n]:t[n]}function Ni(e,t){const n=t._clip;if(n.disabled)return!1;const a=function(e,t){const{xScale:n,yScale:a}=e;return n&&a?{left:wi(n,t,"left"),right:wi(n,t,"right"),top:wi(a,t,"top"),bottom:wi(a,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:a.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:a.right+(!0===n.right?0:n.right),top:!1===n.top?0:a.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:a.bottom+(!0===n.bottom?0:n.bottom)}}class _i{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,a){const s=t.listeners[a],r=t.duration;s.forEach((a=>a({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(n-t.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=zs.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let r,i=s.length-1,o=!1;for(;i>=0;--i)r=s[i],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(e),o=!0):(s[i]=s[s.length-1],s.pop());o&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),t+=s.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ki=new _i;const Si="transparent",Ci={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const a=qs(e||Si),s=a.valid&&qs(t||Si);return s&&s.valid?s.mix(a,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Mi{constructor(e,t,n,a){const s=t[n];a=Mr([e.to,a,s,e.from]);const r=Mr([e.from,s,a]);this._active=!0,this._fn=e.fn||Ci[e.type||typeof r],this._easing=Hs[e.easing]||Hs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=r,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,r=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Mr([e.to,t,a,e.from]),this._from=Mr([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,a=this._prop,s=this._from,r=this._loop,i=this._to;let o;if(this._active=s!==i&&(r||t<n),!this._active)return this._target[a]=i,void this._notify(!0);t<0?this._target[a]=s:(o=t/n%2,o=r&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[a]=this._fn(s,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][t]()}}class Li{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Da(e))return;const t=Object.keys(sr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((a=>{const s=e[a];if(!Da(s))return;const r={};for(const e of t)r[e]=s[e];(Ia(s.properties)&&s.properties||[a]).forEach((e=>{e!==a&&n.has(e)||n.set(e,r)}))}))}_animateOptions(e,t){const n=t.options,a=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&function(e,t){const n=[],a=Object.keys(t);for(let s=0;s<a.length;s++){const t=e[a[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),s}_createAnimations(e,t){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),r=Object.keys(t),i=Date.now();let o;for(o=r.length-1;o>=0;--o){const l=r[o];if("$"===l.charAt(0))continue;if("options"===l){a.push(...this._animateOptions(e,t));continue}const c=t[l];let d=s[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(s[l]=d=new Mi(u,e,l,c),a.push(d)):e[l]=c}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(ki.add(this._chart,n),!0):void 0}}function Ei(e,t){const n=e&&e.options||{},a=n.reverse,s=void 0===n.min?t:0,r=void 0===n.max?t:0;return{start:a?r:s,end:a?s:r}}function Ai(e,t){const n=[],a=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=a.length;s<r;++s)n.push(a[s].index);return n}function Ti(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,r="single"===a.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=s.length;i<o;++i){if(l=+s[i],l===n){if(d=!0,a.all)continue;break}c=e.values[l],Ba(c)&&(r||0===t||xs(t)===xs(c))&&(t+=c)}return d||a.all?t:0}function Pi(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function zi(e,t,n){const a=e[t]||(e[t]={});return a[n]||(a[n]={})}function Oi(e,t,n,a){for(const s of t.getMatchingVisibleMetas(a).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function Ri(e,t){const{chart:n,_cachedMeta:a}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:i,index:o}=a,l=r.axis,c=i.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(r,i,a),u=t.length;let h;for(let x=0;x<u;++x){const e=t[x],{[l]:n,[c]:r}=e;h=(e._stacks||(e._stacks={}))[c]=zi(s,d,n),h[o]=r,h._top=Oi(h,i,!0,a.type),h._bottom=Oi(h,i,!1,a.type);(h._visualValues||(h._visualValues={}))[o]=r}}function Ii(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Di(e,t){const n=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[a]||void 0===t[a][n])return;delete t[a][n],void 0!==t[a]._visualValues&&void 0!==t[a]._visualValues[n]&&delete t[a]._visualValues[n]}}}const Bi=e=>"reset"===e||"none"===e,Fi=(e,t)=>t?e:Object.assign({},e);class Wi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pi(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Di(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),a=(e,t,n,a)=>"x"===e?t:"r"===e?a:n,s=t.xAxisID=Wa(n.xAxisID,Ii(e,"x")),r=t.yAxisID=Wa(n.yAxisID,Ii(e,"y")),i=t.rAxisID=Wa(n.rAxisID,Ii(e,"r")),o=t.indexAxis,l=t.iAxisID=a(o,s,r,i),c=t.vAxisID=a(o,r,s,i);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ts(this._data,this),e._stacked&&Di(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Da(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:a}=t,s="x"===n.axis?"x":"y",r="x"===a.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[s]:d,[r]:e[d]};return o}(t,e)}else if(n!==t){if(n){Ts(n,this);const e=this._cachedMeta;Di(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(a=t)._chartjs?a._chartjs.listeners.push(s):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),As.forEach((e=>{const t="_onData"+es(e),n=a[e];Object.defineProperty(a,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];const i=n.apply(this,s);return a._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...s)})),i}})})))),this._syncList=[],this._data=t}var a,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=t._stacked;t._stacked=Pi(t.vScale,t),t.stack!==n.stack&&(a=!0,Di(t),t.stack=n.stack),this._resyncElements(e),(a||s!==t._stacked)&&(Ri(this,t._parsed),t._stacked=Pi(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:r}=n,i=s.axis;let o,l,c,d=0===e&&t===a.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,c=a;else{c=Ia(a[e])?this.parseArrayData(n,a,e,t):Da(a[e])?this.parseObjectData(n,a,e,t):this.parsePrimitiveData(n,a,e,t);const s=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(s()&&(d=!1),u=l);n._sorted=d}r&&Ri(this,c)}parsePrimitiveData(e,t,n,a){const{iScale:s,vScale:r}=e,i=s.axis,o=r.axis,l=s.getLabels(),c=s===r,d=new Array(a);let u,h,x;for(u=0,h=a;u<h;++u)x=u+n,d[u]={[i]:c||s.parse(l[x],x),[o]:r.parse(t[x],x)};return d}parseArrayData(e,t,n,a){const{xScale:s,yScale:r}=e,i=new Array(a);let o,l,c,d;for(o=0,l=a;o<l;++o)c=o+n,d=t[c],i[o]={x:s.parse(d[0],c),y:r.parse(d[1],c)};return i}parseObjectData(e,t,n,a){const{xScale:s,yScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+n,h=t[u],l[c]={x:s.parse(Za(h,i),u),y:r.parse(Za(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const a=this.chart,s=this._cachedMeta,r=t[e.axis];return Ti({keys:Ai(a,!0),values:t._stacks[e.axis]._visualValues},r,s.index,{mode:n})}updateRangeFromParsed(e,t,n,a){const s=n[t.axis];let r=null===s?NaN:s;const i=a&&n._stacks[t.axis];a&&i&&(a.values=i,r=Ti(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,r=a.length,i=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Ai(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:a,maxDefined:s}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(i);let u,h;function x(){h=a[u];const t=h[i.axis];return!Ba(h[e.axis])||c>t||d<t}for(u=0;u<r&&(x()||(this.updateRangeFromParsed(l,e,h,o),!s));++u);if(s)for(u=r-1;u>=0;--u)if(!x()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let a,s,r;for(a=0,s=t.length;a<s;++a)r=t[a][e.axis],Ba(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,a=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,a,s;return Da(e)?(t=e.top,n=e.right,a=e.bottom,s=e.left):t=n=a=s=e,{top:t,right:n,bottom:a,left:s,disabled:!1===e}}(Wa(this.options.clip,function(e,t,n){if(!1===n)return!1;const a=Ei(e,n),s=Ei(t,n);return{top:s.end,right:a.end,bottom:s.start,left:a.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,a=n.data||[],s=t.chartArea,r=[],i=this._drawStart||0,o=this._drawCount||a.length-i,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,i,o),c=i;c<i+o;++c){const t=a[c];t.hidden||(t.active&&l?r.push(t):t.draw(e,s))}for(c=0;c<r.length;++c)r[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return Lr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return Lr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const a="active"===t,s=this._cachedDataOpts,r=e+"-"+t,i=s[r],o=this.enableOptionSharing&&ts(n);if(i)return Fi(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=a?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(sr.elements[e]),x=l.resolveNamedOptions(u,h,(()=>this.getContext(n,a,t)),d);return x.$shared&&(x.$shared=o,s[r]=Object.freeze(Fi(x,o))),x}_resolveAnimations(e,t,n){const a=this.chart,s=this._cachedDataOpts,r="animation-".concat(t),i=s[r];if(i)return i;let o;if(!1!==a.options.animation){const a=this.chart.config,s=a.datasetAnimationScopeKeys(this._type,t),r=a.getOptionScopes(this.getDataset(),s);o=a.createResolver(r,this.getContext(e,n,t))}const l=new Li(a,o&&o.animations);return o&&o._cacheable&&(s[r]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Bi(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),a=this._sharedOptions,s=this.getSharedOptions(n),r=this.includeOptions(t,s)||s!==a;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:r}}updateElement(e,t,n,a){Bi(a)?Object.assign(e,n):this._resolveAnimations(t,a).update(e,n)}updateSharedOptions(e,t,n){e&&!Bi(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,a){e.active=a;const s=this.getStyle(t,a);this._resolveAnimations(t,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const a=n.length,s=t.length,r=Math.min(s,a);r&&this.parse(0,r),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this._cachedMeta,s=a.data,r=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=r;i--)e[i]=e[i-t]};for(o(s),i=e;i<r;++i)s[i]=new this.dataElementType;this._parsing&&o(a._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,a){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,t);n._stacked&&Di(n,a)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,a]=e;this[t](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Vi(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let a=[];for(let t=0,s=n.length;t<s;t++)a=a.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Ps(a.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let a,s,r,i,o=t._length;const l=()=>{32767!==r&&-32768!==r&&(ts(i)&&(o=Math.min(o,Math.abs(r-i)||o)),i=r)};for(a=0,s=n.length;a<s;++a)r=t.getPixelForValue(n[a]),l();for(i=void 0,a=0,s=t.ticks.length;a<s;++a)r=t.getPixelForTick(a),l();return o}function Hi(e,t,n,a){return Ia(e)?function(e,t,n,a){const s=n.parse(e[0],a),r=n.parse(e[1],a),i=Math.min(s,r),o=Math.max(s,r);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:i,max:o}}(e,t,n,a):t[n.axis]=n.parse(e,a),t}function Ui(e,t,n,a){const s=e.iScale,r=e.vScale,i=s.getLabels(),o=s===r,l=[];let c,d,u,h;for(c=n,d=n+a;c<d;++c)h=t[c],u={},u[s.axis]=o||s.parse(i[c],c),l.push(Hi(h,u,r,c));return l}function qi(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function $i(e,t,n,a){let s=t.borderSkipped;const r={};if(!s)return void(e.borderSkipped=r);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:d}=function(e){let t,n,a,s,r;return e.horizontal?(t=e.base>e.x,n="left",a="right"):(t=e.base<e.y,n="bottom",a="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:a,reverse:t,top:s,bottom:r}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===a?s=c:(n._bottom||0)===a?s=d:(r[Gi(d,i,o,l)]=!0,s=c)),r[Gi(s,i,o,l)]=!0,e.borderSkipped=r}function Gi(e,t,n,a){var s,r,i;return a?(i=n,e=Yi(e=(s=e)===(r=t)?i:s===i?r:s,n,t)):e=Yi(e,t,n),e}function Yi(e,t,n){return"start"===e?t:"end"===e?n:e}function Qi(e,t,n){let{inflateAmount:a}=t;e.inflateAmount="auto"===a?1===n?.33:0:a}i(Wi,"defaults",{}),i(Wi,"datasetElementType",null),i(Wi,"dataElementType",null);class Ki extends Wi{parsePrimitiveData(e,t,n,a){return Ui(e,t,n,a)}parseArrayData(e,t,n,a){return Ui(e,t,n,a)}parseObjectData(e,t,n,a){const{iScale:s,vScale:r}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?i:o,c="x"===r.axis?i:o,d=[];let u,h,x,m;for(u=n,h=n+a;u<h;++u)m=t[u],x={},x[s.axis]=s.parse(Za(m,l),u),d.push(Hi(Za(m,c),x,r,u));return d}updateRangeFromParsed(e,t,n,a){super.updateRangeFromParsed(e,t,n,a);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:a}=t,s=this.getParsed(e),r=s._custom,i=qi(r)?"["+r.start+", "+r.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,a){const s="reset"===a,{index:r,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,a);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=s||Ra(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),x=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[i.axis],p={horizontal:l,base:n.base,enableBorderRadius:!m||qi(t._custom)||r===m._top||r===m._bottom,x:l?n.head:x.center,y:l?x.center:n.head,height:l?x.size:Math.abs(n.size),width:l?Math.abs(n.size):x.size};u&&(p.options=d||this.resolveDataElementOptions(h,e[h].active?"active":a));const f=p.options||e[h].options;$i(p,f,m,r),Qi(p,f,c.ratio),this.updateElement(e[h],h,p,a)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=n.options.stacked,r=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===o)),a=t&&t[e.vScale.axis];if(Ra(a)||isNaN(a))return!0};for(const c of a)if((void 0===t||!l(c))&&((!1===s||-1===r.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&r.push(c.stack),c.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter((n=>e[n].axis===t)).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Wa("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const a=this._getStacks(e,n),s=void 0!==t?a.indexOf(t):-1;return-1===s?a.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,a=[];let s,r;for(s=0,r=t.data.length;s<r;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const i=e.barThickness;return{min:i||Vi(t),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:a},options:{base:s,minBarLength:r}}=this,i=s||0,o=this.getParsed(e),l=o._custom,c=qi(l);let d,u,h=o[t.axis],x=0,m=n?this.applyStack(t,o,n):h;m!==h&&(x=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&xs(h)!==xs(l.barEnd)&&(x=0),x+=h);const p=Ra(s)||c?x:s;let f=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(x+m):f,u=d-f,Math.abs(u)<r){u=function(e,t,n){return 0!==e?xs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,i)*r,h===i&&(f-=u/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),x=Math.max(e,s);f=Math.max(Math.min(f,x),l),d=f+u,n&&!c&&(o._stacks[t.axis]._visualValues[a]=t.getValueForPixel(d)-t.getValueForPixel(f))}if(f===t.getPixelForValue(i)){const e=xs(u)*t.getLineWidthForValue(i)/2;f+=e,u-=e}return{size:u,base:f,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,a=this.options,s=a.skipNull,r=Wa(a.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,n,a){const s=t.pixels,r=s[e];let i=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===i&&(i=r-(null===o?t.end-t.start:o-r)),null===o&&(o=r+r-i);const c=r-(r-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/a,ratio:n.barPercentage,start:c}}(e,t,a,n*l):function(e,t,n,a){const s=n.barThickness;let r,i;return Ra(s)?(r=t.min*n.categoryPercentage,i=n.barPercentage):(r=s*a,i=1),{chunk:r/a,ratio:i,start:t.pixels[e]-r/2}}(e,t,a,n*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(Wa(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+u;i=c.start+c.chunk*h+c.chunk/2,o=Math.min(r,c.chunk*c.ratio)}else i=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(r,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}}i(Ki,"id","bar"),i(Ki,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),i(Ki,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Xi extends Wi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,a){const s=super.parsePrimitiveData(e,t,n,a);for(let r=0;r<s.length;r++)s[r]._custom=this.resolveDataElementOptions(r+n).radius;return s}parseArrayData(e,t,n,a){const s=super.parseArrayData(e,t,n,a);for(let r=0;r<s.length;r++){const e=t[n+r];s[r]._custom=Wa(e[2],this.resolveDataElementOptions(r+n).radius)}return s}parseObjectData(e,t,n,a){const s=super.parseObjectData(e,t,n,a);for(let r=0;r<s.length;r++){const e=t[n+r];s[r]._custom=Wa(e&&e.r&&+e.r,this.resolveDataElementOptions(r+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=t,r=this.getParsed(e),i=a.getLabelForValue(r.x),o=s.getLabelForValue(r.y),l=r._custom;return{label:n[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,a){const s="reset"===a,{iScale:r,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,a),c=r.axis,d=i.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!s&&this.getParsed(u),h={},x=h[c]=s?r.getPixelForDecimal(.5):r.getPixelForValue(n[c]),m=h[d]=s?i.getBasePixel():i.getPixelForValue(n[d]);h.skip=isNaN(x)||isNaN(m),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":a),s&&(h.options.radius=0)),this.updateElement(t,u,h,a)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return"active"!==t&&(a.radius=0),a.radius+=Wa(n&&n._custom,s),a}}i(Xi,"id","bubble"),i(Xi,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),i(Xi,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ji extends Wi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=n;else{let s,r,i=e=>+n[e];if(Da(n[e])){const{key:e="value"}=this._parsing;i=t=>+Za(n[t],e)}for(s=e,r=e+t;s<r;++s)a._parsed[s]=i(s)}}_getRotation(){return bs(this.options.rotation-90)}_getCircumference(){return bs(this.options.circumference)}_getRotationExtents(){let e=rs,t=-rs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),r=a._getCircumference();e=Math.min(e,s),t=Math.max(t,s+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,a=this._cachedMeta,s=a.data,r=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,i=Math.max((Math.min(n.width,n.height)-r)/2,0),o=Math.min((l=this.options.cutout,c=i,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:x,ratioY:m,offsetX:p,offsetY:f}=function(e,t,n){let a=1,s=1,r=0,i=0;if(t<rs){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),x=(e,t,a)=>ks(e,o,l,!0)?1:Math.max(t,t*n,a,a*n),m=(e,t,a)=>ks(e,o,l,!0)?-1:Math.min(t,t*n,a,a*n),p=x(0,c,u),f=x(cs,d,h),g=m(ss,c,u),b=m(ss+cs,d,h);a=(p-g)/2,s=(f-b)/2,r=-(p+g)/2,i=-(f+b)/2}return{ratioX:a,ratioY:s,offsetX:r,offsetY:i}}(h,u,o),g=(n.width-r)/x,b=(n.height-r)/m,y=Math.max(Math.min(g,b)/2,0),v=Va(this.options.radius,y),j=(v-Math.max(v*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=f*v,a.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/rs)}updateElements(e,t,n,a){const s="reset"===a,r=this.chart,i=r.chartArea,o=r.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=s&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:x,includeOptions:m}=this._getSharedOptions(t,a);let p,f=this._getRotation();for(p=0;p<t;++p)f+=this._circumference(p,s);for(p=t;p<t+n;++p){const t=this._circumference(p,s),n=e[p],r={x:l+this.offsetX,y:c+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:h,innerRadius:u};m&&(r.options=x||this.resolveDataElementOptions(p,n.active?"active":a)),f+=t,this.updateElement(n,p,r,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,a=0;for(n=0;n<t.length;n++){const s=e._parsed[n];null===s||isNaN(s)||!this.chart.getDataVisibility(n)||t[n].hidden||(a+=Math.abs(s))}return a}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?rs*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Ks(t._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let a,s,r,i,o;if(!e)for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){r=n.getDatasetMeta(a),e=r.data,i=r.controller;break}if(!e)return 0;for(a=0,s=e.length;a<s;++a)o=i.resolveDataElementOptions(a),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,a=e.length;n<a;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Wa(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}i(Ji,"id","doughnut"),i(Ji,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),i(Ji,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),i(Ji,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return t.labels.map(((t,s)=>{const r=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Zi extends Wi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=t,r=this.chart._animationsDisabled;let{start:i,count:o}=Ds(t,a,r);this._drawStart=i,this._drawCount=o,Bs(t)&&(i=0,o=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:l},e),this.updateElements(a,i,o,e)}updateElements(e,t,n,a){const s="reset"===a,{iScale:r,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,a),u=r.axis,h=i.axis,{spanGaps:x,segment:m}=this.options,p=fs(x)?x:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||s||"none"===a,g=t+n,b=e.length;let y=t>0&&this.getParsed(t-1);for(let v=0;v<b;++v){const n=e[v],x=f?n:{};if(v<t||v>=g){x.skip=!0;continue}const b=this.getParsed(v),j=Ra(b[h]),w=x[u]=r.getPixelForValue(b[u],v),N=x[h]=s||j?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,b,o):b[h],v);x.skip=isNaN(w)||isNaN(N)||j,x.stop=v>0&&Math.abs(b[u]-y[u])>p,m&&(x.parsed=b,x.raw=l.data[v]),d&&(x.options=c||this.resolveDataElementOptions(v,n.active?"active":a)),f||this.updateElement(n,v,x,a),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),r=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}i(Zi,"id","line"),i(Zi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),i(Zi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class eo extends Wi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Ks(t._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,t,n,a){return Hr.bind(this)(e,t,n,a)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const a=this.getParsed(n).r;!isNaN(a)&&this.chart.getDataVisibility(n)&&(a<t.min&&(t.min=a),a>t.max&&(t.max=a))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,a=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(a/2,0),r=(s-Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,n,a){const s="reset"===a,r=this.chart,i=r.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*ss;let u,h=d;const x=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,a,x);for(u=t;u<t+n;u++){const t=e[u];let n=h,m=h+this._computeAngle(u,a,x),p=r.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=m,s&&(i.animateScale&&(p=0),i.animateRotate&&(n=m=d));const f={x:l,y:c,innerRadius:0,outerRadius:p,startAngle:n,endAngle:m,options:this.resolveDataElementOptions(u,t.active?"active":a)};this.updateElement(t,u,f,a)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?bs(this.resolveDataElementOptions(e,t).angle||n):0}}i(eo,"id","polarArea"),i(eo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),i(eo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return t.labels.map(((t,s)=>{const r=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:a,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class to extends Ji{}i(to,"id","pie"),i(to,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class no extends Wi{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,a){return Hr.bind(this)(e,t,n,a)}update(e){const t=this._cachedMeta,n=t.dataset,a=t.data||[],s=t.iScale.getLabels();if(n.points=a,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const r={_loop:!0,_fullLoop:s.length===a.length,options:t};this.updateElement(n,void 0,r,e)}this.updateElements(a,0,a.length,e)}updateElements(e,t,n,a){const s=this._cachedMeta.rScale,r="reset"===a;for(let i=t;i<t+n;i++){const t=e[i],n=this.resolveDataElementOptions(i,t.active?"active":a),o=s.getPointPositionForValue(i,this.getParsed(i).r),l=r?s.xCenter:o.x,c=r?s.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,i,d,a)}}}i(no,"id","radar"),i(no,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),i(no,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ao extends Wi{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=t,r=this.getParsed(e),i=a.getLabelForValue(r.x),o=s.getLabelForValue(r.y);return{label:n[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,a=this.chart._animationsDisabled;let{start:s,count:r}=Ds(t,n,a);if(this._drawStart=s,this._drawCount=r,Bs(t)&&(s=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:r}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=n;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,a){const s="reset"===a,{iScale:r,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,a),d=this.getSharedOptions(c),u=this.includeOptions(a,d),h=r.axis,x=i.axis,{spanGaps:m,segment:p}=this.options,f=fs(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===a;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+n;++y){const t=e[y],n=this.getParsed(y),c=g?t:{},m=Ra(n[x]),v=c[h]=r.getPixelForValue(n[h],y),j=c[x]=s||m?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,n,o):n[x],y);c.skip=isNaN(v)||isNaN(j)||m,c.stop=y>0&&Math.abs(n[h]-b[h])>f,p&&(c.parsed=n,c.raw=l.data[y]),u&&(c.options=d||this.resolveDataElementOptions(y,t.active?"active":a)),g||this.updateElement(t,y,c,a),b=n}this.updateSharedOptions(d,a,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!t.length)return a;const s=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,s,r)/2}}i(ao,"id","scatter"),i(ao,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),i(ao,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function so(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ro{static override(e){Object.assign(ro.prototype,e)}constructor(e){i(this,"options",void 0),this.options=e||{}}init(){}formats(){return so()}parse(){return so()}format(){return so()}add(){return so()}diff(){return so()}startOf(){return so()}endOf(){return so()}}var io=ro;function oo(e,t,n,a){const{controller:s,data:r,_sorted:i}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&r.length){const i=o._reversePixels?Es:Ls;if(!a){const a=i(r,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,r=n.slice(0,a.lo+1).reverse().findIndex((e=>!Ra(e[t.axis])));a.lo-=Math.max(0,r);const i=n.slice(a.hi).findIndex((e=>!Ra(e[t.axis])));a.hi+=Math.max(0,i)}return a}if(s._sharedOptions){const e=r[0],a="function"===typeof e.getRange&&e.getRange(t);if(a){const e=i(r,t,n-a),s=i(r,t,n+a);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:r.length-1}}function lo(e,t,n,a,s){const r=e.getSortedVisibleDatasetMetas(),i=n[t];for(let o=0,l=r.length;o<l;++o){const{index:e,data:n}=r[o],{lo:l,hi:c}=oo(r[o],t,i,s);for(let t=l;t<=c;++t){const s=n[t];s.skip||a(s,e,t)}}}function co(e,t,n,a,s){const r=[];if(!s&&!e.isPointInArea(t))return r;return lo(e,n,t,(function(n,i,o){(s||ur(n,e.chartArea,0))&&n.inRange(t.x,t.y,a)&&r.push({element:n,datasetIndex:i,index:o})}),!0),r}function uo(e,t,n,a,s,r){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,a){const s=t?Math.abs(e.x-a.x):0,r=n?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}(n);let l=Number.POSITIVE_INFINITY;return lo(e,n,t,(function(n,c,d){const u=n.inRange(t.x,t.y,s);if(a&&!u)return;const h=n.getCenterPoint(s);if(!(!!r||e.isPointInArea(h))&&!u)return;const x=o(t,h);x<l?(i=[{element:n,datasetIndex:c,index:d}],l=x):x===l&&i.push({element:n,datasetIndex:c,index:d})})),i}function ho(e,t,n,a,s,r){return r||e.isPointInArea(t)?"r"!==n||a?uo(e,t,n,a,s,r):function(e,t,n,a){let s=[];return lo(e,n,t,(function(e,n,r){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],a),{angle:l}=js(e,{x:t.x,y:t.y});ks(l,i,o)&&s.push({element:e,datasetIndex:n,index:r})})),s}(e,t,n,s):[]}function xo(e,t,n,a,s){const r=[],i="x"===n?"inXRange":"inYRange";let o=!1;return lo(e,n,t,((e,a,l)=>{e[i]&&e[i](t[n],s)&&(r.push({element:e,datasetIndex:a,index:l}),o=o||e.inRange(t.x,t.y,s))})),a&&!o?[]:r}var mo={evaluateInteractionItems:lo,modes:{index(e,t,n,a){const s=ai(t,e),r=n.axis||"x",i=n.includeInvisible||!1,o=n.intersect?co(e,s,r,a,i):ho(e,s,r,!1,a,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,a){const s=ai(t,e),r=n.axis||"xy",i=n.includeInvisible||!1;let o=n.intersect?co(e,s,r,a,i):ho(e,s,r,!1,a,i);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,a)=>co(e,ai(t,e),n.axis||"xy",a,n.includeInvisible||!1),nearest(e,t,n,a){const s=ai(t,e),r=n.axis||"xy",i=n.includeInvisible||!1;return ho(e,s,r,n.intersect,a,i)},x:(e,t,n,a)=>xo(e,ai(t,e),"x",n.intersect,a),y:(e,t,n,a)=>xo(e,ai(t,e),"y",n.intersect,a)}};const po=["left","top","right","bottom"];function fo(e,t){return e.filter((e=>e.pos===t))}function go(e,t){return e.filter((e=>-1===po.indexOf(e.pos)&&e.box.axis===t))}function bo(e,t){return e.sort(((e,n)=>{const a=t?n:e,s=t?e:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight}))}function yo(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:a,stackWeight:s}=n;if(!e||!po.includes(a))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:s}=t;let r,i,o;for(r=0,i=e.length;r<i;++r){o=e[r];const{fullSize:i}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*a:i&&t.availableWidth,o.height=s):(o.width=a,o.height=c?c*s:i&&t.availableHeight)}return n}function vo(e,t,n,a){return Math.max(e[n],t[n])+Math.max(e[a],t[a])}function jo(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function wo(e,t,n,a){const{pos:s,box:r}=n,i=e.maxPadding;if(!Da(s)){n.size&&(e[s]-=n.size);const t=a[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?r.height:r.width),n.size=t.size/t.count,e[s]+=n.size}r.getPadding&&jo(i,r.getPadding());const o=Math.max(0,t.outerWidth-vo(i,e,"left","right")),l=Math.max(0,t.outerHeight-vo(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function No(e,t){const n=t.maxPadding;function a(e){const a={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{a[e]=Math.max(t[e],n[e])})),a}return a(e?["left","right"]:["top","bottom"])}function _o(e,t,n,a){const s=[];let r,i,o,l,c,d;for(r=0,i=e.length,c=0;r<i;++r){o=e[r],l=o.box,l.update(o.width||t.w,o.height||t.h,No(o.horizontal,t));const{same:i,other:u}=wo(t,n,o,a);c|=i&&s.length,d=d||u,l.fullSize||s.push(o)}return c&&_o(s,t,n,a)||d}function ko(e,t,n,a,s){e.top=n,e.left=t,e.right=t+a,e.bottom=n+s,e.width=a,e.height=s}function So(e,t,n,a){const s=n.padding;let{x:r,y:i}=t;for(const o of e){const e=o.box,l=a[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const a=t.w*c,r=l.size||e.height;ts(l.start)&&(i=l.start),e.fullSize?ko(e,s.left,i,n.outerWidth-s.right-s.left,r):ko(e,t.left+l.placed,i,a,r),l.start=i,l.placed+=a,i=e.bottom}else{const a=t.h*c,i=l.size||e.width;ts(l.start)&&(r=l.start),e.fullSize?ko(e,r,s.top,i,n.outerHeight-s.bottom-s.top):ko(e,r,t.top+l.placed,i,a),l.start=r,l.placed+=a,r=e.right}}t.x=r,t.y=i}var Co={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,a){if(!e)return;const s=Sr(e.options.layout.padding),r=Math.max(t-s.width,0),i=Math.max(n-s.height,0),o=function(e){const t=function(e){const t=[];let n,a,s,r,i,o;for(n=0,a=(e||[]).length;n<a;++n)s=e[n],({position:r,options:{stack:i,stackWeight:o=1}}=s),t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:i&&r+i,stackWeight:o});return t}(e),n=bo(t.filter((e=>e.box.fullSize)),!0),a=bo(fo(t,"left"),!0),s=bo(fo(t,"right")),r=bo(fo(t,"top"),!0),i=bo(fo(t,"bottom")),o=go(t,"x"),l=go(t,"y");return{fullSize:n,leftAndTop:a.concat(r),rightAndBottom:s.concat(l).concat(i).concat(o),chartArea:fo(t,"chartArea"),vertical:a.concat(s).concat(l),horizontal:r.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;Ua(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:i,vBoxMaxWidth:r/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},s);jo(h,Sr(a));const x=Object.assign({maxPadding:h,w:r,h:i,x:s.left,y:s.top},s),m=yo(l.concat(c),u);_o(o.fullSize,x,u,m),_o(l,x,u,m),_o(c,x,u,m)&&_o(l,x,u,m),function(e){const t=e.maxPadding;function n(n){const a=Math.max(t[n]-e[n],0);return e[n]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(x),So(o.leftAndTop,x,u,m),x.x+=x.w,x.y+=x.h,So(o.rightAndBottom,x,u,m),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Ua(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})}))}};class Mo{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,a){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Lo extends Mo{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eo="$chartjs",Ao={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},To=e=>null===e||""===e;const Po=!!oi&&{passive:!0};function zo(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Po)}function Oo(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Ro(e,t,n){const a=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Oo(n.addedNodes,a),t=t&&!Oo(n.removedNodes,a);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}function Io(e,t,n){const a=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Oo(n.removedNodes,a),t=t&&!Oo(n.addedNodes,a);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}const Do=new Map;let Bo=0;function Fo(){const e=window.devicePixelRatio;e!==Bo&&(Bo=e,Do.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Wo(e,t,n){const a=e.canvas,s=a&&Jr(a);if(!s)return;const r=Os(((e,t)=>{const a=s.clientWidth;n(e,t),a<s.clientWidth&&n()}),window),i=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,a=t.contentRect.height;0===n&&0===a||r(n,a)}));return i.observe(s),function(e,t){Do.size||window.addEventListener("resize",Fo),Do.set(e,t)}(e,r),i}function Vo(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Do.delete(e),Do.size||window.removeEventListener("resize",Fo)}(e)}function Ho(e,t,n){const a=e.canvas,s=Os((t=>{null!==e.ctx&&n(function(e,t){const n=Ao[e.type]||e.type,{x:a,y:s}=ai(e,t);return{type:n,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==s?s:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Po)}(a,t,s),s}class Uo extends Mo{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,a=e.getAttribute("height"),s=e.getAttribute("width");if(e[Eo]={initial:{height:a,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",To(s)){const t=li(e,"width");void 0!==t&&(e.width=t)}if(To(a))if(""===e.style.height)e.height=e.width/(t||2);else{const t=li(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Eo])return!1;const n=t[Eo].initial;["height","width"].forEach((e=>{const a=n[e];Ra(a)?t.removeAttribute(e):t.setAttribute(e,a)}));const a=n.style||{};return Object.keys(a).forEach((e=>{t.style[e]=a[e]})),t.width=t.width,delete t[Eo],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),s={attach:Ro,detach:Io,resize:Wo}[t]||Ho;a[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),a=n[t];if(!a)return;({attach:Vo,detach:Vo,resize:Vo}[t]||zo)(e,t,a),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,a){return ri(e,t,n,a)}isAttached(e){const t=e&&Jr(e);return!(!t||!t.isConnected)}}class qo{constructor(){i(this,"x",void 0),i(this,"y",void 0),i(this,"active",!1),i(this,"options",void 0),i(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return fs(this.x)&&fs(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const a={};return e.forEach((e=>{a[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),a}}function $o(e,t){const n=e.options.ticks,a=function(e){const t=e.options.offset,n=e._tickSize(),a=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(a,s))}(e),s=Math.min(n.maxTicksLimit||a,a),r=n.major.enabled?function(e){const t=[];let n,a;for(n=0,a=e.length;n<a;n++)e[n].major&&t.push(n);return t}(t):[],i=r.length,o=r[0],l=r[i-1],c=[];if(i>s)return function(e,t,n,a){let s,r=0,i=n[0];for(a=Math.ceil(a),s=0;s<e.length;s++)s===i&&(t.push(e[s]),r++,i=n[r*a])}(t,c,r,i/s),c;const d=function(e,t,n){const a=function(e){const t=e.length;let n,a;if(t<2)return!1;for(a=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==a)return!1;return a}(e),s=t.length/n;if(!a)return Math.max(s,1);const r=function(e){const t=[],n=Math.sqrt(e);let a;for(a=1;a<n;a++)e%a===0&&(t.push(a),t.push(e/a));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(a);for(let i=0,o=r.length-1;i<o;i++){const e=r[i];if(e>s)return e}return Math.max(s,1)}(r,t,s);if(i>0){let e,n;const a=i>1?Math.round((l-o)/(i-1)):null;for(Go(t,c,d,Ra(a)?0:o-a,o),e=0,n=i-1;e<n;e++)Go(t,c,d,r[e],r[e+1]);return Go(t,c,d,l,Ra(a)?t.length:l+a),c}return Go(t,c,d),c}function Go(e,t,n,a,s){const r=Wa(a,0),i=Math.min(Wa(s,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),s&&(o=s-a,n=o/Math.floor(o/n)),c=r;c<0;)d++,c=Math.round(r+d*n);for(l=Math.max(r,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(r+d*n))}i(qo,"defaults",{}),i(qo,"defaultRoutes",void 0);const Yo=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Qo=(e,t)=>Math.min(t||e,e);function Ko(e,t){const n=[],a=e.length/t,s=e.length;let r=0;for(;r<s;r+=a)n.push(e[Math.floor(r)]);return n}function Xo(e,t,n){const a=e.ticks.length,s=Math.min(t,a-1),r=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(s);if(!(n&&(l=1===a?Math.max(c-r,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<r-o||c>i+o)))return c}function Jo(e){return e.drawTicks?e.tickLength:0}function Zo(e,t){if(!e.display)return 0;const n=Cr(e.font,t),a=Sr(e.padding);return(Ia(e.text)?e.text.length:1)*n.lineHeight+a.height}function el(e,t,n){let a=Rs(e);return(n&&"right"!==t||!n&&"right"===t)&&(a=(e=>"left"===e?"right":"right"===e?"left":e)(a)),a}class tl extends qo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:a}=this;return e=Fa(e,Number.POSITIVE_INFINITY),t=Fa(t,Number.NEGATIVE_INFINITY),n=Fa(n,Number.POSITIVE_INFINITY),a=Fa(a,Number.NEGATIVE_INFINITY),{min:Fa(e,n),max:Fa(t,a),minDefined:Ba(e),maxDefined:Ba(t)}}getMinMax(e){let t,{min:n,max:a,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:n,max:a};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),r||(a=Math.max(a,t.max));return n=r&&n>a?a:n,a=s&&n>a?n:a,{min:Fa(n,Fa(a,n)),max:Fa(a,Fa(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ha(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:a,grace:s,ticks:r}=this.options,i=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:a,max:s}=e,r=Va(t,(s-a)/2),i=(e,t)=>n&&0===e?0:e+t;return{min:i(a,-Math.abs(r)),max:i(s,r)}}(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?Ko(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=$o(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ha(this.options.afterUpdate,[this])}beforeSetDimensions(){Ha(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ha(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ha(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ha(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=Ha(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Ha(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ha(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Qo(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,s=t.maxRotation;let r,i,o,l=a;if(!this._isVisible()||!t.display||a>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=a);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Ss(this.chart.width-d,0,this.maxWidth);r=e.offset?this.maxWidth/n:h/(n-1),d+6>r&&(r=h/(n-(e.offset?.5:1)),i=this.maxHeight-Jo(e.grid)-t.padding-Zo(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=ys(Math.min(Math.asin(Ss((c.highest.height+6)/r,-1,1)),Math.asin(Ss(i/o,-1,1))-Math.asin(Ss(u/o,-1,1)))),l=Math.max(a,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ha(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ha(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:a,grid:s}}=this,r=this._isVisible(),i=this.isHorizontal();if(r){const r=Zo(a,t.options.font);if(i?(e.width=this.maxWidth,e.height=Jo(s)+r):(e.height=this.maxHeight,e.width=Jo(s)+r),n.display&&this.ticks.length){const{first:t,last:a,widest:s,highest:r}=this._getLabelSizes(),o=2*n.padding,l=bs(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=n.mirror?0:d*s.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*s.width+d*r.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,a,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,a){const{ticks:{align:s,padding:r},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=a*e.width,u=n*t.height):(d=n*e.height,u=a*t.width):"start"===s?u=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+r)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+r)*this.width/(this.width-c),0)}else{let n=t.height/2,a=e.height/2;"start"===s?(n=0,a=e.height):"end"===s&&(n=t.height,a=0),this.paddingTop=n+r,this.paddingBottom=a+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ha(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Ra(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Ko(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:a,_longestTextCache:s}=this,r=[],i=[],o=Math.floor(t/Qo(t,n));let l,c,d,u,h,x,m,p,f,g,b,y=0,v=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),a.font=x=h.string,m=s[x]=s[x]||{data:{},gc:[]},p=h.lineHeight,f=g=0,Ra(u)||Ia(u)){if(Ia(u))for(c=0,d=u.length;c<d;++c)b=u[c],Ra(b)||Ia(b)||(f=rr(a,m.data,m.gc,f,b),g+=p)}else f=rr(a,m.data,m.gc,f,u),g=p;r.push(f),i.push(g),y=Math.max(f,y),v=Math.max(g,v)}!function(e,t){Ua(e,(e=>{const n=e.gc,a=n.length/2;let s;if(a>t){for(s=0;s<a;++s)delete e.data[n[s]];n.splice(0,a)}}))}(s,t);const j=r.indexOf(y),w=i.indexOf(v),N=e=>({width:r[e]||0,height:i[e]||0});return{first:N(0),last:N(t-1),widest:N(j),highest:N(w),widths:r,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ss(this._alignToPixels?or(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Lr(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Lr(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=bs(this.labelRotation),n=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,i=s?s.widest.width+r:0,o=s?s.highest.height+r:0;return this.isHorizontal()?o*n>i*a?i/n:o/a:o*a<i*n?o/n:i/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,a=this.options,{grid:s,position:r,border:i}=a,o=s.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=Jo(s),u=[],h=i.setContext(this.getContext()),x=h.display?h.width:0,m=x/2,p=function(e){return or(n,e,x)};let f,g,b,y,v,j,w,N,_,k,S,C;if("top"===r)f=p(this.bottom),j=this.bottom-d,N=f-m,k=p(e.top)+m,C=e.bottom;else if("bottom"===r)f=p(this.top),k=e.top,C=p(e.bottom)-m,j=f+m,N=this.top+d;else if("left"===r)f=p(this.right),v=this.right-d,w=f-m,_=p(e.left)+m,S=e.right;else if("right"===r)f=p(this.left),_=e.left,S=p(e.right)-m,v=f+m,w=this.left+d;else if("x"===t){if("center"===r)f=p((e.top+e.bottom)/2+.5);else if(Da(r)){const e=Object.keys(r)[0],t=r[e];f=p(this.chart.scales[e].getPixelForValue(t))}k=e.top,C=e.bottom,j=f+m,N=j+d}else if("y"===t){if("center"===r)f=p((e.left+e.right)/2);else if(Da(r)){const e=Object.keys(r)[0],t=r[e];f=p(this.chart.scales[e].getPixelForValue(t))}v=f-m,w=v-d,_=e.left,S=e.right}const M=Wa(a.ticks.maxTicksLimit,c),L=Math.max(1,Math.ceil(c/M));for(g=0;g<c;g+=L){const e=this.getContext(g),t=s.setContext(e),a=i.setContext(e),r=t.lineWidth,c=t.color,d=a.dash||[],h=a.dashOffset,x=t.tickWidth,m=t.tickColor,p=t.tickBorderDash||[],f=t.tickBorderDashOffset;b=Xo(this,g,o),void 0!==b&&(y=or(n,b,r),l?v=w=_=S=y:j=N=k=C=y,u.push({tx1:v,ty1:j,tx2:w,ty2:N,x1:_,y1:k,x2:S,y2:C,width:r,color:c,borderDash:d,borderDashOffset:h,tickWidth:x,tickColor:m,tickBorderDash:p,tickBorderDashOffset:f}))}return this._ticksLength=c,this._borderValue=f,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:a,ticks:s}=n,r=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=s,u=Jo(n.grid),h=u+c,x=d?-c:h,m=-bs(this.labelRotation),p=[];let f,g,b,y,v,j,w,N,_,k,S,C,M="middle";if("top"===a)j=this.bottom-x,w=this._getXAxisLabelAlignment();else if("bottom"===a)j=this.top+x,w=this._getXAxisLabelAlignment();else if("left"===a){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("right"===a){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("x"===t){if("center"===a)j=(e.top+e.bottom)/2+h;else if(Da(a)){const e=Object.keys(a)[0],t=a[e];j=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)v=(e.left+e.right)/2-h;else if(Da(a)){const e=Object.keys(a)[0],t=a[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?M="top":"end"===o&&(M="bottom"));const L=this._getLabelSizes();for(f=0,g=i.length;f<g;++f){b=i[f],y=b.label;const e=s.setContext(this.getContext(f));N=this.getPixelForTick(f)+s.labelOffset,_=this._resolveTickFontOptions(f),k=_.lineHeight,S=Ia(y)?y.length:1;const t=S/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=w;if(r?(v=N,"inner"===w&&(h=f===g-1?this.options.reverse?"left":"right":0===f?this.options.reverse?"right":"left":"center"),C="top"===a?"near"===l||0!==m?-S*k+k/2:"center"===l?-L.highest.height/2-t*k+k:-L.highest.height+k/2:"near"===l||0!==m?k/2:"center"===l?L.highest.height/2-t*k:L.highest.height-S*k,d&&(C*=-1),0===m||e.showLabelBackdrop||(v+=k/2*Math.sin(m))):(j=N,C=(1-S)*k/2),e.showLabelBackdrop){const t=Sr(e.backdropPadding),n=L.heights[f],a=L.widths[f];let s=C-t.top,r=0-t.left;switch(M){case"middle":s-=n/2;break;case"bottom":s-=n}switch(w){case"center":r-=a/2;break;case"right":r-=a;break;case"inner":f===g-1?r-=a:f>0&&(r-=a/2)}u={left:r,top:s,width:a+t.width,height:n+t.height,color:e.backdropColor}}p.push({label:y,font:_,textOffset:C,options:{rotation:m,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:M,translation:[v,j],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-bs(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,r=e+s,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?a?(l=this.right+s,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-r,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?a?(l=this.left+s,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+r,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:a,width:s,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,a,s,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,r;const i=(e,t,a)=>{a.width&&a.color&&(n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,r=a.length;s<r;++s){const e=a[s];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),r=n.display?s.width:0;if(!r)return;const i=a.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=or(e,this.left,r)-r/2,c=or(e,this.right,i)+i/2,d=u=o):(d=or(e,this.top,r)-r/2,u=or(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&hr(t,n);const a=this.getLabelItems(e);for(const s of a){const e=s.options,n=s.font;br(t,s.label,0,s.textOffset,n,e)}n&&xr(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:a}}=this;if(!n.display)return;const s=Cr(n.font),r=Sr(n.padding),i=n.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||Da(t)?(o+=r.bottom,Ia(n.text)&&(o+=s.lineHeight*(n.text.length-1))):o+=r.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,a){const{top:s,left:r,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,x,m=0;const p=i-s,f=o-r;if(e.isHorizontal()){if(h=Is(a,r,o),Da(n)){const e=Object.keys(n)[0],a=n[e];x=d[e].getPixelForValue(a)+p-t}else x="center"===n?(c.bottom+c.top)/2+p-t:Yo(e,n,t);u=o-r}else{if(Da(n)){const e=Object.keys(n)[0],a=n[e];h=d[e].getPixelForValue(a)-f+t}else h="center"===n?(c.left+c.right)/2-f+t:Yo(e,n,t);x=Is(a,i,s),m="left"===n?-cs:cs}return{titleX:h,titleY:x,maxWidth:u,rotation:m}}(this,o,t,i);br(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:u,textAlign:el(i,t,a),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Wa(e.grid&&e.grid.z,-1),a=Wa(e.border&&e.border.z,0);return this._isVisible()&&this.draw===tl.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,r;for(s=0,r=t.length;s<r;++s){const r=t[s];r[n]!==this.id||e&&r.type!==e||a.push(r)}return a}_resolveTickFontOptions(e){return Cr(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nl{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const a=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,function(e,t,n){const a=Qa(Object.create(null),[n?sr.get(n):{},sr.get(t),e.defaults]);sr.set(t,a),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const a=n.split("."),s=a.pop(),r=[e].concat(a).join("."),i=t[n].split("."),o=i.pop(),l=i.join(".");sr.route(r,s,l,o)}))}(t,e.defaultRoutes);e.descriptors&&sr.describe(t,e.descriptors)}(e,r,n),this.override&&sr.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,a=this.scope;n in t&&delete t[n],a&&n in sr[a]&&(delete sr[a][n],this.override&&delete Zs[n])}}class al{constructor(){this.controllers=new nl(Wi,"datasets",!0),this.elements=new nl(qo,"elements"),this.plugins=new nl(Object,"plugins"),this.scales=new nl(tl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const a=n||this._getRegistryForType(t);n||a.isForType(t)||a===this.plugins&&t.id?this._exec(e,a,t):Ua(t,(t=>{const a=n||this._getRegistryForType(t);this._exec(e,a,t)}))}))}_exec(e,t,n){const a=es(e);Ha(n["before"+a],[],n),t[e](n),Ha(n["after"+a],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var sl=new al;class rl{constructor(){this._init=[]}notify(e,t,n,a){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),r=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,n,a){a=a||{};for(const s of e){const e=s.plugin;if(!1===Ha(e[n],[t,a,s.options],e)&&a.cancelable)return!1}return!0}invalidate(){Ra(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,a=Wa(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],a=Object.keys(sl.plugins.items);for(let r=0;r<a.length;r++)n.push(sl.getPlugin(a[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const e=s[r];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==a||t?function(e,t,n,a){let{plugins:s,localIds:r}=t;const i=[],o=e.getContext();for(const l of s){const t=l.id,s=il(n[t],a);null!==s&&i.push({plugin:l,options:ol(e.config,{plugin:l,local:r[t]},s,o)})}return i}(e,s,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,a=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(a(t,n),e,"stop"),this._notify(a(n,t),e,"start")}}function il(e,t){return t||!1!==e?!0===e?{}:e:null}function ol(e,t,n,a){let{plugin:s,local:r}=t;const i=e.pluginScopeKeys(s),o=e.getOptionScopes(n,i);return r&&s.defaults&&o.push(s.defaults),e.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ll(e,t){const n=sr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function cl(e){if("x"===e||"y"===e||"r"===e)return e}function dl(e){if(cl(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(const r of n){const t=r.axis||("top"===(s=r.position)||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0)||e.length>1&&cl(e[0].toLowerCase());if(t)return t}var s;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function ul(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function hl(e,t){const n=Zs[e.type]||{scales:{}},a=t.scales||{},s=ll(e.type,t),r=Object.create(null);return Object.keys(a).forEach((t=>{const i=a[t];if(!Da(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=dl(t,i,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return ul(e,"x",n[0])||ul(e,"y",n[0])}return{}}(t,e),sr.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),c=n.scales||{};r[t]=Ka(Object.create(null),[{axis:o},i,c[o],c[l]])})),e.data.datasets.forEach((n=>{const s=n.type||e.type,i=n.indexAxis||ll(s,t),o=(Zs[s]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),s=n[t+"AxisID"]||t;r[s]=r[s]||Object.create(null),Ka(r[s],[{axis:t},a[s],o[e]])}))})),Object.keys(r).forEach((e=>{const t=r[e];Ka(t,[sr.scales[t.type],sr.scale])})),r}function xl(e){const t=e.options||(e.options={});t.plugins=Wa(t.plugins,{}),t.scales=hl(e,t)}function ml(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const pl=new Map,fl=new Set;function gl(e,t){let n=pl.get(e);return n||(n=t(),pl.set(e,n),fl.add(n)),n}const bl=(e,t,n)=>{const a=Za(t,n);void 0!==a&&e.add(a)};class yl{constructor(e){this._config=function(e){return(e=e||{}).data=ml(e.data),xl(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ml(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xl(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gl(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return gl("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return gl("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return gl("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let a=n.get(e);return a&&!t||(a=new Map,n.set(e,a)),a}getOptionScopes(e,t,n){const{options:a,type:s}=this,r=this._cachedScopes(e,n),i=r.get(t);if(i)return i;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>bl(o,e,t)))),t.forEach((e=>bl(o,a,e))),t.forEach((e=>bl(o,Zs[s]||{},e))),t.forEach((e=>bl(o,sr,e))),t.forEach((e=>bl(o,er,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),fl.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Zs[t]||{},sr.datasets[t]||{},{type:t},sr,er]}resolveNamedOptions(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:r,subPrefixes:i}=vl(this._resolverCache,e,a);let o=r;if(function(e,t){const{isScriptable:n,isIndexable:a}=Tr(e);for(const s of t){const t=n(s),r=a(s),i=(r||t)&&e[s];if(t&&(ns(i)||jl(i))||r&&Ia(i))return!0}return!1}(r,t)){s.$shared=!1;o=Ar(r,n=ns(n)?n():n,this.createResolver(e,n,i))}for(const l of t)s[l]=o[l];return s}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],a=arguments.length>3?arguments[3]:void 0;const{resolver:s}=vl(this._resolverCache,e,n);return Da(t)?Ar(s,t,void 0,a):s}}function vl(e,t,n){let a=e.get(t);a||(a=new Map,e.set(t,a));const s=n.join();let r=a.get(s);if(!r){r={resolver:Er(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},a.set(s,r)}return r}const jl=e=>Da(e)&&Object.getOwnPropertyNames(e).some((t=>ns(e[t])));const wl=["top","bottom","left","right","chartArea"];function Nl(e,t){return"top"===e||"bottom"===e||-1===wl.indexOf(e)&&"x"===t}function _l(e,t){return function(n,a){return n[e]===a[e]?n[t]-a[t]:n[e]-a[e]}}function kl(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ha(n&&n.onComplete,[e],t)}function Sl(e){const t=e.chart,n=t.options.animation;Ha(n&&n.onProgress,[e],t)}function Cl(e){return Xr()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ml={},Ll=e=>{const t=Cl(e);return Object.values(Ml).filter((e=>e.canvas===t)).pop()};function El(e,t,n){const a=Object.keys(e);for(const s of a){const a=+s;if(a>=t){const r=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=r)}}}class Al{static register(){sl.add(...arguments),Tl()}static unregister(){sl.remove(...arguments),Tl()}constructor(e,t){const n=this.config=new yl(t),a=Cl(e),s=Ll(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!Xr()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Lo:Uo}(a)),this.platform.updateConfig(n);const i=this.platform.acquireContext(a,r.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=Oa(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}((e=>this.update(e)),r.resizeDelay||0),this._dataChanges=[],Ml[this.id]=this,i&&o?(ki.listen(this,"complete",kl),ki.listen(this,"progress",Sl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:a,_aspectRatio:s}=this;return Ra(e)?t&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ii(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lr(this.canvas,this.ctx),this}stop(){return ki.stop(this),this}resize(e,t){ki.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(a,e,t,s),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,ii(this,i,!0)&&(this.notifyPlugins("resize",{size:r}),Ha(n.onResize,[this,r],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Ua(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,a=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let s=[];t&&(s=s.concat(Object.keys(t).map((e=>{const n=t[e],a=dl(e,n),s="r"===a,r="x"===a;return{options:n,dposition:s?"chartArea":r?"bottom":"left",dtype:s?"radialLinear":r?"category":"linear"}})))),Ua(s,(t=>{const s=t.options,r=s.id,i=dl(r,s),o=Wa(s.type,t.dtype);void 0!==s.position&&Nl(s.position,i)===Nl(t.dposition)||(s.position=t.dposition),a[r]=!0;let l=null;if(r in n&&n[r].type===o)l=n[r];else{l=new(sl.getScale(o))({id:r,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)})),Ua(a,((e,t)=>{e||delete n[t]})),Ua(n,(e=>{Co.configure(this,e,e.options),Co.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(_l("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=t.length;n<a;n++){const a=t[n];let s=this.getDatasetMeta(n);const r=a.type||this.config.type;if(s.type&&s.type!==r&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=r,s.indexAxis=a.indexAxis||ll(r,this.options),s.order=a.order||0,s.index=n,s.label=""+a.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=sl.getController(r),{datasetElementType:a,dataElementType:i}=sr.datasets[r];Object.assign(t,{dataElementType:sl.getElement(i),datasetElementType:a&&sl.getElement(a)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Ua(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!a&&-1===s.indexOf(e);e.buildOrUpdateElements(t),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),a||Ua(s,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_l("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){Ua(this.scales,(e=>{Co.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);as(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of t){El(e,a,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),a=n(0);for(let s=1;s<t;s++)if(!as(a,n(s)))return;return Array.from(a).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Co.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ua(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ns(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(n.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ki.has(this)?this.attached&&!ki.running(this)&&ki.start(this):(this.draw(),kl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let a,s;for(a=0,s=t.length;a<s;++a){const s=t[a];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=Ni(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(a&&hr(t,a),e.controller.draw(),a&&xr(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ur(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,a){const s=mo.modes[t];return"function"===typeof s?s(this,e,n,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let a=n.filter((e=>e&&e._dataset===t)).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Lr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,a);ts(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),r.update(s,{visible:n}),this.update((t=>t.datasetIndex===e?a:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ki.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),lr(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ml[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Ua(this.options.events,(e=>n(e,a)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,a)=>{t.addEventListener(this,n,a),e[n]=a},a=(n,a)=>{e[n]&&(t.removeEventListener(this,n,a),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const i=()=>{a("attach",i),this.attached=!0,this.resize(),n("resize",s),n("detach",r)};r=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",i)},t.isAttached(this.canvas)?i():r()}unbindEvents(){Ua(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Ua(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const a=n?"set":"remove";let s,r,i,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){r=e[i];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const a=this.getDatasetMeta(t);if(!a)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:a.data[n],index:n}}));!qa(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const a=this.options.hover,s=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),r=s(t,e),i=n?e:s(e,t);r.length&&this.updateHoverStyle(r,a.mode,!1),i.length&&a.mode&&this.updateHoverStyle(i,a.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,a))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:a=[],options:s}=this,r=t,i=this._getActiveElements(e,a,n,r),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,a){return n&&"mouseout"!==e.type?a?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,Ha(s.onHover,[e,i,this],this),o&&Ha(s.onClick,[e,i,this],this));const c=!qa(i,a);return(c||t)&&(this._active=i,this._updateHoverStyles(i,a,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,a){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}function Tl(){return Ua(Al.instances,(e=>e._plugins.invalidate()))}function Pl(e,t,n,a){const s=Nr(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(n-t)/2,i=Math.min(r,a*t/2),o=e=>{const t=(n-Math.min(r,e))*a/2;return Ss(e,0,Math.min(r,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Ss(s.innerStart,0,i),innerEnd:Ss(s.innerEnd,0,i)}}function zl(e,t,n,a){return{x:n+e*Math.cos(t),y:a+e*Math.sin(t)}}function Ol(e,t,n,a,s,r){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+a+n-c,0),h=d>0?d+a+n+c:0;let x=0;const m=s-l;if(a){const e=((d>0?d-a:0)+(u>0?u-a:0))/2;x=(m-(0!==e?m*e/(e+a):m))/2}const p=(m-Math.max(.001,m*u-n/ss)/u)/2,f=l+p+x,g=s-p-x,{outerStart:b,outerEnd:y,innerStart:v,innerEnd:j}=Pl(t,h,u,g-f),w=u-b,N=u-y,_=f+b/w,k=g-y/N,S=h+v,C=h+j,M=f+v/S,L=g-j/C;if(e.beginPath(),r){const t=(_+k)/2;if(e.arc(i,o,u,_,t),e.arc(i,o,u,t,k),y>0){const t=zl(N,k,i,o);e.arc(t.x,t.y,y,k,g+cs)}const n=zl(C,g,i,o);if(e.lineTo(n.x,n.y),j>0){const t=zl(C,L,i,o);e.arc(t.x,t.y,j,g+cs,L+Math.PI)}const a=(g-j/h+(f+v/h))/2;if(e.arc(i,o,h,g-j/h,a,!0),e.arc(i,o,h,a,f+v/h,!0),v>0){const t=zl(S,M,i,o);e.arc(t.x,t.y,v,M+Math.PI,f-cs)}const s=zl(w,f,i,o);if(e.lineTo(s.x,s.y),b>0){const t=zl(w,_,i,o);e.arc(t.x,t.y,b,f-cs,_)}}else{e.moveTo(i,o);const t=Math.cos(_)*u+i,n=Math.sin(_)*u+o;e.lineTo(t,n);const a=Math.cos(k)*u+i,s=Math.sin(k)*u+o;e.lineTo(a,s)}e.closePath()}function Rl(e,t,n,a,s){const{fullCircles:r,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:x}=l,m="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,m?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(r){Ol(e,t,n,a,p,s);for(let t=0;t<r;++t)e.stroke();isNaN(o)||(p=i+(o%rs||rs))}m&&function(e,t,n){const{startAngle:a,pixelMargin:s,x:r,y:i,outerRadius:o,innerRadius:l}=t;let c=s/o;e.beginPath(),e.arc(r,i,o,a-c,n+c),l>s?(c=s/l,e.arc(r,i,l,n+c,a-c,!0)):e.arc(r,i,s,n+cs,a-cs),e.closePath(),e.clip()}(e,t,p),l.selfJoin&&p-i>=ss&&0===x&&"miter"!==d&&function(e,t,n){const{startAngle:a,x:s,y:r,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/i,_s(a-n));if(e.beginPath(),e.arc(s,r,i-c/2,a+u/2,n-u/2),o>0){const t=Math.min(c/o,_s(a-n));e.arc(s,r,o+c/2,n-t/2,a+t/2,!0)}else{const t=Math.min(c/2,i*_s(a-n));if("round"===d)e.arc(s,r,t,n-ss/2,a+ss/2,!0);else if("bevel"===d){const i=2*t*t,o=-i*Math.cos(n+ss/2)+s,l=-i*Math.sin(n+ss/2)+r,c=i*Math.cos(a+ss/2)+s,d=i*Math.sin(a+ss/2)+r;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,p),r||(Ol(e,t,n,a,p,s),e.stroke())}i(Al,"defaults",sr),i(Al,"instances",Ml),i(Al,"overrides",Zs),i(Al,"registry",sl),i(Al,"version","4.5.0"),i(Al,"getChart",Ll);class Il extends qo{constructor(e){super(),i(this,"circumference",void 0),i(this,"endAngle",void 0),i(this,"fullCircles",void 0),i(this,"innerRadius",void 0),i(this,"outerRadius",void 0),i(this,"pixelMargin",void 0),i(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const a=this.getProps(["x","y"],n),{angle:s,distance:r}=js(a,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=Wa(d,o-i),x=ks(s,i,o)&&i!==o,m=h>=rs||x,p=Cs(r,l+u,c+u);return m&&p}getCenterPoint(e){const{x:t,y:n,startAngle:a,endAngle:s,innerRadius:r,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(a+s)/2,d=(r+i+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,a=(t.offset||0)/4,s=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>rs?Math.floor(n/rs):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*a,Math.sin(i)*a);const o=a*(1-Math.sin(Math.min(ss,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,a,s){const{fullCircles:r,startAngle:i,circumference:o}=t;let l=t.endAngle;if(r){Ol(e,t,n,a,l,s);for(let t=0;t<r;++t)e.fill();isNaN(o)||(l=i+(o%rs||rs))}Ol(e,t,n,a,l,s),e.fill()}(e,this,o,s,r),Rl(e,this,o,s,r),e.restore()}}function Dl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Wa(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Wa(n.borderDash,t.borderDash)),e.lineDashOffset=Wa(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Wa(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Wa(n.borderWidth,t.borderWidth),e.strokeStyle=Wa(n.borderColor,t.borderColor)}function Bl(e,t,n){e.lineTo(n.x,n.y)}function Fl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length,{start:s=0,end:r=a-1}=n,{start:i,end:o}=t,l=Math.max(s,i),c=Math.min(r,o),d=s<i&&r<i||s>o&&r>o;return{count:a,start:l,loop:t.loop,ilen:c<l&&!d?a+c-l:c-l}}function Wl(e,t,n,a){const{points:s,options:r}=t,{count:i,start:o,loop:l,ilen:c}=Fl(s,n,a),d=function(e){return e.stepped?mr:e.tension||"monotone"===e.cubicInterpolationMode?pr:Bl}(r);let u,h,x,{move:m=!0,reverse:p}=a||{};for(u=0;u<=c;++u)h=s[(o+(p?c-u:u))%i],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,x,h,p,r.stepped),x=h);return l&&(h=s[(o+(p?c:0))%i],d(e,x,h,p,r.stepped)),!!l}function Vl(e,t,n,a){const s=t.points,{count:r,start:i,ilen:o}=Fl(s,n,a),{move:l=!0,reverse:c}=a||{};let d,u,h,x,m,p,f=0,g=0;const b=e=>(i+(c?o-e:e))%r,y=()=>{x!==m&&(e.lineTo(f,m),e.lineTo(f,x),e.lineTo(f,p))};for(l&&(u=s[b(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=s[b(d)],u.skip)continue;const t=u.x,n=u.y,a=0|t;a===h?(n<x?x=n:n>m&&(m=n),f=(g*f+t)/++g):(y(),e.lineTo(t,n),h=a,g=0,x=m=n),p=n}y()}function Hl(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Vl:Wl}i(Il,"id","arc"),i(Il,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),i(Il,"defaultRoutes",{backgroundColor:"backgroundColor"}),i(Il,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Ul="function"===typeof Path2D;function ql(e,t,n,a){Ul&&!t.options.segment?function(e,t,n,a){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,a)&&s.closePath()),Dl(e,t.options),e.stroke(s)}(e,t,n,a):function(e,t,n,a){const{segments:s,options:r}=t,i=Hl(t);for(const o of s)Dl(e,r,o.style),e.beginPath(),i(e,t,o,{start:n,end:n+a-1})&&e.closePath(),e.stroke()}(e,t,n,a)}class $l extends qo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Kr(this._points,n,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,a=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:i,end:o}=function(e,t,n,a){let s=0,r=t-1;if(n&&!a)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}(n,s,r,a);return yi(e,!0===a?[{start:i,end:o,loop:r}]:function(e,t,n,a){const s=e.length,r=[];let i,o=t,l=e[t];for(i=t+1;i<=n;++i){const n=e[i%s];n.skip||n.stop?l.skip||(a=!1,r.push({start:t%s,end:(i-1)%s,loop:a}),t=o=n.stop?i:null):(o=i,l.skip&&(t=i)),l=n}return null!==o&&r.push({start:t%s,end:o%s,loop:a}),r}(n,i,o<i?o+s:o,!!e._fullLoop&&0===i&&o===s-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,a=e[t],s=this.points,r=bi(this,{property:t,start:a,end:a});if(!r.length)return;const i=[],o=function(e){return e.stepped?di:e.tension||"monotone"===e.cubicInterpolationMode?ui:ci}(n);let l,c;for(l=0,c=r.length;l<c;++l){const{start:c,end:d}=r[l],u=s[c],h=s[d];if(u===h){i.push(u);continue}const x=o(u,h,Math.abs((a-u[t])/(h[t]-u[t])),n.stepped);x[t]=e[t],i.push(x)}return 1===i.length?i[0]:i}pathSegment(e,t,n){return Hl(this)(e,this,t,n)}path(e,t,n){const a=this.segments,s=Hl(this);let r=this._loop;t=t||0,n=n||this.points.length-t;for(const i of a)r&=s(e,this,i,{start:t,end:t+n-1});return!!r}draw(e,t,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ql(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Gl(e,t,n,a){const s=e.options,{[n]:r}=e.getProps([n],a);return Math.abs(t-r)<s.radius+s.hitRadius}i($l,"id","line"),i($l,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),i($l,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),i($l,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Yl extends qo{constructor(e){super(),i(this,"parsed",void 0),i(this,"skip",void 0),i(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const a=this.options,{x:s,y:r}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-r,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return Gl(this,e,"x",t)}inYRange(e,t){return Gl(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!ur(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,cr(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ql(e,t){const{x:n,y:a,base:s,width:r,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(n,s),l=Math.max(n,s),c=a-u,d=a+u):(u=r/2,o=n-u,l=n+u,c=Math.min(a,s),d=Math.max(a,s)),{left:o,top:c,right:l,bottom:d}}function Kl(e,t,n,a){return e?0:Ss(t,n,a)}function Xl(e){const t=Ql(e),n=t.right-t.left,a=t.bottom-t.top,s=function(e,t,n){const a=e.options.borderWidth,s=e.borderSkipped,r=_r(a);return{t:Kl(s.top,r.top,0,n),r:Kl(s.right,r.right,0,t),b:Kl(s.bottom,r.bottom,0,n),l:Kl(s.left,r.left,0,t)}}(e,n/2,a/2),r=function(e,t,n){const{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=kr(s),i=Math.min(t,n),o=e.borderSkipped,l=a||Da(s);return{topLeft:Kl(!l||o.top||o.left,r.topLeft,0,i),topRight:Kl(!l||o.top||o.right,r.topRight,0,i),bottomLeft:Kl(!l||o.bottom||o.left,r.bottomLeft,0,i),bottomRight:Kl(!l||o.bottom||o.right,r.bottomRight,0,i)}}(e,n/2,a/2);return{outer:{x:t.left,y:t.top,w:n,h:a,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:a-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Jl(e,t,n,a){const s=null===t,r=null===n,i=e&&!(s&&r)&&Ql(e,a);return i&&(s||Cs(t,i.left,i.right))&&(r||Cs(n,i.top,i.bottom))}function Zl(e,t){e.rect(t.x,t.y,t.w,t.h)}function ec(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-a,i=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+a,y:e.y+s,w:e.w+r,h:e.h+i,radius:e.radius}}i(Yl,"id","point"),i(Yl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),i(Yl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class tc extends qo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:r}=Xl(this),i=(o=r.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?yr:Zl;var o;e.save(),r.w===s.w&&r.h===s.h||(e.beginPath(),i(e,ec(r,t,s)),e.clip(),i(e,ec(s,-t,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),i(e,ec(s,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,n){return Jl(this,e,t,n)}inXRange(e,t){return Jl(this,e,null,t)}inYRange(e,t){return Jl(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+a)/2:t,y:s?n:(n+a)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}i(tc,"id","bar"),i(tc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),i(tc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nc(e,t,n,a){if(a)return;let s=t[e],r=n[e];return"angle"===e&&(s=_s(s),r=_s(r)),{property:e,start:s,end:r}}function ac(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function sc(e,t,n,a){return e&&t?a(e[n],t[n]):e?e[n]:t?t[n]:0}function rc(e,t){let n=[],a=!1;return Ia(e)?(a=!0,n=e):n=function(e,t){const{x:n=null,y:a=null}=e||{},s=t.points,r=[];return t.segments.forEach((e=>{let{start:t,end:i}=e;i=ac(t,i,s);const o=s[t],l=s[i];null!==a?(r.push({x:o.x,y:a}),r.push({x:l.x,y:a})):null!==n&&(r.push({x:n,y:o.y}),r.push({x:n,y:l.y}))})),r}(e,t),n.length?new $l({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function ic(e){return e&&!1!==e.fill}function oc(e,t,n){let a=e[t].fill;const s=[t];let r;if(!n)return a;for(;!1!==a&&-1===s.indexOf(a);){if(!Ba(a))return a;if(r=e[a],!r)return!1;if(r.visible)return a;s.push(a),a=r.fill}return!1}function lc(e,t,n){const a=function(e){const t=e.options,n=t.fill;let a=Wa(n&&n.target,n);void 0===a&&(a=!!t.backgroundColor);if(!1===a||null===a)return!1;if(!0===a)return"origin";return a}(e);if(Da(a))return!isNaN(a.value)&&a;let s=parseFloat(a);return Ba(s)&&Math.floor(s)===s?function(e,t,n,a){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=a)return!1;return n}(a[0],t,s,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function cc(e,t,n){const a=[];for(let s=0;s<n.length;s++){const r=n[s],{first:i,last:o,point:l}=dc(r,t,"x");if(!(!l||i&&o))if(i)a.unshift(l);else if(e.push(l),!o)break}e.push(...a)}function dc(e,t,n){const a=e.interpolate(t,n);if(!a)return{};const s=a[n],r=e.segments,i=e.points;let o=!1,l=!1;for(let c=0;c<r.length;c++){const e=r[c],t=i[e.start][n],a=i[e.end][n];if(Cs(s,t,a)){o=s===t,l=s===a;break}}return{first:o,last:l,point:a}}class uc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:a,y:s,radius:r}=this;return t=t||{start:0,end:rs},e.arc(a,s,r,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:a}=this,s=e.angle;return{x:t+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function hc(e){const{chart:t,fill:n,line:a}=e;if(Ba(n))return function(e,t){const n=e.getDatasetMeta(t),a=n&&e.isDatasetVisible(t);return a?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:a}=e,s=[],r=a.segments,i=a.points,o=function(e,t){const n=[],a=e.getMatchingVisibleMetas("line");for(let s=0;s<a.length;s++){const e=a[s];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(rc({x:null,y:t.bottom},a));for(let l=0;l<r.length;l++){const e=r[l];for(let t=e.start;t<=e.end;t++)cc(s,i[t],o)}return new $l({points:s,options:{}})}(e);if("shape"===n)return!0;const s=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,a=t.options,s=t.getLabels().length,r=a.reverse?t.max:t.min,i=function(e,t,n){let a;return a="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Da(e)?e.value:t.getBaseValue(),a}(n,t,r),o=[];if(a.grid.circular){const e=t.getPointPositionForValue(0,r);return new uc({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<s;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:n}=e,a=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Da(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(Ba(a)){const e=t.isHorizontal();return{x:e?a:null,y:e?null:a}}return null}(e)}(e);return s instanceof uc?s:rc(s,a)}function xc(e,t,n){const a=hc(t),{chart:s,index:r,line:i,scale:o,axis:l}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:x=u}=d||{},m=s.getDatasetMeta(r),p=Ni(s,m);a&&i.points.length&&(hr(e,n),function(e,t){const{line:n,target:a,above:s,below:r,area:i,scale:o,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let d=r;r!==s&&("x"===c?(mc(e,a,i.top),fc(e,{line:n,target:a,color:s,scale:o,property:c,clip:l}),e.restore(),e.save(),mc(e,a,i.bottom)):"y"===c&&(pc(e,a,i.left),fc(e,{line:n,target:a,color:r,scale:o,property:c,clip:l}),e.restore(),e.save(),pc(e,a,i.right),d=s));fc(e,{line:n,target:a,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:i,target:a,above:h,below:x,area:n,scale:o,axis:l,clip:p}),xr(e))}function mc(e,t,n){const{segments:a,points:s}=t;let r=!0,i=!1;e.beginPath();for(const o of a){const{start:a,end:l}=o,c=s[a],d=s[ac(a,l,s)];r?(e.moveTo(c.x,c.y),r=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function pc(e,t,n){const{segments:a,points:s}=t;let r=!0,i=!1;e.beginPath();for(const o of a){const{start:a,end:l}=o,c=s[a],d=s[ac(a,l,s)];r?(e.moveTo(c.x,c.y),r=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(n,d.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function fc(e,t){const{line:n,target:a,property:s,color:r,scale:i,clip:o}=t,l=function(e,t,n){const a=e.segments,s=e.points,r=t.points,i=[];for(const o of a){let{start:e,end:a}=o;a=ac(e,a,s);const l=nc(n,s[e],s[a],o.loop);if(!t.segments){i.push({source:o,target:l,start:s[e],end:s[a]});continue}const c=bi(t,l);for(const t of c){const e=nc(n,r[t.start],r[t.end],t.loop),a=gi(o,s,e);for(const s of a)i.push({source:s,target:t,start:{[n]:sc(l,e,"start",Math.max)},end:{[n]:sc(l,e,"end",Math.min)}})}}return i}(n,a,s);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=r}={}}=c,l=!0!==a;e.save(),e.fillStyle=t,gc(e,i,o,l&&nc(s,u,h)),e.beginPath();const x=!!n.pathSegment(e,c);let m;if(l){x?e.closePath():bc(e,a,h,s);const t=!!a.pathSegment(e,d,{move:x,reverse:!0});m=x&&t,m||bc(e,a,u,s)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function gc(e,t,n,a){const s=t.chart.chartArea,{property:r,start:i,end:o}=a||{};if("x"===r||"y"===r){let t,a,l,c;"x"===r?(t=i,a=s.top,l=o,c=s.bottom):(t=s.left,a=i,l=s.right,c=o),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),a=Math.max(a,n.top),c=Math.min(c,n.bottom)),e.rect(t,a,l-t,c-a),e.clip()}}function bc(e,t,n,a){const s=t.interpolate(n,a);s&&e.lineTo(s.x,s.y)}var yc={id:"filler",afterDatasetsUpdate(e,t,n){const a=(e.data.datasets||[]).length,s=[];let r,i,o,l;for(i=0;i<a;++i)r=e.getDatasetMeta(i),o=r.dataset,l=null,o&&o.options&&o instanceof $l&&(l={visible:e.isDatasetVisible(i),index:i,fill:lc(o,i,a),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=l,s.push(l);for(i=0;i<a;++i)l=s[i],l&&!1!==l.fill&&(l.fill=oc(s,i,n.propagate))},beforeDraw(e,t,n){const a="beforeDraw"===n.drawTime,s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let i=s.length-1;i>=0;--i){const t=s[i].$filler;t&&(t.line.updateControlPoints(r,t.axis),a&&t.fill&&xc(e.ctx,t,r))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const a=e.getSortedVisibleDatasetMetas();for(let s=a.length-1;s>=0;--s){const t=a[s].$filler;ic(t)&&xc(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const a=t.meta.$filler;ic(a)&&"beforeDatasetDraw"===n.drawTime&&xc(e.ctx,a,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vc=(e,t)=>{let{boxHeight:n=t,boxWidth:a=t}=e;return e.usePointStyle&&(n=Math.min(n,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}};class jc extends qo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ha(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,a=Cr(n.font),s=a.size,r=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=vc(n,s);let l,c;t.font=a.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,s,i,o)+10):(c=this.maxHeight,l=this._fitCols(r,a,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,a){const{ctx:s,maxWidth:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=a+i;let d=e;s.textAlign="left",s.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,x)=>{const m=n+t/2+s.measureText(e.text).width;(0===x||l[l.length-1]+m+2*i>r)&&(d+=c,l[l.length-(x>0?0:1)]=0,h+=c,u++),o[x]={left:0,top:h,row:u,width:m,height:a},l[l.length-1]+=m+i})),d}_fitCols(e,t,n,a){const{ctx:s,maxHeight:r,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-e;let d=i,u=0,h=0,x=0,m=0;return this.legendItems.forEach(((e,r)=>{const{itemWidth:p,itemHeight:f}=function(e,t,n,a,s){const r=function(e,t,n,a){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+a.measureText(s).width}(a,e,t,n),i=function(e,t,n){let a=e;"string"!==typeof t.text&&(a=wc(t,n));return a}(s,a,t.lineHeight);return{itemWidth:r,itemHeight:i}}(n,t,s,e,a);r>0&&h+f+2*i>c&&(d+=u+i,l.push({width:u,height:h}),x+=u+i,m++,u=h=0),o[r]={left:x,top:h,col:m,width:p,height:f},u=Math.max(u,p),h+=f+i})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:a},rtl:s}}=this,r=hi(s,this.left,this.width);if(this.isHorizontal()){let s=0,i=Is(n,this.left+a,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,i=Is(n,this.left+a,this.right-this.lineWidths[s])),o.top+=this.top+e+a,o.left=r.leftForLtr(r.x(i),o.width),i+=o.width+a}else{let s=0,i=Is(n,this.top+e+a,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,i=Is(n,this.top+e+a,this.bottom-this.columnSizes[s].height)),o.top=i,o.left+=this.left+a,o.left=r.leftForLtr(r.x(o.left),o.width),i+=o.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;hr(e,this),this._draw(),xr(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:a}=this,{align:s,labels:r}=e,i=sr.color,o=hi(e.rtl,this.left,this.width),l=Cr(r.font),{padding:c}=r,d=l.size,u=d/2;let h;this.drawTitle(),a.textAlign=o.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=l.string;const{boxWidth:x,boxHeight:m,itemHeight:p}=vc(r,d),f=this.isHorizontal(),g=this._computeTitleHeight();h=f?{x:Is(s,this.left+c,this.right-n[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:Is(s,this.top+g+c,this.bottom-t[0].height),line:0},xi(this.ctx,e.textDirection);const b=p+c;this.legendItems.forEach(((y,v)=>{a.strokeStyle=y.fontColor,a.fillStyle=y.fontColor;const j=a.measureText(y.text).width,w=o.textAlign(y.textAlign||(y.textAlign=r.textAlign)),N=x+u+j;let _=h.x,k=h.y;o.setWidth(this.width),f?v>0&&_+N+c>this.right&&(k=h.y+=b,h.line++,_=h.x=Is(s,this.left+c,this.right-n[h.line])):v>0&&k+b>this.bottom&&(_=h.x=_+t[h.line].width+c,h.line++,k=h.y=Is(s,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(x)||x<=0||isNaN(m)||m<0)return;a.save();const s=Wa(n.lineWidth,1);if(a.fillStyle=Wa(n.fillStyle,i),a.lineCap=Wa(n.lineCap,"butt"),a.lineDashOffset=Wa(n.lineDashOffset,0),a.lineJoin=Wa(n.lineJoin,"miter"),a.lineWidth=s,a.strokeStyle=Wa(n.strokeStyle,i),a.setLineDash(Wa(n.lineDash,[])),r.usePointStyle){const i={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=o.xPlus(e,x/2);dr(a,i,l,t+u,r.pointStyleWidth&&x)}else{const r=t+Math.max((d-m)/2,0),i=o.leftForLtr(e,x),l=kr(n.borderRadius);a.beginPath(),Object.values(l).some((e=>0!==e))?yr(a,{x:i,y:r,w:x,h:m,radius:l}):a.rect(i,r,x,m),a.fill(),0!==s&&a.stroke()}a.restore()}(o.x(_),k,y),_=((e,t,n,a)=>e===(a?"left":"right")?n:"center"===e?(t+n)/2:t)(w,_+x+u,f?_+N:this.right,e.rtl),function(e,t,n){br(a,n.text,e,t+p/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(_),k,y),f)h.x+=N+c;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=wc(y,e)+c}else h.y+=b})),mi(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Cr(t.font),a=Sr(t.padding);if(!t.display)return;const s=hi(e.rtl,this.left,this.width),r=this.ctx,i=t.position,o=n.size/2,l=a.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Is(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Is(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Is(i,d,d+u);r.textAlign=s.textAlign(Rs(i)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=n.string,br(r,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Cr(e.font),n=Sr(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,a,s;if(Cs(e,this.left,this.right)&&Cs(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],Cs(e,a.left,a.left+a.width)&&Cs(t,a.top,a.top+a.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=(s=n,null!==(a=r)&&null!==s&&a.datasetIndex===s.datasetIndex&&a.index===s.index);r&&!i&&Ha(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&Ha(t.onHover,[e,n,this],this)}else n&&Ha(t.onClick,[e,n,this],this);var a,s}}function wc(e,t){return t*(e.text?e.text.length:0)}var Nc={id:"legend",_element:jc,start(e,t,n){const a=e.legend=new jc({ctx:e.ctx,options:n,chart:e});Co.configure(e,a,n),Co.addBox(e,a)},stop(e){Co.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const a=e.legend;Co.configure(e,a,n),a.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const a=t.datasetIndex,s=n.chart;s.isDatasetVisible(a)?(s.hide(a),t.hidden=!0):(s.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:s,color:r,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Sr(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:a||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class _c extends qo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const a=Ia(n.text)?n.text.length:1;this._padding=Sr(n.padding);const s=a*Cr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:a,right:s,options:r}=this,i=r.align;let o,l,c,d=0;return this.isHorizontal()?(l=Is(i,n,s),c=t+e,o=s-n):("left"===r.position?(l=n+e,c=Is(i,a,t),d=-.5*ss):(l=s-e,c=Is(i,t,a),d=.5*ss),o=a-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Cr(t.font),a=n.lineHeight/2+this._padding.top,{titleX:s,titleY:r,maxWidth:i,rotation:o}=this._drawArgs(a);br(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:o,textAlign:Rs(t.align),textBaseline:"middle",translation:[s,r]})}}var kc={id:"title",_element:_c,start(e,t,n){!function(e,t){const n=new _c({ctx:e.ctx,options:t,chart:e});Co.configure(e,n,t),Co.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Co.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const a=e.titleBlock;Co.configure(e,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Sc={average(e){if(!e.length)return!1;let t,n,a=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();a.add(e.x),s+=e.y,++r}}if(0===r||0===a.size)return!1;return{x:[...a].reduce(((e,t)=>e+t))/a.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n,a,s,r=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(n=0,a=e.length;n<a;++n){const a=e[n].element;if(a&&a.hasValue()){const e=ws(t,a.getCenterPoint());e<o&&(o=e,s=a)}}if(s){const e=s.tooltipPosition();r=e.x,i=e.y}return{x:r,y:i}}};function Cc(e,t){return t&&(Ia(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Mc(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Lc(e,t){const{element:n,datasetIndex:a,index:s}=t,r=e.getDatasetMeta(a).controller,{label:i,value:o}=r.getLabelAndValue(s);return{chart:e,label:i,parsed:r.getParsed(s),raw:e.data.datasets[a].data[s],formattedValue:o,dataset:r.getDataset(),dataIndex:s,datasetIndex:a,element:n}}function Ec(e,t){const n=e.chart.ctx,{body:a,footer:s,title:r}=e,{boxWidth:i,boxHeight:o}=t,l=Cr(t.bodyFont),c=Cr(t.titleFont),d=Cr(t.footerFont),u=r.length,h=s.length,x=a.length,m=Sr(t.padding);let p=m.height,f=0,g=a.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){p+=x*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(g-x)*l.lineHeight+(g-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const y=function(e){f=Math.max(f,n.measureText(e).width+b)};return n.save(),n.font=c.string,Ua(e.title,y),n.font=l.string,Ua(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?i+2+t.boxPadding:0,Ua(a,(e=>{Ua(e.before,y),Ua(e.lines,y),Ua(e.after,y)})),b=0,n.font=d.string,Ua(e.footer,y),n.restore(),f+=m.width,{width:f,height:p}}function Ac(e,t,n,a){const{x:s,width:r}=n,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===a?c=s<=(o+l)/2?"left":"right":s<=r/2?c="left":s>=i-r/2&&(c="right"),function(e,t,n,a){const{x:s,width:r}=a,i=n.caretSize+n.caretPadding;return"left"===e&&s+r+i>t.width||"right"===e&&s-r-i<0||void 0}(c,e,t,n)&&(c="center"),c}function Tc(e,t,n){const a=n.yAlign||t.yAlign||function(e,t){const{y:n,height:a}=t;return n<a/2?"top":n>e.height-a/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Ac(e,t,n,a),yAlign:a}}function Pc(e,t,n,a){const{caretSize:s,caretPadding:r,cornerRadius:i}=e,{xAlign:o,yAlign:l}=n,c=s+r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:x}=kr(i);let m=function(e,t){let{x:n,width:a}=e;return"right"===t?n-=a:"center"===t&&(n-=a/2),n}(t,o);const p=function(e,t,n){let{y:a,height:s}=e;return"top"===t?a+=n:a-="bottom"===t?s+n:s/2,a}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,h)+s:"right"===o&&(m+=Math.max(u,x)+s),{x:Ss(m,0,a.width-t.width),y:Ss(p,0,a.height-t.height)}}function zc(e,t,n){const a=Sr(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-a.right:e.x+a.left}function Oc(e){return Cc([],Mc(e))}function Rc(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Ic={beforeTitle:za,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:za,beforeBody:za,beforeLabel:za,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ra(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:za,afterBody:za,beforeFooter:za,footer:za,afterFooter:za};function Dc(e,t,n,a){const s=e[t].call(n,a);return"undefined"===typeof s?Ic[t].call(n,a):s}class Bc extends qo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&t.options.animation&&n.animations,s=new Li(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Lr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,a=Dc(n,"beforeTitle",this,e),s=Dc(n,"title",this,e),r=Dc(n,"afterTitle",this,e);let i=[];return i=Cc(i,Mc(a)),i=Cc(i,Mc(s)),i=Cc(i,Mc(r)),i}getBeforeBody(e,t){return Oc(Dc(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,a=[];return Ua(e,(e=>{const t={before:[],lines:[],after:[]},s=Rc(n,e);Cc(t.before,Mc(Dc(s,"beforeLabel",this,e))),Cc(t.lines,Dc(s,"label",this,e)),Cc(t.after,Mc(Dc(s,"afterLabel",this,e))),a.push(t)})),a}getAfterBody(e,t){return Oc(Dc(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,a=Dc(n,"beforeFooter",this,e),s=Dc(n,"footer",this,e),r=Dc(n,"afterFooter",this,e);let i=[];return i=Cc(i,Mc(a)),i=Cc(i,Mc(s)),i=Cc(i,Mc(r)),i}_createItems(e){const t=this._active,n=this.chart.data,a=[],s=[],r=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(Lc(this.chart,t[i]));return e.filter&&(l=l.filter(((t,a,s)=>e.filter(t,a,s,n)))),e.itemSort&&(l=l.sort(((t,a)=>e.itemSort(t,a,n)))),Ua(l,(t=>{const n=Rc(e.callbacks,t);a.push(Dc(n,"labelColor",this,t)),s.push(Dc(n,"labelPointStyle",this,t)),r.push(Dc(n,"labelTextColor",this,t))})),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),a=this._active;let s,r=[];if(a.length){const e=Sc[n.position].call(this,a,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const t=this._size=Ec(this,n),i=Object.assign({},e,t),o=Tc(this.chart,n,i),l=Pc(n,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,a){const s=this.getCaretPosition(e,n,a);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:a,yAlign:s}=this,{caretSize:r,cornerRadius:i}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=kr(i),{x:u,y:h}=e,{width:x,height:m}=t;let p,f,g,b,y,v;return"center"===s?(y=h+m/2,"left"===a?(p=u,f=p-r,b=y+r,v=y-r):(p=u+x,f=p+r,b=y-r,v=y+r),g=p):(f="left"===a?u+Math.max(o,c)+r:"right"===a?u+x-Math.max(l,d)-r:this.caretX,"top"===s?(b=h,y=b-r,p=f-r,g=f+r):(b=h+m,y=b+r,p=f+r,g=f-r),v=b),{x1:p,x2:f,x3:g,y1:b,y2:y,y3:v}}drawTitle(e,t,n){const a=this.title,s=a.length;let r,i,o;if(s){const l=hi(n.rtl,this.x,this.width);for(e.x=zc(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",r=Cr(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,o=0;o<s;++o)t.fillText(a[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,o+1===s&&(e.y+=n.titleMarginBottom-i)}}_drawColorBox(e,t,n,a,s){const r=this.labelColors[n],i=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=s,c=Cr(s.bodyFont),d=zc(this,"left",s),u=a.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,x=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},n=a.leftForLtr(u,l)+l/2,c=x+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,cr(e,t,n,c),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,cr(e,t,n,c)}else{e.lineWidth=Da(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=a.leftForLtr(u,l),n=a.leftForLtr(a.xPlus(u,1),l-2),i=kr(r.borderRadius);Object.values(i).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,yr(e,{x:t,y:x,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),yr(e,{x:n,y:x+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,x,l,o),e.strokeRect(t,x,l,o),e.fillStyle=r.backgroundColor,e.fillRect(n,x+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:a}=this,{bodySpacing:s,bodyAlign:r,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=Cr(n.bodyFont);let u=d.lineHeight,h=0;const x=hi(n.rtl,this.x,this.width),m=function(n){t.fillText(n,x.x(e.x+h),e.y+u/2),e.y+=u+s},p=x.textAlign(r);let f,g,b,y,v,j,w;for(t.textAlign=r,t.textBaseline="middle",t.font=d.string,e.x=zc(this,p,n),t.fillStyle=n.bodyColor,Ua(this.beforeBody,m),h=i&&"right"!==p?"center"===r?l/2+c:l+2+c:0,y=0,j=a.length;y<j;++y){for(f=a[y],g=this.labelTextColors[y],t.fillStyle=g,Ua(f.before,m),b=f.lines,i&&b.length&&(this._drawColorBox(t,e,y,x,n),u=Math.max(d.lineHeight,o)),v=0,w=b.length;v<w;++v)m(b[v]),u=d.lineHeight;Ua(f.after,m)}h=0,u=d.lineHeight,Ua(this.afterBody,m),e.y-=s}drawFooter(e,t,n){const a=this.footer,s=a.length;let r,i;if(s){const o=hi(n.rtl,this.x,this.width);for(e.x=zc(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",r=Cr(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,i=0;i<s;++i)t.fillText(a[i],o.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,t,n,a){const{xAlign:s,yAlign:r}=this,{x:i,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:x}=kr(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===r&&this.drawCaret(e,t,n,a),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===r&&"right"===s&&this.drawCaret(e,t,n,a),t.lineTo(i+l,o+c-x),t.quadraticCurveTo(i+l,o+c,i+l-x,o+c),"bottom"===r&&this.drawCaret(e,t,n,a),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===r&&"left"===s&&this.drawCaret(e,t,n,a),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const n=Sc[e.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=Ec(this,e),i=Object.assign({},n,this._size),o=Tc(t,e,i),l=Pc(e,i,o,t);a._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Sr(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,t),xi(e,t.textDirection),s.y+=r.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),mi(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,a=e.map((e=>{let{datasetIndex:t,index:n}=e;const a=this.chart.getDatasetMeta(t);if(!a)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:a.data[n],index:n}})),s=!qa(n,a),r=this._positionChanged(a,t);(s||r)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],r=this._getActiveElements(e,s,t,n),i=this._positionChanged(r,e),o=t||!qa(r,s)||i;return o&&(this._active=r,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,a){const s=this.options;if("mouseout"===e.type)return[];if(!a)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const r=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:n,caretY:a,options:s}=this,r=Sc[s.position].call(this,e,t);return!1!==r&&(n!==r.x||a!==r.y)}}i(Bc,"positioners",Sc);var Fc={id:"tooltip",_element:Bc,positioners:Sc,afterInit(e,t,n){n&&(e.tooltip=new Bc({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",l(l({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ic},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Wc(e,t,n,a){const s=e.indexOf(t);if(-1===s)return((e,t,n,a)=>("string"===typeof t?(n=e.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,a);return s!==e.lastIndexOf(t)?n:s}function Vc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Hc extends tl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:a}of t)e[n]===a&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ra(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Ss(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Wc(n,e,Wa(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=e;r<=t;r++)a.push({value:r});return a}getLabelForValue(e){return Vc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Uc(e,t){const n=[],{bounds:a,step:s,min:r,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=s||1,x=c-1,{min:m,max:p}=t,f=!Ra(r),g=!Ra(i),b=!Ra(l),y=(p-m)/(d+1);let v,j,w,N,_=ps((p-m)/x/h)*h;if(_<1e-14&&!f&&!g)return[{value:m},{value:p}];N=Math.ceil(p/_)-Math.floor(m/_),N>x&&(_=ps(N*_/x/h)*h),Ra(o)||(v=Math.pow(10,o),_=Math.ceil(_*v)/v),"ticks"===a?(j=Math.floor(m/_)*_,w=Math.ceil(p/_)*_):(j=m,w=p),f&&g&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((i-r)/s,_/1e3)?(N=Math.round(Math.min((i-r)/_,c)),_=(i-r)/N,j=r,w=i):b?(j=f?r:j,w=g?i:w,N=l-1,_=(w-j)/N):(N=(w-j)/_,N=ms(N,Math.round(N),_/1e3)?Math.round(N):Math.ceil(N));const k=Math.max(vs(_),vs(j));v=Math.pow(10,Ra(o)?k:o),j=Math.round(j*v)/v,w=Math.round(w*v)/v;let S=0;for(f&&(u&&j!==r?(n.push({value:r}),j<r&&S++,ms(Math.round((j+S*_)*v)/v,r,qc(r,y,e))&&S++):j<r&&S++);S<N;++S){const e=Math.round((j+S*_)*v)/v;if(g&&e>i)break;n.push({value:e})}return g&&u&&w!==i?n.length&&ms(n[n.length-1].value,i,qc(i,y,e))?n[n.length-1].value=i:n.push({value:i}):g&&w!==i||n.push({value:w}),n}function qc(e,t,n){let{horizontal:a,minRotation:s}=n;const r=bs(s),i=(a?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}i(Hc,"id","category"),i(Hc,"defaults",{ticks:{callback:Vc}});class $c extends tl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ra(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const r=e=>a=t?a:e,i=e=>s=n?s:e;if(e){const e=xs(a),t=xs(s);e<0&&t<0?i(0):e>0&&t>0&&r(0)}if(a===s){let t=0===s?1:Math.abs(.05*s);i(s+t),e||r(a-t)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:a}=e;return a?(t=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(a," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a=Uc({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&gs(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-t)/Math.max(e.length-1,1)/2;t-=a,n+=a}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Ks(e,this.chart.options.locale,this.options.ticks.format)}}class Gc extends $c{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ba(e)?e:0,this.max=Ba(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=bs(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}i(Gc,"id","linear"),i(Gc,"defaults",{ticks:{callback:Js.formatters.numeric}});const Yc=e=>Math.floor(hs(e)),Qc=(e,t)=>Math.pow(10,Yc(e)+t);function Kc(e){return 1===e/Math.pow(10,Yc(e))}function Xc(e,t,n){const a=Math.pow(10,n),s=Math.floor(e/a);return Math.ceil(t/a)-s}function Jc(e,t){let{min:n,max:a}=t;n=Fa(e.min,n);const s=[],r=Yc(n);let i=function(e,t){let n=Yc(t-e);for(;Xc(e,t,n)>10;)n++;for(;Xc(e,t,n)<10;)n--;return Math.min(n,Yc(e))}(n,a),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=r>i?Math.pow(10,r):0,d=Math.round((n-c)*o)/o,u=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),x=Fa(e.min,Math.round((c+u+h*Math.pow(10,i))*o)/o);for(;x<a;)s.push({value:x,major:Kc(x),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),x=Math.round((c+u+h*Math.pow(10,i))*o)/o;const m=Fa(e.max,x);return s.push({value:m,major:Kc(m),significand:h}),s}class Zc extends tl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=$c.prototype.parse.apply(this,[e,t]);if(0!==n)return Ba(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ba(e)?Math.max(0,e):null,this.max=Ba(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ba(this._userMin)&&(this.min=e===Qc(this.min,0)?Qc(this.min,-1):Qc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,a=this.max;const s=t=>n=e?n:t,r=e=>a=t?a:e;n===a&&(n<=0?(s(1),r(10)):(s(Qc(n,-1)),r(Qc(a,1)))),n<=0&&s(Qc(a,-1)),a<=0&&r(Qc(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,t=Jc({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&gs(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Ks(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=hs(e),this._valueRange=hs(this.max)-hs(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(hs(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function ed(e){const t=e.ticks;if(t.display&&e.display){const e=Sr(t.backdropPadding);return Wa(t.font&&t.font.size,sr.font.size)+e.height}return 0}function td(e,t,n,a,s){return e===a||e===s?{start:t-n/2,end:t+n/2}:e<a||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function nd(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),a=[],s=[],r=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?ss/r:0;for(let u=0;u<r;u++){const r=i.setContext(e.getPointLabelContext(u));s[u]=r.padding;const h=e.getPointPosition(u,e.drawingArea+s[u],o),x=Cr(r.font),m=(l=e.ctx,c=x,d=Ia(d=e._pointLabels[u])?d:[d],{w:ir(l,c.string,d),h:d.length*c.lineHeight});a[u]=m;const p=_s(e.getIndexAngle(u)+o),f=Math.round(ys(p));ad(n,t,p,td(f,h.x,m.w,0,180),td(f,h.y,m.h,90,270))}var l,c,d;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const a=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:i,display:o}=r.pointLabels,l={extra:ed(r)/2,additionalAngle:i?ss/s:0};let c;for(let d=0;d<s;d++){l.padding=n[d],l.size=t[d];const s=sd(e,d,l);a.push(s),"auto"===o&&(s.visible=rd(s,c),s.visible&&(c=s))}return a}(e,a,s)}function ad(e,t,n,a,s){const r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));let o=0,l=0;a.start<t.l?(o=(t.l-a.start)/r,e.l=Math.min(e.l,t.l-o)):a.end>t.r&&(o=(a.end-t.r)/r,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/i,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function sd(e,t,n){const a=e.drawingArea,{extra:s,additionalAngle:r,padding:i,size:o}=n,l=e.getPointPosition(t,a+s+i,r),c=Math.round(ys(_s(l.angle+cs))),d=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function rd(e,t){if(!t)return!0;const{left:n,top:a,right:s,bottom:r}=e;return!(ur({x:n,y:a},t)||ur({x:n,y:r},t)||ur({x:s,y:a},t)||ur({x:s,y:r},t))}function id(e,t,n){const{left:a,top:s,right:r,bottom:i}=n,{backdropColor:o}=t;if(!Ra(o)){const n=kr(t.borderRadius),l=Sr(t.backdropPadding);e.fillStyle=o;const c=a-l.left,d=s-l.top,u=r-a+l.width,h=i-s+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),yr(e,{x:c,y:d,w:u,h:h,radius:n}),e.fill()):e.fillRect(c,d,u,h)}}function od(e,t,n,a){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,rs);else{let n=e.getPointPosition(0,t);s.moveTo(n.x,n.y);for(let r=1;r<a;r++)n=e.getPointPosition(r,t),s.lineTo(n.x,n.y)}}i(Zc,"id","logarithmic"),i(Zc,"defaults",{ticks:{callback:Js.formatters.logarithmic,major:{enabled:!0}}});class ld extends $c{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Sr(ed(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ba(e)&&!isNaN(e)?e:0,this.max=Ba(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ed(this.options))}generateTickLabels(e){$c.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Ha(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?nd(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,a){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,a))}getIndexAngle(e){return _s(e*(rs/(this._pointLabels.length||1))+bs(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Ra(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ra(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Lr(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=this.getIndexAngle(e)-cs+n;return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter,angle:a}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),od(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:a,border:s}=t,r=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:a}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const r=a.setContext(e.getPointLabelContext(s));id(n,r,t);const i=Cr(r.font),{x:o,y:l,textAlign:c}=t;br(n,e._pointLabels[s],o,l+i.lineHeight/2,i,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,r),a.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),i=a.setContext(n),l=s.setContext(n);!function(e,t,n,a,s){const r=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!a||!o||!l||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),od(e,n,i,a),r.closePath(),r.stroke(),r.restore())}(this,i,o,r,l)}})),n.display){for(e.save(),i=r-1;i>=0;i--){const a=n.setContext(this.getPointLabelContext(i)),{color:s,lineWidth:r}=a;r&&s&&(e.lineWidth=r,e.strokeStyle=s,e.setLineDash(a.borderDash),e.lineDashOffset=a.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((a,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(i)),l=Cr(o.font);if(s=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,r=e.measureText(a.label).width,e.fillStyle=o.backdropColor;const t=Sr(o.backdropPadding);e.fillRect(-r/2-t.left,-s-l.size/2-t.top,r+t.width,l.size+t.height)}br(e,a.label,0,-s,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}i(ld,"id","radialLinear"),i(ld,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Js.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),i(ld,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),i(ld,"descriptors",{angleLines:{_fallback:"grid"}});const cd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dd=Object.keys(cd);function ud(e,t){return e-t}function hd(e,t){if(Ra(t))return null;const n=e._adapter,{parser:a,round:s,isoWeekday:r}=e._parseOpts;let i=t;return"function"===typeof a&&(i=a(i)),Ba(i)||(i="string"===typeof a?n.parse(i,a):n.parse(i)),null===i?null:(s&&(i="week"!==s||!fs(r)&&!0!==r?n.startOf(i,s):n.startOf(i,"isoWeek",r)),+i)}function xd(e,t,n,a){const s=dd.length;for(let r=dd.indexOf(e);r<s-1;++r){const e=cd[dd[r]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=a)return dd[r]}return dd[s-1]}function md(e,t,n){if(n){if(n.length){const{lo:a,hi:s}=Ms(n,t);e[n[a]>=t?n[a]:n[s]]=!0}}else e[t]=!0}function pd(e,t,n){const a=[],s={},r=t.length;let i,o;for(i=0;i<r;++i)o=t[i],s[o]=i,a.push({value:o,major:!1});return 0!==r&&n?function(e,t,n,a){const s=e._adapter,r=+s.startOf(t[0].value,a),i=t[t.length-1].value;let o,l;for(o=r;o<=i;o=+s.add(o,1,a))l=n[o],l>=0&&(t[l].major=!0);return t}(e,a,s,n):a}class fd extends tl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),a=this._adapter=new io(e.adapters.date);a.init(t),Ka(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:hd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:r,maxDefined:i}=this.getUserBounds();function o(e){r||isNaN(e.min)||(a=Math.min(a,e.min)),i||isNaN(e.max)||(s=Math.max(s,e.max))}r&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),a=Ba(a)&&!isNaN(a)?a:+t.startOf(Date.now(),n),s=Ba(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,a="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,r=function(e,t,n){let a=0,s=e.length;for(;a<s&&e[a]<t;)a++;for(;s>a&&e[s-1]>n;)s--;return a>0||s<e.length?e.slice(a,s):e}(a,s,this.max);return this._unit=t.unit||(n.autoSkip?xd(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,a,s){for(let r=dd.length-1;r>=dd.indexOf(n);r--){const n=dd[r];if(cd[n].common&&e._adapter.diff(s,a,n)>=t-1)return n}return dd[n?dd.indexOf(n):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=dd.indexOf(e)+1,n=dd.length;t<n;++t)if(cd[dd[t]].common)return dd[t]}(this._unit):void 0,this.initOffsets(a),e.reverse&&r.reverse(),pd(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,s=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),a=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),s=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const r=n.length<3?.5:.25;a=Ss(a,0,r),s=Ss(s,0,r),this._offsets={start:a,end:s,factor:1/(a+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,a=this.options,s=a.time,r=s.unit||xd(s.minUnit,t,n,this._getLabelCapacity(t)),i=Wa(a.ticks.stepSize,1),o="week"===r&&s.isoWeekday,l=fs(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":r),e.diff(n,t,r)>1e5*i)throw new Error(t+" and "+n+" are too far apart with stepSize of "+i+" "+r);const x="data"===a.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<n;d=+e.add(d,i,r),u++)md(c,d,x);return d!==n&&"ticks"!==a.bounds&&1!==u||md(c,d,x),Object.keys(c).sort(ud).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,a=this._unit,s=t||n[a];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,a){const s=this.options,r=s.ticks.callback;if(r)return Ha(r,[e,t,n],this);const i=s.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],d=l&&i[l],u=n[t],h=l&&d&&u&&u.major;return this._adapter.format(e,a||(h?d:c))}generateTickLabels(e){let t,n,a;for(t=0,n=e.length;t<n;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,a=bs(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(a),r=Math.sin(a),i=this._resolveTickFontOptions(0).size;return{w:n*s+i*r,h:n*r+i*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,a=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,pd(this,[e],this._majorUnit),a),r=this._getLabelSize(s),i=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,t=a.length;e<t;++e)n=n.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const a=this.getLabels();for(t=0,n=a.length;t<n;++t)e.push(hd(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ps(e.sort(ud))}}function gd(e,t,n){let a,s,r,i,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Ls(e,"pos",t)),({pos:a,time:r}=e[o]),({pos:s,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Ls(e,"time",t)),({time:a,pos:r}=e[o]),({time:s,pos:i}=e[l]));const c=s-a;return c?r+(i-r)*(t-a)/c:r}i(fd,"id","time"),i(fd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class bd extends fd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=gd(t,this.min),this._tableRange=gd(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,a=[],s=[];let r,i,o,l,c;for(r=0,i=e.length;r<i;++r)l=e[r],l>=t&&l<=n&&a.push(l);if(a.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(r=0,i=a.length;r<i;++r)c=a[r+1],o=a[r-1],l=a[r],Math.round((c+o)/2)!==l&&s.push({time:l,pos:r/(i-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(gd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return gd(this._table,n*this._tableRange+this._minPos,!0)}}i(bd,"id","timeseries"),i(bd,"defaults",fd.defaults);const yd=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],vd="label";function jd(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function wd(e,t){e.labels=t}function Nd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vd;const a=[];e.datasets=t.map((t=>{const s=e.datasets.find((e=>e[n]===t[n]));return s&&t.data&&!a.includes(s)?(a.push(s),Object.assign(s,t),s):l({},t)}))}function _d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vd;const n={labels:[],datasets:[]};return wd(n,e.labels),Nd(n,e.datasets,t),n}function kd(e,n){const{height:a=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:c,options:d,plugins:u=[],fallbackContent:h,updateMode:x}=e,m=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,yd),p=(0,t.useRef)(null),f=(0,t.useRef)(null),g=()=>{p.current&&(f.current=new Al(p.current,{type:o,data:_d(c,i),options:d&&l({},d),plugins:u}),jd(n,f.current))},b=()=>{jd(n,null),f.current&&(f.current.destroy(),f.current=null)};return(0,t.useEffect)((()=>{!r&&f.current&&d&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(f.current,d)}),[r,d]),(0,t.useEffect)((()=>{!r&&f.current&&wd(f.current.config.data,c.labels)}),[r,c.labels]),(0,t.useEffect)((()=>{!r&&f.current&&c.datasets&&Nd(f.current.config.data,c.datasets,i)}),[r,c.datasets]),(0,t.useEffect)((()=>{f.current&&(r?(b(),setTimeout(g)):f.current.update(x))}),[r,d,c.labels,c.datasets,x]),(0,t.useEffect)((()=>{f.current&&(b(),setTimeout(g))}),[o]),(0,t.useEffect)((()=>(g(),()=>b())),[]),t.createElement("canvas",l({ref:p,role:"img",height:a,width:s},m),h)}const Sd=(0,t.forwardRef)(kd);function Cd(e,n){return Al.register(n),(0,t.forwardRef)(((n,a)=>t.createElement(Sd,l(l({},n),{},{ref:a,type:e}))))}const Md=Cd("line",Zi),Ld=Cd("bar",Ki),Ed=Cd("doughnut",Ji);Al.register(Hc,Gc,Yl,$l,tc,kc,Fc,Nc,Il,yc);const Ad=e=>{let{type:t,data:n,options:a={},title:s}=e;const r={data:n,options:l({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,color:"#e2e8f0",font:{family:"Rajdhani",size:12,weight:"bold"}}},title:{display:!!s,text:s,color:"#e2e8f0",font:{family:"Rajdhani",size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#e2e8f0",bodyColor:"#e2e8f0",borderColor:"#4a90e2",borderWidth:1,titleFont:{family:"Rajdhani",weight:"bold"},bodyFont:{family:"Rajdhani"}}},scales:"doughnut"!==t?{x:{grid:{color:"rgba(74, 144, 226, 0.1)"},ticks:{color:"#a0a0a0",font:{family:"Rajdhani",size:11}}},y:{grid:{color:"rgba(74, 144, 226, 0.1)"},ticks:{color:"#a0a0a0",font:{family:"Rajdhani",size:11},callback:function(e){return"$"+e.toFixed(2)}}}}:void 0},a)};return(0,Pt.jsx)("div",{className:"w-full h-64 p-4",children:(()=>{switch(t){case"line":default:return(0,Pt.jsx)(Md,l({},r));case"bar":return(0,Pt.jsx)(Ld,l({},r));case"doughnut":return(0,Pt.jsx)(Ed,l({},r))}})()})},Td=e=>{const t=new Date,n=[];switch(e){case"day":for(let e=23;e>=0;e--){const a=new Date(t);a.setHours(a.getHours()-e),n.push(a.getHours().toString().padStart(2,"0")+":00")}break;case"week":for(let e=6;e>=0;e--){const a=new Date(t);a.setDate(a.getDate()-e),n.push(a.toLocaleDateString("ru-RU",{weekday:"short",day:"numeric"}))}break;case"month":for(let e=3;e>=0;e--){const a=new Date(t);a.setDate(a.getDate()-7*e),n.push("".concat(a.getDate(),".").concat((a.getMonth()+1).toString().padStart(2,"0")))}break;case"all":for(let e=11;e>=0;e--){const a=new Date(t);a.setMonth(a.getMonth()-e),n.push(a.toLocaleDateString("ru-RU",{month:"short",year:"2-digit"}))}break;default:return["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"]}return n},Pd=(e,t,n)=>{var a,s,r;const i=Td(e),o=i.length;n||(n=Array.from({length:o},(()=>1e3*Math.random()+100)));const l={blue:{background:"rgba(74, 144, 226, 0.2)",border:"rgba(74, 144, 226, 1)",point:"rgba(74, 144, 226, 1)"},green:{background:"rgba(34, 197, 94, 0.2)",border:"rgba(34, 197, 94, 1)",point:"rgba(34, 197, 94, 1)"},yellow:{background:"rgba(251, 191, 36, 0.2)",border:"rgba(251, 191, 36, 1)",point:"rgba(251, 191, 36, 1)"},red:{background:"rgba(239, 68, 68, 0.2)",border:"rgba(239, 68, 68, 1)",point:"rgba(239, 68, 68, 1)"},purple:{background:"rgba(147, 51, 234, 0.2)",border:"rgba(147, 51, 234, 1)",point:"rgba(147, 51, 234, 1)"},orange:{background:"rgba(249, 115, 22, 0.2)",border:"rgba(249, 115, 22, 1)",point:"rgba(249, 115, 22, 1)"}};return{labels:i,datasets:[{label:"\u0414\u043e\u0445\u043e\u0434",data:n,backgroundColor:(null===(a=l[t])||void 0===a?void 0:a.background)||l.blue.background,borderColor:(null===(s=l[t])||void 0===s?void 0:s.border)||l.blue.border,pointBackgroundColor:(null===(r=l[t])||void 0===r?void 0:r.point)||l.blue.point,pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6,borderWidth:2,fill:!0,tension:.4}]}},zd=e=>{const t=Td(e),n=t.map((()=>200*Math.random()+50)),a=t.map((()=>100*Math.random()+20));return{labels:t,datasets:[{label:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",data:n,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2},{label:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",data:a,backgroundColor:"rgba(249, 115, 22, 0.6)",borderColor:"rgba(249, 115, 22, 1)",borderWidth:2}]}},Od=e=>{const t=Td(e),n=t.map((()=>1e3*Math.random()+500)),a=t.map(((e,t)=>.3*n[t]+100*Math.random())),s=t.map(((e,t)=>n[t]-a[t]));return{labels:t,datasets:[{label:"\u0414\u043e\u0445\u043e\u0434\u044b",data:n,backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,fill:!0,tension:.4},{label:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",data:a,backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,fill:!0,tension:.4},{label:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c",data:s,backgroundColor:"rgba(16, 185, 129, 0.2)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:3,fill:!0,tension:.4}]}},Rd="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Id=e=>{var n,a,s,r,i,o,c,d,u,h,x,m,p,f,g,b,y,v,j,w,N,_,k,S,C,M,L,E;let{user:A}=e;const[T,P]=(0,t.useState)(null),[z,O]=(0,t.useState)([]),[R,I]=(0,t.useState)(null),[D,B]=(0,t.useState)(null),[F,W]=(0,t.useState)({from:"",to:""}),[V,H]=(0,t.useState)(!0),[U,q]=(0,t.useState)("overview"),[$,G]=(0,t.useState)("BET_COMMISSION"),[Y,Q]=(0,t.useState)("date"),[K,X]=(0,t.useState)("desc"),[J,Z]=(0,t.useState)({show:!1,text:"",x:0,y:0}),[ee,te]=(0,t.useState)(!1),[ne,ae]=(0,t.useState)(""),[se,re]=(0,t.useState)({min:"",max:""}),[ie,oe]=(0,t.useState)(""),[le,ce]=(0,t.useState)(null),[de,ue]=(0,t.useState)([]),[he,xe]=(0,t.useState)(!1),[me,pe]=(0,t.useState)(null),[fe,ge]=(0,t.useState)({current_page:1,total_pages:1}),[be,ye]=(0,t.useState)("month"),[ve,je]=(0,t.useState)("month"),[we,Ne]=(0,t.useState)({percentage:60,manual_amount:0}),[_e,ke]=(0,t.useState)(!1),[Se,Ce]=(0,t.useState)({bet_commission_rate:3,gift_commission_rate:3}),[Me,Le]=(0,t.useState)(!1),Ee=Jn(1,10);(0,t.useEffect)((()=>{Ae()}),[]),(0,t.useEffect)((()=>{"history"===U&&(Ee.currentPage>1?Ee.handlePageChange(1):Te())}),[U,$,Y,K,F,ne,se,ie]),(0,t.useEffect)((()=>{"history"===U&&Te()}),[Ee.currentPage]);const Ae=async()=>{H(!0);try{const e=localStorage.getItem("token"),[t,n,a]=await Promise.all([At.get("".concat(Rd,"/admin/profit/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),At.get("".concat(Rd,"/admin/profit/commission-settings"),{headers:{Authorization:"Bearer ".concat(e)}}),At.get("".concat(Rd,"/admin/profit/bot-integration"),{headers:{Authorization:"Bearer ".concat(e)}})]);P(t.data),I(n.data),B(a.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u0440\u0438\u0431\u044b\u043b\u0438:",e)}finally{H(!1)}},Te=async()=>{try{const e=localStorage.getItem("token"),t=new URLSearchParams({page:Ee.currentPage.toString(),limit:Ee.itemsPerPage.toString(),type:$,sort_by:Y,sort_order:K});F.from&&t.append("date_from",F.from),F.to&&t.append("date_to",F.to),ne&&t.append("player_filter",ne),se.min&&t.append("amount_min",se.min),se.max&&t.append("amount_max",se.max),ie&&t.append("transaction_id",ie);const n=await At.get("".concat(Rd,"/admin/profit/entries?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});O(n.data.entries||[]),Ee.updatePagination(n.data.total_count||0)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:",e)}},Pe={BET_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",icon:(0,Pt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"}),(0,Pt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]}),color:"green",description:"3% \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 PvP-\u0438\u0433\u0440"},HUMAN_BOT_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432",icon:(0,Pt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Pt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]}),color:"cyan",description:"3% \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0438\u0433\u0440 Human-\u0431\u043e\u0442\u043e\u0432"},BOT_REVENUE:{name:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u041e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",icon:(0,Pt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Pt.jsx)("circle",{cx:"18",cy:"15",r:"3",strokeWidth:"1.5"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17 14v2l1 1"})]}),color:"blue",description:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u0442\u044b \u0432\u044b\u0438\u0433\u0440\u044b\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0442\u0438\u0432 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},GIFT_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",icon:(0,Pt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"}),(0,Pt.jsx)("circle",{cx:"17",cy:"13",r:"2",strokeWidth:"1.5"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 12v2l1 1"})]}),color:"purple",description:"3% \u0437\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0433\u0435\u043c\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}},ze=async e=>{try{await navigator.clipboard.writeText(e),te(!0),setTimeout((()=>te(!1)),2e3)}catch(t){console.error("Failed to copy: ",t)}},Oe=()=>{Z({show:!1,text:"",x:0,y:0})},Re=(e,t)=>"BET_COMMISSION"===t?"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430":"BOT_REVENUE"===t?"\u0412\u044b\u0438\u0433\u0440\u044b\u0448 \u0431\u043e\u0442\u0430 \u043f\u0440\u043e\u0442\u0438\u0432 \u0438\u0433\u0440\u043e\u043a\u0430":"GIFT_COMMISSION"===t?"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u043f\u043e\u0434\u0430\u0440\u043a\u0430":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",Ie=e=>e.bot_id?"Bot_".concat(e.bot_id.substring(0,8)):e.source_user_id?e.user_name&&e.user_email?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"font-medium",children:e.user_name}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:e.user_email})]}):"\u0418\u0433\u0440\u043e\u043a ".concat(e.source_user_id.substring(0,8),"..."):"\u2014",De=e=>(e.bet_commission||0)+(e.human_bot_commission||0)+(e.gift_commission||0)+(e.bot_revenue||0),Be=e=>De(e)*we.percentage/100+(we.manual_amount||0),Fe=async e=>{try{ce(e),pe(null),je("month"),"bet_commission"===e||"gift_commission"===e?(Ce({bet_commission_rate:(null===R||void 0===R?void 0:R.bet_commission_rate)||3,gift_commission_rate:(null===R||void 0===R?void 0:R.gift_commission_rate)||3}),ue([])):await We(e,"month")}catch(t){console.error("Error opening modal:",t),pe("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0438 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430")}},We=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve;xe(!0),pe(null);try{const n=localStorage.getItem("token");switch(e){case"bot_revenue":const e=await At.get("".concat(Rd,"/admin/profit/bot-revenue-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});ue(e.data);break;case"frozen_funds":const a=await At.get("".concat(Rd,"/admin/profit/frozen-funds-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});ue(a.data);break;case"total_revenue":const s=await At.get("".concat(Rd,"/admin/profit/total-revenue-breakdown?period=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});ue(s.data);break;case"expenses":const r=await At.get("".concat(Rd,"/admin/profit/expenses-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});ue(r.data);break;case"human_bot_commission":const i=await At.get("".concat(Rd,"/admin/human-bots-total-commission?page=1&limit=100"),{headers:{Authorization:"Bearer ".concat(n)}});ue(i.data);break;case"net_profit":const o=await At.get("".concat(Rd,"/admin/profit/net-profit-analysis?period=").concat(t),{headers:{Authorization:"Bearer ".concat(n)}});ue(o.data);break;default:ue([])}}catch(n){console.error("Error loading modal data for ".concat(e,":"),n),pe("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),ue([])}finally{xe(!1)}},Ve=e=>{je(e),le&&We(le,e)},He=async e=>{if(!(e<1)){xe(!0);try{const t=localStorage.getItem("token"),n=await At.get("".concat(Rd,"/admin/human-bots-total-commission?page=").concat(e,"&limit=100"),{headers:{Authorization:"Bearer ".concat(t)}});ue(n.data)}catch(t){console.error("Error loading Human-bot commission page:",t),pe("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b")}finally{xe(!1)}}},Ue=e=>({bet_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",human_bot_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432",gift_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",bot_revenue:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",frozen_funds:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430",total_revenue:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c",net_profit:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}[e]||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"),qe=e=>{const t=new Date(e);return{date:t.toLocaleDateString("ru-RU"),time:t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}};return V?(0,Pt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f..."})}):(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0431\u044b\u043b\u044c\u044e"})}),(0,Pt.jsxs)("div",{className:"flex space-x-4 border-b border-border-primary",children:[(0,Pt.jsx)("button",{onClick:()=>q("overview"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("overview"===U?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041e\u0431\u0437\u043e\u0440"}),(0,Pt.jsx)("button",{onClick:()=>q("history"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("history"===U?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438"}),(0,Pt.jsx)("button",{onClick:()=>q("settings"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("settings"===U?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),"overview"===U&&T&&(0,Pt.jsx)("div",{className:"space-y-8",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[(0,Pt.jsx)("div",{className:"bg-surface-card border border-green-500/30 rounded-lg p-6 hover:border-green-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Fe("bet_commission"),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"}),(0,Pt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]})}),(0,Pt.jsx)("div",{className:"bg-green-500/20 text-green-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-green-400",children:Ht(T.bet_commission||0,!0)}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"3% \u043e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 \u0432 PvP-\u0438\u0433\u0440\u0430\u0445"}),(0,Pt.jsx)("p",{className:"text-xs text-green-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-cyan-500/30 rounded-lg p-6 hover:border-cyan-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Fe("human_bot_commission"),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Pt.jsx)("circle",{cx:"18",cy:"15",r:"2",strokeWidth:"1.5"}),(0,Pt.jsx)("text",{x:"18",y:"16",textAnchor:"middle",fontSize:"6",fill:"currentColor",children:"%"})]})}),(0,Pt.jsx)("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-cyan-400",children:Ht(T.human_bot_commission||0,!0)}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"3% \u043e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-xs text-cyan-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-purple-500/30 rounded-lg p-6 hover:border-purple-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Fe("gift_commission"),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"}),(0,Pt.jsx)("circle",{cx:"17",cy:"13",r:"2",strokeWidth:"1.5"}),(0,Pt.jsx)("text",{x:"17",y:"14",textAnchor:"middle",fontSize:"6",fill:"currentColor",children:"%"})]})}),(0,Pt.jsx)("div",{className:"bg-purple-500/20 text-purple-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-purple-400",children:Ht(T.gift_commission||0,!0)}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"3% \u043e\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-xs text-purple-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-blue-500/30 rounded-lg p-6 hover:border-blue-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Fe("bot_revenue"),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"})]})}),(0,Pt.jsx)("div",{className:"bg-blue-500/20 text-blue-400 text-xs font-bold px-2 py-1 rounded-full",children:"AI"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-blue-400",children:Ht(T.bot_revenue||0,!0)}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:D&&(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("p",{children:["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432: ",D.bot_stats.active_bots]}),(0,Pt.jsxs)("p",{children:["Avg Win Rate: ",(null===(n=D.bot_stats.avg_win_rate)||void 0===n?void 0:n.toFixed(1))||0,"%"]}),(0,Pt.jsxs)("p",{children:["\u0421\u0435\u0433\u043e\u0434\u043d\u044f: ",Ht(D.bot_revenue.today||0,!0)]})]})}),(0,Pt.jsx)("p",{className:"text-xs text-blue-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-yellow-500/30 rounded-lg p-6 hover:border-yellow-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Fe("total_revenue"),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Pt.jsx)("div",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-bold px-2 py-1 rounded-full",children:"TOTAL"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-yellow-400",children:Ht(De(T),!0)}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432 \u0434\u043e\u0445\u043e\u0434\u0430"}),(0,Pt.jsx)("p",{className:"text-xs text-yellow-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-orange-500/30 rounded-lg p-6 hover:border-orange-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Fe("frozen_funds"),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Pt.jsx)("div",{className:"bg-orange-500/20 text-orange-400 text-xs font-bold px-2 py-1 rounded-full",children:"FROZEN"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-orange-400",children:Ht(T.frozen_funds||0,!0)}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440\u0430\u0445"}),(0,Pt.jsx)("p",{className:"text-xs text-orange-300 mt-1",children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"})]})})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-red-500/30 rounded-lg p-6 hover:border-red-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>ke(!0),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,Pt.jsx)("div",{className:"bg-red-500/20 text-red-400 text-xs font-bold px-2 py-1 rounded-full",children:"CALC"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-red-400",children:Ht(Be(T),!0)}),(0,Pt.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:[we.percentage,"% \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 + \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435"]}),(0,Pt.jsx)("p",{className:"text-xs text-red-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-emerald-500/30 rounded-lg p-6 hover:border-emerald-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Fe("net_profit"),children:(0,Pt.jsx)("div",{className:"flex items-center justify-between",children:(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsx)("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pt.jsx)("div",{className:"bg-emerald-500/20 text-emerald-400 text-xs font-bold px-2 py-1 rounded-full",children:"NET"})]}),(0,Pt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsx)("p",{className:"font-russo text-2xl font-bold text-emerald-400",children:Ht((e=>De(e)-Be(e))(T),!0)}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043c\u0438\u043d\u0443\u0441 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,Pt.jsx)("p",{className:"text-xs text-emerald-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})})]})}),"history"===U&&(0,Pt.jsx)("div",{className:"space-y-6",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"border-b border-border-primary bg-surface-sidebar",children:(0,Pt.jsx)("div",{className:"flex",children:Object.entries(Pe).map((e=>{let[t,n]=e;return(0,Pt.jsxs)("button",{onClick:()=>{G(t),Ee.handlePageChange&&Ee.handlePageChange(1)},className:"px-6 py-4 font-roboto font-bold text-sm transition-all duration-200 border-b-2 flex items-center space-x-2 ".concat($===t?"green"===n.color?"border-green-500 bg-green-500/10 text-green-400":"cyan"===n.color?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"blue"===n.color?"border-blue-500 bg-blue-500/10 text-blue-400":"border-purple-500 bg-purple-500/10 text-purple-400":"border-transparent text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Pt.jsx)("div",{className:"".concat($===t?"green"===n.color?"text-green-400":"cyan"===n.color?"text-cyan-400":"blue"===n.color?"text-blue-400":"text-purple-400":"text-text-secondary"),children:n.icon}),(0,Pt.jsx)("span",{children:n.name}),(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-bold ".concat($===t?"bg-white/20 text-white":"bg-surface-card text-text-secondary"),children:$===t?z.length:"\u2022"})]},t)}))})}),(0,Pt.jsxs)("div",{className:"p-4 bg-surface-sidebar border-b border-border-primary",children:[(0,Pt.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-3 lg:space-y-0",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsxs)("h3",{className:"font-rajdhani text-lg font-bold text-white flex items-center space-x-2",children:[(0,Pt.jsx)("div",{className:"".concat("green"===(null===(a=Pe[$])||void 0===a?void 0:a.color)?"text-green-400":"cyan"===(null===(s=Pe[$])||void 0===s?void 0:s.color)?"text-cyan-400":"blue"===(null===(r=Pe[$])||void 0===r?void 0:r.color)?"text-blue-400":"purple"===(null===(i=Pe[$])||void 0===i?void 0:i.color)?"text-purple-400":"text-gray-400"),children:null===(o=Pe[$])||void 0===o?void 0:o.icon}),(0,Pt.jsx)("span",{children:(null===(c=Pe[$])||void 0===c?void 0:c.name)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"})]}),(0,Pt.jsxs)("span",{className:"text-text-secondary text-sm",children:["(",z.length," \u0437\u0430\u043f\u0438\u0441\u0435\u0439)"]})]}),(0,Pt.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430:"}),(0,Pt.jsxs)("select",{value:Y,onChange:e=>Q(e.target.value),className:"bg-surface-card border border-border-primary rounded-lg px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Pt.jsx)("option",{value:"date",children:"\u041f\u043e \u0434\u0430\u0442\u0435"}),(0,Pt.jsx)("option",{value:"amount",children:"\u041f\u043e \u0441\u0443\u043c\u043c\u0435"}),(0,Pt.jsx)("option",{value:"source",children:"\u041f\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0443"})]}),(0,Pt.jsx)("button",{onClick:()=>X("asc"===K?"desc":"asc"),className:"px-2 py-1 bg-surface-card border border-border-primary rounded text-white hover:bg-surface-sidebar transition-colors text-sm",title:"asc"===K?"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e":"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",children:"asc"===K?"\u2191":"\u2193"})]}),(0,Pt.jsx)("button",{onClick:()=>{const e=[["\u0414\u0430\u0442\u0430","\u0412\u0440\u0435\u043c\u044f","\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","\u0421\u0443\u043c\u043c\u0430","\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a","ID \u0438\u0433\u0440\u043e\u043a\u0430/\u0431\u043e\u0442\u0430","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"].join(","),...z.map((e=>{return[new Date(e.created_at).toLocaleDateString("ru-RU"),new Date(e.created_at).toLocaleTimeString("ru-RU"),'"'.concat((t=e.type,{bet_commission:"\ud83d\udcb0 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",gift_commission:"\ud83c\udf81 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",bot_profit:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",BOT_REVENUE:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",human_bot_profit:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 Human \u0431\u043e\u0442\u043e\u0432",penalty:"\ud83d\udea8 \u0428\u0442\u0440\u0430\u0444\u044b \u0438 \u0443\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f",refund:"\ud83d\udd04 \u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u0441\u0440\u0435\u0434\u0441\u0442\u0432",system_credit:"\u2699\ufe0f \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f",game_commission:"\ud83d\udcb0 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0438\u0433\u0440\u044b",shop_sale:"\ud83d\uded2 \u041f\u0440\u043e\u0434\u0430\u0436\u0430 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435",other:"\ud83d\udcca \u041f\u0440\u043e\u0447\u0435\u0435"}[t]||t),'"'),e.amount.toFixed(2),'"'.concat(e.source||"\u2014",'"'),e.source_user_id||e.bot_id||"\u2014",'"'.concat(e.description||"\u2014",'"')].join(",");var t}))].join("\n"),t=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(t);n.setAttribute("href",a),n.setAttribute("download","profit_history_".concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded text-sm transition-colors",children:"\ud83d\udce5 CSV"})]})]}),(0,Pt.jsxs)("div",{className:"p-4 bg-surface-card border-b border-border-primary",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041f\u0435\u0440\u0438\u043e\u0434"}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("input",{type:"date",value:F.from,onChange:e=>W((t=>l(l({},t),{},{from:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041e\u0442"}),(0,Pt.jsx)("input",{type:"date",value:F.to,onChange:e=>W((t=>l(l({},t),{},{to:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u0414\u043e"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u0433\u0440\u043e\u043a/\u0411\u043e\u0442"}),(0,Pt.jsx)("input",{type:"text",value:ne,onChange:e=>ae(e.target.value),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u0418\u043c\u044f, \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 ID"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0421\u0443\u043c\u043c\u0430 ($)"}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("input",{type:"number",value:se.min,onChange:e=>re((t=>l(l({},t),{},{min:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041c\u0438\u043d",step:"0.01"}),(0,Pt.jsx)("input",{type:"number",value:se.max,onChange:e=>re((t=>l(l({},t),{},{max:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041c\u0430\u043a\u0441",step:"0.01"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"ID \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"}),(0,Pt.jsx)("input",{type:"text",value:ie,onChange:e=>oe(e.target.value),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0438\u043b\u0438 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u044b\u0439 ID"})]})]}),(0,Pt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,Pt.jsx)("button",{onClick:()=>{W({from:"",to:""}),ae(""),re({min:"",max:""}),oe("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-rajdhani rounded text-sm transition-colors",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})})]})]}),(0,Pt.jsx)("div",{className:"overflow-hidden",children:0===z.length?(0,Pt.jsxs)("div",{className:"text-center py-16",children:[(0,Pt.jsx)("div",{className:"mb-4 flex justify-center ".concat("green"===(null===(d=Pe[$])||void 0===d?void 0:d.color)?"text-green-400":"blue"===(null===(u=Pe[$])||void 0===u?void 0:u.color)?"text-blue-400":"purple"===(null===(h=Pe[$])||void 0===h?void 0:h.color)?"text-purple-400":"text-gray-400"),children:(0,Pt.jsx)("div",{style:{transform:"scale(3)"},children:null===(x=Pe[$])||void 0===x?void 0:x.icon})}),(0,Pt.jsx)("h4",{className:"font-rajdhani text-xl font-bold text-white mb-2",children:"\u041d\u0435\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"}),(0,Pt.jsxs)("p",{className:"text-text-secondary",children:['\u0412 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 "',(null===(m=Pe[$])||void 0===m?void 0:m.name)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",'" \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445']}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm mt-2",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0438\u043b\u0438 \u043f\u0435\u0440\u0438\u043e\u0434"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0422\u0438\u043f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u043e\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:z.map(((e,t)=>{const{date:n,time:a}=qe(e.created_at),s=Pe[$]||{color:"gray"};return(0,Pt.jsxs)("tr",{className:"hover:bg-surface-sidebar transition-colors",children:[(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("button",{onClick:()=>ze(e.id),onMouseEnter:t=>((e,t)=>{Z({show:!0,text:t,x:e.clientX,y:e.clientY})})(t,e.id),onMouseLeave:Oe,className:"p-2 bg-surface-card border border-border-primary rounded hover:border-accent-primary transition-colors group",title:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 text-accent-primary group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),(0,Pt.jsxs)("td",{className:"px-4 py-3",children:[(0,Pt.jsx)("div",{className:"text-sm font-roboto font-bold text-white",children:n}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:a})]}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("span",{className:"text-lg font-bold font-russo ".concat("green"===s.color?"text-green-400":"blue"===s.color?"text-blue-400":"purple"===s.color?"text-purple-400":"text-gray-400"),children:Ht(e.amount,!0)})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("green"===s.color?"bg-green-100 text-green-800":"blue"===s.color?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:Re(0,$)})}),(0,Pt.jsxs)("td",{className:"px-4 py-3",children:[(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:Ie(e)}),e.source_user_id&&(0,Pt.jsxs)("div",{className:"text-xs text-accent-primary font-mono",children:["ID: ",e.source_user_id.substring(0,8),"..."]})]}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm font-roboto text-text-secondary max-w-xs",children:(0,Pt.jsx)("div",{className:"truncate",title:e.description,children:e.description||"\u2014"})})]},t)}))})]})}),(0,Pt.jsx)("div",{className:"lg:hidden space-y-3 p-4",children:z.map(((e,t)=>{const{date:n,time:a}=qe(e.created_at),s=Pe[$]||{color:"gray"};return(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-border-primary",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>ze(e.id),className:"p-2 bg-surface-card border border-border-primary rounded hover:border-accent-primary transition-colors",title:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 text-accent-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-sm font-roboto font-bold text-white",children:n}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:a})]})]}),(0,Pt.jsx)("div",{className:"text-lg font-bold font-russo ".concat("green"===s.color?"text-green-400":"blue"===s.color?"text-blue-400":"purple"===s.color?"text-purple-400":"text-gray-400"),children:Ht(e.amount,!0)})]}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0422\u0438\u043f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:"}),(0,Pt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("green"===s.color?"bg-green-100 text-green-800":"blue"===s.color?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:Re(0,$)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0433\u0440\u043e\u043a:"}),(0,Pt.jsx)("span",{className:"text-white",children:Ie(e)})]}),e.description&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),(0,Pt.jsx)("div",{className:"text-white text-xs mt-1",children:e.description})]})]})]},t)}))})]})}),Ee.totalPages>1&&Ee.handlePageChange&&(0,Pt.jsx)("div",{className:"border-t border-border-primary p-4 bg-surface-sidebar",children:(0,Pt.jsx)(Xn,{currentPage:Ee.currentPage,totalPages:Ee.totalPages,onPageChange:Ee.handlePageChange})})]})}),"settings"===U&&R&&(0,Pt.jsx)("div",{className:"space-y-6",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u0441\u0442\u0430\u0432\u043a\u0438 (%)"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",defaultValue:R.bet_commission_rate||3,className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 (%)"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",defaultValue:R.gift_commission_rate||3,className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"})]}),(0,Pt.jsx)("button",{className:"bg-accent-primary hover:bg-accent-primary/80 text-white font-rajdhani font-bold py-2 px-4 rounded-lg transition-colors",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})}),J.show&&(0,Pt.jsx)("div",{className:"fixed z-50 bg-black text-white text-xs rounded px-2 py-1 pointer-events-none",style:{left:J.x+10,top:J.y-30},children:J.text}),ee&&(0,Pt.jsx)("div",{className:"fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg z-50 transition-all",children:"\u2713 ID \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"}),_e&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-50 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,Pt.jsx)("button",{onClick:()=>ke(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-bold mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 (%)"}),(0,Pt.jsx)("input",{type:"number",value:we.percentage,onChange:e=>Ne((t=>l(l({},t),{},{percentage:parseInt(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-2 text-white",min:"0",max:"100"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-bold mb-2",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b ($)"}),(0,Pt.jsx)("input",{type:"number",value:we.manual_amount,onChange:e=>Ne((t=>l(l({},t),{},{manual_amount:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-2 text-white",step:"0.01"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:()=>ke(!1),className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,Pt.jsx)("button",{onClick:()=>{Ne({percentage:60,manual_amount:0}),ke(!1)},className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})}),le&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-50 rounded-lg max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:Ue(le)}),(0,Pt.jsx)("button",{onClick:()=>ce(null),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:["bet_commission"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"})]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0439 \u0441 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 \u0432 PvP-\u0438\u0433\u0440\u0430\u0445"})]})]}),(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Pt.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[(null===R||void 0===R?void 0:R.bet_commission_rate)||3,"%"]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:Ht(T.bet_commission||0,!0)})]})]})}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 (%)"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Se.bet_commission_rate,onChange:e=>Ce((t=>l(l({},t),{},{bet_commission_rate:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d: 1-10%. \u0422\u0435\u043a\u0443\u0449\u0438\u0439: ",(null===R||void 0===R?void 0:R.bet_commission_rate)||3,"%"]})]}),(0,Pt.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435"})]}),(0,Pt.jsx)("p",{className:"text-sm text-yellow-300 mt-1",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043f\u043e\u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0432\u0441\u0435 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438. \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0438\u0433\u0440\u044b \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u0441 \u043f\u0440\u0435\u0436\u043d\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u043c."})]})]})]}),"human_bot_commission"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-6 h-6 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Pt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0445 \u0441 Human-\u0431\u043e\u0442\u043e\u0432 \u0432 \u0438\u0433\u0440\u0430\u0445"})]})]}),he?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400 mx-auto mb-4"}),(0,Pt.jsx)("p",{className:"text-cyan-400",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):me?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Pt.jsx)("p",{className:"text-sm text-red-400",children:me}),(0,Pt.jsx)("button",{onClick:()=>We("human_bot_commission"),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:Ht(de.total_commission||0,!0)}),(0,Pt.jsx)("div",{className:"text-xs text-cyan-300 mt-1",children:"\u043e\u0442 \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e Human-\u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:de.total_bots||0}),(0,Pt.jsx)("div",{className:"text-xs text-cyan-300 mt-1",children:"\u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:de.bots_with_commission||0}),(0,Pt.jsx)("div",{className:"text-xs text-cyan-300 mt-1",children:"\u0441 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0435\u0439"})]})]}),(0,Pt.jsx)("div",{className:"text-xs text-cyan-300",children:"\u0421\u0442\u0430\u0432\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438: 3% \u0441 \u043f\u043e\u0431\u0435\u0434 \u0438 \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439 (\u043d\u0438\u0447\u044c\u0438 \u0431\u0435\u0437 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438)"})]}),de.bot_commissions&&de.bot_commissions.length>0?(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-cyan-400 mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043f\u043e Human-\u0431\u043e\u0442\u0430\u043c:"}),de.bot_commissions.map(((e,t)=>(0,Pt.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm font-medium text-cyan-400",children:e.name}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440: ",e.character," \u2022",e.is_active?(0,Pt.jsx)("span",{className:"text-green-400",children:" \u0410\u043a\u0442\u0438\u0432\u0435\u043d"}):(0,Pt.jsx)("span",{className:"text-red-400",children:" \u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-lg font-bold text-cyan-400",children:Ht(e.total_commission_paid||0,!0)}),(0,Pt.jsxs)("div",{className:"text-xs text-cyan-300",children:[e.total_games_played||0," \u0438\u0433\u0440 \u0432\u0441\u0435\u0433\u043e"]})]})]}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u041f\u043e\u0431\u0435\u0434: ",e.total_games_won||0," \u2022 \u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u0438\u0433\u0440\u0443: ",Ht(e.total_games_played>0?e.total_commission_paid/e.total_games_played:0,!0)]})]},e.id||t))),de.pagination&&de.pagination.total_pages>1&&(0,Pt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[(0,Pt.jsx)("button",{onClick:()=>He(de.pagination.current_page-1),disabled:!de.pagination.has_prev,className:"px-3 py-1 bg-cyan-600 text-white text-sm rounded hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,Pt.jsxs)("span",{className:"text-sm text-text-secondary",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",de.pagination.current_page," \u0438\u0437 ",de.pagination.total_pages]}),(0,Pt.jsx)("button",{onClick:()=>He(de.pagination.current_page+1),disabled:!de.pagination.has_next,className:"px-3 py-1 bg-cyan-600 text-white text-sm rounded hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u2192"})]})]}):(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd16"}),(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2 text-cyan-400",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"Human-\u0431\u043e\u0442\u044b \u0435\u0449\u0435 \u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"})]})]})]}),"gift_commission"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"})]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0439 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0433\u0435\u043c\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"})]})]}),(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Pt.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[(null===R||void 0===R?void 0:R.gift_commission_rate)||3,"%"]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:Ht(T.gift_commission||0,!0)})]})]})}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 (%)"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Se.gift_commission_rate,onChange:e=>Ce((t=>l(l({},t),{},{gift_commission_rate:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d: 1-10%. \u0422\u0435\u043a\u0443\u0449\u0438\u0439: ",(null===R||void 0===R?void 0:R.gift_commission_rate)||3,"%"]})]}),(0,Pt.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsx)("span",{className:"text-sm font-medium text-blue-400",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]}),(0,Pt.jsx)("p",{className:"text-sm text-blue-300 mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432\u0437\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u0439 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0433\u0435\u043c\u043e\u0432 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443."})]})]})]}),"bot_revenue"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Pt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"})]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0418\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043e\u0442 AI-\u0431\u043e\u0442\u043e\u0432"})]})]}),(0,Pt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Pt.jsx)("button",{onClick:()=>Ve(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ve===e.key?"bg-blue-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),D&&(0,Pt.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-blue-400 mb-4",children:"\ud83e\udd16 \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:D.bot_stats.active_bots})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0412\u0441\u0435\u0433\u043e \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:D.bot_stats.total_bots})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"Avg Win Rate"}),(0,Pt.jsxs)("div",{className:"text-lg font-bold text-blue-400",children:[(null===(p=D.bot_stats.avg_win_rate)||void 0===p?void 0:p.toFixed(1))||0,"%"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:D.bot_stats.total_games})]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u0414\u043e\u0445\u043e\u0434 \u043f\u043e \u0440\u0435\u0436\u0438\u043c\u0430\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a:"}),(0,Pt.jsx)("div",{className:"space-y-2",children:Object.entries(D.creation_modes).map((e=>{let[t,n]=e;return(0,Pt.jsxs)("div",{className:"flex justify-between items-center bg-surface-card rounded-lg p-2",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"always-first"===t?"Always First":"queue-based"===t?"Queue-Based":"after-all"===t?"After All":t}),(0,Pt.jsx)("span",{className:"text-blue-400 font-bold",children:Ht(n.revenue||0,!0)})]},t)}))})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u0414\u043e\u0445\u043e\u0434 \u043f\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044e \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("div",{className:"space-y-2",children:Object.entries(D.behaviors).map((e=>{let[t,n]=e;return(0,Pt.jsxs)("div",{className:"flex justify-between items-center bg-surface-card rounded-lg p-2",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"aggressive"===t?"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439":"balanced"===t?"\u0421\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439":"cautious"===t?"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439":t}),(0,Pt.jsx)("span",{className:"text-blue-400 font-bold",children:Ht(n.revenue||0,!0)})]},t)}))})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c:"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u0438\u0433\u0440\u0443"}),(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:Ht(D.efficiency.revenue_per_game||0,!0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:Ht(D.efficiency.revenue_per_bot||0,!0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0418\u0433\u0440 \u043d\u0430 \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:(null===(f=D.efficiency.games_per_bot)||void 0===f?void 0:f.toFixed(1))||0})]})]})]})]}),he?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):me?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Pt.jsx)("p",{className:"text-sm text-red-400",children:me}),(0,Pt.jsx)("button",{onClick:()=>We("bot_revenue"),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0439 \u0434\u043e\u0445\u043e\u0434:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:Ht(de.total_revenue||0,!0)}),(0,Pt.jsxs)("div",{className:"text-xs text-blue-300 mt-1",children:["day"===de.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===de.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===de.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===de.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:de.active_bots||0})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0434\u043e\u0445\u043e\u0434:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:Ht(de.avg_revenue_per_bot||0,!0)})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-blue-400 mb-4",children:"\ud83d\udcc8 \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0434\u043e\u0445\u043e\u0434\u043e\u0432 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)(Ad,{type:"line",data:Pd(ve,"blue",de.chart_data),title:"\u0414\u043e\u0445\u043e\u0434\u044b \u043e\u0442 \u0431\u043e\u0442\u043e\u0432 ".concat("day"===de.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===de.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===de.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),(0,Pt.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("p",{className:"text-sm text-blue-300",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b \u043d\u0430\u043a\u0430\u043f\u043b\u0438\u0432\u0430\u044e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0432 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435. \u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430 (\u043e\u0431\u044b\u0447\u043d\u043e 12 \u0438\u0433\u0440) \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043e\u0431\u0449\u0438\u0439 \u0444\u043e\u043d\u0434 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b."})]}),de.entries&&de.entries.length>0?(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-blue-400",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e \u0431\u043e\u0442\u0430\u043c:"}),(0,Pt.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:de.entries.map(((e,t)=>{var n;return(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"font-medium text-white",children:e.bot_name}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:[e.games_played," \u0438\u0433\u0440 \u2022 ",null===(n=e.win_rate)||void 0===n?void 0:n.toFixed(1),"% \u043f\u043e\u0431\u0435\u0434"]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:Ht(e.total_revenue||0,!0)}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:[e.cycles_completed," \u0446\u0438\u043a\u043b\u043e\u0432"]})]})]})},t)}))})]}):(0,Pt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Pt.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,Pt.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsxs)("p",{className:"text-xs mt-1",children:["day"===de.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0434\u0435\u043d\u044c","week"===de.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e","month"===de.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0441\u044f\u0446","all"===de.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]})]})]}),"frozen_funds"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440\u0430\u0445 \u0438 \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f\u0445"})]})]}),(0,Pt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Pt.jsx)("button",{onClick:()=>Ve(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ve===e.key?"bg-orange-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),he?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-400"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):me?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Pt.jsx)("p",{className:"text-sm text-red-400",children:me}),(0,Pt.jsx)("button",{onClick:()=>We("frozen_funds"),className:"mt-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:Ht(de.total_frozen||0,!0)}),(0,Pt.jsxs)("div",{className:"text-xs text-orange-300 mt-1",children:["day"===de.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===de.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===de.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===de.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:de.active_games||0}),(0,Pt.jsxs)("div",{className:"text-xs text-orange-300 mt-1",children:["day"===de.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===de.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===de.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===de.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]})]}),(0,Pt.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-orange-400 mb-2",children:"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430:"}),(0,Pt.jsx)("p",{className:"text-sm text-orange-300",children:"\u041a\u043e\u0433\u0434\u0430 \u0438\u0433\u0440\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u0442\u0430\u0432\u043a\u0443, \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (3%) \u0437\u0430\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0438\u0433\u0440\u044b. \u042d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0441\u043f\u0440\u0430\u0432\u0435\u0434\u043b\u0438\u0432\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u043b\u043e\u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f."})]}),de.entries&&de.entries.length>0?(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-orange-400",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"}),(0,Pt.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:de.entries.map(((e,t)=>{var n,a;return(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"font-medium text-white",children:[(null===(n=e.creator)||void 0===n?void 0:n.username)||"Unknown"," vs ",(null===(a=e.opponent)||void 0===a?void 0:a.username)||"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"]}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u0421\u0442\u0430\u0432\u043a\u0430: ",Ht(e.bet_amount||0,!0)," \u2022 \u0421\u0442\u0430\u0442\u0443\u0441: ",e.status||"Unknown"]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-lg font-bold text-orange-400",children:Ht(e.frozen_commission||0,!0)}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:e.commission_rate?"".concat((100*e.commission_rate).toFixed(1),"%"):"3%"})]})]})},t)}))})]}):(0,Pt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Pt.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udd12"}),(0,Pt.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440 \u0441 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438"}),(0,Pt.jsx)("p",{className:"text-xs mt-1",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u0438\u0433\u0440"})]})]})]}),"total_revenue"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0432\u0441\u0435\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430\u043c \u0434\u043e\u0445\u043e\u0434\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b"})]})]}),(0,Pt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Pt.jsx)("button",{onClick:()=>Ve(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ve===e.key?"bg-yellow-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),he?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):me?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Pt.jsx)("p",{className:"text-sm text-red-400",children:me}),(0,Pt.jsx)("button",{onClick:()=>We("total_revenue"),className:"mt-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"text-center mb-6",children:[(0,Pt.jsx)("div",{className:"text-4xl font-bold text-yellow-400",children:Ht(de.total_revenue||0,!0)}),(0,Pt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c","day"===de.period&&" \u0437\u0430 \u0434\u0435\u043d\u044c","week"===de.period&&" \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===de.period&&" \u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===de.period&&" \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),de.breakdown&&de.breakdown.length>0&&(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-yellow-400 mb-4",children:"\ud83e\udd67 \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u0445\u043e\u0434\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Pt.jsx)("div",{className:"h-64",children:(0,Pt.jsx)(Ad,{type:"doughnut",data:($e=de.breakdown,{labels:$e.map((e=>e.name||e.source)),datasets:[{data:$e.map((e=>e.amount||0)),backgroundColor:["rgba(74, 144, 226, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(147, 51, 234, 0.8)","rgba(249, 115, 22, 0.8)"].slice(0,$e.length),borderColor:["rgba(74, 144, 226, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(147, 51, 234, 1)","rgba(249, 115, 22, 1)"].slice(0,$e.length),borderWidth:2,hoverOffset:4}]})})}),(0,Pt.jsx)("div",{className:"space-y-3",children:de.breakdown.map(((e,t)=>{var n;return(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-surface-card rounded-lg",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:["#4A90E2","#22C55E","#FBBF24","#9333EA","#F97316"][t%5]}}),(0,Pt.jsx)("span",{className:"text-sm text-white",children:e.name})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:Ht(e.amount||0,!0)}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:[null===(n=e.percentage)||void 0===n?void 0:n.toFixed(1),"%"]})]})]},t)}))})]})]}),de.breakdown&&de.breakdown.length>0?(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsx)("div",{className:"space-y-3",children:de.breakdown.map(((e,t)=>{var n;return(0,Pt.jsxs)("div",{className:"bg-".concat(e.color,"-500/10 border border-").concat(e.color,"-500/30 rounded-lg p-4"),children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("div",{className:"w-4 h-4 bg-".concat(e.color,"-400 rounded-full")}),(0,Pt.jsx)("span",{className:"text-sm text-".concat(e.color,"-400"),children:e.name})]}),(0,Pt.jsx)("div",{className:"text-xl font-bold text-".concat(e.color,"-400 mt-1"),children:Ht(e.amount||0,!0)}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:[null===(n=e.percentage)||void 0===n?void 0:n.toFixed(1),"% \u2022 ",e.transactions," \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"]})]},t)}))}),(0,Pt.jsx)("div",{className:"space-y-3",children:(0,Pt.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-yellow-400 mb-2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439:"}),(0,Pt.jsx)("span",{className:"text-yellow-400",children:(null===(g=de.summary)||void 0===g?void 0:g.total_transactions)||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,Pt.jsx)("span",{className:"text-yellow-400",children:Ht((null===(b=de.summary)||void 0===b?void 0:b.avg_revenue_per_transaction)||0,!0)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0422\u043e\u043f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a:"}),(0,Pt.jsx)("span",{className:"text-yellow-400",children:(null===(y=de.breakdown)||void 0===y||null===(v=y.find((e=>{var t;return e.source===(null===(t=de.summary)||void 0===t?void 0:t.top_source)})))||void 0===v?void 0:v.name)||"N/A"})]})]})]})})]}):(0,Pt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Pt.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,Pt.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445"}),(0,Pt.jsx)("p",{className:"text-xs mt-1",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u044b\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"})]})]})]}),"expenses"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b \u0438 \u0437\u0430\u0442\u0440\u0430\u0442\u044b \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b"})]})]}),(0,Pt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Pt.jsx)("button",{onClick:()=>Ve(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ve===e.key?"bg-red-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),he?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-400"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):me?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Pt.jsx)("p",{className:"text-sm text-red-400",children:me}),(0,Pt.jsx)("button",{onClick:()=>We("expenses"),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:Ht(de.total_expenses||0,!0)}),(0,Pt.jsxs)("div",{className:"text-xs text-red-300 mt-1",children:["day"===de.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===de.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===de.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===de.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,Pt.jsxs)("div",{className:"text-2xl font-bold text-red-400",children:[de.expense_percentage||60,"%"]}),(0,Pt.jsx)("div",{className:"text-xs text-red-300 mt-1",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-red-400 mb-4",children:"\ud83d\udcca \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,Pt.jsx)(Ad,{type:"bar",data:zd(ve),title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b ".concat("day"===de.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===de.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===de.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),de.breakdown&&de.breakdown.length>0&&(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),de.breakdown.map(((e,t)=>(0,Pt.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-sm text-red-400",children:e.name}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:e.calculation})]}),(0,Pt.jsx)("div",{className:"text-lg font-bold text-red-400",children:Ht(e.amount||0,!0)})]})},t)))]}),de.statistics&&(0,Pt.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),(0,Pt.jsxs)("span",{className:"text-red-400",children:[(null===(j=de.statistics.expense_ratio)||void 0===j?void 0:j.toFixed(1))||0,"%"]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,Pt.jsx)("span",{className:"text-red-400",children:Ht(de.statistics.monthly_avg||0,!0)})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438:"}),(0,Pt.jsxs)("span",{className:"text-red-400",children:[(null===(w=de.statistics.efficiency_score)||void 0===w?void 0:w.toFixed(1))||0,"/100"]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),(0,Pt.jsx)("p",{className:"text-sm text-red-300",children:'\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u0430\u043a \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043f\u043b\u044e\u0441 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432 \u043f\u043b\u0438\u0442\u043a\u0435 "\u0420\u0430\u0441\u0445\u043e\u0434\u044b".'})]})]})]}),"net_profit"===le&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0447\u0435\u0442\u0430 \u0432\u0441\u0435\u0445 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"})]})]}),(0,Pt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Pt.jsx)("button",{onClick:()=>Ve(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(ve===e.key?"bg-emerald-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),he?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"}),(0,Pt.jsx)("p",{className:"text-sm text-text-secondary mt-2",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})]}):me?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Pt.jsx)("p",{className:"text-sm text-red-400",children:me}),(0,Pt.jsx)("button",{onClick:()=>We("net_profit"),className:"mt-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"text-center mb-6",children:[(0,Pt.jsx)("div",{className:"text-4xl font-bold text-emerald-400",children:Ht((null===(N=de.summary)||void 0===N?void 0:N.net_profit)||0,!0)}),(0,Pt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c","day"===de.period&&" \u0437\u0430 \u0434\u0435\u043d\u044c","week"===de.period&&" \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===de.period&&" \u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===de.period&&" \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]}),(0,Pt.jsxs)("div",{className:"text-xs text-emerald-400 mt-1",children:[(null===(_=de.summary)||void 0===_||null===(k=_.profit_margin)||void 0===k?void 0:k.toFixed(1))||0,"% \u043c\u0430\u0440\u0436\u0430"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-emerald-400 mb-4",children:"\ud83d\udcb9 \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,Pt.jsx)(Ad,{type:"line",data:Od(ve),title:"\u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 ".concat("day"===de.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===de.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===de.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,Pt.jsx)("div",{className:"text-xl font-bold text-yellow-400",children:Ht((null===(S=de.summary)||void 0===S?void 0:S.total_revenue)||0,!0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,Pt.jsx)("div",{className:"text-xl font-bold text-red-400",children:Ht((null===(C=de.summary)||void 0===C?void 0:C.total_expenses)||0,!0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,Pt.jsx)("div",{className:"text-xl font-bold text-emerald-400",children:Ht((null===(M=de.summary)||void 0===M?void 0:M.net_profit)||0,!0)})]})]}),de.calculation_steps&&de.calculation_steps.length>0&&(0,Pt.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-emerald-400 mb-2",children:"\u041f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442:"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[de.calculation_steps.map(((e,t)=>(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsxs)("span",{className:"text-emerald-300",children:[e.description,":"]}),(0,Pt.jsxs)("span",{className:"text-emerald-300 ".concat(e.amount<0?"text-red-400":"text-emerald-400"),children:[e.amount<0?"":"+",Ht(e.amount||0,!0)]})]},t))),(0,Pt.jsx)("div",{className:"border-t border-emerald-500/30 pt-2",children:(0,Pt.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,Pt.jsx)("span",{className:"text-emerald-400",children:"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"}),(0,Pt.jsx)("span",{className:"text-emerald-400",children:Ht((null===(L=de.summary)||void 0===L?void 0:L.net_profit)||0,!0)})]})})]})]}),(null===(E=de.analysis)||void 0===E?void 0:E.trends)&&(0,Pt.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-emerald-400 mb-2",children:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0442\u0440\u0435\u043d\u0434\u043e\u0432:"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-emerald-300",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),(0,Pt.jsx)("span",{className:"".concat(de.analysis.trends.is_profitable?"text-emerald-400":"text-red-400"),children:de.analysis.trends.is_profitable?"\u041f\u0440\u0438\u0431\u044b\u043b\u044c\u043d\u043e":"\u0423\u0431\u044b\u0442\u043e\u0447\u043d\u043e"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-emerald-300",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438:"}),(0,Pt.jsx)("span",{className:"text-emerald-400",children:de.analysis.trends.efficiency_rating||"N/A"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-emerald-300",children:"\u041f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b \u0440\u043e\u0441\u0442\u0430:"}),(0,Pt.jsx)("span",{className:"text-emerald-400",children:de.analysis.trends.growth_potential||"N/A"})]})]})]})]})]}),"bet_commission"!==le&&"human_bot_commission"!==le&&"gift_commission"!==le&&"bot_revenue"!==le&&"frozen_funds"!==le&&"total_revenue"!==le&&"expenses"!==le&&"net_profit"!==le&&(0,Pt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Pt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"}),(0,Pt.jsxs)("p",{children:["\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e ",Ue(le)]}),(0,Pt.jsx)("p",{className:"text-sm mt-2",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"})]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between p-6 border-t border-border-primary",children:[(0,Pt.jsx)("button",{onClick:()=>ce(null),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),("bet_commission"===le||"gift_commission"===le)&&(0,Pt.jsx)("button",{onClick:async()=>{Le(!0);try{const e=localStorage.getItem("token"),t=await At.put("".concat(Rd,"/admin/profit/commission-settings"),{bet_commission_rate:Se.bet_commission_rate,gift_commission_rate:Se.gift_commission_rate},{headers:{Authorization:"Bearer ".concat(e)}});I(t.data),await Ae(),console.log("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:",e),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439")}finally{Le(!1)}},disabled:Me,className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/80 disabled:opacity-50",children:Me?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})})]});var $e},Dd="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Bd=()=>{var e,n,a,s,r,i,o,l,c,d;const[u,h]=(0,t.useState)({total_bets:0,total_bets_value:0,active_bets:0,completed_bets:0,cancelled_bets:0,stuck_bets:0,average_bet:0}),[x,m]=(0,t.useState)([]),[p,f]=(0,t.useState)(!0),[g,b]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[j,w]=(0,t.useState)(null),[N,_]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[C,M]=(0,t.useState)(!1),[L,E]=(0,t.useState)(!1),[A,T]=(0,t.useState)(""),[P,z]=(0,t.useState)(null),[O,R]=(0,t.useState)(!1),[I,D]=(0,t.useState)(null),[B,F]=(0,t.useState)(!1),[W,V]=(0,t.useState)(!1),[H,U]=(0,t.useState)(!1),[q,$]=(0,t.useState)(!1),[G,Y]=(0,t.useState)(new Date),[Q,K]=(0,t.useState)(new Set),[X,J]=(0,t.useState)(!1),[Z,ee]=(0,t.useState)(!1),[te,ne]=(0,t.useState)(!1),ae=Jn(1,10),{showSuccessRU:se,showErrorRU:re,showWarningRU:ie}=sn();(0,t.useEffect)((()=>{oe(),le()}),[g,y,ae.currentPage]),(0,t.useEffect)((()=>{const e=setInterval((()=>{Y(new Date)}),1e3);return()=>clearInterval(e)}),[]);const oe=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(Dd,"/admin/bets/stats"),{headers:{Authorization:"Bearer ".concat(e)}});h(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a:",e)}},le=async()=>{try{var e;f(!0);const t=localStorage.getItem("token"),n={page:ae.currentPage,limit:ae.itemsPerPage};g&&(n.status=g),y&&(n.user_id=y);const a=await At.get("".concat(Dd,"/admin/bets/list"),{headers:{Authorization:"Bearer ".concat(t)},params:n});m(a.data.bets||[]),ae.updatePagination((null===(e=a.data.pagination)||void 0===e?void 0:e.total_count)||0),f(!1)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a:",t),f(!1)}},ce=e=>new Date(e).toLocaleString("ru-RU"),de=e=>{const t=new Date(e),n=Math.floor((G-t)/1e3),a=Math.max(0,n),s=Math.floor(a/3600),r=Math.floor(a%3600/60),i=a%60;return"".concat(s.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))},ue=e=>{const t={COMPLETED:{color:"bg-green-600",text:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"},CANCELLED:{color:"bg-red-600",text:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"},WAITING:{color:"bg-yellow-600",text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"},ACTIVE:{color:"bg-blue-600",text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"},REVEAL:{color:"bg-purple-600",text:"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435"}}[e]||{color:"bg-gray-600",text:e};return(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},he=()=>{K(new Set),J(!1),ee(!1)};return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("h2",{className:"text-2xl font-rajdhani font-bold text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0421\u0442\u0430\u0432\u043a\u0430\u043c\u0438"}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[u.stuck_bets>0&&(0,Pt.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await At.post("".concat(Dd,"/admin/bets/cleanup-stuck"),{},{headers:{Authorization:"Bearer ".concat(e)}});se("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await oe(),await le()}catch(n){var e,t;console.error("Error cleaning up stuck bets:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";re(a)}},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:["\ud83e\uddf9 \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435 (",u.stuck_bets,")"]}),(0,Pt.jsx)("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>U(!0),className:"px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 font-rajdhani font-bold transition-colors",children:"\ud83d\udca5 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-rajdhani font-bold transition-colors",children:"\u26a1 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:u.total_bets}),(0,Pt.jsx)("p",{className:"text-accent-primary text-xs",children:Zt(u.total_bets_value||0)})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-yellow-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:u.active_bets})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:u.completed_bets})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-red-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0445"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:u.cancelled_bets})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0417\u0430\u0432\u0438\u0441\u0448\u0438\u0445"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:u.stuck_bets})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u0443\u043c\u043c\u0430"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:Zt(u.average_bet||0)})]})]})})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-3",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pt.jsx)("button",{onClick:()=>b(""),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat(""===g?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0412\u0441\u0435"}),(0,Pt.jsx)("button",{onClick:()=>b("WAITING"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("WAITING"===g?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u041e\u0436\u0438\u0434\u0430\u044e\u0442"}),(0,Pt.jsx)("button",{onClick:()=>b("ACTIVE"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("ACTIVE"===g?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,Pt.jsx)("button",{onClick:()=>b("COMPLETED"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("COMPLETED"===g?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435"}),(0,Pt.jsx)("button",{onClick:()=>b("CANCELLED"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("CANCELLED"===g?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0435"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"}),(0,Pt.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]})]}),Z&&(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 mb-4",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("span",{className:"text-text-secondary font-roboto",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0441\u0442\u0430\u0432\u043e\u043a: ",(0,Pt.jsx)("span",{className:"font-bold",children:Q.size})]}),(0,Pt.jsx)("button",{onClick:he,className:"text-text-secondary hover:text-white transition-colors",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"})]}),(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Pt.jsx)("button",{onClick:async()=>{if(0===Q.size)return;if(!window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(Q.size," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!")))return;ne(!0);const e=Array.from(Q);let t=0,n=0;try{const s=localStorage.getItem("token");for(const r of e)try{await At.delete("".concat(Dd,"/admin/games/").concat(r),{headers:{Authorization:"Bearer ".concat(s)}}),t++}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438 ".concat(r,":"),a),n++}se("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e ".concat(t," \u0438\u0437 ").concat(Q.size," \u0441\u0442\u0430\u0432\u043e\u043a")),n>0&&ie("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(n," \u0441\u0442\u0430\u0432\u043e\u043a")),he(),le()}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",a),re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438")}finally{ne(!1)}},disabled:te,className:"px-4 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:te?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435"})})]})}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,Pt.jsxs)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:["\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u0432\u043e\u043a (",ae.totalItems," \u0437\u0430\u043f\u0438\u0441\u0435\u0439)"]})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:p?(0,Pt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Pt.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0430\u0432\u043e\u043a..."})}):(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:(0,Pt.jsx)("input",{type:"checkbox",checked:X,onChange:()=>{if(X)K(new Set),ee(!1);else{const e=new Set(x.map((e=>e.id)));K(e),ee(!0)}J(!X)},className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"ID \u0421\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===x.length?(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:"9",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):x.map((e=>{var t,n,a,s;return(0,Pt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50 ".concat("CANCELLED"===e.status?"opacity-60":""," ").concat(e.is_stuck?"bg-yellow-900 bg-opacity-20":""),children:[(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("input",{type:"checkbox",checked:Q.has(e.id),onChange:()=>(e=>{const t=new Set(Q);t.has(e)?t.delete(e):t.add(e),K(t),ee(t.size>0)})(e.id),className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Pt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Pt.jsxs)("div",{className:"text-white font-roboto text-sm font-mono",children:[e.id?e.id.substring(0,8):"N/A","..."]}),e.is_bot_game&&(0,Pt.jsx)("span",{className:"inline-block px-1 py-0.5 text-xs bg-blue-600 text-white rounded",children:"BOT"})]}),(0,Pt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:(null===(t=e.creator)||void 0===t?void 0:t.username)||"N/A"}),(null===(n=e.creator)||void 0===n?void 0:n.email)&&(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:e.creator.email})]}),(0,Pt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:(null===(a=e.opponent)||void 0===a?void 0:a.username)||"\u041d\u0435\u0442"}),(null===(s=e.opponent)||void 0===s?void 0:s.email)&&(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:e.opponent.email})]}),(0,Pt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Pt.jsx)("div",{className:"text-accent-primary font-rajdhani font-bold",children:Zt(e.bet_amount||0)}),(0,Pt.jsxs)("div",{className:"text-yellow-400 text-xs",children:["\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: ",Zt(e.commission_amount||0)]})]}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[ue(e.status),e.is_stuck&&(0,Pt.jsx)("span",{className:"text-yellow-400 text-xs",children:"\u23f0"})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:de(e.created_at)})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:ce(e.created_at)})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("button",{onClick:()=>(e=>{w(e),_(!0)})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0435\u0442\u0430\u043b\u0435\u0439",children:(0,Pt.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.can_cancel&&(0,Pt.jsx)("button",{onClick:()=>(e=>{z(e),T(""),S(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Pt.jsx)("button",{onClick:()=>(e=>{D(e),E(!0)})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]})})]}),(0,Pt.jsx)(Xn,{currentPage:ae.currentPage,totalPages:ae.totalPages,onPageChange:ae.handlePageChange,itemsPerPage:ae.itemsPerPage,totalItems:ae.totalItems,className:"mt-6"}),N&&j&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"ID \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,Pt.jsx)("div",{className:"text-white font-mono",children:j.id})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,Pt.jsx)("div",{children:ue(j.status)})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,Pt.jsx)("div",{className:"text-accent-primary font-bold",children:Zt(j.bet_amount||0)})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Pt.jsx)("div",{className:"text-yellow-400 font-bold",children:Zt(j.commission_amount||0)})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430:"}),(0,Pt.jsx)("div",{className:"text-white",children:ce(j.created_at)})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:"}),(0,Pt.jsx)("div",{className:"text-white",children:de(j.created_at)})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c:"}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,Pt.jsx)("div",{className:"text-white",children:null===(e=j.creator)||void 0===e?void 0:e.username}),(null===(n=j.creator)||void 0===n?void 0:n.email)&&(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:j.creator.email}),(0,Pt.jsx)("div",{className:"text-xs text-accent-primary",children:null===(a=j.creator)||void 0===a?void 0:a.type})]})]}),j.opponent&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,Pt.jsx)("div",{className:"text-white",children:j.opponent.username}),j.opponent.email&&(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:j.opponent.email}),(0,Pt.jsx)("div",{className:"text-xs text-accent-primary",children:j.opponent.type})]})]}),j.bet_gems&&Object.keys(j.bet_gems).length>0&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:(0,Pt.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(j.bet_gems).map((e=>{let[t,n]=e;return n>0&&(0,Pt.jsxs)("span",{className:"px-2 py-1 bg-accent-primary bg-opacity-20 text-accent-primary text-sm rounded",children:[t,": ",n]},t)}))})})]}),"COMPLETED"===j.status&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0433\u0440\u044b:"}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-white",children:"\u0425\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f:"}),(0,Pt.jsx)("div",{className:"text-accent-primary",children:j.creator_move})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-white",children:"\u0425\u043e\u0434 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430:"}),(0,Pt.jsx)("div",{className:"text-accent-primary",children:j.opponent_move})]})]}),j.winner_id&&(0,Pt.jsx)("div",{className:"mt-2",children:(0,Pt.jsxs)("div",{className:"text-green-400",children:["\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: ",j.winner_id===j.creator.id?j.creator.username:null===(s=j.opponent)||void 0===s?void 0:s.username]})})]})]})]})]})}),k&&P&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"}),(0,Pt.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,Pt.jsxs)("div",{className:"text-yellow-400 text-sm",children:["\u26a0\ufe0f \u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 ",null===(r=P.id)||void 0===r?void 0:r.substring(0,8),"... \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 $",null===(i=P.bet_amount)||void 0===i?void 0:i.toFixed(2)]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043c\u0435\u043d\u044b (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e):"}),(0,Pt.jsx)("textarea",{value:A,onChange:e=>T(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b \u0441\u0442\u0430\u0432\u043a\u0438...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",rows:"3"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{if(A.trim())try{const e=localStorage.getItem("token"),t=await At.post("".concat(Dd,"/admin/bets/").concat(P.id,"/cancel"),{reason:A},{headers:{Authorization:"Bearer ".concat(e)}});se(t.data.message),S(!1),z(null),T(""),await oe(),await le()}catch(n){var e,t;console.error("Error cancelling bet:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";re(a)}else ie("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b \u0441\u0442\u0430\u0432\u043a\u0438")},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"})]})]})]})}),C&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>M(!1),disabled:O,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Pt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Pt.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,Pt.jsxs)("div",{children:["\u2022 \u0411\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b \u0412\u0421\u0415 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (",u.active_bets,")"]}),(0,Pt.jsx)("div",{children:"\u2022 \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b"}),(0,Pt.jsx)("div",{children:"\u2022 \u0413\u0435\u043c\u044b \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"}),(0,Pt.jsx)("div",{children:"\u2022 \u041e\u0431\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0432\u0441\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0438\u0433\u0440\u044b"})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438?"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u0442 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438 \u0431\u043e\u0442\u043e\u0432"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>M(!1),disabled:O,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{try{R(!0);const e=localStorage.getItem("token"),t=await At.post("".concat(Dd,"/admin/bets/reset-all"),{},{headers:{Authorization:"Bearer ".concat(e)}});se("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),M(!1),await oe(),await le()}catch(n){var e,t;console.error("Error resetting all bets:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";re(a)}finally{R(!1)}},disabled:O,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:O?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u0431\u0440\u043e\u0441..."]}):"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435"})]})]})]})}),L&&I&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-orange-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-orange-400",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"}),(0,Pt.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-orange-900 border border-orange-600 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"text-orange-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Pt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Pt.jsxs)("div",{className:"text-orange-300 text-sm space-y-1",children:[(0,Pt.jsxs)("div",{children:["\u2022 ID \u0441\u0442\u0430\u0432\u043a\u0438: ",null===(o=I.id)||void 0===o?void 0:o.substring(0,8),"..."]}),(0,Pt.jsxs)("div",{children:["\u2022 \u0421\u0443\u043c\u043c\u0430: $",null===(l=I.bet_amount)||void 0===l?void 0:l.toFixed(2)]}),(0,Pt.jsxs)("div",{children:["\u2022 \u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",null===(c=I.creator)||void 0===c?void 0:c.username]}),I.opponent&&(0,Pt.jsxs)("div",{children:["\u2022 \u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a: ",null===(d=I.opponent)||void 0===d?void 0:d.username]}),(0,Pt.jsx)("div",{children:"\u2022 \u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b"}),(0,Pt.jsx)("div",{children:"\u2022 \u0420\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0430\u0432\u043a\u0443?"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0432\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430, \u0430 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>E(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await At.post("".concat(Dd,"/admin/bets/").concat(I.id,"/cancel"),{reason:"\u0421\u0431\u0440\u043e\u0441 \u0441\u0442\u0430\u0432\u043a\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c"},{headers:{Authorization:"Bearer ".concat(e)}});se(t.data.message),E(!1),D(null),await oe(),await le()}catch(n){var e,t;console.error("Error resetting bet:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";re(a)}},className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})}),H&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-800 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\udca5 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>U(!1),disabled:q,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Pt.jsx)("strong",{children:"\u041a\u0420\u0418\u0422\u0418\u0427\u0415\u0421\u041a\u041e\u0415 \u041f\u0420\u0415\u0414\u0423\u041f\u0420\u0415\u0416\u0414\u0415\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!"]}),(0,Pt.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,Pt.jsxs)("div",{children:["\u2022 \u0411\u0443\u0434\u0443\u0442 \u0424\u0418\u0417\u0418\u0427\u0415\u0421\u041a\u0418 \u0423\u0414\u0410\u041b\u0415\u041d\u042b \u0432\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u0442\u0430\u0432\u043e\u043a (",u.total_bets,")"]}),(0,Pt.jsx)("div",{children:"\u2022 \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438: \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u2192 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),(0,Pt.jsx)("div",{children:"\u2022 \u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438: \u043d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),(0,Pt.jsx)("div",{children:"\u2022 \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u041d\u0415\u0412\u041e\u0417\u041c\u041e\u0416\u041d\u041e"}),(0,Pt.jsx)("div",{children:"\u2022 \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0441\u044f \u0432\u0441\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0433\u0440"})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0424\u0418\u0417\u0418\u0427\u0415\u0421\u041a\u0418 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0412\u0421\u0415 \u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445?"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u042d\u0442\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0438\u0442 \u0432\u0441\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>U(!1),disabled:q,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{try{$(!0);const e=localStorage.getItem("token"),t=await At.post("".concat(Dd,"/admin/bets/delete-all"),{},{headers:{Authorization:"Bearer ".concat(e)}});se("".concat(t.data.message,". \u0423\u0434\u0430\u043b\u0435\u043d\u043e: ").concat(t.data.actual_database_deletions," \u0441\u0442\u0430\u0432\u043e\u043a")),U(!1),await oe(),await le()}catch(n){var e,t;console.error("Error deleting all bets:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";re(a)}finally{$(!1)}},disabled:q,className:"flex-1 px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:q?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435..."]}):"\ud83d\udca5 \u0423\u0414\u0410\u041b\u0418\u0422\u042c \u0412\u0421\u0401"})]})]})]})}),B&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-purple-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-purple-400",children:"\u26a1 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>F(!1),disabled:W,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-purple-900 border border-purple-600 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"text-purple-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Pt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Pt.jsxs)("div",{className:"text-purple-300 text-sm space-y-1",children:[(0,Pt.jsx)("div",{children:"\u2022 \u0411\u0443\u0434\u0443\u0442 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0433\u0435\u043c\u043e\u0432"}),(0,Pt.jsx)("div",{children:"\u2022 \u042d\u0442\u0438 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b"}),(0,Pt.jsx)("div",{children:"\u2022 \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"}),(0,Pt.jsx)("div",{children:"\u2022 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0430"}),(0,Pt.jsx)("div",{children:"\u2022 \u042d\u0442\u043e \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u043d\u0435\u0446\u0435\u043b\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438"})]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0433\u0435\u043c\u043e\u0432?"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u043d\u0435\u0446\u0435\u043b\u044b\u043c\u0438 \u0441\u0443\u043c\u043c\u0430\u043c\u0438"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>F(!1),disabled:W,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{try{V(!0);const e=localStorage.getItem("token"),t=await At.post("".concat(Dd,"/admin/bets/reset-fractional"),{},{headers:{Authorization:"Bearer ".concat(e)}});t.data.total_processed>0?se("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")):se("\u0421\u0442\u0430\u0432\u043a\u0438 \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0433\u0435\u043c\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),F(!1),await oe(),await le()}catch(n){var e,t;console.error("Error resetting fractional bets:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438";re(a)}finally{V(!1)}},disabled:W,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:W?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u0431\u0440\u043e\u0441..."]}):"\u26a1 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u0440\u043e\u0431\u043d\u044b\u0435"})]})]})]})})]})},Fd=()=>{const[e,n]=(0,t.useState)(!1),[a,s]=(0,t.useState)({}),[r,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(null);return{confirm:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((t=>{s(l({title:e.title||"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",message:e.message||"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",confirmText:e.confirmText||"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:e.cancelText||"\u041e\u0442\u043c\u0435\u043d\u0430",type:e.type||"default"},e)),c((()=>t)),n(!0)}))},confirmationModal:l({isOpen:e,onClose:()=>{n(!1),i(!1),o&&o(!1)},onConfirm:async()=>{if(a.onConfirm){i(!0);try{await a.onConfirm(),i(!1),n(!1),o&&o(!0)}catch(e){i(!1),console.error("Error in confirmation action:",e)}}else n(!1),o&&o(!0)},loading:r},a)}},Wd=()=>{const[e,n]=(0,t.useState)(!1),[a,s]=(0,t.useState)({}),[r,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(null);return{prompt:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((t=>{s(l({title:e.title||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",message:e.message||"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:",placeholder:e.placeholder||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",confirmText:e.confirmText||"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:e.cancelText||"\u041e\u0442\u043c\u0435\u043d\u0430",type:e.type||"text",min:e.min,max:e.max},e)),c((()=>t)),n(!0)}))},inputModal:l({isOpen:e,onClose:()=>{n(!1),i(!1),o&&o(null)},onConfirm:async e=>{if(a.onConfirm){i(!0);try{await a.onConfirm(e),i(!1),n(!1),o&&o(e)}catch(t){i(!1),console.error("Error in input action:",t)}}else n(!1),o&&o(e)},loading:r},a)}},Vd="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Hd=()=>{const e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},Ud=()=>({headers:Hd()}),qd=Vd,$d=()=>{const[e,n]=(0,t.useState)(!1),[a,s]=(0,t.useState)(null),r=(0,t.useCallback)((async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{n(!0),s(null);const i=l(l({method:e,url:"".concat(qd).concat(t)},Ud()),r);a&&("get"===e.toLowerCase()?i.params=a:i.data=a);return(await At(i)).data}catch(c){var i,o;const e=(null===(i=c.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.detail)||c.message||"\u041e\u0448\u0438\u0431\u043a\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u0430";throw s(e),c}finally{n(!1)}}),[]),i=(0,t.useCallback)((async function(e){return r("GET",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[r]),o=(0,t.useCallback)((async function(e){return r("POST",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[r]),c=(0,t.useCallback)((async function(e){return r("PUT",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[r]),d=(0,t.useCallback)((async function(e){return r("DELETE",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[r]),u=(0,t.useCallback)((async function(e){return r("PATCH",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[r]),h={getList:(0,t.useCallback)((async function(){return i("/admin/bots/regular/list",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[i]),getBot:(0,t.useCallback)((async e=>i("/admin/bots/".concat(e))),[i]),create:(0,t.useCallback)((async e=>o("/admin/bots/regular/create",e)),[o]),update:(0,t.useCallback)((async(e,t)=>c("/admin/bots/regular/".concat(e),t)),[c]),delete:(0,t.useCallback)((async(e,t)=>d("/admin/bots/regular/".concat(e),{reason:t})),[d]),toggleStatus:(0,t.useCallback)((async e=>o("/admin/bots/regular/".concat(e,"/toggle"))),[o]),getActiveBets:(0,t.useCallback)((async e=>i("/admin/bots/".concat(e,"/active-bets"))),[i]),getCycleHistory:(0,t.useCallback)((async e=>i("/admin/bots/".concat(e,"/cycle-history"))),[i]),updateLimit:(0,t.useCallback)((async(e,t)=>c("/admin/bots/".concat(e,"/limit"),{limit:t})),[c]),getStats:(0,t.useCallback)((async()=>i("/admin/bots/stats")),[i]),getActiveBetsStats:(0,t.useCallback)((async()=>i("/admin/bots/active-bets-stats")),[i]),toggleAll:(0,t.useCallback)((async e=>o("/admin/bots/toggle-all",{enabled:e})),[o]),startRegular:(0,t.useCallback)((async()=>o("/admin/bots/start-regular")),[o]),getSettings:(0,t.useCallback)((async()=>i("/admin/bots/settings")),[i]),updateSettings:(0,t.useCallback)((async e=>o("/admin/bots/settings",e)),[o])},x={generate:(0,t.useCallback)((async function(e){return o("/admin/bots/reports/generate",l({type:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[o]),export:(0,t.useCallback)((async(e,t)=>o("/admin/bots/reports/export",{reportId:e,format:t})),[o]),getList:(0,t.useCallback)((async function(){return i("/admin/bots/reports",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[i])},m={getData:(0,t.useCallback)((async function(){return i("/admin/bots/analytics",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[i]),getQueueStats:(0,t.useCallback)((async()=>i("/admin/bot-queue-stats")),[i])},p={getErrorMessage:(0,t.useCallback)((e=>{var t,n,a,s;return null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.detail?e.response.data.detail:null!==e&&void 0!==e&&null!==(a=e.response)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.message?e.response.data.message:null!==e&&void 0!==e&&e.message?e.message:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}),[]),isNetworkError:(0,t.useCallback)((e=>{var t;return"NETWORK_ERROR"===(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.includes("Network Error"))}),[]),isAuthError:(0,t.useCallback)((e=>{var t;return 401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}),[]),isValidationError:(0,t.useCallback)((e=>{var t;return 422===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}),[])};return{loading:e,error:a,makeRequest:r,get:i,post:o,put:c,delete:d,patch:u,botsApi:h,reportsApi:x,analyticsApi:m,errorUtils:p,clearError:(0,t.useCallback)((()=>s(null)),[])}},Gd=e=>{let{isOpen:t,onClose:n,onConfirm:a,title:s="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",message:r="\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",confirmText:i="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:o="\u041e\u0442\u043c\u0435\u043d\u0430",type:l="default",loading:c=!1}=e;if(!t)return null;const d=(()=>{switch(l){case"danger":return{confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500",icon:"\u26a0\ufe0f",iconBg:"bg-red-100",iconColor:"text-red-600"};case"warning":return{confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",icon:"\u26a0\ufe0f",iconBg:"bg-yellow-100",iconColor:"text-yellow-600"};case"success":return{confirmButton:"bg-green-600 hover:bg-green-700 focus:ring-green-500",icon:"\u2713",iconBg:"bg-green-100",iconColor:"text-green-600"};default:return{confirmButton:"bg-accent-primary hover:bg-accent-primary/80 focus:ring-accent-primary",icon:"?",iconBg:"bg-accent-primary/10",iconColor:"text-accent-primary"}}})();return(0,Pt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity",onClick:e=>{e.target===e.currentTarget&&n()}}),(0,Pt.jsxs)("div",{className:"relative bg-surface-card border border-accent-primary border-opacity-30 rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",children:[(0,Pt.jsxs)("div",{className:"p-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ".concat(d.iconBg," sm:mx-0 sm:h-10 sm:w-10"),children:(0,Pt.jsx)("span",{className:"text-xl ".concat(d.iconColor),children:d.icon})}),(0,Pt.jsx)("div",{className:"ml-4 text-left",children:(0,Pt.jsx)("h3",{className:"text-lg leading-6 font-rajdhani font-bold text-white",children:s})})]}),(0,Pt.jsx)("div",{className:"mt-4",children:(0,Pt.jsx)("p",{className:"text-sm text-text-secondary font-roboto leading-relaxed",children:r})})]}),(0,Pt.jsxs)("div",{className:"px-6 py-4 bg-surface-sidebar bg-opacity-50 rounded-b-lg flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Pt.jsx)("button",{type:"button",onClick:n,disabled:c,className:"w-full sm:w-auto px-4 py-2 border border-border-primary text-text-secondary bg-surface-primary hover:bg-surface-sidebar focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary focus:ring-offset-surface-card rounded-md transition-colors font-roboto font-medium disabled:opacity-50",children:o}),(0,Pt.jsx)("button",{type:"button",onClick:a,disabled:c,className:"w-full sm:w-auto px-4 py-2 border border-transparent rounded-md shadow-sm text-white font-roboto font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-card transition-colors disabled:opacity-50 ".concat(d.confirmButton),children:c?(0,Pt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Pt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f..."]}):i})]})]})]})},Yd=e=>{let{isOpen:n,onClose:a,onConfirm:s,title:r="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",message:i="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:",placeholder:o="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",confirmText:l="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:c="\u041e\u0442\u043c\u0435\u043d\u0430",type:d="text",min:u,max:h,loading:x=!1}=e;const[m,p]=(0,t.useState)(""),[f,g]=(0,t.useState)("");if(!n)return null;const b=()=>{const e=(e=>{if(!e.trim())return"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c";if("number"===d){const t=parseFloat(e);if(isNaN(t))return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e";if(void 0!==u&&t<u)return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(u);if(void 0!==h&&t>h)return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(h)}return null})(m);e?g(e):(s("number"===d?parseFloat(m):m),p(""),g(""))};return(0,Pt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity",onClick:e=>{e.target===e.currentTarget&&a()}}),(0,Pt.jsxs)("div",{className:"relative bg-surface-card border border-accent-primary border-opacity-30 rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",children:[(0,Pt.jsxs)("div",{className:"p-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-accent-primary bg-opacity-10 sm:mx-0 sm:h-10 sm:w-10",children:(0,Pt.jsx)("span",{className:"text-xl text-accent-primary",children:"\u270f\ufe0f"})}),(0,Pt.jsx)("div",{className:"ml-4 text-left",children:(0,Pt.jsx)("h3",{className:"text-lg leading-6 font-rajdhani font-bold text-white",children:r})})]}),(0,Pt.jsxs)("div",{className:"mt-4",children:[(0,Pt.jsx)("p",{className:"text-sm text-text-secondary font-roboto leading-relaxed mb-4",children:i}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("input",{type:d,value:m,onChange:e=>{p(e.target.value),g("")},onKeyPress:e=>{"Enter"===e.key&&b()},placeholder:o,min:u,max:h,className:"w-full px-3 py-2 border border-border-primary bg-surface-primary text-white rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent font-roboto",autoFocus:!0}),f&&(0,Pt.jsx)("p",{className:"text-red-400 text-xs font-roboto mt-1",children:f})]})]})]}),(0,Pt.jsxs)("div",{className:"px-6 py-4 bg-surface-sidebar bg-opacity-50 rounded-b-lg flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Pt.jsx)("button",{type:"button",onClick:()=>{p(""),g(""),a()},disabled:x,className:"w-full sm:w-auto px-4 py-2 border border-border-primary text-text-secondary bg-surface-primary hover:bg-surface-sidebar focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary focus:ring-offset-surface-card rounded-md transition-colors font-roboto font-medium disabled:opacity-50",children:c}),(0,Pt.jsx)("button",{type:"button",onClick:b,disabled:x||!m.trim(),className:"w-full sm:w-auto px-4 py-2 border border-transparent rounded-md shadow-sm text-white font-roboto font-medium bg-accent-primary hover:bg-accent-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary focus:ring-offset-surface-card transition-colors disabled:opacity-50",children:x?(0,Pt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Pt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."]}):l})]})]})]})},Qd=()=>{const[e,n]=(0,t.useState)({active_bots:0,bets_24h:0,wins_24h:0,win_percentage:0,total_bet_value:0,errors:0,most_active:[]}),[a,s]=(0,t.useState)([]),[r,i]=(0,t.useState)({max_active_bets_regular:50,max_active_bets_human:30}),[o,c]=(0,t.useState)({regular_bots:{current:0,max:50,available:50,percentage:0},human_bots:{current:0,max:30,available:30,percentage:0}}),[d,u]=(0,t.useState)(!0),[h,x]=(0,t.useState)(!0),[m,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[v,j]=(0,t.useState)(null),[w,N]=(0,t.useState)(null),[_,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(null),[M,L]=(0,t.useState)(""),[E,A]=(0,t.useState)(!1),[T,P]=(0,t.useState)(null),[z,O]=(0,t.useState)(null),[R,I]=(0,t.useState)(!1),[D,B]=(0,t.useState)({}),[F,W]=(0,t.useState)(!1),[V,H]=(0,t.useState)(null),[U,q]=(0,t.useState)(null),[$,G]=(0,t.useState)({}),[Y,Q]=(0,t.useState)({}),[K,X]=(0,t.useState)(50),[J,Z]=(0,t.useState)("order"),[ee,te]=(0,t.useState)(null),[ne,ae]=(0,t.useState)(!1),[se,re]=(0,t.useState)([]),[ie,oe]=(0,t.useState)({current_page:1,total_pages:1}),[le,ce]=(0,t.useState)(!1),[de,ue]=(0,t.useState)(null),[he,xe]=(0,t.useState)(!1),[me,pe]=(0,t.useState)(null),[fe,ge]=(0,t.useState)([]),[be,ye]=(0,t.useState)({current_page:1,total_pages:1}),ve=Jn(1,10),[je,we]=(0,t.useState)(new Set),[Ne,_e]=(0,t.useState)(!1),[ke,Se]=(0,t.useState)(!1),[Ce,Me]=(0,t.useState)(!1),[Le,Ee]=(0,t.useState)({name:"",min_bet_amount:1,max_bet_amount:50,win_percentage:55,cycle_games:12,individual_limit:12,creation_mode:"queue-based",priority_order:50,pause_between_games:5,profit_strategy:"balanced",cycle_total_amount:0,can_accept_bets:!1,can_play_with_bots:!0});(0,t.useEffect)((()=>{const e=(()=>{if(!Le.min_bet_amount||!Le.max_bet_amount||!Le.cycle_games)return 0;const e=(Le.min_bet_amount+Le.max_bet_amount)/2;return Math.round(e*Le.cycle_games)})();Ee((t=>l(l({},t),{},{cycle_total_amount:e})))}),[Le.min_bet_amount,Le.max_bet_amount,Le.cycle_games]);const[Ae,Te]=(0,t.useState)({isValid:!0,errors:[]}),[Pe,ze]=(0,t.useState)("bots"),{showSuccessRU:Oe,showErrorRU:Re}=sn(),{confirm:Ie,confirmationModal:De}=Fd(),{prompt:Be,inputModal:Fe}=Wd(),We=()=>{we(new Set),_e(!1),Se(!1)},Ve=async e=>{if(0===je.size)return;const t=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b";if(await Ie({title:e?"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u0431\u043e\u0442\u043e\u0432":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ".concat(t," ").concat(je.size," \u0431\u043e\u0442\u043e\u0432?"),confirmText:e?"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:e?"success":"warning"})){Me(!0);try{const e=localStorage.getItem("token"),t=Array.from(je).map((t=>At.post("".concat(qd,"/admin/bots/").concat(t,"/toggle"),{},{headers:{Authorization:"Bearer ".concat(e)}})));await Promise.all(t),Oe("\u0423\u0441\u043f\u0435\u0448\u043d\u043e ".concat(n," ").concat(je.size," \u0431\u043e\u0442\u043e\u0432")),await Ue(),We()}catch(a){console.error("Error bulk ".concat(t," bots:"),a),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 ".concat(t," \u0431\u043e\u0442\u043e\u0432"))}finally{Me(!1)}}};(0,t.useEffect)((()=>{He(),Ue(),qe(),$e(),Ge()}),[]),(0,t.useEffect)((()=>{Ue()}),[ve.currentPage]);const He=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(qd,"/admin/bots/regular/stats"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data),x(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:",e),x(!1)}},Ue=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(qd,"/admin/bots/regular/list"),{headers:{Authorization:"Bearer ".concat(e)},params:{page:ve.currentPage,limit:ve.itemsPerPage}}),n=t.data.bots||t.data,a=n.sort(((e,t)=>e.priority_order-t.priority_order));s(a),We(),void 0!==t.data.total_count?ve.updatePagination(t.data.total_count):ve.updatePagination(n.length)}catch(e){console.error("Error fetching bots:",e),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0431\u043e\u0442\u043e\u0432")}},qe=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(qd,"/admin/bots/settings"),{headers:{Authorization:"Bearer ".concat(e)}});i({max_active_bets_regular:t.data.max_active_bets_regular,max_active_bets_human:t.data.max_active_bets_human})}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u043e\u0432:",e)}},$e=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(qd,"/admin/bots/stats/active-bets"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e)}},Ge=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(qd,"/admin/bot-settings"),{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&(X(t.data.settings.globalMaxActiveBets),Z(t.data.settings.priorityType))}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u043e\u0432:",e)}},Ye=async e=>{try{const t=localStorage.getItem("token"),n=await At.post("".concat(qd,"/admin/bots/settings"),e,{headers:{Authorization:"Bearer ".concat(t)}});i(e),g(!1),Oe(n.data.message),await $e(),await Ue()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",t),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a")}},Qe=e=>{const t=[];(e.min_bet_amount<1||e.min_bet_amount>1e4)&&t.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 10000"),(e.max_bet_amount<1||e.max_bet_amount>1e4)&&t.push("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 10000"),e.min_bet_amount>=e.max_bet_amount&&t.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439"),(e.win_percentage<0||e.win_percentage>100)&&t.push("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 0 \u0434\u043e 100"),(e.cycle_games<1||e.cycle_games>66)&&t.push("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 66"),(e.individual_limit<1||e.individual_limit>66)&&t.push("\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 66"),(e.priority_order<1||e.priority_order>100)&&t.push("\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 100"),(e.pause_between_games<1||e.pause_between_games>300)&&t.push("\u041f\u0430\u0443\u0437\u0430 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u0430\u043c\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 300 \u0441\u0435\u043a\u0443\u043d\u0434");["always-first","queue-based","after-all"].includes(e.creation_mode)||t.push("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a");return["start-positive","balanced","start-negative"].includes(e.profit_strategy)||t.push("\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438"),{isValid:0===t.length,errors:t}},Ke=e=>{const t=Qe(e);return Te(t),t.isValid},Xe=async()=>{if(de)try{const e=localStorage.getItem("token"),t=await At.post("".concat(qd,"/admin/bots/").concat(de.id,"/force-complete-cycle"),{},{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&(Oe("\u0426\u0438\u043a\u043b \u0431\u043e\u0442\u0430 ".concat(de.name," \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d. \u041f\u0440\u0438\u0431\u044b\u043b\u044c: $").concat(t.data.profit.toFixed(2))),ce(!1),ue(null),await Ue(),await He())}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430:",e),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0446\u0438\u043a\u043b\u0430")}},Je=async e=>{try{const t=localStorage.getItem("token"),n=await At.post("".concat(qd,"/admin/bots/").concat(e,"/reset-bets"),{},{headers:{Authorization:"Bearer ".concat(t)}});n.data.success&&(Oe("\u0421\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b \u0438 \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u044b. \u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e \u0441\u0442\u0430\u0432\u043e\u043a: ".concat(n.data.cancelled_bets)),await Ue(),await He())}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0442\u0430\u0432\u043e\u043a:",t),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u0431\u043e\u0442\u0430")}};return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("h2",{className:"text-2xl font-rajdhani font-bold text-white",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0411\u043e\u0442\u044b"}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>g(!0),className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>p(!0),className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white bg-green-600 hover:bg-green-700 transition-colors",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0411\u043e\u0442\u0430"}),(0,Pt.jsx)("button",{onClick:async()=>{try{const e=!d;await At.post("".concat(qd,"/admin/bots/toggle-all"),{enabled:e},Ud()),u(e),await He()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432:",e)}},className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white transition-colors ".concat(d?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:d?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"flex border-b border-border-primary",children:[(0,Pt.jsx)("button",{onClick:()=>ze("bots"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("bots"===Pe?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\ud83d\udccb \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("button",{onClick:()=>ze("settings"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("settings"===Pe?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,Pt.jsxs)("div",{className:"p-6",children:["bots"===Pe&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-3",children:"\u041e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("div",{className:"text-white text-xl font-rajdhani font-bold",children:a.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.remaining_slots||0)),0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0442\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("div",{className:"text-accent-primary text-xl font-rajdhani font-bold",children:a.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.current_cycle_games||0)),0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b"}),(0,Pt.jsx)("div",{className:"text-green-400 text-xl font-rajdhani font-bold",children:a.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.cycle_games||12)),0)})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"text-xl font-rajdhani font-bold ".concat((()=>{const e=a.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),n=e.reduce(((e,t)=>e+(t.cycle_games||12)),0),s=n>0?Math.round(t/n*100):0;return s>=90?"text-red-400":s>=70?"text-yellow-400":"text-green-400"})()),children:[(()=>{const e=a.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),n=e.reduce(((e,t)=>e+(t.cycle_games||12)),0);return n>0?Math.round(t/n*100):0})(),"%"]})]})]}),(0,Pt.jsxs)("div",{className:"mt-4",children:[(0,Pt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Pt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat((()=>{const e=a.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),n=e.reduce(((e,t)=>e+(t.cycle_games||12)),0),s=n>0?Math.round(t/n*100):0;return s>=90?"bg-red-500":s>=70?"bg-yellow-500":"bg-green-500"})()),style:{width:"".concat((()=>{const e=a.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),n=e.reduce(((e,t)=>e+(t.cycle_games||12)),0),s=n>0?Math.round(t/n*100):0;return Math.min(100,s)})(),"%")}})}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs mt-1",children:[a.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.current_cycle_games||0)),0)," \u043e\u0442\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 ",a.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.cycle_games||12)),0)," \u043e\u0431\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u0430"]})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4",children:[(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,Pt.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udfe2"})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:a.filter((e=>e.is_active)).length})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-red-600 rounded-lg",children:(0,Pt.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udd34"})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:a.filter((e=>!e.is_active)).length})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0442\u0430\u0432\u043e\u043a \u0437\u0430 24\u0447"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:e.bets_24h})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-yellow-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041f\u043e\u0431\u0435\u0434 \u0437\u0430 24\u0447"}),(0,Pt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:e.wins_24h})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"% \u043f\u043e\u0431\u0435\u0434"}),(0,Pt.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:[e.win_percentage,"%"]})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:["$",e.total_bet_value.toFixed(2)]})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 rounded-lg ".concat(e.errors>0?"bg-red-600":"bg-gray-600"),children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0448\u0438\u0431\u043a\u0438/\u0421\u0431\u043e\u0438"}),(0,Pt.jsx)("p",{className:"text-lg font-rajdhani font-bold ".concat(e.errors>0?"text-red-400":"text-white"),children:e.errors})]})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"p-2 bg-indigo-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0422\u043e\u043f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"}),(0,Pt.jsx)("div",{className:"text-white text-sm",children:e.most_active.length>0?e.most_active.slice(0,3).map(((e,t)=>(0,Pt.jsxs)("div",{className:"text-xs",children:["Bot-",e.id.substring(0,6),": ",e.games]},e.id))):(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})})]})]})})]}),he&&me&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-blue-500 border-opacity-50 rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("p",{className:"text-blue-400 font-rajdhani font-bold",children:me.name})]})]}),(0,Pt.jsx)("button",{onClick:()=>{xe(!1),pe(null),ge([])},className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsx)("div",{className:"px-6 py-4 bg-surface-sidebar border-b border-border-primary",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:me.current_cycle_games||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b \u0438\u0433\u0440"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:me.active_bets||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[me.win_rate||0,"%"]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"Win Rate"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold ".concat(me.is_active?"text-green-400":"text-red-400"),children:me.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0431\u043e\u0442\u0430"})]})]})}),(0,Pt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[0===fe.length?(0,Pt.jsxs)("div",{className:"text-center text-text-secondary py-12",children:[(0,Pt.jsx)("div",{className:"text-8xl mb-4",children:"\ud83d\udcca"}),(0,Pt.jsx)("h4",{className:"font-rajdhani text-xl font-bold mb-2",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0446\u0438\u043a\u043b\u0430\u0445"}),(0,Pt.jsxs)("p",{className:"text-lg",children:["\u0423 \u0431\u043e\u0442\u0430 ",(0,Pt.jsx)("span",{className:"text-blue-400 font-bold",children:me.name})," \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0446\u0438\u043a\u043b\u043e\u0432"]}),(0,Pt.jsx)("div",{className:"mt-4 text-sm text-text-secondary bg-surface-sidebar rounded-lg p-4 max-w-md mx-auto",children:(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"})," \u0426\u0438\u043a\u043b\u044b \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0431\u043e\u0442 \u0441\u044b\u0433\u0440\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0438\u0433\u0440 \u0438\u043b\u0438 \u0446\u0438\u043a\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"]})})]}):(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-3",children:"\ud83d\udcc8 \u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0432\u0441\u0435\u043c \u0446\u0438\u043a\u043b\u0430\u043c"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:fe.length}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u043e\u0432"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("div",{className:"text-lg font-bold text-red-400",children:["$",fe.reduce(((e,t)=>e+t.total_spent),0).toFixed(2)]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("div",{className:"text-lg font-bold text-green-400",children:["$",fe.reduce(((e,t)=>e+t.total_earned),0).toFixed(2)]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("div",{className:"text-lg font-bold ".concat(fe.reduce(((e,t)=>e+t.profit),0)>0?"text-green-400":"text-red-400"),children:["$",fe.reduce(((e,t)=>e+t.profit),0).toFixed(2)]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("div",{className:"text-lg font-bold text-purple-400",children:[fe.length>0?(fe.reduce(((e,t)=>e+t.win_rate),0)/fe.length).toFixed(1):0,"%"]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 Win Rate"})]})]})]}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0426\u0438\u043a\u043b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u044b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"Win Rate"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0435\u0440\u0438\u043e\u0434"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:fe.map((e=>(0,Pt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Pt.jsxs)("td",{className:"px-4 py-3 text-blue-400 font-bold text-lg",children:["#",e.cycle_number]}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-white",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"font-bold",children:e.games_completed}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0438\u0433\u0440"}),(0,Pt.jsxs)("span",{className:"text-green-400 font-bold",children:["(",e.games_won," \u2605)"]})]})}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-red-400 font-bold",children:["$",e.total_spent.toFixed(2)]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-green-400 font-bold",children:["$",e.total_earned.toFixed(2)]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 font-bold text-lg ".concat(e.profit>0?"text-green-400":e.profit<0?"text-red-400":"text-gray-400"),children:[e.profit>0?"+":"","$",e.profit.toFixed(2)]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-white font-bold",children:[e.win_rate.toFixed(1),"%"]}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("span",{className:"px-3 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(e.is_cycle_completed?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.is_cycle_completed?"\u2713 \u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d":"\u23f3 \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:[(0,Pt.jsx)("div",{children:new Date(e.created_at).toLocaleDateString("ru-RU")}),e.cycle_end_date&&(0,Pt.jsxs)("div",{className:"text-xs",children:["- ",new Date(e.cycle_end_date).toLocaleDateString("ru-RU")]})]})]},e.id)))})]})})]}),be.total_pages>1&&(0,Pt.jsx)("div",{className:"flex justify-center mt-6",children:(0,Pt.jsx)("div",{className:"flex space-x-2",children:Array.from({length:be.total_pages},((e,t)=>t+1)).map((e=>(0,Pt.jsx)("button",{onClick:()=>{},className:"px-3 py-1 rounded ".concat(e===be.current_page?"bg-blue-600 text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:e},e)))})})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-border-primary",children:[(0,Pt.jsxs)("div",{className:"text-text-secondary text-sm",children:["\ud83d\udca1 ",(0,Pt.jsx)("strong",{children:"\u0421\u043e\u0432\u0435\u0442:"}),' \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b" \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u0430']}),(0,Pt.jsx)("button",{onClick:()=>{xe(!1),pe(null),ge([])},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,Pt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"})}),ke&&(0,Pt.jsx)("div",{className:"p-4 bg-accent-primary bg-opacity-10 border-b border-border-primary",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Pt.jsxs)("span",{className:"text-white font-roboto text-sm",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0431\u043e\u0442\u043e\u0432: ",(0,Pt.jsx)("span",{className:"font-bold",children:je.size})]})}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("button",{onClick:()=>Ve(!0),disabled:Ce,className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50 transition-colors",children:Ce?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Pt.jsx)("button",{onClick:()=>Ve(!1),disabled:Ce,className:"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:Ce?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Pt.jsx)("button",{onClick:async()=>{if(0===je.size)return;const e=await Be({title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u043e\u0432",message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0442 1 \u0434\u043e 66",type:"number",min:1,max:66});if(!e)return;if(await Ie({title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043b\u0438\u043c\u0438\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043d\u0430 ".concat(e," \u0434\u043b\u044f ").concat(je.size," \u0431\u043e\u0442\u043e\u0432?"),confirmText:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"warning"})){Me(!0);try{const t=localStorage.getItem("token"),n=Array.from(je).map((n=>At.put("".concat(qd,"/admin/bots/").concat(n),{individual_limit:parseInt(e)},{headers:{Authorization:"Bearer ".concat(t)}})));await Promise.all(n),Oe("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u043b\u0438\u043c\u0438\u0442\u044b \u0434\u043b\u044f ".concat(je.size," \u0431\u043e\u0442\u043e\u0432")),await Ue(),We()}catch(t){console.error("Error bulk update limits:",t),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043b\u0438\u043c\u0438\u0442\u043e\u0432")}finally{Me(!1)}}},disabled:Ce,className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50 transition-colors",children:Ce?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043b\u0438\u043c\u0438\u0442\u044b"}),(0,Pt.jsx)("button",{onClick:async()=>{if(0===je.size)return;if(await Ie({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(je.size," \u0431\u043e\u0442\u043e\u0432? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"})){Me(!0);try{const e=localStorage.getItem("token"),t=Array.from(je).map((t=>At.delete("".concat(qd,"/admin/bots/").concat(t,"/delete"),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:"\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438"}})));await Promise.all(t),Oe("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b ".concat(je.size," \u0431\u043e\u0442\u043e\u0432")),await Ue(),We()}catch(e){console.error("Error bulk delete bots:",e),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0431\u043e\u0442\u043e\u0432")}finally{Me(!1)}}},disabled:Ce,className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 disabled:opacity-50 transition-colors",children:Ce?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Pt.jsx)("button",{onClick:We,className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"})]})]})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:(0,Pt.jsx)("input",{type:"checkbox",checked:Ne,onChange:()=>{if(Ne)we(new Set),Se(!1);else{const e=new Set(a.map((e=>e.id)));we(e),Se(!0)}_e(!Ne)},className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u2116"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u043c\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u043e\u0431\u0435\u0434\u044b/\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u044f/\u041d\u0438\u0447\u044c\u0438"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"% \u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041b\u0438\u043c\u0438\u0442\u044b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0426\u0438\u043a\u043b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0443\u043c\u043c\u0430 \u0446\u0438\u043a\u043b\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u0430\u0443\u0437\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===a.length?(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:"14",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 \u0431\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):a.map(((e,t)=>{var n,s,r;return(0,Pt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("input",{type:"checkbox",checked:je.has(e.id),onChange:()=>(e=>{const t=new Set(je);t.has(e)?t.delete(e):t.add(e),we(t),Se(t.size>0),_e(t.size===a.length&&a.length>0)})(e.id),className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm font-bold",children:t+1})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:e.name||"Bot #".concat(e.id.substring(0,3))})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-roboto font-medium ".concat(e.is_active?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("button",{onClick:()=>(async e=>{P(e),I(!0),A(!0);try{var t,n;const a=localStorage.getItem("token"),s=await At.get("".concat(qd,"/admin/bots/").concat(e.id,"/active-bets"),{headers:{Authorization:"Bearer ".concat(a)}});console.log("Active Bets API Response:",s.data);const r=s.data;O({bets:r.bets||[],totalBets:r.totalBets||0,totalBetAmount:r.totalBetAmount||0,gamesPlayed:r.gamesPlayed||0,botWins:r.botWins||0,playerWins:r.playerWins||0,draws:r.draws||0,remaining_slots:r.remaining_slots||0,current_cycle_played:r.current_cycle_played||0,cycle_games:r.cycle_games||12,actions_taken:r.actions_taken||{cancelled:0,created:0}}),(null===(t=r.actions_taken)||void 0===t?void 0:t.cancelled)>0&&Oe("\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e ".concat(r.actions_taken.cancelled," \u043b\u0438\u0448\u043d\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a")),(null===(n=r.actions_taken)||void 0===n?void 0:n.created)>0&&Oe("\u0421\u043e\u0437\u0434\u0430\u043d\u043e ".concat(r.actions_taken.created," \u043d\u043e\u0432\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"))}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",a),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"),O({bets:[],totalBets:0,totalBetAmount:0,gamesPlayed:0,botWins:0,playerWins:0,draws:0,remaining_slots:0,current_cycle_played:0,cycle_games:12,actions_taken:{cancelled:0,created:0}})}finally{I(!1)}})(e),className:"text-blue-400 hover:text-blue-300 underline font-roboto text-sm cursor-pointer",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:e.remaining_slots||e.cycle_games-e.current_cycle_games||0})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"text-white font-roboto text-sm",children:[(null===(n=e.games_stats)||void 0===n?void 0:n.wins)||0,"/",(null===(s=e.games_stats)||void 0===s?void 0:s.losses)||0,"/",(null===(r=e.games_stats)||void 0===r?void 0:r.draws)||0]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"text-orange-400 font-roboto text-sm",children:[(()=>{const t=e.win_percentage||(e.win_rate?100*e.win_rate:55);return Math.round(t)})(),"%"]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"text-accent-primary font-roboto text-xs",children:[(0,Pt.jsxs)("div",{children:["\u041c\u0438\u043d: ",$t(e.min_bet_amount||e.min_bet||1)]}),(0,Pt.jsxs)("div",{children:["\u041c\u0430\u043a\u0441: ",$t(e.max_bet_amount||e.max_bet||100)]}),(0,Pt.jsxs)("div",{className:"text-yellow-400",children:["\u041b\u0438\u043c\u0438\u0442: ",e.individual_limit||e.current_limit||e.cycle_games||12]})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"w-full max-w-24 mx-auto",children:[(0,Pt.jsx)("div",{className:"w-full bg-surface-sidebar rounded-full h-2 mb-2",children:(0,Pt.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min((e.current_cycle_games||0)/(e.cycle_games||12)*100,100),"%")}})}),(0,Pt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-green-400 font-roboto text-sm font-medium",children:e.cycle_progress||"".concat(e.current_cycle_games||0,"/").concat(e.cycle_games||12)}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{const t=await At.get("".concat(qd,"/admin/bots/").concat(e.id,"/cycle-history"),Ud());H(e),q(t.data),W(!0)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0446\u0438\u043a\u043b\u0430:",t),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0446\u0438\u043a\u043b\u0430")}})(e),className:"text-green-400 hover:text-green-300 cursor-pointer p-1",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0446\u0438\u043a\u043b\u0430",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-accent-primary font-roboto text-sm",children:Math.round(((e.min_bet_amount||e.min_bet||1)+(e.max_bet_amount||e.max_bet||100))/2*(e.cycle_games||12))})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-purple-400 font-roboto text-sm",children:(()=>{switch(e.profit_strategy||"balanced"){case"start-positive":case"start_profit":return"\u0420\u0430\u043d\u043d\u044f\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c";case"start-negative":case"end_loss":return"\u041f\u043e\u0437\u0434\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u0438";default:return"\u0421\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f"}})()})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-cyan-400 font-roboto text-sm",children:e.pause_between_games?"".concat(e.pause_between_games,"\u0441"):"0\u0441"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:e.created_at?new Date(e.created_at).toLocaleDateString("ru-RU"):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"flex space-x-2 justify-center",children:[(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{const t=await At.get("".concat(qd,"/admin/bots/").concat(e.id),Ud());Ee({name:t.data.bot.name||"",min_bet_amount:t.data.bot.min_bet_amount||1,max_bet_amount:t.data.bot.max_bet_amount||50,win_percentage:t.data.bot.win_percentage||100*t.data.bot.win_rate||55,cycle_games:t.data.bot.cycle_games||12,individual_limit:t.data.bot.individual_limit||12,creation_mode:t.data.bot.creation_mode||"queue-based",priority_order:t.data.bot.priority_order||50,pause_between_games:t.data.bot.pause_between_games||5,profit_strategy:t.data.bot.profit_strategy||"balanced",cycle_total_amount:t.data.bot.cycle_total_amount||0,can_accept_bets:t.data.bot.can_accept_bets||!1,can_play_with_bots:t.data.bot.can_play_with_bots||!0}),N(t.data.bot),p(!0)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u0430:",t),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u0430")}})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",children:(0,Pt.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Pt.jsx)("button",{onClick:()=>Je(e.id),className:"p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700",title:"\u041f\u0435\u0440\u0435\u0441\u0447\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Pt.jsx)("button",{onClick:()=>(e=>{ue(e),ce(!0)})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await At.post("".concat(qd,"/admin/bots/").concat(e,"/toggle"),{},{headers:{Authorization:"Bearer ".concat(t)}});Oe(n.data.message),await He(),await Ue()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0431\u043e\u0442\u0430:",t),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0431\u043e\u0442\u0430")}})(e.id),className:"p-1 text-white rounded ".concat(e.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),title:e.is_active?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c",children:e.is_active?(0,Pt.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}):(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Pt.jsx)("button",{onClick:()=>(e=>{C(e),L(""),k(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]})})]}),(0,Pt.jsx)(Xn,{currentPage:ve.currentPage,totalPages:ve.totalPages,onPageChange:ve.handlePageChange,itemsPerPage:ve.itemsPerPage,totalItems:ve.totalItems,className:"mt-6"})]}),"settings"===Pe&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83c\udfaf \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0420\u0435\u0436\u0438\u043c:"}),(0,Pt.jsxs)("select",{value:J,onChange:e=>Z(e.target.value),className:"bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm",children:[(0,Pt.jsx)("option",{value:"order",children:"\u041f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443"}),(0,Pt.jsx)("option",{value:"manual",children:"\u0420\u0443\u0447\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})]}),(0,Pt.jsx)("button",{onClick:async()=>{if("manual"!==J)return;if(await Ie({title:"\u0421\u0431\u0440\u043e\u0441 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432",message:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432? \u041e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u044b \u043f\u043e \u0434\u0430\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f.",confirmText:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"warning"}))try{const e=localStorage.getItem("token");(await At.post("".concat(qd,"/admin/bots/priority/reset"),{},{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(Oe("\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b \u0431\u043e\u0442\u043e\u0432 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b"),await Ue())}catch(e){console.error("Error resetting priorities:",e),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432")}},className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm font-rajdhani font-bold",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Always First:"}),(0,Pt.jsx)("span",{className:"text-red-400 font-bold",children:a.filter((e=>"always-first"===e.creation_mode)).length})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Queue Based:"}),(0,Pt.jsx)("span",{className:"text-blue-400 font-bold",children:a.filter((e=>"queue-based"===e.creation_mode||!e.creation_mode)).length})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"After All:"}),(0,Pt.jsx)("span",{className:"text-green-400 font-bold",children:a.filter((e=>"after-all"===e.creation_mode)).length})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83c\udfae \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u0430\u043c\u0438"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041d\u0438\u0437\u043a\u0438\u0439 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"})]}),(0,Pt.jsx)("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"manual"===J?"\u0420\u0443\u0447\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435: \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u2191/\u2193 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0431\u043e\u0442\u043e\u0432":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435: \u0431\u043e\u0442\u044b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"})})]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043b\u0438\u043c\u0438\u0442\u043e\u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"})]})]})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83c\udf10 \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c Regular \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("input",{type:"number",value:K,onChange:e=>X(parseInt(e.target.value)),className:"w-full bg-surface-card border border-border-primary rounded px-3 py-2 text-white",min:"1",max:"200"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c Human \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("input",{type:"number",value:r.max_active_bets_human,onChange:e=>i((t=>l(l({},t),{},{max_active_bets_human:parseInt(e.target.value)}))),className:"w-full bg-surface-card border border-border-primary rounded px-3 py-2 text-white",min:"1",max:"100"})]}),(0,Pt.jsx)("button",{onClick:()=>Ye({max_active_bets_regular:K,max_active_bets_human:r.max_active_bets_human}),className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-rajdhani font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043b\u0438\u043c\u0438\u0442\u044b"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83d\udcc8 \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043b\u0438\u043c\u0438\u0442\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e Regular:"}),(0,Pt.jsxs)("span",{className:"text-blue-400 font-bold",children:[o.regular_bots.current,"/",o.regular_bots.max]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e Human:"}),(0,Pt.jsxs)("span",{className:"text-orange-400 font-bold",children:[o.human_bots.current,"/",o.human_bots.max]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0441\u043b\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("span",{className:"text-green-400 font-bold",children:o.regular_bots.available})]}),(0,Pt.jsxs)("div",{className:"mt-4",children:[(0,Pt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Pt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(o.regular_bots.percentage>=90?"bg-red-500":o.regular_bots.percentage>=70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(100,o.regular_bots.percentage),"%")}})}),(0,Pt.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0441\u0442\u044c: ",o.regular_bots.percentage,"%"]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\u2699\ufe0f \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430\u043c\u0438"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,Pt.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b:"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u0442 1 \u0434\u043e 50. \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043b\u0438\u043c\u0438\u0442\u044b \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0431\u043e\u0442\u043e\u0432."})]}),(0,Pt.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,Pt.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u043a\u0430:"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 \u043b\u0438\u043c\u0438\u0442\u043e\u0432."})]}),(0,Pt.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,Pt.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f:"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043b\u0438\u043c\u0438\u0442\u043e\u0432 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442."})]})]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udd04 \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0446\u0438\u043a\u043b\u0430\u043c\u0438 \u0441\u0442\u0430\u0432\u043e\u043a \u0438 \u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u044f\u043c\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438"})]})]}),(0,Pt.jsx)("div",{className:"flex items-center space-x-3",children:(0,Pt.jsx)("button",{onClick:()=>ae(!0),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm font-rajdhani font-bold",children:"\u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438"})})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0446\u0438\u043a\u043b\u043e\u0432:"}),(0,Pt.jsx)("span",{className:"text-green-400 font-bold",children:a.filter((e=>e.current_cycle_games>0)).length})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445:"}),(0,Pt.jsx)("span",{className:"text-blue-400 font-bold",children:a.filter((e=>0===e.current_cycle_games)).length})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0434\u043b\u0438\u043d\u0430:"}),(0,Pt.jsx)("span",{className:"text-white font-bold",children:a.length>0?Math.round(a.reduce(((e,t)=>e+(t.cycle_games||12)),0)/a.length):0})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\ud83e\udd16 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0410\u0432\u0442\u043e\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435:"}),(0,Pt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0410\u0432\u0442\u043e\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435:"}),(0,Pt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433:"}),(0,Pt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,Pt.jsx)("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445"})})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\u26a1 \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("button",{onClick:()=>{Ie("\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0446\u0438\u043a\u043b\u044b?")&&a.forEach((e=>{e.current_cycle_games>0&&Xe()}))},className:"w-full px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm font-rajdhani font-bold",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0432\u0441\u0435 \u0446\u0438\u043a\u043b\u044b"}),(0,Pt.jsx)("button",{onClick:()=>{Ie("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u043e\u0432?")&&a.forEach((e=>{Je(e.id)}))},className:"w-full px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm font-rajdhani font-bold",children:"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>{Ie("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438?")&&Re("\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u043e\u043a\u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430")},className:"w-full px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm font-rajdhani font-bold",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-4",children:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,Pt.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0414\u043b\u0438\u043d\u0430 \u0446\u0438\u043a\u043b\u0430:"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"\u041e\u0442 1 \u0434\u043e 100 \u0438\u0433\u0440 \u043d\u0430 \u0446\u0438\u043a\u043b"})]}),(0,Pt.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,Pt.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"start-positive, balanced, start-negative"})]}),(0,Pt.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,Pt.jsx)("h5",{className:"text-sm font-bold text-white mb-2",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary",children:"aggressive, balanced, cautious"})]})]})]})]})]})]})]})]}),m&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:w?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("button",{onClick:()=>{p(!1),N(null)},className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"100",value:Le.count,onChange:e=>{const t=l(l({},Le),{},{count:parseInt(e.target.value)||1});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0431\u043e\u0442\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e (1-100)"})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:Le.min_bet_amount,onChange:e=>{const t=l(l({},Le),{},{min_bet_amount:parseInt(e.target.value)||1});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:Le.max_bet_amount,onChange:e=>{const t=l(l({},Le),{},{max_bet_amount:parseInt(e.target.value)||50});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0443\u043c\u043c \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u0433\u0435\u043c\u0430\u0445 (1-10000)"})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434:"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:Le.win_percentage,onChange:e=>{const t=l(l({},Le),{},{win_percentage:parseFloat(e.target.value)||55});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434 (0-100%, \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 55%)"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,Pt.jsxs)("select",{value:Le.profit_strategy,onChange:e=>{const t=l(l({},Le),{},{profit_strategy:e.target.value});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:[(0,Pt.jsx)("option",{value:"start-positive",children:"\u0412 \u043d\u0430\u0447\u0430\u043b\u0435 \u0432 \u043f\u043b\u044e\u0441\u0435"}),(0,Pt.jsx)("option",{value:"balanced",children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,Pt.jsx)("option",{value:"start-negative",children:"\u0412 \u043c\u0438\u043d\u0443\u0441\u0435"})]}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0446\u0438\u043a\u043b\u0430"})]})]})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0426\u0438\u043a\u043b\u044b \u0438 \u043b\u0438\u043c\u0438\u0442\u044b"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"66",value:Le.cycle_games,onChange:e=>{const t=parseInt(e.target.value)||12,n=l(l({},Le),{},{cycle_games:t,individual_limit:t});Ee(n),Ke(n)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"66",value:Le.individual_limit,onChange:e=>{const t=l(l({},Le),{},{individual_limit:parseInt(e.target.value)||12});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435 (1-66) \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043d\u0430 \u0431\u043e\u0442\u0430"})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"100",value:Le.priority_order,onChange:e=>{const t=l(l({},Le),{},{priority_order:parseInt(e.target.value)||50});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0430\u0443\u0437\u0430 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u0430\u043c\u0438 (\u0441\u0435\u043a):"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"300",value:Le.pause_between_games,onChange:e=>{const t=l(l({},Le),{},{pause_between_games:parseInt(e.target.value)||5});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u0434\u043b\u044f queue-based \u0440\u0435\u0436\u0438\u043c\u0430 (1-100) \u0438 \u043f\u0430\u0443\u0437\u0430 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u0430\u043c\u0438 (1-300 \u0441\u0435\u043a)"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,Pt.jsx)("input",{type:"text",value:Le.name,onChange:e=>{Ee(l(l({},Le),{},{name:e.target.value})),Ke(l(l({},Le),{},{name:e.target.value}))},placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:'\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435, \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0442\u043e "Bot"'})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"radio",name:"creation_mode",value:"always-first",checked:"always-first"===Le.creation_mode,onChange:e=>{const t=l(l({},Le),{},{creation_mode:e.target.value});Ee(t),Ke(t)},className:"mr-3"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-white font-medium",children:"Always First"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0432\u043a\u0443 \u0432\u043d\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"})]})]}),(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"radio",name:"creation_mode",value:"queue-based",checked:"queue-based"===Le.creation_mode,onChange:e=>{const t=l(l({},Le),{},{creation_mode:e.target.value});Ee(t),Ke(t)},className:"mr-3"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-white font-medium",children:"Queue-Based"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0416\u0434\u0451\u0442 \u0441\u0432\u043e\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u043e \u0446\u0438\u043a\u043b\u0443"})]})]}),(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"radio",name:"creation_mode",value:"after-all",checked:"after-all"===Le.creation_mode,onChange:e=>{const t=l(l({},Le),{},{creation_mode:e.target.value});Ee(t),Ke(t)},className:"mr-3"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-white font-medium",children:"After All"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0421\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u0442\u0430\u0432\u043a\u0443 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0446\u0438\u043a\u043b\u043e\u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u043e\u0442\u043e\u0432"})]})]})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"100",value:Le.cycle_games,onChange:e=>{const t=l(l({},Le),{},{cycle_games:parseInt(e.target.value)||12});Ee(t),Ke(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u043e\u0434\u043d\u043e\u043c \u0446\u0438\u043a\u043b\u0435 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 12)"})]}),(0,Pt.jsxs)("div",{className:"border border-blue-500 bg-blue-900 bg-opacity-20 rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-blue-400 mb-2",children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0430\u0441\u0447\u0451\u0442"}),(0,Pt.jsxs)("div",{className:"text-lg font-bold text-white",children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430 \u0446\u0438\u043a\u043b: $",Le.cycle_total_amount]}),(0,Pt.jsx)("div",{className:"text-sm text-blue-300 mt-1",children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0444\u043e\u0440\u043c\u0443\u043b\u0435: (\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0430 + \u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0430) / 2 \xd7 \u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435"})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:Le.can_accept_bets,onChange:e=>Ee(l(l({},Le),{},{can_accept_bets:e.target.checked})),className:"mr-2"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0447\u0443\u0436\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:Le.can_play_with_bots,onChange:e=>Ee(l(l({},Le),{},{can_play_with_bots:e.target.checked})),className:"mr-2"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0431\u043e\u0442\u0430\u043c\u0438"})]})]})]}),!Ae.isValid&&(0,Pt.jsxs)("div",{className:"border border-red-500 bg-red-900 bg-opacity-20 rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-red-400 mb-2",children:"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438:"}),(0,Pt.jsx)("ul",{className:"space-y-1",children:Ae.errors.map(((e,t)=>(0,Pt.jsxs)("li",{className:"text-red-300 text-sm",children:["\u2022 ",e]},t)))})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:async()=>{const e=Qe(Le);if(!e.isValid)return Te(e),void Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438: ".concat(e.errors.join(", ")));try{const e=localStorage.getItem("token"),t={name:Le.name,min_bet_amount:Le.min_bet_amount,max_bet_amount:Le.max_bet_amount,win_percentage:Le.win_percentage,cycle_games:Le.cycle_games,individual_limit:Le.individual_limit,creation_mode:Le.creation_mode,priority_order:Le.priority_order,pause_between_games:Le.pause_between_games,profit_strategy:Le.profit_strategy},n=await At.post("".concat(qd,"/admin/bots/create-regular"),t,{headers:{Authorization:"Bearer ".concat(e)}});Oe(n.data.message),p(!1),Ee({name:"",min_bet_amount:1,max_bet_amount:50,win_percentage:55,cycle_games:12,individual_limit:12,creation_mode:"queue-based",priority_order:50,pause_between_games:5,profit_strategy:"balanced",cycle_total_amount:0,can_accept_bets:!1,can_play_with_bots:!0}),await He(),await Ue()}catch(a){var t,n;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u0430:",a),Re((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0431\u043e\u0442\u0430")}},disabled:!Ae.isValid,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(Ae.isValid?"bg-accent-primary text-white hover:bg-accent-secondary":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:w?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("button",{onClick:()=>{p(!1),N(null),Te({isValid:!0,errors:[]})},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),E&&T&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Pt.jsx)("img",{src:"/Bot.svg",alt:"Bot",className:"w-8 h-8 filter brightness-0 invert"})}),(0,Pt.jsx)("h3",{className:"font-russo text-xl text-white",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u2014 Bot"})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430"}),(0,Pt.jsxs)("div",{className:"text-accent-primary text-2xl font-rajdhani font-bold",children:["$",null!==z&&void 0!==z&&z.bets?z.bets.reduce(((e,t)=>e+(t.bet_amount||t.amount||0)),0).toFixed(2):0]})]}),(0,Pt.jsx)("button",{onClick:()=>{A(!1),P(null),O(null)},className:"text-text-secondary hover:text-white transition-colors",children:"\u2715"})]})]}),R?(0,Pt.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"}),(0,Pt.jsx)("span",{className:"ml-3 text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a..."})]}):(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("div",{className:"text-blue-400 text-2xl font-rajdhani font-bold",children:(null===z||void 0===z?void 0:z.totalBets)||0}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs",children:["\u0418\u0437 ",(null===z||void 0===z?void 0:z.remaining_slots)||0," \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u0446\u0438\u043a\u043b\u0430"}),(0,Pt.jsxs)("div",{className:"text-white text-2xl font-rajdhani font-bold",children:[(null===z||void 0===z?void 0:z.current_cycle_played)||0,"/",(null===z||void 0===z?void 0:z.cycle_games)||12]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041e\u0442\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("div",{className:"text-green-400 text-2xl font-rajdhani font-bold",children:(null===z||void 0===z?void 0:z.botWins)||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u043e\u0431\u0435\u0434"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}),(0,Pt.jsx)("div",{className:"text-orange-400 text-2xl font-rajdhani font-bold",children:(null===z||void 0===z?void 0:z.playerWins)||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"})]})]}),(null===z||void 0===z?void 0:z.actions_taken)&&(z.actions_taken.cancelled>0||z.actions_taken.created>0)&&(0,Pt.jsx)("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-500 rounded-lg p-4 mb-4",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-blue-400 text-xl",children:"\u2139\ufe0f"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-blue-400",children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,Pt.jsxs)("p",{className:"text-blue-300 text-sm",children:[z.actions_taken.cancelled>0&&"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e ".concat(z.actions_taken.cancelled," \u043b\u0438\u0448\u043d\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a. "),z.actions_taken.created>0&&"\u0421\u043e\u0437\u0434\u0430\u043d\u043e ".concat(z.actions_taken.created," \u043d\u043e\u0432\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a. "),"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0441 \u0446\u0438\u043a\u043b\u043e\u043c \u0431\u043e\u0442\u0430."]})]})]})}),null!==z&&void 0!==z&&z.bets&&0!==z.bets.length?(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0425\u043e\u0434"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:z.bets.map(((e,t)=>{const n=new Date(e.created_at),a=n.toLocaleDateString("ru-RU"),s=n.toLocaleTimeString("ru-RU");return(0,Pt.jsxs)("tr",{className:"hover:bg-green-900 hover:bg-opacity-20 transition-colors hover:border-l-4 hover:border-green-400",children:[(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white font-bold",children:t+1})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white font-mono",children:e.id?e.id.substring(0,8):"#".concat(t+1)})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:a})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:s})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsxs)("div",{className:"text-sm font-roboto font-bold text-accent-primary",children:["$",e.bet_amount||e.amount||0]})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:e.move||e.selected_gem||"\u2014"})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-roboto font-medium ".concat("active"===e.status?"bg-green-600 text-white":"waiting"===e.status?"bg-yellow-600 text-white":"reveal"===e.status?"bg-blue-600 text-white":"completed"===e.status?"bg-purple-600 text-white":"bg-gray-600 text-white"),children:"active"===e.status?"\u0410\u043a\u0442\u0438\u0432\u043d\u0430":"waiting"===e.status?"\u041e\u0436\u0438\u0434\u0430\u0435\u0442":"reveal"===e.status?"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435":"completed"===e.status?"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430":e.status||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:e.opponent_name||e.opponent_id||"\u2014"})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto",children:"completed"===e.status?(0,Pt.jsx)("span",{className:"font-bold ".concat(e.winner_id===T.id?"text-green-400":e.winner_id?"text-red-400":"text-gray-400"),children:e.winner_id===T.id?"\u041f\u043e\u0431\u0435\u0434\u0430":e.winner_id?"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":"\u041d\u0438\u0447\u044c\u044f"}):(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u2014"})})})]},e.id||t)}))})]})}):(0,Pt.jsx)("div",{className:"text-center py-8",children:(0,Pt.jsx)("div",{className:"text-text-secondary text-lg",children:"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442"})})]}),(0,Pt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Pt.jsx)("button",{onClick:()=>{A(!1),P(null),O(null)},className:"px-4 py-2 bg-surface-sidebar text-white rounded-lg hover:bg-opacity-80 transition-colors font-roboto",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}),b&&w&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430: ",w.name]}),(0,Pt.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430:"}),(0,Pt.jsx)("input",{type:"text",value:w.name,onChange:e=>N(l(l({},w),{},{name:e.target.value})),placeholder:"Bot #001",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0422\u0430\u0439\u043c\u0435\u0440 \u043f\u0430\u0443\u0437\u044b (\u043c\u0438\u043d):"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"1000",value:w.pause_timer,onChange:e=>N(l(l({},w),{},{pause_timer:parseInt(e.target.value)||5})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f (\u0441\u0435\u043a):"}),(0,Pt.jsx)("input",{type:"number",min:"1",value:w.recreate_timer,onChange:e=>N(l(l({},w),{},{recreate_timer:parseInt(e.target.value)||30})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0446\u0438\u043a\u043b\u0430"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435:"}),(0,Pt.jsx)("input",{type:"number",min:"1",value:w.cycle_games,onChange:e=>N(l(l({},w),{},{cycle_games:parseInt(e.target.value)||12})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430 \u0446\u0438\u043a\u043b ($):"}),(0,Pt.jsx)("input",{type:"number",min:"1",value:w.cycle_total_amount,onChange:e=>N(l(l({},w),{},{cycle_total_amount:parseFloat(e.target.value)||500})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"% \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430:"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:w.win_percentage,onChange:e=>N(l(l({},w),{},{win_percentage:parseFloat(e.target.value)||60})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:w.min_bet_amount,onChange:e=>N(l(l({},w),{},{min_bet_amount:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:w.max_bet_amount,onChange:e=>N(l(l({},w),{},{max_bet_amount:parseInt(e.target.value)||100})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]})]}),(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,Pt.jsxs)("select",{value:w.profit_strategy||"balanced",onChange:e=>N(l(l({},w),{},{profit_strategy:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white",children:[(0,Pt.jsx)("option",{value:"balanced",children:"\u0421\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f"}),(0,Pt.jsx)("option",{value:"start_profit",children:"\u0420\u0430\u043d\u043d\u044f\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsx)("option",{value:"end_loss",children:"\u041f\u043e\u0437\u0434\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u0438"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430:"}),(0,Pt.jsxs)("select",{value:w.bot_behavior||"balanced",onChange:e=>N(l(l({},w),{},{bot_behavior:e.target.value})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white",children:[(0,Pt.jsx)("option",{value:"balanced",children:"\u0421\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435"}),(0,Pt.jsx)("option",{value:"aggressive",children:"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u043e\u0435"}),(0,Pt.jsx)("option",{value:"cautious",children:"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e\u0435"})]})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442:"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"50",value:w.current_limit||w.cycle_games||12,onChange:e=>N(l(l({},w),{},{current_limit:parseInt(e.target.value)||12})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0430\u0443\u0437\u0430 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u0430\u043c\u0438 (\u0441\u0435\u043a):"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"300",value:w.pause_between_games||0,onChange:e=>N(l(l({},w),{},{pause_between_games:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:w.can_accept_bets,onChange:e=>N(l(l({},w),{},{can_accept_bets:e.target.checked})),className:"mr-2"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0447\u0443\u0436\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:w.can_play_with_bots,onChange:e=>N(l(l({},w),{},{can_play_with_bots:e.target.checked})),className:"mr-2"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u041c\u043e\u0436\u0435\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0431\u043e\u0442\u0430\u043c\u0438"})]})]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await At.put("".concat(qd,"/admin/bots/").concat(w.id),w,{headers:{Authorization:"Bearer ".concat(e)}});Oe(t.data.message),y(!1),N(null),await Ue()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u0430:",e),Re("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u0430")}},className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-secondary font-rajdhani font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,Pt.jsx)("button",{onClick:()=>Je(w.id),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-rajdhani font-bold",children:"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>y(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),f&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u041b\u0438\u043c\u0438\u0442\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"1000",value:r.max_active_bets_regular,onChange:e=>i(l(l({},r),{},{max_active_bets_regular:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs mt-1",children:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",o.regular_bots.current," \u0438\u0437 ",o.regular_bots.max]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a Human \u0431\u043e\u0442\u043e\u0432:"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"1000",value:r.max_active_bets_human,onChange:e=>i(l(l({},r),{},{max_active_bets_human:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs mt-1",children:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",o.human_bots.current," \u0438\u0437 ",o.human_bots.max]})]})]})]}),(0,Pt.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,Pt.jsxs)("div",{className:"text-yellow-200 text-sm",children:[(0,Pt.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u0415\u0441\u043b\u0438 \u043b\u0438\u043c\u0438\u0442 \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442, \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430\u043c\u0438 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043e\u0434\u043d\u0430 \u0438\u0437 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043d\u044f\u0442\u0430, \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430 \u0438\u043b\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430."]})}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:()=>Ye(r),className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-secondary font-rajdhani font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,Pt.jsx)("button",{onClick:()=>g(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),F&&V&&U&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-green-500 border-opacity-50 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[85vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-green-400",children:["\ud83d\udcc8 \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0446\u0438\u043a\u043b\u0430: ",U.bot_name]}),(0,Pt.jsx)("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u0446\u0438\u043a\u043b\u0430:"}),(0,Pt.jsx)("div",{className:"text-2xl font-rajdhani font-bold text-green-400",children:U.cycle_info.progress}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e \u0438\u0433\u0440 (\u0431\u0435\u0437 \u043d\u0438\u0447\u044c\u0438\u0445)"}),(0,Pt.jsxs)("div",{className:"mt-2 text-sm",children:[(0,Pt.jsxs)("div",{className:"text-green-400",children:["\u041f\u043e\u0431\u0435\u0434: ",U.cycle_info.current_wins]}),(0,Pt.jsxs)("div",{className:"text-red-400",children:["\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439: ",U.cycle_info.current_losses]}),(0,Pt.jsxs)("div",{className:"text-yellow-400",children:["\u041d\u0438\u0447\u044c\u0438\u0445: ",U.cycle_info.draws]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b:"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e:"}),(0,Pt.jsxs)("span",{className:"text-white ml-2",children:["$",U.cycle_stats.total_bet_amount]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u044b\u0438\u0433\u0440\u0430\u043d\u043e:"}),(0,Pt.jsxs)("span",{className:"text-green-400 ml-2",children:["$",U.cycle_stats.total_winnings]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u0440\u043e\u0438\u0433\u0440\u0430\u043d\u043e:"}),(0,Pt.jsxs)("span",{className:"text-red-400 ml-2",children:["$",U.cycle_stats.total_losses]})]}),(0,Pt.jsxs)("div",{className:"border-t border-border-primary pt-2",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0442\u043e\u0433\u043e:"}),(0,Pt.jsxs)("span",{className:"ml-2 font-bold ".concat(U.cycle_stats.net_profit>=0?"text-green-400":"text-red-400"),children:["$",U.cycle_stats.net_profit]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c:"}),(0,Pt.jsxs)("div",{className:"text-2xl font-rajdhani font-bold text-accent-primary",children:[U.cycle_stats.win_percentage,"%"]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:"\u041b\u043e\u0433 \u043c\u0430\u0442\u0447\u0435\u0439 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u0430"})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-card",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0413\u0435\u043c\u044b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:U.games.map(((e,t)=>(0,Pt.jsxs)("tr",{className:"hover:bg-surface-card hover:bg-opacity-50",children:[(0,Pt.jsx)("td",{className:"px-4 py-3 text-white",children:e.game_number}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-accent-primary font-bold",children:["$",e.bet_amount]}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-text-secondary text-xs",children:Object.entries(e.bet_gems).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", ")}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-white",children:e.opponent}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-rajdhani font-bold ".concat("\u041f\u043e\u0431\u0435\u0434\u0430"===e.result?"bg-green-600 text-white":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"===e.result?"bg-red-600 text-white":"bg-yellow-600 text-white"),children:e.result})}),(0,Pt.jsxs)("td",{className:"px-4 py-3 font-bold ".concat(e.winnings>0?"text-green-400":e.winnings<0?"text-red-400":"text-gray-400"),children:[e.winnings>0?"+":"","$",e.winnings]}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:new Date(e.completed_at).toLocaleString("ru-RU")})]},e.game_id)))})]})})]}),(0,Pt.jsx)("div",{className:"flex justify-end pt-4",children:(0,Pt.jsx)("button",{onClick:()=>W(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})]})}),_&&S&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-50 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\uddd1 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsx)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"text-red-300 font-rajdhani font-bold",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),(0,Pt.jsxs)("p",{className:"text-red-200 text-sm",children:["\u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430 ",(0,Pt.jsxs)("strong",{children:['"',S.name||"Bot #".concat(S.id.substring(0,6)),'"']})]})]})]})}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435:"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,Pt.jsx)("span",{className:"ml-2 ".concat(S.is_active?"text-green-400":"text-red-400"),children:S.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,Pt.jsx)("span",{className:"text-white ml-2",children:S.active_bets||0})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"Win Rate:"}),(0,Pt.jsxs)("span",{className:"text-accent-primary ml-2",children:[S.win_rate,"%"]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f:"}),(0,Pt.jsx)("span",{className:"text-white ml-2",children:(Ze=S.created_at,new Date(Ze).toLocaleDateString("ru-RU"))})]})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block text-text-secondary text-sm mb-2",children:[(0,Pt.jsx)("span",{className:"text-red-400",children:"*"})," \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:"]}),(0,Pt.jsx)("textarea",{value:M,onChange:e=>L(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c, \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b, \u043f\u043b\u0430\u043d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430...)",rows:3,className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white resize-none",required:!0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs mt-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u0432 \u043b\u043e\u0433\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"})]}),S.active_bets>0&&(0,Pt.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,Pt.jsxs)("div",{className:"text-yellow-200 text-sm",children:[(0,Pt.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u0423 \u0431\u043e\u0442\u0430 \u0435\u0441\u0442\u044c ",S.active_bets," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438. \u041e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438."]})}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:async()=>{if(M.trim())try{const e=localStorage.getItem("token"),t=await At.delete("".concat(qd,"/admin/bots/").concat(S.id,"/delete"),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:M}});Oe(t.data.message),k(!1),C(null),L(""),await He(),await Ue()}catch(n){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0431\u043e\u0442\u0430";Re(a)}else Re("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430")},disabled:!M.trim(),className:"px-6 py-3 text-white rounded-lg font-rajdhani font-bold transition-colors ".concat(M.trim()?"bg-red-600 hover:bg-red-700":"bg-gray-600 cursor-not-allowed"),children:"\ud83d\uddd1 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("button",{onClick:()=>{k(!1),C(null),L("")},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),ne&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-50 rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[0===se.length?(0,Pt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Pt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,Pt.jsx)("p",{children:"\u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})]}):(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0411\u043e\u0442"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0426\u0438\u043a\u043b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u044b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"Win Rate"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:se.map((e=>(0,Pt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Pt.jsx)("td",{className:"px-4 py-3 text-white font-rajdhani",children:e.bot_name}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-accent-primary font-bold",children:["#",e.cycle_number]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-white",children:[e.games_completed,"/",e.games_won]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-red-400 font-bold",children:["$",e.total_spent.toFixed(2)]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-green-400 font-bold",children:["$",e.total_earned.toFixed(2)]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 font-bold ".concat(e.profit>0?"text-green-400":e.profit<0?"text-red-400":"text-gray-400"),children:[e.profit>0?"+":"","$",e.profit.toFixed(2)]}),(0,Pt.jsxs)("td",{className:"px-4 py-3 text-white",children:[e.win_rate.toFixed(1),"%"]}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(e.is_cycle_completed?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.is_cycle_completed?"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:new Date(e.created_at).toLocaleString("ru-RU")})]},e.id)))})]})}),ie.total_pages>1&&(0,Pt.jsx)("div",{className:"flex justify-center mt-6",children:(0,Pt.jsx)("div",{className:"flex space-x-2",children:Array.from({length:ie.total_pages},((e,t)=>t+1)).map((e=>(0,Pt.jsx)("button",{onClick:()=>{},className:"px-3 py-1 rounded ".concat(e===ie.current_page?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:e},e)))})})]}),(0,Pt.jsx)("div",{className:"flex justify-end p-6 border-t border-border-primary",children:(0,Pt.jsx)("button",{onClick:()=>ae(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}),le&&de&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-white mb-4",children:"\u23f9\ufe0f \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0446\u0438\u043a\u043b\u0430"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435"}),(0,Pt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",de.name]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b:"})," ",de.current_cycle_games||0,"/",de.cycle_games||12," \u0438\u0433\u0440"]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",de.active_bets||0]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0421\u0443\u043c\u043c\u0430 \u0446\u0438\u043a\u043b\u0430:"})," $",de.cycle_total_amount||0]})]})]}),(0,Pt.jsx)("div",{className:"bg-yellow-900 bg-opacity-20 border border-yellow-500 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-yellow-400 text-xl",children:"\u26a0\ufe0f"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-yellow-400",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),(0,Pt.jsx)("p",{className:"text-yellow-300 text-sm",children:"\u0412\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0438 \u0446\u0438\u043a\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e."})]})]})}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:Xe,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-rajdhani font-bold",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b"}),(0,Pt.jsx)("button",{onClick:()=>{ce(!1),ue(null)},className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),le&&de&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-orange-500 border-opacity-50 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-orange-400",children:"\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}),(0,Pt.jsx)("button",{onClick:()=>ce(!1),className:"text-gray-400 hover:text-white",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435:"}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-sm space-y-1",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",de.name]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b:"})," ",de.current_cycle_games||0,"/12 \u0438\u0433\u0440"]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",de.active_bets||0]})]})]}),(0,Pt.jsx)("div",{className:"bg-orange-900 border border-orange-600 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("svg",{className:"w-6 h-6 text-orange-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"text-orange-200 font-bold text-sm",children:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435"}),(0,Pt.jsx)("p",{className:"text-orange-300 text-sm mt-1",children:'\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e. \u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u0438 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b "\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432". \u0421\u0447\u0451\u0442\u0447\u0438\u043a\u0438 \u0438\u0433\u0440 \u0431\u0443\u0434\u0443\u0442 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b.'})]})]})}),(0,Pt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Pt.jsx)("button",{onClick:Xe,className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-rajdhani font-bold transition-colors",children:"\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b"}),(0,Pt.jsx)("button",{onClick:()=>{ce(!1),ue(null)},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),(0,Pt.jsx)(Gd,l({},De)),(0,Pt.jsx)(Yd,l({},Fe))]});var Ze},Kd="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),Xd=e=>{let{isOpen:n,onClose:a,bot:s,addNotification:r}=e;const[i,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[x,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[g,b]=(0,t.useState)([]),[y,v]=(0,t.useState)("all"),{confirm:j,confirmationModal:w}=Fd();(0,t.useEffect)((()=>{(async()=>{await en()})()}),[]),(0,t.useEffect)((()=>{n&&s&&S()}),[n,s]);const N=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case"ROCK":return"\ud83e\udea8 \u041a\u0430\u043c\u0435\u043d\u044c";case"PAPER":return"\ud83d\udcc4 \u0411\u0443\u043c\u0430\u0433\u0430";case"SCISSORS":return"\u2702\ufe0f \u041d\u043e\u0436\u043d\u0438\u0446\u044b";default:return"\u2014"}},_=e=>e.is_creator?"\u042f":e.opponent_name||"\u041e\u043f\u043f\u043e\u043d\u0435\u043d\u0442",k=()=>null!==c&&void 0!==c&&c.bets?"all"===y?c.bets:"me"===y?c.bets.filter((e=>e.is_creator)):"opponent"===y?c.bets.filter((e=>!e.is_creator)):c.bets:[],S=async()=>{try{o(!0);const e=localStorage.getItem("token"),t=await At.get("".concat(Kd,"/admin/human-bots/").concat(s.id,"/active-bets"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});t.data&&d(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e),null===r||void 0===r||r("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a","error")}finally{o(!1)}},C=async()=>{try{o(!0);const e=localStorage.getItem("token"),t=await At.get("".concat(Kd,"/admin/human-bots/").concat(s.id,"/all-bets"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});t.data&&d(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e),null===r||void 0===r||r("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a","error")}finally{o(!1)}},M=()=>{d(null),h(!1),v("all"),a()};return n&&s?(0,Pt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Pt.jsxs)("h3",{className:"font-russo text-xl text-white",children:["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u2014 ",s.name]})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430"}),(0,Pt.jsx)("div",{className:"text-accent-primary text-2xl font-rajdhani font-bold",children:null!==c&&void 0!==c&&c.bets?Zt(c.bets.reduce(((e,t)=>e+(t.bet_amount||t.total_bet_amount||0)),0)):"0 Gems"})]}),(0,Pt.jsx)("button",{onClick:M,className:"text-text-secondary hover:text-white transition-colors",children:"\u2715"})]})]}),i?(0,Pt.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"}),(0,Pt.jsx)("span",{className:"ml-3 text-text-secondary",children:u?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a...":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a..."})]}):(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("div",{className:"text-blue-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.activeBets)||0}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs",children:["\u0418\u0437 ",s.bet_limit||12," \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c"]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsx)("div",{className:"text-white text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.totalBets)||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:u?"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 + \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435":"\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("div",{className:"text-green-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.botWins)||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u043e\u0431\u0435\u0434"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}),(0,Pt.jsx)("div",{className:"text-orange-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.playerWins)||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041d\u0438\u0447\u044c\u044f"}),(0,Pt.jsx)("div",{className:"text-yellow-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.draws)||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041d\u0438\u0447\u044c\u0438\u0445"})]})]}),(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[(0,Pt.jsx)("button",{onClick:async()=>{u?(await S(),h(!1)):(await C(),h(!0))},disabled:i,className:"px-4 py-2 rounded-lg font-roboto transition-colors ".concat(u?"bg-accent-primary text-white hover:bg-opacity-80":"bg-surface-sidebar text-white hover:bg-opacity-80"," disabled:opacity-50"),children:u?"\ud83d\udccb \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435":"\ud83d\udcdc \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0424\u0438\u043b\u044c\u0442\u0440:"}),(0,Pt.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"px-3 py-2 bg-surface-sidebar text-white rounded-lg border border-border-primary focus:border-accent-primary transition-colors",children:[(0,Pt.jsx)("option",{value:"all",children:"\u0412\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("option",{value:"me",children:"\u041c\u043e\u0438 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("option",{value:"opponent",children:"\u0421\u0442\u0430\u0432\u043a\u0438 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"})]})]}),u&&(0,Pt.jsx)("button",{onClick:async()=>{try{m(!0);const e=localStorage.getItem("token"),t=await At.post("".concat(Kd,"/admin/human-bots/").concat(s.id,"/clear-completed-bets"),{},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});t.data&&!1!==t.data.success&&(null===r||void 0===r||r("\u041e\u0447\u0438\u0449\u0435\u043d\u043e ".concat(t.data.cleared_count||0," \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"),"success"),u?await C():await S())}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e),null===r||void 0===r||r("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a","error")}finally{m(!1)}},disabled:x||i,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 font-roboto",children:x?"\ud83d\udd04 \u041e\u0447\u0438\u0441\u0442\u043a\u0430...":"\ud83d\uddd1\ufe0f \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"}),(0,Pt.jsx)("button",{onClick:async()=>{console.log("\ud83d\uddd1\ufe0f Starting delete bets history for bot:",s.id);if(await j({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0434\u043b\u044f Human-\u0431\u043e\u0442\u0430 "'.concat(s.name,'"?\n\n\u0411\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u0432\u043a\u0438 \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c "\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430", "\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430" \u0438 "\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430".\n\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u043d\u0435\u0442\u0440\u043e\u043d\u0443\u0442\u044b\u043c\u0438.\n\n\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!'),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{f(!0);const e=localStorage.getItem("token");console.log("\ud83d\uddd1\ufe0f Making API call to delete completed bets");const t=await At.post("".concat(Kd,"/admin/human-bots/").concat(s.id,"/delete-completed-bets"),{},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("\ud83d\uddd1\ufe0f API Response:",t.data),t.data&&!1!==t.data.success){const e=t.data.hidden_count||0;console.log("\ud83d\uddd1\ufe0f Hidden count:",e),null===r||void 0===r||r("\u0421\u043a\u0440\u044b\u0442\u043e ".concat(e," \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0438\u0437 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),"success"),console.log("\ud83d\uddd1\ufe0f Reloading bets data"),u?await C():await S()}else console.error("\ud83d\uddd1\ufe0f API returned failure:",t.data),null===r||void 0===r||r("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","error")}catch(n){var e,t;console.error("\ud83d\uddd1\ufe0f Error deleting history:",n);const a=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a";null===r||void 0===r||r(a,"error")}finally{f(!1),console.log("\ud83d\uddd1\ufe0f Delete operation completed")}else console.log("\ud83d\uddd1\ufe0f User cancelled deletion")},disabled:p||i,className:"px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors disabled:opacity-50 font-roboto",children:p?"\ud83d\udd04 \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\ud83d\uddd1\ufe0f \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441\u0442\u0430\u0432\u043e\u043a"})]}),null!==c&&void 0!==c&&c.bets&&0!==k().length?(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u041a\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0425\u043e\u0434\u044b"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:k().map(((e,t)=>{var n;const a=new Date(e.created_at),r=a.toLocaleDateString("ru-RU"),i=a.toLocaleTimeString("ru-RU"),o=["WAITING","ACTIVE","REVEAL"].includes(null===(n=e.status)||void 0===n?void 0:n.toUpperCase());return(0,Pt.jsxs)("tr",{className:"transition-colors hover:border-l-4 ".concat(o?"hover:bg-green-900 hover:bg-opacity-20 hover:border-green-400":"hover:bg-gray-900 hover:bg-opacity-20 hover:border-gray-400"),children:[(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white font-bold",children:t+1})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white font-mono",children:e.id?e.id.substring(0,8):"#".concat(t+1)})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:r})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:i})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto font-bold text-accent-primary",children:Zt(e.bet_amount||e.total_bet_amount||0)})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto font-bold ".concat(e.is_creator?"text-blue-400":"text-orange-400"),children:_(e)})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:"COMPLETED"===e.status?(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-accent-primary font-bold",children:"\u0411\u043e\u0442:"}),(0,Pt.jsx)("span",{className:"text-white",children:e.bot_move?N(e.bot_move):e.creator_id===s.id?e.creator_move?N(e.creator_move):"\u2014":e.opponent_move?N(e.opponent_move):"\u2014"})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-orange-400 font-bold",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a:"}),(0,Pt.jsx)("span",{className:"text-white",children:e.opponent_move_actual?N(e.opponent_move_actual):e.creator_id===s.id?e.opponent_move?N(e.opponent_move):"\u2014":e.creator_move?N(e.creator_move):"\u2014"})]})]}):(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u2014"})})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-roboto font-medium ".concat("ACTIVE"===e.status?"bg-green-600 text-white":"WAITING"===e.status?"bg-yellow-600 text-white":"REVEAL"===e.status?"bg-blue-600 text-white":"COMPLETED"===e.status?"bg-purple-600 text-white":"CANCELLED"===e.status?"bg-red-600 text-white":(e.status,"bg-gray-600 text-white")),children:"ACTIVE"===e.status?"\u0410\u043a\u0442\u0438\u0432\u043d\u0430":"WAITING"===e.status?"\u041e\u0436\u0438\u0434\u0430\u0435\u0442":"REVEAL"===e.status?"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435":"COMPLETED"===e.status?"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430":"CANCELLED"===e.status?"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430":"ARCHIVED"===e.status?"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430":e.status||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:e.opponent_name||e.opponent_id||"\u2014"})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto",children:"COMPLETED"===e.status?(0,Pt.jsx)("span",{className:"font-bold ".concat(e.winner_id===s.id?"text-green-400":e.winner_id?"text-red-400":"text-gray-400"),children:e.winner_id===s.id?"\u041f\u043e\u0431\u0435\u0434\u0430":e.winner_id?"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":"\u041d\u0438\u0447\u044c\u044f"}):"CANCELLED"===e.status?(0,Pt.jsx)("span",{className:"text-red-400 font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"}):"ARCHIVED"===e.status?(0,Pt.jsx)("span",{className:"text-gray-400 font-bold",children:"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430"}):(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u2014"})})})]},e.id||t)}))})]})}):(0,Pt.jsx)("div",{className:"text-center py-8",children:(0,Pt.jsx)("div",{className:"text-text-secondary text-lg",children:"all"===y?u?"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a":"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442":"me"===y?"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a, \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043c":"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u0442 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"})})]}),(0,Pt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Pt.jsx)("button",{onClick:M,className:"px-4 py-2 bg-surface-sidebar text-white rounded-lg hover:bg-opacity-80 transition-colors font-roboto",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]}),(0,Pt.jsx)(Gd,l({},w))]}):null},Jd=e=>{var t;let{isOpen:n,onClose:a,bot:s,data:r,loading:i,onPageChange:o}=e;if(!n)return null;const l=e=>{if(!e)return"\u2014";const t=new Date(e);return t.toLocaleDateString("ru-RU")+" "+t.toLocaleTimeString("ru-RU")},c=e=>{switch(e){case"win":return(0,Pt.jsx)("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"\u041f\u043e\u0431\u0435\u0434\u0430"});case"loss":return(0,Pt.jsx)("span",{className:"px-2 py-1 bg-red-600 text-white text-xs rounded-full",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"});case"draw":return(0,Pt.jsx)("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"\u041d\u0438\u0447\u044c\u044f"});default:return(0,Pt.jsx)("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"\u2014"})}};return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-primary border border-border-primary rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-primary",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"text-xl font-rajdhani font-bold text-white",children:"\ud83d\udcb0 \u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"}),(0,Pt.jsxs)("p",{className:"text-text-secondary font-roboto text-sm mt-1",children:[null===s||void 0===s?void 0:s.name," \u2022 \u041e\u0431\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: $",((null===s||void 0===s?void 0:s.total_commission_paid)||0).toFixed(2)]})]}),(0,Pt.jsx)("button",{onClick:a,className:"text-text-secondary hover:text-white transition-colors",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsx)("div",{className:"p-6",children:i?(0,Pt.jsxs)("div",{className:"flex justify-center items-center py-8",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-primary"}),(0,Pt.jsx)("span",{className:"ml-2 text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f\u0445..."})]}):r&&r.commission_entries?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"bg-surface-sidebar bg-opacity-50 rounded-lg p-4 mb-6",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"text-2xl font-bold text-accent-primary",children:["$",(r.total_commission_paid||0).toFixed(2)]}),(0,Pt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(t=r.pagination)||void 0===t?void 0:t.total_items)||0}),(0,Pt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:r.commission_entries.length}),(0,Pt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"})]})]})}),r.commission_entries.length>0?(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-border-primary",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar bg-opacity-20",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID \u0418\u0433\u0440\u044b"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:r.commission_entries.map(((e,t)=>{var n,a,s;const i=e.game_details,o=((null===(n=r.pagination)||void 0===n?void 0:n.current_page)-1)*((null===(a=r.pagination)||void 0===a?void 0:a.per_page)||50);return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-900 hover:bg-opacity-20 transition-colors",children:[(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white font-bold",children:o+t+1})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:l(e.created_at)})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsxs)("div",{className:"text-sm font-roboto font-bold text-red-400",children:["$",(e.amount||0).toFixed(2)]})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-accent-primary",children:i?$t(i.bet_amount||0):"\u2014"})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:i?c(i.result):"\u2014"}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-sm font-roboto text-white",children:(null===i||void 0===i||null===(s=i.opponent)||void 0===s?void 0:s.username)||"\u2014"})}),(0,Pt.jsx)("td",{className:"px-4 py-3",children:(0,Pt.jsx)("div",{className:"text-xs font-roboto font-mono text-text-secondary",children:null!==i&&void 0!==i&&i.game_id?i.game_id.substring(0,8):"\u2014"})})]},e.id||t)}))})]})}):(0,Pt.jsxs)("div",{className:"text-center py-8 text-text-secondary",children:[(0,Pt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcb0"}),(0,Pt.jsx)("div",{className:"text-lg font-rajdhani",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),(0,Pt.jsx)("div",{className:"text-sm",children:"\u0423 \u044d\u0442\u043e\u0433\u043e Human-\u0431\u043e\u0442\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"})]}),r.pagination&&r.pagination.total_pages>1&&(0,Pt.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border-primary",children:[(0,Pt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",r.pagination.current_page," \u0438\u0437 ",r.pagination.total_pages,"\u2022 \u0412\u0441\u0435\u0433\u043e: ",r.pagination.total_items," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("button",{onClick:()=>o(r.pagination.current_page-1),disabled:!r.pagination.has_prev,className:"px-3 py-1 bg-surface-sidebar text-white text-sm rounded hover:bg-opacity-70 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,Pt.jsx)("button",{onClick:()=>o(r.pagination.current_page+1),disabled:!r.pagination.has_next,className:"px-3 py-1 bg-surface-sidebar text-white text-sm rounded hover:bg-opacity-70 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u2192"})]})]})]}):(0,Pt.jsxs)("div",{className:"text-center py-8 text-text-secondary",children:[(0,Pt.jsx)("div",{className:"text-4xl mb-4",children:"\u26a0\ufe0f"}),(0,Pt.jsx)("div",{className:"text-lg font-rajdhani",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,Pt.jsx)("div",{className:"text-sm",children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f\u0445"})]})}),(0,Pt.jsx)("div",{className:"flex justify-end p-6 border-t border-border-primary",children:(0,Pt.jsx)("button",{onClick:a,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors font-roboto",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})})},Zd="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),eu=e=>{let{onEditBot:n,onCreateBot:a}=e;const{addNotification:s}=sn(),{confirm:r,confirmationModal:i}=Fd(),{prompt:o,inputModal:c}=Wd(),[d,u]=(0,t.useState)([]),[h,x]=(0,t.useState)(!0),[m,p]=(0,t.useState)({}),[f,g]=(0,t.useState)({}),[b,y]=(0,t.useState)(new Set),[v,j]=(0,t.useState)(!1),[w,N]=(0,t.useState)(!1),[_,k]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[M,L]=(0,t.useState)(null),[E,A]=(0,t.useState)(null),[T,P]=(0,t.useState)(!1),[z,O]=(0,t.useState)(!1),[R,I]=(0,t.useState)(null),[D,B]=(0,t.useState)(1),[F,W]=(0,t.useState)(!1),[V,H]=(0,t.useState)(null),[U,q]=(0,t.useState)(null),[$,G]=(0,t.useState)(!1),[Y,Q]=(0,t.useState)(1);(0,t.useEffect)((()=>{K(),X(),J()}),[]);const K=async()=>{try{x(!0);const e=await Z("/admin/human-bots?limit=100","GET");!1!==e.success&&u(e.bots||[])}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f Human-\u0431\u043e\u0442\u043e\u0432:",e)}finally{x(!1)}},X=async()=>{try{const e=await Z("/admin/human-bots/stats","GET");!1!==e.success&&p(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438:",e)}},J=async()=>{try{const e=await Z("/admin/human-bots/settings","GET");!1!==e.success&&g(e.settings||{})}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",e)}},Z=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const a=localStorage.getItem("token"),s={method:t,url:"".concat(Zd).concat(e),headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}};n&&("GET"===t?s.params=n:s.data=n);return(await At(s)).data}catch(r){var a;let e="\u041e\u0448\u0438\u0431\u043a\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u0430";if(null!==(a=r.response)&&void 0!==a&&a.data){const t=r.response.data;if(Array.isArray(t)&&t.length>0)e=t.map((e=>e.msg||e.message||"Validation error")).join(", ");else if(t.detail){if("object"===typeof t.detail){e=t.detail.message||"Structured error";const n=new Error(e);throw n.detailData=t.detail,n}e=t.detail}else t.message?e=t.message:"string"===typeof t&&(e=t)}else r.message&&(e=r.message);throw s(e,"error"),new Error(e)}},ee=()=>{y(new Set),j(!1),N(!1)},te=async e=>{if(0===b.size)return;const t=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c";if(await r({title:"".concat(e?"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432"),message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ".concat(t," ").concat(b.size," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432?"),type:e?"success":"warning"})){k(!0);try{const e=Array.from(b);let a=0;for(const t of e)try{await Z("/admin/human-bots/".concat(t,"/toggle-status"),"POST"),a++}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043b\u044f \u0431\u043e\u0442\u0430 ".concat(t,":"),n)}s("\u0423\u0441\u043f\u0435\u0448\u043d\u043e ".concat(t," ").concat(a," \u0438\u0437 ").concat(b.size," Human-\u0431\u043e\u0442\u043e\u0432"),"success"),ee(),await K(),await X()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430:",n)}finally{k(!1)}}},ne=async(e,t)=>{var n;const a=await r({title:"\u26a0\ufe0f \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430 \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438",message:(0,Pt.jsxs)("div",{className:"text-left",children:[(0,Pt.jsxs)("p",{className:"mb-3",children:[(0,Pt.jsxs)("strong",{children:["Human-\u0431\u043e\u0442 ",e.name]})," \u0438\u043c\u0435\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"]}),(0,Pt.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 rounded p-3 mb-3 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440:"})," ",t.active_games_count]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432:"})," $",(null===(n=t.total_frozen_balance)||void 0===n?void 0:n.toFixed(2))||"0.00"]})]}),t.games&&t.games.length>0&&(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("p",{className:"text-sm font-semibold mb-2",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"}),(0,Pt.jsx)("div",{className:"max-h-32 overflow-y-auto text-xs",children:t.games.map(((e,t)=>(0,Pt.jsxs)("div",{className:"border-b py-1",children:[(0,Pt.jsxs)("div",{children:["\u0421\u0442\u0430\u0432\u043a\u0430: $",e.bet_amount," | \u0421\u0442\u0430\u0442\u0443\u0441: ",e.status]}),(0,Pt.jsxs)("div",{children:["\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a: ",e.opponent]})]},t)))})]}),(0,Pt.jsx)("p",{className:"text-sm text-red-600 font-semibold",children:"\u26a0\ufe0f \u041f\u0440\u0438 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u0438\u0433\u0440\u043e\u043a\u0430\u043c."}),(0,Pt.jsx)("p",{className:"mt-2 text-sm",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435?"})]}),type:"danger"});if(a)try{const t=await Z("/admin/human-bots/".concat(e.id,"?force_delete=true"),"DELETE");s(t.message||'Human-\u0431\u043e\u0442 "'.concat(e.name,'" \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438'),"warning"),await K(),await X()}catch(i){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",i),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f: ".concat(i.message),"error")}};return(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"p-4 border-b border-border-primary",children:[(0,Pt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:"\u0421\u043f\u0438\u0441\u043e\u043a Human \u0431\u043e\u0442\u043e\u0432"}),h&&(0,Pt.jsx)("div",{className:"text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]}),w&&(0,Pt.jsx)("div",{className:"p-4 bg-accent-primary bg-opacity-10 border-b border-border-primary",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Pt.jsxs)("span",{className:"text-white font-roboto text-sm",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0431\u043e\u0442\u043e\u0432: ",(0,Pt.jsx)("span",{className:"font-bold",children:b.size})]})}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("button",{onClick:()=>te(!0),disabled:_,className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50 transition-colors",children:_?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Pt.jsx)("button",{onClick:()=>te(!1),disabled:_,className:"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:_?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Pt.jsx)("button",{onClick:async()=>{if(0===b.size)return;if(await r({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(b.size," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!"),type:"danger"})){k(!0);try{const n=Array.from(b);let a=0,i=[];for(const t of n)try{await Z("/admin/human-bots/".concat(t),"DELETE"),a++}catch(e){if(console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 ".concat(t,":"),e),e.detailData&&e.detailData.force_delete_required){const n=d.find((e=>e.id===t));i.push({bot:n,errorInfo:e.detailData})}else if(e.message.includes("Cannot delete bot with active games")){const e=d.find((e=>e.id===t));i.push({bot:e,errorInfo:{active_games_count:"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",total_frozen_balance:0,games:[]}})}}if(i.length>0){const e=i.reduce(((e,t)=>e+("number"===typeof t.errorInfo.active_games_count?t.errorInfo.active_games_count:0)),0),n=i.reduce(((e,t)=>e+(t.errorInfo.total_frozen_balance||0)),0),s=await r({title:"\u26a0\ufe0f \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432 \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438",message:(0,Pt.jsxs)("div",{className:"text-left",children:[(0,Pt.jsxs)("p",{className:"mb-3",children:[(0,Pt.jsxs)("strong",{children:[i.length," \u0431\u043e\u0442\u043e\u0432"]})," \u0438\u043c\u0435\u044e\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"]}),(0,Pt.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 rounded p-3 mb-3 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440:"})," ",e]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u0430:"})," $",n.toFixed(2)]})]}),(0,Pt.jsx)("div",{className:"mb-3 max-h-32 overflow-y-auto text-xs",children:i.map(((e,t)=>{var n;return(0,Pt.jsxs)("div",{className:"border-b py-1",children:[(0,Pt.jsxs)("strong",{children:[null===(n=e.bot)||void 0===n?void 0:n.name,":"]})," ",e.errorInfo.active_games_count," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440"]},t)}))}),(0,Pt.jsx)("p",{className:"text-sm text-red-600 font-semibold mb-2",children:"\u26a0\ufe0f \u041f\u0440\u0438 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u0438\u0433\u0440\u043e\u043a\u0430\u043c."}),(0,Pt.jsxs)("p",{className:"text-sm",children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ",i.length," \u0431\u043e\u0442\u043e\u0432?"]})]}),type:"danger"});if(s)for(const r of i)try{await Z("/admin/human-bots/".concat(r.bot.id,"?force_delete=true"),"DELETE"),a++}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 ".concat(r.bot.id,":"),t)}}s("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e ".concat(a," \u0438\u0437 ").concat(b.size," Human-\u0431\u043e\u0442\u043e\u0432"),"success"),ee(),await K(),await X()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",e)}finally{k(!1)}}},disabled:_,className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 disabled:opacity-50 transition-colors",children:_?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Pt.jsx)("button",{onClick:ee,className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:(0,Pt.jsx)("input",{type:"checkbox",checked:v,onChange:()=>{if(v)y(new Set),N(!1);else{const e=new Set(d.map((e=>e.id)));y(e),N(!0)}j(!v)},className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u2116"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u043c\u044f"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"Gender"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041b\u0438\u043c\u0438\u0442\u044b \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u0433\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0418\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===d.length?(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:"15",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 Human-\u0431\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):d.map(((e,t)=>{return(0,Pt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("input",{type:"checkbox",checked:b.has(e.id),onChange:()=>(e=>{const t=new Set(b);t.has(e)?t.delete(e):t.add(e),y(t),N(t.size>0),j(t.size===d.length&&d.length>0)})(e.id),className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm font-bold",children:t+1})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-white font-roboto text-sm",children:e.name})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"flex items-center justify-center",children:(0,Pt.jsxs)("label",{className:"gender-toggle",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:"female"===e.gender,onChange:()=>(async(e,t)=>{const n="male"===t?"female":"male";try{await Z("/admin/human-bots/".concat(e),"PUT",{gender:n}),u((t=>t.map((t=>t.id===e?l(l({},t),{},{gender:n}):t)))),It().triggerLobbyRefresh(),s("\u041f\u043e\u043b Human-\u0431\u043e\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d \u043d\u0430 ".concat("male"===n?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439"),"success")}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0430 Human-\u0431\u043e\u0442\u0430:",a),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0430 Human-\u0431\u043e\u0442\u0430","error")}})(e.id,e.gender)}),(0,Pt.jsx)("span",{className:"gender-slider"}),(0,Pt.jsx)("span",{className:"gender-label male",children:"M"}),(0,Pt.jsx)("span",{className:"gender-label female",children:"F"})]})})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"text-accent-primary font-roboto text-xs",children:[(0,Pt.jsxs)("div",{children:["\u0418\u0433\u0440: ",e.actual_games_played||0]}),(0,Pt.jsxs)("div",{children:[e.actual_wins||0,"/",e.losses||0,"/",e.draws||0]}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("button",{onClick:()=>(async e=>{H(e),W(!0),G(!0),Q(1);try{const t=await Z("/admin/human-bots/".concat(e.id,"/commission-details?page=1&limit=50"),"GET");q(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:",t),q(null)}finally{G(!1)}})(e),className:"text-blue-400 hover:text-blue-300 underline font-roboto cursor-pointer",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439",children:["\u041e\u0431\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: $",(e.total_commission_paid||0).toFixed(2)]})}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("span",{className:(e.correct_profit||0)>=0?"text-green-400":"text-red-400",children:["\u041f\u0440\u0438\u0431\u044b\u043b\u044c: $",(e.correct_profit||0).toFixed(2)]})}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("span",{className:(e.correct_profit||0)-(e.total_commission_paid||0)>=0?"text-green-400":"text-red-400",children:["\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: $",((e.correct_profit||0)-(e.total_commission_paid||0)).toFixed(2)]})})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("button",{onClick:()=>(async e=>{L(e),C(!0),P(!0),O(!1);try{const t=await Z("/admin/human-bots/".concat(e.id,"/active-bets"),"GET");A(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",t),A(null)}finally{P(!1)}})(e),className:"text-blue-400 hover:text-blue-300 underline font-roboto text-sm cursor-pointer",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:e.active_bets_count||0})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-roboto font-medium text-white ".concat("AGGRESSIVE"===e.character?"bg-red-600":"CAUTIOUS"===e.character?"bg-blue-600":"STABLE"===e.character?"bg-green-600":"IMPULSIVE"===e.character?"bg-purple-600":"ANALYST"===e.character?"bg-indigo-600":"MIMIC"===e.character?"bg-pink-600":"bg-gray-600"),children:(a=e.character,{STABLE:"\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u044b\u0439",AGGRESSIVE:"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439",CAUTIOUS:"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439",BALANCED:"\u0411\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439",IMPULSIVE:"\u0418\u043c\u043f\u0443\u043b\u044c\u0441\u0438\u0432\u043d\u044b\u0439",ANALYST:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a",MIMIC:"\u041c\u0438\u043c\u0438\u043a"}[a]||a)})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-roboto font-medium ".concat(e.is_active?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"text-accent-primary font-roboto text-xs",children:[(0,Pt.jsxs)("div",{children:["\u041c\u0438\u043d: ",$t(e.min_bet)]}),(0,Pt.jsxs)("div",{children:["\u041c\u0430\u043a\u0441: ",$t(e.max_bet)]}),(0,Pt.jsxs)("div",{children:["\u0421\u0440\u0435\u0434\u043d\u0438\u0439: ",$t(e.average_bet_amount||0)]})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("input",{type:"number",value:e.bet_limit_amount||300,onChange:t=>(async(e,t)=>{if(isNaN(t)||t<1||t>1e5)s("\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 100000","error");else try{await Z("/admin/human-bots/".concat(e.id),"PUT",{bet_limit_amount:t}),u((n=>n.map((n=>n.id===e.id?l(l({},n),{},{bet_limit_amount:t}):n)))),s('\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'" \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e \u043d\u0430 ').concat(t),"success")}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f Human-\u0431\u043e\u0442\u0430:",n),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f Human-\u0431\u043e\u0442\u0430","error")}})(e,parseFloat(t.target.value)||300),className:"w-20 px-2 py-1 bg-surface-sidebar text-white rounded border border-border-primary focus:border-accent-primary text-center text-sm",min:"1",max:"100000"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"text-orange-400 font-roboto text-sm",children:[e.win_percentage,"%"]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsx)("div",{className:"text-yellow-400 font-roboto text-sm",children:e.bet_limit||12})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer group",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:e.can_play_with_other_bots||!1,onChange:t=>(async(e,t)=>{try{await Z("/admin/human-bots/".concat(e.id,"/toggle-auto-play"),"POST",{can_play_with_other_bots:t}),s('\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'" \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b: \u0430\u0432\u0442\u043e\u0438\u0433\u0440\u0430 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0431\u043e\u0442\u0430\u043c\u0438 ').concat(t?"\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430":"\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430"),"success"),await K(),await X()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0430\u0432\u0442\u043e\u0438\u0433\u0440\u044b:",n)}})(e,t.target.checked),className:"sr-only peer"}),(0,Pt.jsx)("div",{className:"relative w-11 h-6 bg-gray-700 rounded-full peer peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 peer-focus:ring-opacity-50 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:duration-300 peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-purple-600 shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:(0,Pt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-white opacity-20"})})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("label",{className:"relative inline-flex items-center group ".concat(f.play_with_players_enabled?"cursor-pointer":"cursor-not-allowed opacity-50"),children:[(0,Pt.jsx)("input",{type:"checkbox",checked:e.can_play_with_players||!1,onChange:t=>(async(e,t)=>{if(f.play_with_players_enabled)try{await Z("/admin/human-bots/".concat(e.id,"/toggle-play-with-players"),"POST",{can_play_with_players:t}),s('\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'" \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b: \u0438\u0433\u0440\u0430 \u0441 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438 ').concat(t?"\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430":"\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430"),"success"),await K(),await X()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438\u0433\u0440\u044b \u0441 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438:",n)}else s("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443: \u0438\u0433\u0440\u0430 \u0441 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","warning")})(e,t.target.checked),disabled:!f.play_with_players_enabled,className:"sr-only peer"}),(0,Pt.jsx)("div",{className:"relative w-11 h-6 ".concat(f.play_with_players_enabled?"bg-gray-700":"bg-gray-800"," rounded-full peer peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-300 peer-focus:ring-opacity-50 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:duration-300 peer-checked:bg-gradient-to-r peer-checked:from-green-500 peer-checked:to-emerald-600 shadow-lg ").concat(f.play_with_players_enabled?"hover:shadow-xl transition-all duration-300 group-hover:scale-105":""," ").concat(f.play_with_players_enabled?"":"opacity-50"),children:(0,Pt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-white opacity-20"})})]})}),(0,Pt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Pt.jsxs)("div",{className:"flex space-x-2 justify-center",children:[(0,Pt.jsx)("button",{onClick:()=>n(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",children:(0,Pt.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{if(await r({title:"\u041f\u0435\u0440\u0435\u0441\u0447\u0451\u0442 \u0441\u0442\u0430\u0432\u043e\u043a Human-\u0431\u043e\u0442\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043b\u044f Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'"? \u0412\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b.'),type:"warning"}))try{const t=await Z("/admin/human-bots/".concat(e.id,"/recalculate-bets"),"POST");s('\u041f\u0435\u0440\u0435\u0441\u0447\u0451\u0442 \u0441\u0442\u0430\u0432\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d: Human-\u0431\u043e\u0442 "'.concat(e.name,'" - \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e ').concat(t.cancelled_bets," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"),"success"),await K(),await X()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0451\u0442\u0430 \u0441\u0442\u0430\u0432\u043e\u043a:",t)}})(e),className:"p-1 bg-purple-600 text-white rounded hover:bg-purple-700",title:"\u041f\u0435\u0440\u0435\u0441\u0447\u0451\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{if(await r({title:"\u0421\u0431\u0440\u043e\u0441 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 Human-\u0431\u043e\u0442\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u044e \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0434\u043b\u044f Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'"? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.'),type:"warning"}))try{await Z("/admin/human-bots/".concat(e.id,"/reset-stats"),"POST"),s('\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u0430'),"success"),await K(),await X()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438:",t),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438: ".concat(t.message),"error")}})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{await Z("/admin/human-bots/".concat(e.id,"/toggle-status"),"POST"),s('Human-\u0431\u043e\u0442 "'.concat(e.name,'" ').concat(e.is_active?"\u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d":"\u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d"),"success"),await K(),await X()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430:",t)}})(e),className:"p-1 text-white rounded hover:opacity-80 ".concat(e.is_active?"bg-yellow-600":"bg-green-600"),title:e.is_active?"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:e.is_active?(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}):(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m-7-3a9 9 0 1118 0 9 9 0 01-18 0z"})})}),(0,Pt.jsx)("button",{onClick:()=>(async e=>{try{await Z("/admin/human-bots/".concat(e.id),"DELETE"),s('Human-\u0431\u043e\u0442 "'.concat(e.name,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b'),"success"),await K(),await X()}catch(t){if(console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430:",t),t.detailData&&t.detailData.force_delete_required)return void await ne(e,t.detailData);if(t.message.includes("Cannot delete bot with active games"))return void await ne(e,{active_games_count:"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",total_frozen_balance:0,games:[]});s("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430: ".concat(t.message),"error")}})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id);var a}))})]})}),(0,Pt.jsx)(Xd,{isOpen:S,onClose:()=>{C(!1),L(null),A(null),I(null),O(!1)},bot:M,addNotification:s}),(0,Pt.jsx)(Jd,{isOpen:F,onClose:()=>{W(!1),H(null),q(null),Q(1)},bot:V,data:U,loading:$,onPageChange:async e=>{if(V&&!(e<1)){Q(e),G(!0);try{const t=await Z("/admin/human-bots/".concat(V.id,"/commission-details?page=").concat(e,"&limit=50"),"GET");q(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:",t),q(null)}finally{G(!1)}}}}),(0,Pt.jsx)(Gd,l({},i))]})},tu="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),nu=()=>{var e,n,a,s,r;const[i,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),{addNotification:u}=sn(),{confirm:h,confirmationModal:x}=Fd(),{prompt:m,inputModal:p}=Wd(),[f,g]=(0,t.useState)([]),[b,y]=(0,t.useState)({}),[v,j]=(0,t.useState)(1),[w,N]=(0,t.useState)(1),[_,k]=(0,t.useState)({character:"",is_active:null}),[S,C]=(0,t.useState)("bots"),[M,L]=(0,t.useState)({max_active_bets_human:100,auto_play_enabled:!1,min_delay_seconds:1,max_delay_seconds:3600,play_with_players_enabled:!1,max_concurrent_games:3,current_usage:{total_individual_limits:0,max_limit:100,available:100,usage_percentage:0}}),[E,A]=(0,t.useState)(!1),[T,P]=(0,t.useState)(!1),z=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{o(!0),d(null);const a=localStorage.getItem("token"),s={method:t,url:"".concat(tu).concat(e),headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}};n&&("GET"===t?s.params=n:s.data=n);return(await At(s)).data}catch(s){var a;let e="\u041e\u0448\u0438\u0431\u043a\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u0430";if(null!==(a=s.response)&&void 0!==a&&a.data){const t=s.response.data;Array.isArray(t)&&t.length>0?e=t.map((e=>e.msg||e.message||"Validation error")).join(", "):t.detail?e="string"===typeof t.detail?t.detail:"Validation error":t.message?e=t.message:"string"===typeof t&&(e=t)}else s.message&&(e=s.message);throw d(e),new Error(e)}finally{o(!1)}},O=[{value:"STABLE",label:"\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u044b\u0439",description:"\u0420\u043e\u0432\u043d\u044b\u0435 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"},{value:"AGGRESSIVE",label:"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439",description:"\u041a\u0440\u0443\u043f\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438, \u0432\u044b\u0441\u043e\u043a\u0438\u0439 \u0440\u0438\u0441\u043a"},{value:"CAUTIOUS",label:"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439",description:"\u041c\u0435\u043b\u043a\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438, \u043d\u0438\u0437\u043a\u0430\u044f \u0432\u043e\u043b\u0430\u0442\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c"},{value:"BALANCED",label:"\u0411\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439",description:"\u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f"},{value:"IMPULSIVE",label:"\u0418\u043c\u043f\u0443\u043b\u044c\u0441\u0438\u0432\u043d\u044b\u0439",description:"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u0432\u0441\u043f\u043b\u0435\u0441\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"},{value:"ANALYST",label:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a",description:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f"},{value:"MIMIC",label:"\u041c\u0438\u043c\u0438\u043a",description:"\u041a\u043e\u043f\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"}],[R,I]=(0,t.useState)({name:"",character:"BALANCED",gender:"male",min_bet:1,max_bet:100,bet_limit:12,bet_limit_amount:300,win_percentage:40,loss_percentage:40,draw_percentage:20,min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",can_play_with_other_bots:!0,can_play_with_players:!0}),[D,B]=(0,t.useState)({count:10,character:"BALANCED",min_bet_range:[1,50],max_bet_range:[50,200],bet_limit_range:[12,12],win_percentage:40,loss_percentage:40,draw_percentage:20,delay_range:[30,120],min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",bots:[]}),[F,W]=(0,t.useState)(!1),[V,H]=(0,t.useState)(!1),[U,q]=(0,t.useState)(null);(0,t.useEffect)((()=>{$(),G()}),[v,_]),(0,t.useEffect)((()=>{if(V&&D.bots.length!==D.count){const e=J(D.count);B((t=>l(l({},t),{},{bots:e})))}}),[V,D.count]);const $=async()=>{try{const e=new URLSearchParams({page:v.toString(),limit:"10"});_.character&&e.append("character",_.character),null!==_.is_active&&e.append("is_active",_.is_active.toString());const t=await z("/admin/human-bots?"+e.toString(),"GET");!1!==t.success&&(g(t.bots||[]),N(t.total_pages||1))}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f Human-\u0431\u043e\u0442\u043e\u0432:",c)}},G=async()=>{try{const e=await z("/admin/human-bots/stats","GET");!1!==e.success&&y(e)}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438:",c)}},Y=async()=>{try{A(!0);const e=await z("/admin/human-bots/settings","GET");!1!==e.success&&L(e.settings)}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a Human-\u0431\u043e\u0442\u043e\u0432:",c)}finally{A(!1)}},Q=async()=>{try{P(!0);const e=await z("/admin/human-bots/update-settings","POST",{max_active_bets_human:M.max_active_bets_human,auto_play_enabled:M.auto_play_enabled||!1,min_delay_seconds:M.min_delay_seconds||1,max_delay_seconds:M.max_delay_seconds||3600,play_with_players_enabled:M.play_with_players_enabled||!1,max_concurrent_games:M.max_concurrent_games||3});!1!==e.success&&(u(e.message||"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e","success"),await Y(),e.adjusted_bots_count>0&&await $())}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",c)}finally{P(!1)}};(0,t.useEffect)((()=>{"settings"===S&&Y()}),[S]);const K=async e=>{if(await h({title:"".concat(e?"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"," \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432"),message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ".concat(e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"," \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432?"),type:e?"success":"warning"}))try{const t=await z("/admin/human-bots/toggle-all","POST",{activate:e});if(!1!==t.success){const n=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b",a=t.affected_count||0;u("\u041c\u0430\u0441\u0441\u043e\u0432\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: ".concat(a," Human-\u0431\u043e\u0442\u043e\u0432 ").concat(n),"success"),$(),G(),u("".concat(e?"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e"," ").concat(t.affected_count," \u0431\u043e\u0442\u043e\u0432"),"success")}}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430:",c)}},X=()=>{const e=["Alikhan","Nurzhan","Ayan","Ruslan","Bekzat","Yerlan","Zhanibek","Omir","Azamat","Temirlan","Aleksandr","Dmitriy","Maksim","Andrey","Sergey","Aleksey","Vladimir","Pavel","Roman","Artem"],t=["Aigerim","Gulnara","Aizhan","Sabina","Saule","Dilnaz","Madina","Zhanar","Aruzhan","Gulzhana","Anna","Mariya","Elena","Natalya","Olga","Tatyana","Irina","Svetlana","Ekaterina","Viktoriya"],n=[],a=Math.random()>.5?"male":"female",s="male"===a?e[Math.floor(Math.random()*e.length)]:t[Math.floor(Math.random()*t.length)],r=n[Math.floor(Math.random()*n.length)];return{name:"".concat(s," ").concat(r),gender:a}},J=e=>{const t=[];for(let n=0;n<e;n++){const e=X();t.push({id:n,name:e.name,gender:e.gender})}return t},Z=(e,t,n)=>{const a=D.bots.map((a=>a.id===e?l(l({},a),{},{[t]:n}):a));B(l(l({},D),{},{bots:a}))};return(0,Pt.jsxs)("div",{className:"human-bots-management",children:[(0,Pt.jsx)("div",{className:"bots-header",children:(0,Pt.jsx)("h2",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 Human-\u0431\u043e\u0442\u0430\u043c\u0438"})}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"flex border-b border-border-primary",children:[(0,Pt.jsx)("button",{onClick:()=>C("bots"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("bots"===S?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\ud83d\udccb \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("button",{onClick:()=>C("settings"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("settings"===S?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,Pt.jsxs)("div",{className:"p-6",children:["bots"===S&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Pt.jsxs)("button",{className:"styled-btn btn-primary",onClick:()=>W(!0),children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"]}),(0,Pt.jsxs)("button",{className:"styled-btn btn-secondary",onClick:()=>H(!0),children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435"]}),(0,Pt.jsxs)("button",{className:"styled-btn btn-success",onClick:()=>K(!0),children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435\u0445"]}),(0,Pt.jsxs)("button",{className:"styled-btn btn-warning",onClick:()=>K(!1),children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435\u0445"]})]}),(0,Pt.jsxs)("div",{className:"stats-grid",children:[(0,Pt.jsxs)("div",{className:"stat-card",children:[(0,Pt.jsx)("h3",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("div",{className:"stat-value",children:b.total_bots||0})]}),(0,Pt.jsxs)("div",{className:"stat-card",children:[(0,Pt.jsx)("h3",{children:"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435"}),(0,Pt.jsx)("div",{className:"stat-value",children:b.total_bets||0})]}),(0,Pt.jsxs)("div",{className:"stat-card",children:[(0,Pt.jsx)("h3",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,Pt.jsx)("div",{className:"stat-value",children:b.active_games||0})]}),(0,Pt.jsxs)("div",{className:"stat-card",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("h3",{children:"\u0412\u0441\u0435\u0433\u043e \u0418\u0433\u0440"}),(0,Pt.jsx)("button",{onClick:()=>(async()=>{if(await h({title:"\u0421\u0431\u0440\u043e\u0441 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0430 \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0447\u0435\u0442\u0447\u0438\u043a \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440 Human-\u0431\u043e\u0442\u043e\u0432? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",type:"warning"}))try{await z("/admin/human-bots/reset-total-games","POST"),u("\u0421\u0447\u0435\u0442\u0447\u0438\u043a \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d","success"),await G()}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0430 \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440:",c),u("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0430: ".concat(c.message),"error")}})(),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0447\u0435\u0442\u0447\u0438\u043a \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Pt.jsx)("div",{className:"stat-value",children:b.total_games_played||0})]}),(0,Pt.jsxs)("div",{className:"stat-card",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("h3",{children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u041f\u0435\u0440\u0438\u043e\u0434"}),(0,Pt.jsx)("button",{onClick:()=>(async()=>{if(await h({title:"\u0421\u0431\u0440\u043e\u0441 \u0434\u043e\u0445\u043e\u0434\u0430 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",type:"warning"}))try{await z("/admin/human-bots/reset-period-revenue","POST"),u("\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d","success"),await G()}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0434\u043e\u0445\u043e\u0434\u0430 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434:",c),u("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0434\u043e\u0445\u043e\u0434\u0430: ".concat(c.message),"error")}})(),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434",children:(0,Pt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Pt.jsx)("div",{className:"stat-value",children:(ee=b.period_revenue||0,"$".concat(ee.toFixed(2)))})]})]}),(0,Pt.jsxs)("div",{className:"filters-section",children:[(0,Pt.jsxs)("div",{className:"filter-group",children:[(0,Pt.jsx)("label",{children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440:"}),(0,Pt.jsxs)("select",{value:_.character,onChange:e=>k(l(l({},_),{},{character:e.target.value})),children:[(0,Pt.jsx)("option",{value:"",children:"\u0412\u0441\u0435"}),O.map((e=>(0,Pt.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,Pt.jsxs)("div",{className:"filter-group",children:[(0,Pt.jsx)("label",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,Pt.jsxs)("select",{value:_.is_active||"",onChange:e=>k(l(l({},_),{},{is_active:""===e.target.value?null:"true"===e.target.value})),children:[(0,Pt.jsx)("option",{value:"",children:"\u0412\u0441\u0435"}),(0,Pt.jsx)("option",{value:"true",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,Pt.jsx)("option",{value:"false",children:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"})]})]})]}),(0,Pt.jsx)(eu,{onEditBot:e=>{q(e),I({name:e.name||"",character:e.character||"BALANCED",gender:e.gender||"male",min_bet:e.min_bet||1,max_bet:e.max_bet||100,bet_limit:e.bet_limit||12,bet_limit_amount:e.bet_limit_amount||300,win_percentage:e.win_percentage||40,loss_percentage:e.loss_percentage||40,draw_percentage:e.draw_percentage||20,min_delay:e.min_delay||30,max_delay:e.max_delay||120,use_commit_reveal:void 0===e.use_commit_reveal||e.use_commit_reveal,logging_level:e.logging_level||"INFO",can_play_with_other_bots:void 0===e.can_play_with_other_bots||e.can_play_with_other_bots,can_play_with_players:void 0===e.can_play_with_players||e.can_play_with_players}),W(!0)},onCreateBot:()=>W(!0)})]}),"settings"===S&&(0,Pt.jsx)("div",{className:"space-y-6",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,Pt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("p",{className:"text-text-secondary font-roboto",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u0449\u0438\u043c\u0438 \u043b\u0438\u043c\u0438\u0442\u0430\u043c\u0438 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432"})]})]})}),E?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-accent-primary text-2xl mb-2",children:"\u23f3"}),(0,Pt.jsx)("p",{className:"text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a..."})]}):(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-accent-primary font-bold text-lg",children:b.total_bets||0}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-white font-bold text-lg",children:(null===(e=M.current_usage)||void 0===e?void 0:e.max_limit)||100}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-green-400 font-bold text-lg",children:Math.max(0,((null===(n=M.current_usage)||void 0===n?void 0:n.max_limit)||100)-(b.total_bets||0))}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e"})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("div",{className:"text-orange-400 font-bold text-lg",children:[Math.round((b.total_bets||0)/((null===(a=M.current_usage)||void 0===a?void 0:a.max_limit)||100)*100),"%"]}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435"})]})]}),(0,Pt.jsx)("div",{className:"mt-4",children:(0,Pt.jsx)("div",{className:"bg-surface-primary rounded-full h-3 overflow-hidden",children:(0,Pt.jsx)("div",{className:"bg-accent-primary h-full transition-all duration-300",style:{width:"".concat(Math.min(Math.round((b.total_bets||0)/((null===(s=M.current_usage)||void 0===s?void 0:s.max_limit)||100)*100),100),"%")}})})})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\ud83c\udfae \u0410\u0432\u0442\u043e\u0438\u0433\u0440\u0430 \u043c\u0435\u0436\u0434\u0443 Human-\u0431\u043e\u0442\u0430\u043c\u0438"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"font-rajdhani font-bold text-white",children:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0438\u0433\u0440\u0443 \u043c\u0435\u0436\u0434\u0443 Human-\u0431\u043e\u0442\u0430\u043c\u0438"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 Human-\u0431\u043e\u0442\u0430\u043c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u044c\u0441\u044f \u043a \u0441\u0442\u0430\u0432\u043a\u0430\u043c \u0434\u0440\u0443\u0433\u0438\u0445 Human-\u0431\u043e\u0442\u043e\u0432 \u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"})]}),(0,Pt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:M.auto_play_enabled||!1,onChange:e=>L(l(l({},M),{},{auto_play_enabled:e.target.checked})),className:"sr-only peer",disabled:T}),(0,Pt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent-primary peer-focus:ring-opacity-25 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-rajdhani font-bold text-white mb-2",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b)"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"3600",value:M.min_delay_seconds||1,onChange:e=>L(l(l({},M),{},{min_delay_seconds:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",disabled:T})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-rajdhani font-bold text-white mb-2",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b)"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"3600",value:M.max_delay_seconds||3600,onChange:e=>L(l(l({},M),{},{max_delay_seconds:parseInt(e.target.value)||3600})),className:"w-full px-4 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",disabled:T})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-rajdhani font-bold text-white mb-2",children:"\u041c\u0430\u043a\u0441. \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"50",value:M.max_concurrent_games||3,onChange:e=>L(l(l({},M),{},{max_concurrent_games:parseInt(e.target.value)||3})),className:"w-full px-4 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",disabled:T}),(0,Pt.jsx)("p",{className:"text-text-secondary text-xs mt-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 Human-\u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e"})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("div",{className:"flex-1 text-text-secondary text-sm",children:["\ud83d\udca1 Human-\u0431\u043e\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u044c\u0441\u044f \u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c \u0441\u0442\u0430\u0432\u043a\u0430\u043c \u0441 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0439 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u043e\u0442 ",M.min_delay_seconds||1," \u0434\u043e ",M.max_delay_seconds||3600," \u0441\u0435\u043a\u0443\u043d\u0434 (",Math.round((M.max_delay_seconds||3600)/60)," \u043c\u0438\u043d\u0443\u0442)"]}),(0,Pt.jsx)("button",{onClick:Q,disabled:T,className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors disabled:opacity-50",children:T?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\ud83d\udc65 \u0418\u0433\u0440\u0430 \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}),(0,Pt.jsx)("div",{className:"space-y-4",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"font-rajdhani font-bold text-white",children:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u0433\u0440\u0443 \u0441 \u0418\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 Human-\u0431\u043e\u0442\u0430\u043c \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"})]}),(0,Pt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:M.play_with_players_enabled||!1,onChange:e=>L(l(l({},M),{},{play_with_players_enabled:e.target.checked})),className:"sr-only peer",disabled:T}),(0,Pt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent-primary peer-focus:ring-opacity-25 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]})})]}),(0,Pt.jsx)("div",{className:"space-y-4",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-rajdhani font-bold text-white mb-2",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0434\u043b\u044f \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("input",{type:"number",min:"1",max:"1000000",value:M.max_active_bets_human||100,onChange:e=>L(l(l({},M),{},{max_active_bets_human:parseInt(e.target.value)||100})),className:"flex-1 max-w-xs px-4 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",disabled:T}),(0,Pt.jsx)("button",{onClick:Q,disabled:T,className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors disabled:opacity-50",children:T?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm mt-2",children:"\ud83d\udca1 \u041f\u0440\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u0438 \u043b\u0438\u043c\u0438\u0442\u0430 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b \u0431\u043e\u0442\u043e\u0432 \u0431\u0443\u0434\u0443\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e"})]})})]})]})})]})]}),F&&(0,Pt.jsx)("div",{className:"modal-overlay",children:(0,Pt.jsxs)("div",{className:"modal-content large-modal styled-modal",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsxs)("div",{className:"modal-title",children:[(0,Pt.jsx)("svg",{className:"modal-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Pt.jsx)("h3",{children:U?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c Human-\u0431\u043e\u0442\u0430":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c Human-\u0431\u043e\u0442\u0430"})]}),(0,Pt.jsx)("button",{type:"button",className:"modal-close",onClick:()=>{W(!1),q(null)},children:(0,Pt.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(!i)if(R.win_percentage+R.loss_percentage+R.draw_percentage===100){if(!U&&f.find((e=>e.name.toLowerCase()===R.name.toLowerCase())))return void u('\u0411\u043e\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c "'.concat(R.name,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f.'),"error");try{let e;const t=!U;e=U?await z("/admin/human-bots/".concat(U.id),"PUT",R):await z("/admin/human-bots","POST",R);const n=R.name||"Human-\u0431\u043e\u0442";u('Human-\u0431\u043e\u0442 "'.concat(n,t?'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d':'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d'),"success"),W(!1),q(null),t&&I({name:"",character:"BALANCED",gender:"male",min_bet:1,max_bet:100,bet_limit:12,bet_limit_amount:300,win_percentage:40,loss_percentage:40,draw_percentage:20,min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",can_play_with_other_bots:!0,can_play_with_players:!0}),It().triggerLobbyRefresh(),await $()}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f Human-\u0431\u043e\u0442\u0430:",c),c.message.includes("Bot name already exists")?u('\u0411\u043e\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c "'.concat(R.name,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f.'),"error"):u("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 ".concat(U?"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438":"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438"," \u0431\u043e\u0442\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),"error")}}else u("\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%","error")})()},children:[(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsx)("h4",{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"\u0418\u043c\u044f \u0431\u043e\u0442\u0430 *"]}),(0,Pt.jsx)("input",{type:"text",value:R.name,onChange:e=>I(l(l({},R),{},{name:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0431\u043e\u0442\u0430",required:!0})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440 *"]}),(0,Pt.jsx)("select",{value:R.character,onChange:e=>I(l(l({},R),{},{character:e.target.value})),children:O.map((e=>(0,Pt.jsx)("option",{value:e.value,title:e.description,children:e.label},e.value)))})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"\u041f\u043e\u043b *"]}),(0,Pt.jsxs)("select",{value:R.gender,onChange:e=>I(l(l({},R),{},{gender:e.target.value})),children:[(0,Pt.jsx)("option",{value:"male",children:"Male"}),(0,Pt.jsx)("option",{value:"female",children:"Female"})]})]})]})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,Pt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b)"]}),(0,Pt.jsx)("input",{type:"number",step:"1",min:"1",value:R.min_bet,onChange:e=>I(l(l({},R),{},{min_bet:parseInt(e.target.value)||1})),placeholder:"1"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b)"]}),(0,Pt.jsx)("input",{type:"number",step:"1",min:"1",value:R.max_bet,onChange:e=>I(l(l({},R),{},{max_bet:parseInt(e.target.value)||1})),placeholder:"100"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"\u041b\u0438\u043c\u0438\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"100",value:R.bet_limit,onChange:e=>I(l(l({},R),{},{bet_limit:parseInt(e.target.value)})),placeholder:"12"}),(0,Pt.jsx)("small",{className:"form-help",children:"\u041c\u0430\u043a\u0441. \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a (1-100)"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"100000",value:R.bet_limit_amount,onChange:e=>I(l(l({},R),{},{bet_limit_amount:parseFloat(e.target.value)||300})),placeholder:"300"}),(0,Pt.jsx)("small",{className:"form-help",children:"\u041c\u0430\u043a\u0441. \u0441\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u043a\u0430\u043a \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442 (1-100000)"})]})]})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Pt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0431\u0435\u0434"]}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:R.win_percentage,onChange:e=>I(l(l({},R),{},{win_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"]}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:R.loss_percentage,onChange:e=>I(l(l({},R),{},{loss_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L12 12m6.364 6.364L12 12m0 0L5.636 5.636M12 12l6.364-6.364M12 12l-6.364 6.364"})}),"% \u041d\u0438\u0447\u044c\u0438\u0445"]}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:R.draw_percentage,onChange:e=>I(l(l({},R),{},{draw_percentage:parseFloat(e.target.value)})),placeholder:"20"})]})]}),(0,Pt.jsxs)("div",{className:"form-help-block",children:[(0,Pt.jsx)("svg",{className:"help-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%"]})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u041c\u0438\u043d. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"300",value:R.min_delay,onChange:e=>I(l(l({},R),{},{min_delay:parseInt(e.target.value)})),placeholder:"30"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u041c\u0430\u043a\u0441. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"300",value:R.max_delay,onChange:e=>I(l(l({},R),{},{max_delay:parseInt(e.target.value)})),placeholder:"120"})]})]})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})}),(0,Pt.jsx)("h4",{children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,Pt.jsx)("div",{className:"form-row",children:(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"]}),(0,Pt.jsxs)("select",{value:R.logging_level,onChange:e=>I(l(l({},R),{},{logging_level:e.target.value})),children:[(0,Pt.jsx)("option",{value:"INFO",children:"INFO"}),(0,Pt.jsx)("option",{value:"DEBUG",children:"DEBUG"})]})]})}),(0,Pt.jsxs)("div",{className:"checkbox-group",children:[(0,Pt.jsx)("div",{className:"checkbox-item",children:(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("input",{type:"checkbox",checked:R.use_commit_reveal,onChange:e=>I(l(l({},R),{},{use_commit_reveal:e.target.checked}))}),(0,Pt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Commit-Reveal"]})}),(0,Pt.jsxs)("div",{className:"checkbox-item",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("input",{type:"checkbox",checked:R.can_play_with_other_bots||!1,onChange:e=>I(l(l({},R),{},{can_play_with_other_bots:e.target.checked}))}),(0,Pt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 Human-\u0431\u043e\u0442\u0430\u043c\u0438"]}),(0,Pt.jsx)("small",{className:"form-help",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0431\u043e\u0442\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 Human-\u0431\u043e\u0442\u0430\u043c\u0438"})]}),(0,Pt.jsxs)("div",{className:"checkbox-item",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("input",{type:"checkbox",checked:R.can_play_with_players||!1,onChange:e=>I(l(l({},R),{},{can_play_with_players:e.target.checked}))}),(0,Pt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"]}),(0,Pt.jsx)("small",{className:"form-help",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0431\u043e\u0442\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"})]})]})]}),(0,Pt.jsxs)("div",{className:"modal-actions",children:[(0,Pt.jsx)("button",{type:"submit",className:"styled-btn btn-primary",disabled:i,children:i?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),U?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),U?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"]})}),(0,Pt.jsxs)("button",{type:"button",className:"styled-btn btn-secondary",onClick:()=>{W(!1),q(null)},children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"\u041e\u0442\u043c\u0435\u043d\u0430"]})]})]})]})}),V&&(0,Pt.jsx)("div",{className:"modal-overlay",children:(0,Pt.jsxs)("div",{className:"modal-content large-modal styled-modal",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsxs)("div",{className:"modal-title",children:[(0,Pt.jsx)("svg",{className:"modal-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,Pt.jsx)("h3",{children:"\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Human-\u0431\u043e\u0442\u043e\u0432"})]}),(0,Pt.jsx)("button",{type:"button",className:"modal-close",onClick:()=>H(!1),children:(0,Pt.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(D.win_percentage+D.loss_percentage+D.draw_percentage===100)try{const e=l(l({},D),{},{delay_range:[D.min_delay||30,D.max_delay||120],min_delay:D.min_delay||30,max_delay:D.max_delay||120,bots:D.bots||[]}),t=await z("/admin/human-bots/bulk-create","POST",e);!1!==t.success&&(u("\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e: \u0441\u043e\u0437\u0434\u0430\u043d\u043e ".concat(t.created_count||D.count," Human-\u0431\u043e\u0442\u043e\u0432"),"success"),H(!1),$(),G(),t.failed_count&&t.failed_count>0?u("\u0421\u043e\u0437\u0434\u0430\u043d\u043e ".concat(t.created_count," \u0431\u043e\u0442\u043e\u0432, \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c: ").concat(t.failed_count),"warning"):u("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043e ".concat(t.created_count," \u0431\u043e\u0442\u043e\u0432"),"success"),B({count:10,character:"BALANCED",min_bet_range:[1,50],max_bet_range:[50,200],bet_limit_range:[12,12],win_percentage:40,loss_percentage:40,draw_percentage:20,delay_range:[30,120],min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",bots:[]}))}catch(c){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f Human-\u0431\u043e\u0442\u043e\u0432:",c)}else u("\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%","error")})()},children:[(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Pt.jsx)("h4",{children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u0442\u043e\u0432"]}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"50",value:D.count,onChange:e=>(e=>{const t=J(e);B(l(l({},D),{},{count:e,bots:t}))})(parseInt(e.target.value)||1),placeholder:"10"}),(0,Pt.jsx)("small",{className:"form-help",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0431\u043e\u0442\u043e\u0432 \u0437\u0430 \u0440\u0430\u0437"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u0434\u043b\u044f \u0432\u0441\u0435\u0445"]}),(0,Pt.jsx)("select",{value:D.character,onChange:e=>B(l(l({},D),{},{character:e.target.value})),children:O.map((e=>(0,Pt.jsx)("option",{value:e.value,title:e.description,children:e.label},e.value)))})]})]})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,Pt.jsx)("h4",{children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u044b \u0441\u0442\u0430\u0432\u043e\u043a"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0438\u043d. \u0441\u0442\u0430\u0432\u043e\u043a (\u0433\u0435\u043c\u044b)"]}),(0,Pt.jsxs)("div",{className:"range-inputs",children:[(0,Pt.jsx)("input",{type:"number",step:"1",placeholder:"\u041e\u0442",value:D.min_bet_range[0],onChange:e=>B(l(l({},D),{},{min_bet_range:[parseInt(e.target.value)||1,D.min_bet_range[1]]}))}),(0,Pt.jsx)("span",{className:"range-separator",children:"\u2014"}),(0,Pt.jsx)("input",{type:"number",step:"1",placeholder:"\u0414\u043e",value:D.min_bet_range[1],onChange:e=>B(l(l({},D),{},{min_bet_range:[D.min_bet_range[0],parseInt(e.target.value)||1]}))})]})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043e\u043a (\u0433\u0435\u043c\u044b)"]}),(0,Pt.jsxs)("div",{className:"range-inputs",children:[(0,Pt.jsx)("input",{type:"number",step:"1",placeholder:"\u041e\u0442",value:D.max_bet_range[0],onChange:e=>B(l(l({},D),{},{max_bet_range:[parseInt(e.target.value)||1,D.max_bet_range[1]]}))}),(0,Pt.jsx)("span",{className:"range-separator",children:"\u2014"}),(0,Pt.jsx)("input",{type:"number",step:"1",placeholder:"\u0414\u043e",value:D.max_bet_range[1],onChange:e=>B(l(l({},D),{},{max_bet_range:[D.max_bet_range[0],parseInt(e.target.value)||1]}))})]})]})]}),(0,Pt.jsx)("div",{className:"form-row",children:(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043b\u0438\u043c\u0438\u0442\u043e\u0432 \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Pt.jsxs)("div",{className:"range-inputs",children:[(0,Pt.jsx)("input",{type:"number",min:"1",max:"100",placeholder:"\u041e\u0442",value:D.bet_limit_range[0],onChange:e=>B(l(l({},D),{},{bet_limit_range:[parseInt(e.target.value),D.bet_limit_range[1]]}))}),(0,Pt.jsx)("span",{className:"range-separator",children:"\u2014"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"100",placeholder:"\u0414\u043e",value:D.bet_limit_range[1],onChange:e=>B(l(l({},D),{},{bet_limit_range:[D.bet_limit_range[0],parseInt(e.target.value)]}))})]}),(0,Pt.jsx)("small",{className:"form-help",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a (1-100)"})]})})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Pt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0431\u0435\u0434"]}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:D.win_percentage,onChange:e=>B(l(l({},D),{},{win_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"]}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:D.loss_percentage,onChange:e=>B(l(l({},D),{},{loss_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L12 12m6.364 6.364L12 12m0 0L5.636 5.636M12 12l6.364-6.364M12 12l-6.364 6.364"})}),"% \u041d\u0438\u0447\u044c\u0438\u0445"]}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"100",value:D.draw_percentage,onChange:e=>B(l(l({},D),{},{draw_percentage:parseFloat(e.target.value)})),placeholder:"20"})]})]}),(0,Pt.jsxs)("div",{className:"form-help-block",children:[(0,Pt.jsx)("svg",{className:"help-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%"]})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438"})]}),(0,Pt.jsxs)("div",{className:"form-row",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u041c\u0438\u043d. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"3600",value:D.min_delay||30,onChange:e=>{const t=parseInt(e.target.value)||30;B(l(l({},D),{},{min_delay:t,delay_range:[t,D.max_delay||120]}))},placeholder:"30"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsxs)("label",{children:[(0,Pt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u041c\u0430\u043a\u0441. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"3600",value:D.max_delay||120,onChange:e=>{const t=parseInt(e.target.value)||120;B(l(l({},D),{},{max_delay:t,delay_range:[D.min_delay||30,t]}))},placeholder:"120"})]})]}),(0,Pt.jsxs)("div",{className:"form-help-block",children:[(0,Pt.jsx)("svg",{className:"help-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u0435\u0436\u0434\u0443 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\u043c\u0438 Human-\u0431\u043e\u0442\u043e\u0432 (\u043e\u0442 1 \u0441\u0435\u043a\u0443\u043d\u0434\u044b \u0434\u043e 1 \u0447\u0430\u0441\u0430)"]})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Pt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"})]}),(0,Pt.jsx)("div",{className:"bot-configuration-container",children:D.bots.map(((e,t)=>(0,Pt.jsxs)("div",{className:"bot-config-item",children:[(0,Pt.jsx)("div",{className:"bot-config-header",children:(0,Pt.jsxs)("span",{className:"bot-number",children:["#",t+1]})}),(0,Pt.jsxs)("div",{className:"bot-config-fields",children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("input",{type:"text",value:e.name,onChange:t=>Z(e.id,"name",t.target.value),placeholder:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{children:"\u041f\u043e\u043b"}),(0,Pt.jsxs)("select",{value:e.gender,onChange:t=>Z(e.id,"gender",t.target.value),children:[(0,Pt.jsx)("option",{value:"male",children:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430"}),(0,Pt.jsx)("option",{value:"female",children:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430"})]})]})]})]},e.id)))})]}),(0,Pt.jsxs)("div",{className:"form-section",children:[(0,Pt.jsxs)("div",{className:"section-header",children:[(0,Pt.jsxs)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,Pt.jsx)("h4",{children:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"})]}),(0,Pt.jsx)("div",{className:"bulk-preview",children:(0,Pt.jsxs)("div",{className:"preview-card",children:[(0,Pt.jsxs)("div",{className:"preview-header",children:[(0,Pt.jsx)("svg",{className:"preview-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Pt.jsxs)("span",{children:["\u0411\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043e ",D.count," \u0431\u043e\u0442\u043e\u0432"]})]}),(0,Pt.jsxs)("div",{className:"preview-details",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440:"})," ",null===(r=O.find((e=>e.value===D.character)))||void 0===r?void 0:r.label]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",D.min_bet_range[0]," - ",D.min_bet_range[1]," \u0433\u0435\u043c\u043e\u0432"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",D.max_bet_range[0]," - ",D.max_bet_range[1]," \u0433\u0435\u043c\u043e\u0432"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"\u041b\u0438\u043c\u0438\u0442\u044b:"})," ",D.bet_limit_range[0]," - ",D.bet_limit_range[1]," \u0441\u0442\u0430\u0432\u043e\u043a"]})]})]})})]}),(0,Pt.jsxs)("div",{className:"modal-actions",children:[(0,Pt.jsxs)("button",{type:"submit",className:"styled-btn btn-primary",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c ",D.count," \u0431\u043e\u0442\u043e\u0432"]}),(0,Pt.jsxs)("button",{type:"button",className:"styled-btn btn-secondary",onClick:()=>H(!1),children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"\u041e\u0442\u043c\u0435\u043d\u0430"]})]})]})]})}),(0,Pt.jsx)(Gd,l({},x)),(0,Pt.jsx)(Yd,l({},p))]});var ee},au=e=>{let{user:n}=e;const{analyticsApi:a}=$d(),[s,r]=(0,t.useState)(!0),[i,o]=(0,t.useState)({totalActiveRegularBets:0,totalQueuedBets:0,totalRegularBots:0,totalHumanBots:0});(0,t.useEffect)((()=>{l()}),[]);const l=async()=>{try{const e=await a.getQueueStats();e.success&&o(e.stats)}catch(e){console.error("Error fetching queue stats:",e)}finally{r(!1)}};return s?(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-8 text-center",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-primary mx-auto mb-4"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u043e\u0432..."})]})}):(0,Pt.jsx)("div",{className:"space-y-8",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-500 border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:i.totalActiveRegularBets||0}),(0,Pt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("div",{className:"text-xs text-blue-300 mt-1",children:"\u0438\u0437 50 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c"})]}),(0,Pt.jsxs)("div",{className:"bg-green-900 bg-opacity-20 border border-green-500 border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:i.totalQueuedBets||0}),(0,Pt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0421\u0442\u0430\u0432\u043a\u0438 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,Pt.jsx)("div",{className:"text-xs text-green-300 mt-1",children:"\u043e\u0436\u0438\u0434\u0430\u044e\u0442 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"})]}),(0,Pt.jsxs)("div",{className:"bg-purple-900 bg-opacity-20 border border-purple-500 border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:i.totalRegularBots||0}),(0,Pt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b"}),(0,Pt.jsx)("div",{className:"text-xs text-purple-300 mt-1",children:"\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"})]}),(0,Pt.jsxs)("div",{className:"bg-orange-900 bg-opacity-20 border border-orange-500 border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:i.totalHumanBots||0}),(0,Pt.jsx)("div",{className:"text-sm text-text-secondary",children:"Human \u0431\u043e\u0442\u044b"}),(0,Pt.jsx)("div",{className:"text-xs text-orange-300 mt-1",children:"\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"})]})]})]})]})})},su=()=>{const[e,n]=(0,t.useState)("human"),[a,s]=(0,t.useState)("24h"),[r,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)({}),[c,d]=(0,t.useState)({}),[u,h]=(0,t.useState)([]),[x,m]=(0,t.useState)([]),{showErrorRU:p,showSuccessRU:f}=sn(),{get:g}=$d(),b=async()=>{try{i(!0);const e=(await g("/api/admin/games",{page:1,limit:1e3,human_bot_only:!0})).games||[],t=v(e,u,"human");l(t)}catch(e){console.error("Error fetching human bots analytics:",e),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 Human-\u0431\u043e\u0442\u043e\u0432")}finally{i(!1)}},y=async()=>{try{i(!0);const e=(await g("/api/admin/games",{page:1,limit:1e3,regular_bot_only:!0})).games||[],t=v(e,x,"regular");d(t)}catch(e){console.error("Error fetching regular bots analytics:",e),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432")}finally{i(!1)}},v=(e,t,n)=>{const s=new Date;let r;switch(a){case"24h":default:r=new Date(s.getTime()-864e5);break;case"7d":r=new Date(s.getTime()-6048e5);break;case"30d":r=new Date(s.getTime()-2592e6)}const i=e.filter((e=>new Date(e.created_at)>=r)),o=i.length,l=i.filter((e=>"completed"===e.status)),c=i.filter((e=>"active"===e.status)),d=t.filter((e=>e.is_active||e.active)),u=t.filter((e=>!e.is_active&&!e.active)),h=t.map((e=>{const t=i.filter((t=>t.creator_id===e.id)),n=t.filter((e=>"completed"===e.status)),a=n.filter((t=>t.winner_id===e.id)),s=t.reduce(((e,t)=>e+(t.bet_amount||0)),0),r=t.length>0?s/t.length:0,o=n.length>0?a.length/n.length*100:0;let l=0;return n.forEach((t=>{t.winner_id===e.id?l+=t.bet_amount||0:l-=t.bet_amount||0})),{id:e.id,name:e.name,character:e.character,totalGames:t.length,wins:a.length,losses:n.length-a.length,winRate:o.toFixed(1),avgBetSize:r.toFixed(0),netProfit:l.toFixed(0),isActive:e.is_active||e.active}})),x=h.sort(((e,t)=>parseFloat(t.winRate)-parseFloat(e.winRate))).slice(0,5),m=j(i,r,a);return{overview:{totalBots:t.length,activeBots:d.length,inactiveBots:u.length,totalGames:o,completedGames:l.length,activeGames:c.length,avgBetSize:l.length>0?(l.reduce(((e,t)=>e+(t.bet_amount||0)),0)/l.length).toFixed(0):0,totalVolume:l.reduce(((e,t)=>e+(t.bet_amount||0)),0).toFixed(0)},botStats:h,topBots:x,chartData:m}},j=(e,t,n)=>{new Date;const a="24h"===n?24:"7d"===n?7:30,s="24h"===n?36e5:864e5,r=[],i=[],o=[],l=[];for(let c=0;c<a;c++){const a=new Date(t.getTime()+c*s),d=new Date(t.getTime()+(c+1)*s);"24h"===n?r.push(a.getHours().toString().padStart(2,"0")+":00"):"7d"===n?r.push(a.toLocaleDateString("ru-RU",{weekday:"short",day:"numeric"})):r.push(a.getDate().toString());const u=e.filter((e=>{const t=new Date(e.created_at);return t>=a&&t<d})),h=u.filter((e=>"completed"===e.status));if(i.push(u.length),h.length>0){const e=h.filter((e=>e.winner_id)).length;o.push((e/h.length*100).toFixed(1));const t=h.reduce(((e,t)=>e+(t.bet_amount||0)),0);l.push((t/h.length).toFixed(0))}else o.push(0),l.push(0)}return{labels:r,gameVolume:i,winRate:o,avgBetSize:l}};(0,t.useEffect)((()=>{(async()=>{try{const e=await g("/api/admin/human-bots");h(e.human_bots||[])}catch(e){console.error("Error fetching human bots:",e)}})(),(async()=>{try{const e=await g("/api/admin/bots");m(e.bots||[])}catch(e){console.error("Error fetching regular bots:",e)}})()}),[]),(0,t.useEffect)((()=>{"human"===e&&u.length>0?b():"regular"===e&&x.length>0&&y()}),[e,a,u,x]);const w="human"===e?o:c;return r?(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-8 text-center",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-primary mx-auto mb-4"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438..."})]})}):(0,Pt.jsx)("div",{className:"space-y-8",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"\ud83d\udcca \u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:(0,Pt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("button",{onClick:()=>n("human"),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-all duration-200 ".concat("human"===e?"bg-accent-primary text-white shadow-lg":"bg-surface-sidebar text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83d\udc64 Human-\u0431\u043e\u0442\u044b"}),(0,Pt.jsx)("button",{onClick:()=>n("regular"),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-all duration-200 ".concat("regular"===e?"bg-accent-primary text-white shadow-lg":"bg-surface-sidebar text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83e\udd16 \u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b"})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"}),(0,Pt.jsxs)("select",{value:a,onChange:e=>s(e.target.value),className:"px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:[(0,Pt.jsx)("option",{value:"24h",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 24 \u0447\u0430\u0441\u0430"}),(0,Pt.jsx)("option",{value:"7d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439"}),(0,Pt.jsx)("option",{value:"30d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 30 \u0434\u043d\u0435\u0439"})]})]}),(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Pt.jsx)("button",{onClick:()=>{"human"===e?b():y()},className:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-blue-600 transition-colors font-rajdhani font-bold",children:"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})})]})]})}),w.overview&&(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Pt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:["\ud83d\udcc8 \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 ","human"===e?"Human-\u0431\u043e\u0442\u043e\u0432":"\u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-white",children:w.overview.totalBots}),(0,Pt.jsxs)("div",{className:"text-xs text-green-400 mt-1",children:["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445: ",w.overview.activeBots," | \u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445: ",w.overview.inactiveBots]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:w.overview.totalGames}),(0,Pt.jsxs)("div",{className:"text-xs text-blue-300 mt-1",children:["\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e: ",w.overview.completedGames," | \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445: ",w.overview.activeGames]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:w.overview.avgBetSize}),(0,Pt.jsx)("div",{className:"text-xs text-yellow-300 mt-1",children:"\u0433\u0435\u043c\u043e\u0432"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0438\u0439 \u043e\u0431\u044a\u0435\u043c"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:w.overview.totalVolume}),(0,Pt.jsx)("div",{className:"text-xs text-purple-300 mt-1",children:"\u0433\u0435\u043c\u043e\u0432"})]})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfae \u041e\u0431\u044a\u0435\u043c \u0438\u0433\u0440"}),(0,Pt.jsx)(Ad,{type:"line",data:(()=>{const t="human"===e?o:c;return t.chartData?{labels:t.chartData.labels,datasets:[{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440",data:t.chartData.gameVolume,borderColor:"rgba(64, 224, 208, 1)",backgroundColor:"rgba(64, 224, 208, 0.2)",borderWidth:2,fill:!0,tension:.4}]}:{labels:[],datasets:[]}})(),title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfc6 Win Rate"}),(0,Pt.jsx)(Ad,{type:"line",data:(()=>{const t="human"===e?o:c;return t.chartData?{labels:t.chartData.labels,datasets:[{label:"Win Rate (%)",data:t.chartData.winRate,borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.2)",borderWidth:2,fill:!0,tension:.4}]}:{labels:[],datasets:[]}})(),title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udcb0 \u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Pt.jsx)(Ad,{type:"line",data:(()=>{const t="human"===e?o:c;return t.chartData?{labels:t.chartData.labels,datasets:[{label:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438 (\u0433\u0435\u043c\u044b)",data:t.chartData.avgBetSize,borderColor:"rgba(251, 191, 36, 1)",backgroundColor:"rgba(251, 191, 36, 0.2)",borderWidth:2,fill:!0,tension:.4}]}:{labels:[],datasets:[]}})(),title:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})]})]}),w.topBots&&w.topBots.length>0&&(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfc5 \u0422\u043e\u043f-5 \u0441\u0430\u043c\u044b\u0445 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:w.topBots.map(((e,t)=>(0,Pt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-2xl mb-2",children:0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":2===t?"\ud83e\udd49":"\ud83c\udfc6"}),(0,Pt.jsx)("div",{className:"font-bold text-white text-sm truncate",children:e.name}),(0,Pt.jsxs)("div",{className:"text-green-400 font-bold text-lg",children:[e.winRate,"%"]}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs",children:[e.totalGames," \u0438\u0433\u0440"]})]})},e.id)))})]}),w.botStats&&(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udccb \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0431\u043e\u0442\u0430\u043c"}),(0,Pt.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full text-sm text-left text-text-secondary",children:[(0,Pt.jsx)("thead",{className:"text-xs text-text-secondary uppercase bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u2116"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0418\u0433\u0440"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u041f\u043e\u0431\u0435\u0434"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Win Rate"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0421\u0440. \u0441\u0442\u0430\u0432\u043a\u0430"}),(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),"human"===e&&(0,Pt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440"})]})}),(0,Pt.jsx)("tbody",{children:w.botStats.map(((t,n)=>(0,Pt.jsxs)("tr",{className:"bg-surface-card border-b border-border-primary hover:bg-surface-sidebar",children:[(0,Pt.jsx)("td",{className:"px-4 py-4 font-medium text-text-secondary",children:n+1}),(0,Pt.jsx)("td",{className:"px-4 py-4 font-medium text-white whitespace-nowrap",children:t.name}),(0,Pt.jsx)("td",{className:"px-4 py-4",children:(0,Pt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(t.isActive?"bg-green-600 text-white":"bg-red-600 text-white"),children:t.isActive?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})}),(0,Pt.jsx)("td",{className:"px-4 py-4 text-blue-400",children:t.totalGames}),(0,Pt.jsx)("td",{className:"px-4 py-4 text-green-400",children:t.wins}),(0,Pt.jsx)("td",{className:"px-4 py-4 text-red-400",children:t.losses}),(0,Pt.jsxs)("td",{className:"px-4 py-4 text-yellow-400 font-bold",children:[t.winRate,"%"]}),(0,Pt.jsx)("td",{className:"px-4 py-4 text-purple-400",children:t.avgBetSize}),(0,Pt.jsx)("td",{className:"px-4 py-4",children:(0,Pt.jsxs)("span",{className:"font-bold ".concat(parseFloat(t.netProfit)>=0?"text-green-400":"text-red-400"),children:[parseFloat(t.netProfit)>=0?"+":"",t.netProfit]})}),"human"===e&&(0,Pt.jsx)("td",{className:"px-4 py-4 text-text-secondary",children:t.character||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})]},t.id)))})]})}),(0,Pt.jsx)("div",{className:"lg:hidden space-y-4",children:w.botStats.map(((t,n)=>(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-border-primary",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsxs)("span",{className:"text-text-secondary text-sm",children:["#",n+1]}),(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white text-sm",children:t.name})]}),(0,Pt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(t.isActive?"bg-green-600 text-white":"bg-red-600 text-white"),children:t.isActive?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0418\u0433\u0440"}),(0,Pt.jsx)("div",{className:"text-blue-400 font-bold",children:t.totalGames})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"Win Rate"}),(0,Pt.jsxs)("div",{className:"text-yellow-400 font-bold",children:[t.winRate,"%"]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0421\u0440. \u0441\u0442\u0430\u0432\u043a\u0430"}),(0,Pt.jsx)("div",{className:"text-purple-400 font-bold",children:t.avgBetSize})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Pt.jsxs)("div",{className:"font-bold ".concat(parseFloat(t.netProfit)>=0?"text-green-400":"text-red-400"),children:[parseFloat(t.netProfit)>=0?"+":"",t.netProfit]})]})]}),"human"===e&&t.character&&(0,Pt.jsxs)("div",{className:"mt-3 pt-3 border-t border-border-primary",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440"}),(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:t.character})]})]},t.id)))})]})]})})},ru="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),iu=()=>{const[e,n]=(0,t.useState)({live_players:{my_bets:10,available_bets:10,ongoing_battles:10},bot_players:{available_bots:10,ongoing_bot_battles:10}}),[a,s]=(0,t.useState)(!0),[r,i]=(0,t.useState)(!1),{showSuccessRU:o,showErrorRU:c}=sn();(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=localStorage.getItem("token"),t=await At.get("".concat(ru,"/admin/interface-settings"),{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching interface settings:",e)}finally{s(!1)}},u=(e,t,a)=>{const s=parseInt(a);let r,i;t.startsWith("max_")?(r=10,i=1e6):(r=5,i=1e6),s<r||s>i||n((n=>l(l({},n),{},{[e]:l(l({},n[e]),{},{[t]:s})})))};return a?(0,Pt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Pt.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a..."})}):(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h2",{className:"text-2xl font-russo text-accent-primary mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"}),(0,Pt.jsx)("p",{className:"text-text-secondary font-roboto",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsxs)("h3",{className:"text-xl font-rajdhani font-bold text-white mb-4 flex items-center",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),"Live Players"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"My Bets"}),(0,Pt.jsx)("input",{type:"number",min:"5",max:"1000",value:e.live_players.my_bets,onChange:e=>u("live_players","my_bets",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Available Bets"}),(0,Pt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.live_players.available_bets,onChange:e=>u("live_players","available_bets",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Ongoing Battles"}),(0,Pt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.live_players.ongoing_battles,onChange:e=>u("live_players","ongoing_battles",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsxs)("h3",{className:"text-xl font-rajdhani font-bold text-white mb-4 flex items-center",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})}),"Bot Players"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Available Bots"}),(0,Pt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.bot_players.available_bots,onChange:e=>u("bot_players","available_bots",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Ongoing Bot Battles"}),(0,Pt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.bot_players.ongoing_bot_battles,onChange:e=>u("bot_players","ongoing_bot_battles",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Pt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]})]})]}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"text-text-secondary font-roboto",children:[(0,Pt.jsx)("p",{className:"text-sm",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u044b \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"}),(0,Pt.jsx)("p",{className:"text-xs mt-1",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u0441\u0438\u043b\u0443 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsx)("button",{onClick:()=>{n({live_players:{my_bets:10,available_bets:10,ongoing_battles:10},bot_players:{available_bots:10,ongoing_bot_battles:10}})},className:"px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-text-secondary hover:text-white hover:border-accent-primary transition-colors font-rajdhani font-medium",children:"\u0421\u0431\u0440\u043e\u0441"}),(0,Pt.jsx)("button",{onClick:async()=>{i(!0);try{const t=localStorage.getItem("token");await At.put("".concat(ru,"/admin/interface-settings"),e,{headers:{Authorization:"Bearer ".concat(t)}}),o("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}catch(t){console.error("Error saving interface settings:",t),c("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430")}finally{i(!1)}},disabled:r,className:"px-6 py-2 bg-accent-primary hover:bg-accent-secondary text-white rounded-lg font-rajdhani font-medium transition-colors disabled:opacity-50",children:r?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})]})},ou="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),lu=e=>{let{user:n}=e;const[a,s]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!0),[h,x]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)("ALL"),[v,j]=(0,t.useState)(""),[w,N]=(0,t.useState)({name:"",category:"GAMING",event_trigger:"",game_type:"ALL",is_enabled:!0,priority:5,volume:.5,delay:0,can_repeat:!0}),{showSuccessRU:_,showErrorRU:k}=sn(),{confirm:S,confirmationModal:C}=Fd();(0,t.useEffect)((()=>{L(),E(),A()}),[]);const M=()=>{const e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},L=async()=>{try{const e=await At.get("".concat(ou,"/admin/sounds"),{headers:M()});s(e.data)}catch(e){console.error("Error loading sounds:",e),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0432\u0443\u043a\u043e\u0432")}},E=async()=>{try{const e=await At.get("".concat(ou,"/admin/sounds/categories"),{headers:M()});i(e.data)}catch(e){console.error("Error loading categories:",e)}},A=async()=>{try{const e=await At.get("".concat(ou,"/admin/sounds/events"),{headers:M()});c(e.data)}catch(e){console.error("Error loading events:",e)}finally{u(!1)}},T=()=>{N({name:"",category:"GAMING",event_trigger:"",game_type:"ALL",is_enabled:!0,priority:5,volume:.5,delay:0,can_repeat:!0})},P=a.filter((e=>{const t="ALL"===b||e.category===b,n=e.name.toLowerCase().includes(v.toLowerCase())||e.event_trigger.toLowerCase().includes(v.toLowerCase());return t&&n})),z=e=>{switch(e){case"GAMING":return"\ud83c\udfae";case"UI":return"\ud83d\uddb1\ufe0f";case"SYSTEM":return"\u2699\ufe0f";case"BACKGROUND":return"\ud83c\udfb5";default:return"\ud83d\udd0a"}};return d?(0,Pt.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-rajdhani",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0432\u0443\u043a\u043e\u0432..."})}):(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h1",{className:"font-russo text-3xl text-white mb-2",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0432\u0443\u043a\u0430\u043c\u0438"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0437\u0432\u0443\u043a\u043e\u0432\u044b\u0445 \u044d\u0444\u0444\u0435\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0438\u0433\u0440\u044b"})]}),(0,Pt.jsx)("button",{onClick:()=>x("create"),className:"px-6 py-3 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:bg-green-600 transition-colors",children:"+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0432\u0443\u043a"})]}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,Pt.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:[(0,Pt.jsx)("option",{value:"ALL",children:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),r.map((e=>(0,Pt.jsxs)("option",{value:e,children:[z(e)," ",e]},e)))]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041f\u043e\u0438\u0441\u043a"}),(0,Pt.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u0438\u043b\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044e...",className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]})]})}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full",children:[(0,Pt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Pt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,Pt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"}),(0,Pt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0422\u0438\u043f \u0438\u0433\u0440\u044b"}),(0,Pt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"}),(0,Pt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Pt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0424\u0430\u0439\u043b"}),(0,Pt.jsx)("th",{className:"px-6 py-4 text-center font-rajdhani font-bold text-accent-primary",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Pt.jsx)("tbody",{children:P.map(((e,t)=>{var n;const r=(i=e.priority)>=9?{text:"\u041a\u0420\u0418\u0422\u0418\u0427\u0415\u0421\u041a\u0418\u0419",class:"bg-red-500"}:i>=6?{text:"\u0412\u042b\u0421\u041e\u041a\u0418\u0419",class:"bg-orange-500"}:i>=3?{text:"\u0421\u0420\u0415\u0414\u041d\u0418\u0419",class:"bg-yellow-500"}:{text:"\u041d\u0418\u0417\u041a\u0418\u0419",class:"bg-gray-500"};var i;return(0,Pt.jsxs)("tr",{className:t%2===0?"bg-surface-card":"bg-surface-sidebar bg-opacity-30",children:[(0,Pt.jsx)("td",{className:"px-6 py-4",children:(0,Pt.jsx)("div",{className:"font-rajdhani font-medium text-white",children:e.name})}),(0,Pt.jsx)("td",{className:"px-6 py-4",children:(0,Pt.jsxs)("span",{className:"flex items-center space-x-2 text-text-secondary",children:[(0,Pt.jsx)("span",{children:z(e.category)}),(0,Pt.jsx)("span",{children:e.category})]})}),(0,Pt.jsx)("td",{className:"px-6 py-4 font-roboto text-text-secondary",children:e.event_trigger}),(0,Pt.jsx)("td",{className:"px-6 py-4 font-roboto text-text-secondary",children:e.game_type}),(0,Pt.jsx)("td",{className:"px-6 py-4",children:(0,Pt.jsxs)("span",{className:"px-2 py-1 rounded text-white text-xs font-bold ".concat(r.class),children:[r.text," (",e.priority,")"]})}),(0,Pt.jsx)("td",{className:"px-6 py-4",children:(0,Pt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat(e.is_enabled?"bg-green-500 text-white":"bg-red-500 text-white"),children:e.is_enabled?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d":"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d"})}),(0,Pt.jsx)("td",{className:"px-6 py-4",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[e.has_audio_file?(0,Pt.jsxs)("span",{className:"text-green-400 text-sm",children:["\ud83d\udcc4 ",null===(n=e.file_format)||void 0===n?void 0:n.toUpperCase()]}):(0,Pt.jsx)("span",{className:"text-gray-500 text-sm",children:"\ud83d\udd07 \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u0439"}),(0,Pt.jsxs)("label",{className:"cursor-pointer",children:[(0,Pt.jsx)("input",{type:"file",accept:".mp3,.wav,.ogg",className:"hidden",onChange:t=>(async(e,t)=>{const n=t.files[0];if(!n)return;if(["audio/mp3","audio/mpeg","audio/wav","audio/ogg"].includes(n.type))if(n.size>5242880)k("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 5MB");else{g(!0);try{const t=await new Promise((e=>{const t=new FileReader;t.onload=()=>e(t.result.split(",")[1]),t.readAsDataURL(n)})),r={file_data:t,file_format:n.name.split(".").pop().toLowerCase(),file_size:n.size},i=await At.post("".concat(ou,"/admin/sounds/").concat(e,"/upload"),r,{headers:M()});s(a.map((t=>t.id===e?i.data:t))),_("\u0424\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(r){console.error("Error uploading file:",r),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")}finally{g(!1)}}else k("\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e MP3, WAV \u0438 OGG \u0444\u0430\u0439\u043b\u044b")})(e.id,t.target),disabled:f}),(0,Pt.jsx)("span",{className:"text-blue-400 hover:text-blue-300 text-sm",children:f?"\u23f3":"\ud83d\udcc1"})]})]})}),(0,Pt.jsx)("td",{className:"px-6 py-4",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Pt.jsx)("button",{onClick:()=>(e=>{p(e),N({name:e.name,category:e.category,event_trigger:e.event_trigger,game_type:e.game_type,is_enabled:e.is_enabled,priority:e.priority,volume:e.volume,delay:e.delay,can_repeat:e.can_repeat}),x("edit")})(e),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"\u270f\ufe0f"}),!e.is_default&&(0,Pt.jsx)("button",{onClick:()=>(async e=>{const t=a.find((t=>t.id===e)),n=t?t.name:"\u0437\u0432\u0443\u043a";if(await S({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0432\u0443\u043a\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0432\u0443\u043a "'.concat(n,'"?'),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{await At.delete("".concat(ou,"/admin/sounds/").concat(e),{headers:M()}),s(a.filter((t=>t.id!==e))),_("\u0417\u0432\u0443\u043a \u0443\u0434\u0430\u043b\u0451\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(o){var r,i;console.error("Error deleting sound:",o);const e=(null===(r=o.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0432\u0443\u043a\u0430";k(e)}})(e.id),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)}))})]})}),0===P.length&&(0,Pt.jsx)("div",{className:"text-center py-20",children:(0,Pt.jsx)("div",{className:"text-text-secondary text-xl font-rajdhani",children:"\u0417\u0432\u0443\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})})]}),"create"===h||"edit"===h&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:(0,Pt.jsxs)("div",{className:"p-6",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"create"===h?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0432\u0443\u043a":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0432\u0443\u043a"}),(0,Pt.jsxs)("form",{onSubmit:"create"===h?async e=>{e.preventDefault();try{const e=await At.post("".concat(ou,"/admin/sounds"),w,{headers:M()});s([...a,e.data]),x(null),T(),_("\u0417\u0432\u0443\u043a \u0441\u043e\u0437\u0434\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(t){console.error("Error creating sound:",t),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0432\u0443\u043a\u0430")}}:async e=>{e.preventDefault();try{const e=await At.put("".concat(ou,"/admin/sounds/").concat(m.id),w,{headers:M()});s(a.map((t=>t.id===m.id?e.data:t))),x(null),p(null),T(),_("\u0417\u0432\u0443\u043a \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(t){console.error("Error updating sound:",t),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0432\u0443\u043a\u0430")}},className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0432\u0443\u043a\u0430"}),(0,Pt.jsx)("input",{type:"text",value:w.name,onChange:e=>N(l(l({},w),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",required:!0})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,Pt.jsx)("select",{value:w.category,onChange:e=>N(l(l({},w),{},{category:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:r.map((e=>(0,Pt.jsx)("option",{value:e,children:e},e)))})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"}),(0,Pt.jsxs)("select",{value:w.event_trigger,onChange:e=>N(l(l({},w),{},{event_trigger:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:[(0,Pt.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"}),o.map((e=>(0,Pt.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0422\u0438\u043f \u0438\u0433\u0440\u044b"}),(0,Pt.jsxs)("select",{value:w.game_type,onChange:e=>N(l(l({},w),{},{game_type:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:[(0,Pt.jsx)("option",{value:"ALL",children:"\u0412\u0441\u0435 \u0438\u0433\u0440\u044b"}),(0,Pt.jsx)("option",{value:"HUMAN_VS_HUMAN",children:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a vs \u0427\u0435\u043b\u043e\u0432\u0435\u043a"}),(0,Pt.jsx)("option",{value:"HUMAN_VS_BOT",children:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a vs \u0411\u043e\u0442"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 (1-10)"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"10",value:w.priority,onChange:e=>N(l(l({},w),{},{priority:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c (0.0-1.0)"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"1",step:"0.1",value:w.volume,onChange:e=>N(l(l({},w),{},{volume:parseFloat(e.target.value)})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u043c\u0441)"}),(0,Pt.jsx)("input",{type:"number",min:"0",max:"5000",value:w.delay,onChange:e=>N(l(l({},w),{},{delay:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:w.is_enabled,onChange:e=>N(l(l({},w),{},{is_enabled:e.target.checked})),className:"mr-2"}),(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d"})]}),(0,Pt.jsxs)("label",{className:"flex items-center",children:[(0,Pt.jsx)("input",{type:"checkbox",checked:w.can_repeat,onChange:e=>N(l(l({},w),{},{can_repeat:e.target.checked})),className:"mr-2"}),(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u041c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c\u0441\u044f"})]})]}),(0,Pt.jsxs)("div",{className:"flex justify-end space-x-4 mt-8",children:[(0,Pt.jsx)("button",{type:"button",onClick:()=>{x(null),p(null),T()},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Pt.jsx)("button",{type:"submit",className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-green-600 transition-colors",children:"create"===h?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})})}),(0,Pt.jsx)(Gd,l({},C))]})},cu="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),du=()=>{const{showSuccess:e,showError:n}=sn(),{confirm:a,confirmationModal:s}=Fd(),[r,i]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(!1),[h,x]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)({name:"",price:1,color:"#FF0000",icon:"",rarity:"Common"});(0,t.useEffect)((()=>{v()}),[]);const v=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await At.get("".concat(cu,"/admin/gems"),{headers:{Authorization:"Bearer ".concat(e)}});i(t.data)}catch(e){console.error("Error fetching gems:",e),n("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432")}finally{c(!1)}},j=e=>{const t=e.target.files[0];if(!t)return;if(t.size>1048576)return void n("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 1MB");if(!["image/png","image/jpg","image/jpeg","image/svg+xml"].includes(t.type))return void n("\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e PNG, JPG \u0438 SVG \u0444\u0430\u0439\u043b\u044b");const a=new FileReader;a.onload=e=>{y(l(l({},b),{},{icon:e.target.result}))},a.readAsDataURL(t)},w=()=>{y({name:"",price:1,color:"#FF0000",icon:"",rarity:"Common"})},N=()=>{u(!1),x(!1),p(null),w()};return o?(0,Pt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u0435\u043c\u043e\u0432..."})}):(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438"}),(0,Pt.jsx)("button",{onClick:()=>u(!0),className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors font-rajdhani font-bold",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0435\u043c"})]}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((t=>(0,Pt.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 group",style:{backgroundColor:"#081730",border:"1px solid ".concat(t.color),boxShadow:"0 0 20px ".concat(t.color,"40")},children:[(0,Pt.jsx)("div",{className:"flex justify-center mb-4",children:(0,Pt.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative",children:[(0,Pt.jsx)("div",{className:"absolute inset-0 animate-pulse",style:{background:"radial-gradient(circle, ".concat(t.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,Pt.jsx)("img",{src:t.icon,alt:t.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10",style:{filter:"drop-shadow(0 0 10px ".concat(t.color,"40)")}})]})}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("h3",{className:"font-russo text-xl text-white mb-2",children:t.name}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm mb-3",children:t.rarity}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsxs)("span",{className:"font-rajdhani text-2xl font-bold text-green-400",children:["$",t.price]}),(0,Pt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),t.is_default&&(0,Pt.jsx)("div",{className:"mb-4",children:(0,Pt.jsx)("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-full font-roboto",children:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439"})}),(0,Pt.jsxs)("div",{className:"flex space-x-2 justify-center",children:[(0,Pt.jsx)("button",{onClick:()=>(e=>{p(e),y({name:e.name,price:e.price,color:e.color,icon:e.icon,rarity:e.rarity}),x(!0)})(t),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-rajdhani",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),!t.is_default&&(0,Pt.jsx)("button",{onClick:()=>(async t=>{if(t.is_default)return void n("\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u0433\u0435\u043c\u044b");if(await a({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0435\u043c "'.concat(t.name,'"?'),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{const n=localStorage.getItem("token");await At.delete("".concat(cu,"/admin/gems/").concat(t.id),{headers:{Authorization:"Bearer ".concat(n)}}),e("\u0413\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"),v()}catch(i){var s,r;console.error("Error deleting gem:",i),n((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u0430")}})(t),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-rajdhani",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]},t.id)))}),d&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsx)("h3",{className:"text-xl font-russo text-white mb-6",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0433\u0435\u043c"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Pt.jsx)("input",{type:"text",value:b.name,onChange:e=>y(l(l({},b),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0435\u043c\u0430"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0435\u043d\u0430 ($)"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"10000",value:b.price,onChange:e=>y(l(l({},b),{},{price:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0432\u0435\u0442 (HEX)"}),(0,Pt.jsx)("input",{type:"text",value:b.color,onChange:e=>y(l(l({},b),{},{color:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",placeholder:"#FF0000"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0420\u0435\u0434\u043a\u043e\u0441\u0442\u044c"}),(0,Pt.jsxs)("select",{value:b.rarity,onChange:e=>y(l(l({},b),{},{rarity:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Pt.jsx)("option",{value:"Common",children:"Common"}),(0,Pt.jsx)("option",{value:"Uncommon",children:"Uncommon"}),(0,Pt.jsx)("option",{value:"Rare",children:"Rare"}),(0,Pt.jsx)("option",{value:"Epic",children:"Epic"}),(0,Pt.jsx)("option",{value:"Legendary",children:"Legendary"}),(0,Pt.jsx)("option",{value:"Mythic",children:"Mythic"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0418\u043a\u043e\u043d\u043a\u0430"}),(0,Pt.jsx)("input",{type:"file",accept:"image/png,image/jpg,image/jpeg,image/svg+xml",onChange:j,className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"}),b.icon&&(0,Pt.jsx)("img",{src:b.icon,alt:"Preview",className:"w-16 h-16 mt-2 object-contain"})]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Pt.jsx)("button",{onClick:async()=>{try{g(!0);const t=localStorage.getItem("token");await At.post("".concat(cu,"/admin/gems"),b,{headers:{Authorization:"Bearer ".concat(t)}}),e("\u0413\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"),u(!1),w(),v()}catch(s){var t,a;console.error("Error creating gem:",s),n((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0433\u0435\u043c\u0430")}finally{g(!1)}},disabled:f||!b.name||!b.icon,className:"flex-1 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors font-rajdhani font-bold disabled:opacity-50",children:f?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),(0,Pt.jsx)("button",{onClick:N,className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),h&&m&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pt.jsx)("h3",{className:"text-xl font-russo text-white mb-6",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0433\u0435\u043c"}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Pt.jsx)("input",{type:"text",value:b.name,onChange:e=>y(l(l({},b),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0435\u043d\u0430 ($)"}),(0,Pt.jsx)("input",{type:"number",min:"1",max:"10000",value:b.price,onChange:e=>y(l(l({},b),{},{price:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0432\u0435\u0442 (HEX)"}),(0,Pt.jsx)("input",{type:"text",value:b.color,onChange:e=>y(l(l({},b),{},{color:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0420\u0435\u0434\u043a\u043e\u0441\u0442\u044c"}),(0,Pt.jsxs)("select",{value:b.rarity,onChange:e=>y(l(l({},b),{},{rarity:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Pt.jsx)("option",{value:"Common",children:"Common"}),(0,Pt.jsx)("option",{value:"Uncommon",children:"Uncommon"}),(0,Pt.jsx)("option",{value:"Rare",children:"Rare"}),(0,Pt.jsx)("option",{value:"Epic",children:"Epic"}),(0,Pt.jsx)("option",{value:"Legendary",children:"Legendary"}),(0,Pt.jsx)("option",{value:"Mythic",children:"Mythic"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0418\u043a\u043e\u043d\u043a\u0430"}),(0,Pt.jsx)("input",{type:"file",accept:"image/png,image/jpg,image/jpeg,image/svg+xml",onChange:j,className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"}),b.icon&&(0,Pt.jsx)("img",{src:b.icon,alt:"Preview",className:"w-16 h-16 mt-2 object-contain"})]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Pt.jsx)("button",{onClick:async()=>{try{g(!0);const t=localStorage.getItem("token"),n=l({},b);n.icon===m.icon&&delete n.icon,await At.put("".concat(cu,"/admin/gems/").concat(m.id),n,{headers:{Authorization:"Bearer ".concat(t)}}),e("\u0413\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),x(!1),p(null),w(),v()}catch(s){var t,a;console.error("Error updating gem:",s),n((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u0430")}finally{g(!1)}},disabled:f||!b.name,className:"flex-1 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors font-rajdhani font-bold disabled:opacity-50",children:f?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,Pt.jsx)("button",{onClick:N,className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),(0,Pt.jsx)(Gd,l({},s))]})},uu=e=>{let{id:n,type:a,message:s,duration:r=5e3,onClose:i,isRussian:o=!1}=e;(0,t.useEffect)((()=>{if(r>0){const e=setTimeout((()=>{i(n)}),r);return()=>clearTimeout(e)}}),[n,r,i]);return(0,Pt.jsx)("div",{className:"\n      relative bg-surface-card border-2 ".concat((()=>{switch(a){case"success":return"border-success";case"error":return"border-error";case"warning":return"border-warning";default:return"border-accent-primary"}})()," rounded-lg p-4 mb-3 \n      shadow-lg transition-all duration-300 ease-in-out\n      animate-slide-in-right max-w-md\n    "),children:(0,Pt.jsxs)("div",{className:"flex items-start space-x-3",children:[(()=>{switch(a){case"success":return(0,Pt.jsx)("div",{className:"w-6 h-6 bg-success rounded-full flex items-center justify-center flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,Pt.jsx)("div",{className:"w-6 h-6 bg-error rounded-full flex items-center justify-center flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});case"warning":return(0,Pt.jsx)("div",{className:"w-6 h-6 bg-warning rounded-full flex items-center justify-center flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 text-bg-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})});default:return(0,Pt.jsx)("div",{className:"w-6 h-6 bg-info rounded-full flex items-center justify-center flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,Pt.jsx)("div",{className:"flex-1 min-w-0",children:(0,Pt.jsx)("p",{className:"text-text-primary text-sm font-medium leading-5 break-words",children:"string"===typeof s?s:JSON.stringify(s)})}),(0,Pt.jsx)("button",{onClick:()=>i(n),className:"ml-2 flex-shrink-0 text-text-muted hover:text-text-primary transition-colors duration-200",children:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},hu=()=>{const{notifications:e,removeNotification:t}=sn();return 0===e.length?null:(0,Pt.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map((e=>(0,Pt.jsx)(uu,{id:e.id,type:e.type,message:e.message,duration:e.duration,isRussian:e.isRussian,onClose:t},e.id)))})},xu=()=>{const{showSuccess:e,showError:t,showWarning:n,showInfo:a,showSuccessRU:s,showErrorRU:r,showWarningRU:i,showInfoRU:o}=sn();return(0,Pt.jsx)("div",{className:"p-8 space-y-8",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Pt.jsx)("h1",{className:"text-3xl font-russo text-white mb-8",children:"Notification System Demo"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card p-6 rounded-lg border border-border-primary",children:[(0,Pt.jsx)("h2",{className:"text-xl font-russo text-accent-primary mb-4",children:"English (User Interface)"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("button",{onClick:()=>{e("Bet created! $3.00 (3%) frozen until game completion.",{duration:7e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"Show Bet Created (Success)"}),(0,Pt.jsx)("button",{onClick:()=>{e("Congratulations! You won the game and earned $25.50!",{duration:6e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"Show Game Won (Success)"}),(0,Pt.jsx)("button",{onClick:()=>{t("Insufficient funds. Please add balance to your account.",{duration:5e3})},className:"w-full px-4 py-2 bg-error rounded-lg text-white font-rajdhani hover:bg-error/80 transition-colors",children:"Show Insufficient Funds (Error)"}),(0,Pt.jsx)("button",{onClick:()=>{n("Game will timeout in 30 seconds. Please make your move!",{duration:4e3})},className:"w-full px-4 py-2 bg-warning rounded-lg text-bg-primary font-rajdhani hover:bg-warning/80 transition-colors",children:"Show Game Timeout (Warning)"}),(0,Pt.jsx)("button",{onClick:()=>{a("System maintenance scheduled for tonight at 2 AM UTC.",{duration:8e3})},className:"w-full px-4 py-2 bg-info rounded-lg text-white font-rajdhani hover:bg-info/80 transition-colors",children:"Show System Info (Info)"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card p-6 rounded-lg border border-border-primary",children:[(0,Pt.jsx)("h2",{className:"text-xl font-russo text-accent-primary mb-4",children:"Russian (Admin Panel)"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("button",{onClick:()=>{s("\u0421\u0442\u0430\u0432\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430! $3.00 (3%) \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0438\u0433\u0440\u044b.",{duration:7e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (\u0423\u0441\u043f\u0435\u0445)"}),(0,Pt.jsx)("button",{onClick:()=>{s("\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! \u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438 \u0438\u0433\u0440\u0443 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 $25.50!",{duration:6e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u044b\u0438\u0433\u0440\u044b\u0448 (\u0423\u0441\u043f\u0435\u0445)"}),(0,Pt.jsx)("button",{onClick:()=>{r("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0431\u0430\u043b\u0430\u043d\u0441.",{duration:5e3})},className:"w-full px-4 py-2 bg-error rounded-lg text-white font-rajdhani hover:bg-error/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0435\u0445\u0432\u0430\u0442\u043a\u0443 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 (\u041e\u0448\u0438\u0431\u043a\u0430)"}),(0,Pt.jsx)("button",{onClick:()=>{i("\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 30 \u0441\u0435\u043a\u0443\u043d\u0434. \u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0445\u043e\u0434!",{duration:4e3})},className:"w-full px-4 py-2 bg-warning rounded-lg text-bg-primary font-rajdhani hover:bg-warning/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u0439\u043c\u0430\u0443\u0442 \u0438\u0433\u0440\u044b (\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435)"}),(0,Pt.jsx)("button",{onClick:()=>{o("\u041f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0432 02:00 UTC.",{duration:8e3})},className:"w-full px-4 py-2 bg-info rounded-lg text-white font-rajdhani hover:bg-info/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e (\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f)"})]})]})]}),(0,Pt.jsxs)("div",{className:"mt-8 bg-surface-card p-6 rounded-lg border border-border-primary",children:[(0,Pt.jsx)("h3",{className:"text-lg font-russo text-accent-primary mb-4",children:"Usage Examples"}),(0,Pt.jsxs)("div",{className:"space-y-4 text-text-secondary font-roboto",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"text-white font-medium mb-2",children:"In React Components:"}),(0,Pt.jsx)("pre",{className:"bg-surface-sidebar p-3 rounded text-sm overflow-x-auto",children:"import { useNotifications } from './NotificationContext';\n\nconst MyComponent = () => {\n  const { showSuccess, showError, showWarning, showInfo } = useNotifications();\n  \n  const handleSuccess = () => {\n    showSuccess('Operation completed successfully!');\n  };\n  \n  const handleError = () => {\n    showError('Something went wrong!');\n  };\n  \n  // For admin panel (Russian)\n  const handleSuccessRU = () => {\n    showSuccessRU('\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!');\n  };\n};"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"text-white font-medium mb-2",children:"Features:"}),(0,Pt.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,Pt.jsx)("li",{children:"Auto-dismiss after 5 seconds (configurable)"}),(0,Pt.jsx)("li",{children:"Manual dismiss with X button"}),(0,Pt.jsx)("li",{children:"Slide-in animation from right"}),(0,Pt.jsx)("li",{children:"Different icons for each notification type"}),(0,Pt.jsx)("li",{children:"Green border styling matching the app theme"}),(0,Pt.jsx)("li",{children:"Support for both English and Russian"}),(0,Pt.jsx)("li",{children:"Responsive design"})]})]})]})]})]})})},mu="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),pu=e=>{let{user:n}=e;const[a,s]=(0,t.useState)(null),[r,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)("dashboard"),[x,m]=(0,t.useState)(null),[p,f]=(0,t.useState)("");(0,t.useEffect)((()=>{g();const e=setInterval(g,3e4);return()=>clearInterval(e)}),[]);const g=async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},[n,a,r]=await Promise.all([At.get("".concat(mu,"/admin/security/dashboard"),{headers:t}),At.get("".concat(mu,"/admin/security/alerts?limit=20"),{headers:t}),At.get("".concat(mu,"/admin/security/monitoring-stats"),{headers:t})]);s(n.data),i(a.data),l(r.data),d(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438:",e),d(!1)}},b=async e=>{if(p.trim()){m(e);try{const t=localStorage.getItem("token");await At.post("".concat(mu,"/admin/security/alerts/").concat(e,"/resolve"),{action_taken:p},{headers:{Authorization:"Bearer ".concat(t)}}),f(""),m(null),g(),alert("\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f:",t),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),m(null)}}else alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f")},y=e=>({LOW:"text-green-400",MEDIUM:"text-yellow-400",HIGH:"text-orange-400",CRITICAL:"text-red-400"}[e]||"text-gray-400"),v=e=>({LOW:"bg-green-900 bg-opacity-20 border-green-500",MEDIUM:"bg-yellow-900 bg-opacity-20 border-yellow-500",HIGH:"bg-orange-900 bg-opacity-20 border-orange-500",CRITICAL:"bg-red-900 bg-opacity-20 border-red-500"}[e]||"bg-gray-900 bg-opacity-20 border-gray-500"),j=e=>({LOW:"\u041d\u0438\u0437\u043a\u0438\u0439",MEDIUM:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",HIGH:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439",CRITICAL:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439"}[e]||e);return c?(0,Pt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438..."})}):(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-text-secondary",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsx)("span",{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0435 30 \u0441\u0435\u043a\u0443\u043d\u0434"})]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-4 border-b border-border-primary",children:[(0,Pt.jsx)("button",{onClick:()=>h("dashboard"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("dashboard"===u?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),(0,Pt.jsx)("button",{onClick:()=>h("alerts"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("alerts"===u?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),(0,Pt.jsx)("button",{onClick:()=>h("stats"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("stats"===u?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]}),"dashboard"===u&&a&&(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-red-400",children:a.active_alerts||0})]}),(0,Pt.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 IP"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-orange-400",children:a.blocked_ips||0})]}),(0,Pt.jsx)("svg",{className:"w-8 h-8 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364L18.364 5.636"})})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-yellow-400",children:a.suspicious_accounts||0})]}),(0,Pt.jsx)("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})}),(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435"}),(0,Pt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-green-400",children:a.system_health||"OK"})]}),(0,Pt.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,Pt.jsx)("div",{className:"space-y-3",children:a.recent_activity&&a.recent_activity.length>0?a.recent_activity.map(((e,t)=>(0,Pt.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border-primary last:border-b-0",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(y(e.severity))}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-white text-sm",children:e.description}),(0,Pt.jsx)("p",{className:"text-text-secondary text-xs",children:new Date(e.timestamp).toLocaleString("ru-RU")})]})]}),(0,Pt.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(v(e.severity)),children:j(e.severity)})]},t))):(0,Pt.jsx)("p",{className:"text-text-secondary",children:"\u041d\u0435\u0434\u0430\u0432\u043d\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0435\u0442"})})]})]}),"alerts"===u&&(0,Pt.jsx)("div",{className:"space-y-4",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),r.length>0?(0,Pt.jsx)("div",{className:"space-y-4",children:r.map((e=>{var t,n,a;return(0,Pt.jsx)("div",{className:"p-4 rounded-lg border ".concat(v(e.severity)),children:(0,Pt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Pt.jsx)("span",{className:"font-medium ".concat(y(e.severity)),children:j(e.severity)}),(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u2022"}),(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:(a=e.alert_type,{SUSPICIOUS_LOGIN:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u0445\u043e\u0434",MULTIPLE_FAILED_LOGINS:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044b",UNUSUAL_BETTING_PATTERN:"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u0430\u044f \u0441\u0445\u0435\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a",HIGH_VALUE_TRANSACTION:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438",ACCOUNT_MANIPULATION:"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u0441 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c",POTENTIAL_BOT_ACTIVITY:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u0430\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0442\u0430",SYSTEM_ANOMALY:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0430\u043d\u043e\u043c\u0430\u043b\u0438\u044f"}[a]||a)})]}),(0,Pt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:e.title}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm mb-2",children:e.description}),(0,Pt.jsxs)("div",{className:"text-xs text-text-secondary",children:[(0,Pt.jsxs)("span",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(null===(t=e.user_info)||void 0===t?void 0:t.username)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"]}),(0,Pt.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Pt.jsxs)("span",{children:["IP: ",(null===(n=e.user_info)||void 0===n?void 0:n.ip_address)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"]}),(0,Pt.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Pt.jsx)("span",{children:new Date(e.created_at).toLocaleString("ru-RU")})]})]}),"OPEN"===e.status&&(0,Pt.jsxs)("div",{className:"ml-4 space-y-2",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsx)("input",{type:"text",placeholder:"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f...",value:x===e.id?p:"",onChange:t=>{x===e.id&&f(t.target.value)},onFocus:()=>m(e.id),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded text-white text-sm"})}),(0,Pt.jsx)("button",{onClick:()=>b(e.id),disabled:x!==e.id||!p.trim(),className:"w-full px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:opacity-50 text-white text-sm rounded font-medium transition-colors",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"})]})]})},e.id)}))}):(0,Pt.jsx)("p",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439 \u043d\u0435\u0442"})]})}),"stats"===u&&o&&(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439:"}),(0,Pt.jsx)("span",{className:"text-white font-bold",children:o.total_alerts||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0451\u043d\u043d\u044b\u0445:"}),(0,Pt.jsx)("span",{className:"text-green-400 font-bold",children:o.resolved_alerts||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0445:"}),(0,Pt.jsx)("span",{className:"text-red-400 font-bold",children:o.open_alerts||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445:"}),(0,Pt.jsx)("span",{className:"text-red-400 font-bold",children:o.critical_alerts||0})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0435\u0441\u0441\u0438\u0438:"}),(0,Pt.jsx)("span",{className:"text-white font-bold",children:o.active_sessions||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044b (24\u0447):"}),(0,Pt.jsx)("span",{className:"text-orange-400 font-bold",children:o.failed_logins_24h||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 IP:"}),(0,Pt.jsx)("span",{className:"text-red-400 font-bold",children:o.blocked_ips||0})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b:"}),(0,Pt.jsx)("span",{className:"text-yellow-400 font-bold",children:o.suspicious_accounts||0})]})]})]})]})]})},fu="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),gu=e=>{let{user:n,onClose:a}=e;const[s,r]=(0,t.useState)("dashboard"),[i,o]=(0,t.useState)({}),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(!1),[x,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)({}),[g,b]=(0,t.useState)(!0),[y,v]=(0,t.useState)(null),{showSuccessRU:j,showErrorRU:w}=sn(),{confirm:N,confirmationModal:_}=Fd();if((0,t.useEffect)((()=>{console.log("\ud83d\udd0d AdminPanel: Checking user access. User:",n),console.log("\ud83d\udd0d AdminPanel: Token in localStorage:",localStorage.getItem("token")?"EXISTS":"MISSING"),!n||"ADMIN"!==n.role&&"SUPER_ADMIN"!==n.role?console.log("\u274c AdminPanel: Access denied. User role:",null===n||void 0===n?void 0:n.role):console.log("\u2705 AdminPanel: Access granted. User role:",n.role)}),[n]),!n||"ADMIN"!==n.role&&"SUPER_ADMIN"!==n.role)return console.log("\u274c AdminPanel: Rendering access denied component"),(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-red-500 rounded-lg p-8 text-center",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-red-400 mb-4",children:"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438"}),(0,Pt.jsxs)("p",{className:"font-roboto text-text-secondary mt-2",children:["\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0440\u043e\u043b\u044c: ",(null===n||void 0===n?void 0:n.role)||"\u041d\u0415 \u041e\u041f\u0420\u0415\u0414\u0415\u041b\u0415\u041d\u0410"]}),(0,Pt.jsx)("button",{onClick:a,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})});(0,t.useEffect)((()=>{S();const e=At.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(console.log("\ud83d\udd12 AdminPanel: Global axios interceptor caught 401 error"),k()),Promise.reject(e)}));return()=>{At.interceptors.response.eject(e)}}),[]);const k=()=>{console.log("\ud83d\udd12 AdminPanel: Token expired, cleaning up and closing"),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),w("\u0421\u0435\u0441\u0441\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0441\u043d\u043e\u0432\u0430."),a()},S=async()=>{try{const e=localStorage.getItem("token");if(console.log("\ud83d\udd0d AdminPanel: Fetching dashboard stats. Token exists:",!!e),!e)return console.log("\u274c AdminPanel: No token found, redirecting to login"),void k();const[t,n,a,s]=await Promise.allSettled([At.get("".concat(fu,"/admin/users/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),At.get("".concat(fu,"/bots"),{headers:{Authorization:"Bearer ".concat(e)}}),At.get("".concat(fu,"/admin/games/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),At.get("".concat(fu,"/admin/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(e)}})]);console.log("\u2705 AdminPanel: Dashboard stats responses:",{users:t.status,bots:n.status,games:a.status,dashboard:s.status}),o({users:"fulfilled"===t.status?t.value.data:{total:"\u2014",active:"\u2014",banned:"\u2014"},bots:"fulfilled"===n.status?n.value.data.length:"\u2014",games:"fulfilled"===a.status?a.value.data:{total:"\u2014",active:"\u2014",completed:"\u2014"}}),"fulfilled"===s.status?f(s.value.data):(console.error("\u274c Failed to fetch dashboard stats:",s.reason),f({active_human_bots:"\u2014",active_regular_bots:"\u2014",online_users:"\u2014",active_games:"\u2014",total_bet_volume:"\u2014",online_bet_volume:"\u2014"})),d(!1)}catch(t){var e;if(console.error("\u274c AdminPanel: Error loading statistics:",t),401===(null===(e=t.response)||void 0===e?void 0:e.status))return console.log("\ud83d\udd12 AdminPanel: Token expired (401), handling logout"),void k();d(!1)}},C=e=>"\u2014"===e||void 0===e||null===e?"\u2014":Number(e).toLocaleString("en-US"),M=async()=>{if(await N({title:"\u0421\u0431\u0440\u043e\u0441 \u043e\u0431\u044a\u0451\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043e\u0431\u0449\u0438\u0439 \u043e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0443\u0434\u0430\u043b\u0438\u0442 \u0432\u0441\u0435 \u0438\u0433\u0440\u044b \u0438 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",confirmText:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{const e=localStorage.getItem("token");await At.post("".concat(fu,"/admin/dashboard/reset-bet-volume"),{},{headers:{Authorization:"Bearer ".concat(e)}}),j("\u041e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d"),await S()}catch(n){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043e\u0431\u044a\u0451\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a:",n),w("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043e\u0431\u044a\u0451\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}},L=async()=>{await S(),j("\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")};(0,t.useEffect)((()=>{if(g&&"dashboard"===s){const e=setInterval(S,5e3);return v(e),()=>clearInterval(e)}y&&(clearInterval(y),v(null))}),[g,s]);const E=[{id:"dashboard",title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})},{id:"users",title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})})},{id:"bets",title:"\u0421\u0442\u0430\u0432\u043a\u0438",icon:(0,Pt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12h3m-6 0h.01"})]})},{id:"regular-bots",title:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0411\u043e\u0442\u044b",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})})},{id:"human-bots",title:"Human \u0411\u043e\u0442\u044b",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"bot-settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432",icon:(0,Pt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"bot-analytics",title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"bots",title:"\u0411\u043e\u0442\u044b",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})})},{id:"games",title:"\u0418\u0433\u0440\u044b",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{id:"gems",title:"\u0413\u0435\u043c\u044b",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.091 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})})},{id:"sounds",title:"\u0417\u0432\u0443\u043a\u0438",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.5c-.69 0-1.25-.56-1.25-1.25v-3.5c0-.69.56-1.25 1.25-1.25h2.25Z"})})},{id:"settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",icon:(0,Pt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"profit",title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})},{id:"analytics",title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"logs",title:"\u041b\u043e\u0433\u0438",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"notification-demo",title:"Notification",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5V12h-5l5-5 5 5h-5v5zM4 4h16v2H4V4zM4 8h16v2H4V8zM4 12h16v2H4v-2z"})})},{id:"monitoring",title:"Monitoring",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}],A=e=>{let{title:t,value:n,icon:a,color:s="text-accent-primary"}=e;return(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:t}),(0,Pt.jsx)("p",{className:"font-rajdhani text-3xl font-bold ".concat(s),children:n})]}),(0,Pt.jsx)("div",{className:"".concat(s," opacity-60"),children:a})]})})},T=e=>{let{title:t,value:n,icon:a,color:s="text-accent-primary",onAction:r,actionIcon:i,actionTitle:o}=e;return(0,Pt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:t}),(0,Pt.jsx)("p",{className:"font-rajdhani text-3xl font-bold ".concat(s),children:n})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("button",{onClick:r,className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",title:o,children:i}),(0,Pt.jsx)("div",{className:"".concat(s," opacity-60"),children:a})]})]})})},P=()=>(0,Pt.jsxs)("div",{className:"space-y-8",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u041e\u0431\u0437\u043e\u0440 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("button",{onClick:L,className:"p-2 bg-surface-sidebar border border-border-primary rounded-lg text-accent-primary hover:bg-surface-card transition-colors duration-200",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443",children:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0410\u0432\u0442\u043e\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435:"}),(0,Pt.jsx)("button",{onClick:()=>b(!g),className:"w-12 h-6 rounded-full transition-colors duration-200 flex items-center ".concat(g?"bg-green-500":"bg-gray-600"),children:(0,Pt.jsx)("div",{className:"w-5 h-5 bg-white rounded-full transition-transform duration-200 ".concat(g?"translate-x-6":"translate-x-0.5")})})]})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Pt.jsx)(A,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",value:C(p.total_users),icon:(0,Pt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),color:"text-indigo-400"}),(0,Pt.jsx)(A,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",value:C(p.online_users),icon:(0,Pt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),color:"text-green-400"}),(0,Pt.jsx)(A,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 Human \u0431\u043e\u0442\u043e\u0432",value:C(p.active_human_bots),icon:(0,Pt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),color:"text-blue-400"}),(0,Pt.jsx)(A,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440 Human \u0431\u043e\u0442\u043e\u0432",value:C(p.active_human_bots_games),icon:(0,Pt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"text-orange-400"}),(0,Pt.jsx)(A,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u041e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",value:C(p.active_regular_bots),icon:(0,Pt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"text-cyan-400"}),(0,Pt.jsx)(A,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440 \u041e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",value:C(p.active_regular_bots_games),icon:(0,Pt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"text-orange-400"}),(0,Pt.jsx)(T,{title:"\u041e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a",value:C(p.total_bet_volume),icon:(0,Pt.jsx)("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),color:"text-yellow-400",onAction:M,actionIcon:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),actionTitle:"\u0421\u0431\u0440\u043e\u0441"}),(0,Pt.jsx)(A,{title:"\u041e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u043d\u043b\u0430\u0439\u043d",value:C(p.online_bet_volume),icon:(0,Pt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),color:"text-purple-400"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"Quick Actions"}),(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsx)("button",{onClick:()=>r("users"),className:"w-full px-4 py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83d\udc65 User Management"}),(0,Pt.jsx)("button",{onClick:()=>r("human-bots"),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83e\udd16 Human Bot Management"}),(0,Pt.jsx)("button",{onClick:()=>r("games"),className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83c\udfae Game Monitoring"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"System Information"}),(0,Pt.jsxs)("div",{className:"space-y-3 text-text-secondary",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{children:"Version:"}),(0,Pt.jsx)("span",{className:"text-white",children:"GemPlay v1.0"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{children:"Status:"}),(0,Pt.jsx)("span",{className:"text-green-400",children:"\ud83d\udfe2 Online"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{children:"Role:"}),(0,Pt.jsx)("span",{className:"text-accent-primary font-bold",children:n.role})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{children:"Last Login:"}),(0,Pt.jsx)("span",{className:"text-white",children:n.last_login?new Date(n.last_login).toLocaleDateString("en-US"):"Not specified"})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{children:"Auto-Refresh:"}),(0,Pt.jsx)("span",{className:g?"text-green-400":"text-red-400",children:g?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e (5\u0441)":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e"})]})]})]})]})]}),z=async()=>{if(await N({title:"\u0421\u0431\u0440\u043e\u0441 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",confirmText:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"})){m(!0);try{const e=localStorage.getItem("token");await At.post("".concat(fu,"/admin/games/reset-all"),{},{headers:{Authorization:"Bearer ".concat(e)}}),j("\u0412\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b"),await S()}catch(n){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a:",n),w("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{m(!1)}}},O=()=>{var e,t,n;return(0,Pt.jsx)("div",{className:"space-y-8",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"Game Management"}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,Pt.jsxs)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Pt.jsx)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Pt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-red-400",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Pt.jsx)("p",{className:"text-text-secondary text-sm mb-4",children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442 \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b, \u0432\u0435\u0440\u043d\u0451\u0442 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0433\u0435\u043c\u044b \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e \u0432\u0441\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0438 \u0431\u043e\u0442\u0430\u043c. \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."}),(0,Pt.jsx)("button",{onClick:z,disabled:x,className:"px-6 py-3 font-rajdhani font-bold rounded-lg transition-all duration-300 ".concat(x?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"),children:x?(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Pt.jsx)("span",{children:"\u0421\u0431\u0440\u043e\u0441..."})]}):"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]})]}),(0,Pt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Pt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438\u0433\u0440"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(e=i.games)||void 0===e?void 0:e.total)||"\u2014"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"Active Games"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:(null===(t=i.games)||void 0===t?void 0:t.active)||"\u2014"})]}),(0,Pt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Pt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,Pt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:(null===(n=i.games)||void 0===n?void 0:n.completed)||"\u2014"})]})]})]})]})})};return c?(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c..."})}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary flex",children:[(0,Pt.jsx)("div",{className:"".concat(u?"w-16":"w-64"," bg-surface-sidebar border-r border-border-primary min-h-screen transition-all duration-300 flex-shrink-0"),children:(0,Pt.jsxs)("div",{className:"p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[!u&&(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-lg flex items-center justify-center",children:(0,Pt.jsxs)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h1",{className:"font-russo text-xl text-accent-primary",children:"\u0410\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c"}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"GemPlay"})]})]}),(0,Pt.jsx)("button",{onClick:()=>h(!u),className:"admin-tooltip flex items-center justify-center p-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",title:u?"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0435\u043d\u044e":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0435\u043d\u044e",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 ".concat(u?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),u?(0,Pt.jsx)("button",{onClick:a,className:"w-full flex items-center justify-center px-2 py-2 mb-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",title:"\u041d\u0430\u0437\u0430\u0434",children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}):(0,Pt.jsxs)("button",{onClick:a,className:"w-full flex items-center space-x-2 px-4 py-2 mb-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,Pt.jsx)("span",{className:"text-sm font-rajdhani",children:"\u041d\u0430\u0437\u0430\u0434"})]}),(0,Pt.jsx)("nav",{className:"space-y-2",children:E.map((e=>(0,Pt.jsxs)("button",{onClick:()=>r(e.id),className:"admin-tooltip w-full flex items-center ".concat(u?"justify-center":"space-x-3"," px-4 py-3 rounded-lg transition-all duration-200 ").concat(s===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary border-l-4 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-card"),title:u?e.title:"",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0",children:e.icon}),!u&&(0,Pt.jsx)("span",{className:"font-rajdhani font-medium",children:e.title})]},e.id)))})]})}),(0,Pt.jsx)("div",{className:"flex-1 p-8 overflow-auto",children:(()=>{switch(s){case"dashboard":default:return(0,Pt.jsx)(P,{});case"users":return(0,Pt.jsx)(ea,{user:n});case"bets":return(0,Pt.jsx)(Bd,{});case"regular-bots":return(0,Pt.jsx)(Qd,{});case"human-bots":return(0,Pt.jsx)(nu,{});case"bot-settings":return(0,Pt.jsx)(au,{user:n});case"bot-analytics":return(0,Pt.jsx)(su,{});case"bots":return(0,Pt.jsx)("div",{className:"text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430\u043c\u0438 (\u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435)"});case"games":return(0,Pt.jsx)(O,{});case"gems":return(0,Pt.jsx)(du,{});case"sounds":return(0,Pt.jsx)(lu,{user:n});case"profit":return(0,Pt.jsx)(Id,{user:n});case"settings":return(0,Pt.jsx)(iu,{});case"logs":return(0,Pt.jsx)("div",{className:"text-white",children:"\u041b\u043e\u0433\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b (\u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435)"});case"notification-demo":return(0,Pt.jsx)(xu,{});case"monitoring":return(0,Pt.jsx)(pu,{})}})()}),(0,Pt.jsx)(hu,{}),(0,Pt.jsx)(Gd,l({},_))]})},bu=e=>{let{currentView:n,setCurrentView:a,user:s,onOpenAdminPanel:r,onLogout:i,totalBalance:o}=e;const[l,c]=(0,t.useState)(!1),d=[{id:"profile",label:"Profile",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"history",label:"History",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"admin-panel",label:"Admin",icon:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),adminOnly:!0}];return(0,Pt.jsxs)("div",{className:"md:hidden bg-surface-sidebar border-b border-border-primary flex items-center justify-between px-4 py-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)(zt,{isCollapsed:!1}),(0,Pt.jsx)("div",{className:"w-17 h-18 flex items-center justify-center",children:(0,Pt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-12 h-12 object-contain"})}),(0,Pt.jsx)("span",{className:"font-russo text-3xl text-accent-primary",children:"GemPLAY"})]}),(0,Pt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsxs)("button",{onClick:()=>c(!l),className:"flex items-center space-x-2 px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg hover:border-opacity-50 transition-colors",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Pt.jsx)("span",{className:"font-rajdhani text-white text-sm",children:"Profile"}),(0,Pt.jsx)("svg",{className:"w-4 h-4 text-gray-400 transform transition-transform ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,Pt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg shadow-lg z-50",children:[d.map((e=>e.adminOnly&&(!s||"ADMIN"!==s.role&&"SUPER_ADMIN"!==s.role)?null:(0,Pt.jsxs)("button",{onClick:()=>{"admin-panel"===e.id?r():a(e.id),c(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-surface-sidebar transition-colors ".concat(n===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary":"text-gray-400 hover:text-white"),children:[e.icon,(0,Pt.jsx)("span",{className:"font-rajdhani font-semibold",children:e.label})]},e.id))),(0,Pt.jsx)("div",{className:"border-t border-border-primary my-1"}),s&&(0,Pt.jsxs)("div",{className:"px-4 py-3 border-t border-border-primary",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Pt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,Pt.jsx)("img",{src:"female"===s.gender?"/Women.svg":"/Men.svg",alt:"User Avatar",className:"w-11 h-11 object-contain"})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"font-rajdhani font-semibold text-white text-sm",children:s.username}),(0,Pt.jsxs)("div",{className:"text-text-secondary text-xs",children:["Total: $",o.toFixed(2)]})]})]}),(0,Pt.jsxs)("button",{onClick:i,className:"w-full flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,Pt.jsx)("span",{className:"font-rajdhani font-semibold text-sm",children:"LOGOUT"})]})]})]})]})})]})};n(318);const yu="".concat("https://1a7fc721-1d15-49c6-af20-1c17efe1bf9d.preview.emergentagent.com","/api"),vu=e=>{let{onLogin:n}=e;const[a,s]=(0,t.useState)(!0),[r,i]=(0,t.useState)({email:"",password:"",username:"",gender:"male"}),[o,c]=(0,t.useState)(!1);return(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center p-8",children:(0,Pt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-xl p-8 max-w-md w-full",children:[(0,Pt.jsxs)("div",{className:"flex flex-col items-center mb-2",children:[(0,Pt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay Logo",className:"w-16 h-16 mb-4"}),(0,Pt.jsx)("h1",{className:"font-russo text-3xl text-accent-primary text-center",children:"GemPlay"})]}),(0,Pt.jsx)("p",{className:"font-roboto text-text-secondary text-center mb-6",children:"PvP NFT Gem Battle Game"}),(0,Pt.jsxs)("div",{className:"flex mb-6",children:[(0,Pt.jsx)("button",{onClick:()=>s(!0),className:"flex-1 py-2 px-4 rounded-l-lg font-rajdhani font-bold transition-colors ".concat(a?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:"LOGIN"}),(0,Pt.jsx)("button",{onClick:()=>s(!1),className:"flex-1 py-2 px-4 rounded-r-lg font-rajdhani font-bold transition-colors ".concat(a?"bg-surface-sidebar text-text-secondary":"bg-accent-primary text-white"),children:"REGISTER"})]}),(0,Pt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{if(a){console.log("\ud83d\udd10 Attempting login for:",r.email);const e=await At.post("".concat(yu,"/auth/login"),{email:r.email,password:r.password});console.log("\ud83c\udf89 Login successful. Response:",e.data),localStorage.setItem("token",e.data.access_token),e.data.refresh_token&&(localStorage.setItem("refresh_token",e.data.refresh_token),console.log("\ud83d\udd04 Refresh token saved")),console.log("\ud83d\udcbe Token saved to localStorage"),n(e.data.user)}else{const e=await At.post("".concat(yu,"/auth/register"),{username:r.username,email:r.email,password:r.password,gender:r.gender});alert("Registration successful! Verification token: ".concat(e.data.verification_token)),await At.post("".concat(yu,"/auth/verify-email"),{token:e.data.verification_token});const t=await At.post("".concat(yu,"/auth/login"),{email:r.email,password:r.password});localStorage.setItem("token",t.data.access_token),t.data.refresh_token&&localStorage.setItem("refresh_token",t.data.refresh_token),n(t.data.user)}}catch(i){var t,s;alert((null===(t=i.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"An error occurred")}finally{c(!1)}},className:"space-y-4",children:[!a&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("input",{type:"text",placeholder:"Username",value:r.username,onChange:e=>i(l(l({},r),{},{username:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0}),(0,Pt.jsxs)("select",{value:r.gender,onChange:e=>i(l(l({},r),{},{gender:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Pt.jsx)("option",{value:"male",children:"Male"}),(0,Pt.jsx)("option",{value:"female",children:"Female"})]})]}),(0,Pt.jsx)("input",{type:"email",placeholder:"Email",value:r.email,onChange:e=>i(l(l({},r),{},{email:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0}),(0,Pt.jsx)("input",{type:"password",placeholder:"Password",value:r.password,onChange:e=>i(l(l({},r),{},{password:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0}),(0,Pt.jsx)("button",{type:"submit",disabled:o,className:"w-full py-3 bg-gradient-accent text-white font-rajdhani font-bold text-lg rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:o?"LOADING...":a?"LOGIN":"REGISTER"})]})]})})};const ju=function(){const[e,n]=(0,t.useState)(null),[a,s]=(0,t.useState)("lobby"),[r,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1);(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("refresh_token");if(console.log("\ud83d\udd0d Checking auth status. Token exists:",!!e,"Refresh token exists:",!!t),e)try{console.log("\ud83d\udce1 Making request to /api/auth/me with token:",e.substring(0,20)+"...");const t=await At.get("".concat(yu,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});console.log("\u2705 Auth check successful. User:",t.data),n(t.data)}catch(o){var a,s,r;if(console.error("\u274c Auth check failed:",null===(a=o.response)||void 0===a?void 0:a.status,(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),401===(null===(r=o.response)||void 0===r?void 0:r.status)&&t){console.log("\ud83d\udd04 Attempting to refresh token...");try{const e=await At.post("".concat(yu,"/auth/refresh?refresh_token=").concat(t));return console.log("\u2705 Token refreshed successfully"),localStorage.setItem("token",e.data.access_token),e.data.refresh_token&&localStorage.setItem("refresh_token",e.data.refresh_token),void n(e.data.user)}catch(c){var i;console.error("\u274c Token refresh failed:",(null===(i=c.response)||void 0===i?void 0:i.data)||c.message)}}console.log("\ud83d\uddd1\ufe0f Removing invalid tokens"),localStorage.removeItem("token"),localStorage.removeItem("refresh_token")}else console.log("\ud83d\udd12 No token found in localStorage");l(!1)},h=e=>{console.log("\ud83d\ude80 handleLogin called with userData:",e),n(e),console.log("\u2705 User state updated")},x=()=>{console.log("\ud83d\udd13 Opening admin panel. Current user:",e),console.log("\ud83d\udd0d Token exists:",!!localStorage.getItem("token")),i(!0)},m=()=>{localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),n(null),s("lobby"),i(!1)};return o?(0,Pt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Pt.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading..."})}):e?(0,Pt.jsx)(rn,{children:(0,Pt.jsx)(Wt,{children:r?(0,Pt.jsx)(gu,{user:e,onClose:()=>{i(!1)}}):(0,Pt.jsxs)("div",{className:"min-h-screen bg-gradient-primary flex",children:[(0,Pt.jsx)("div",{className:"hidden md:block",children:(0,Pt.jsx)(Ot,{currentView:a,setCurrentView:s,user:e,isCollapsed:c,setIsCollapsed:d,onOpenAdminPanel:x,onLogout:m})}),(0,Pt.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen",children:[(0,Pt.jsx)("nav",{className:"sticky top-0 z-40 bg-surface-sidebar border-b border-border-primary p-4 flex-shrink-0 hidden md:block",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("div",{className:"block",children:(0,Pt.jsx)("h1",{className:"text-xl font-russo text-text-primary capitalize",children:"my-bets"===a?"My Bets":"game-lobby"===a?"Game Lobby":"create-game"===a?"Create Game":a})}),(0,Pt.jsx)("div",{className:"block",children:(0,Pt.jsx)(Sn,{user:e})})]})}),(0,Pt.jsx)(bu,{currentView:a,setCurrentView:s,user:e,onOpenAdminPanel:x,onLogout:m,totalBalance:e?(e.virtual_balance||0)+(e.frozen_balance||0):0}),(0,Pt.jsx)("div",{className:"md:hidden",children:(0,Pt.jsx)(Sn,{user:e})}),(0,Pt.jsx)("div",{className:"flex-1 overflow-auto pb-20 md:pb-0",children:(0,Pt.jsxs)("div",{className:"min-w-0 px-4 md:px-0",children:["lobby"===a&&(0,Pt.jsx)(wn,{user:e,onUpdateUser:u,setCurrentView:s}),"my-bets"===a&&(0,Pt.jsx)(_n,{user:e,onUpdateUser:u}),"profile"===a&&(0,Pt.jsx)(Ln,{user:e,onUpdateUser:u,setCurrentView:s,onOpenAdminPanel:x,onLogout:m}),"shop"===a&&(0,Pt.jsx)(An,{user:e,onUpdateUser:u}),"inventory"===a&&(0,Pt.jsx)(On,{user:e,onUpdateUser:u}),"create-game"===a&&(0,Pt.jsx)(Yn,{user:e,onUpdateUser:u}),"game-lobby"===a&&(0,Pt.jsx)(Kn,{user:e,onUpdateUser:u}),"leaderboard"===a&&(0,Pt.jsx)(In,{user:e,onUpdateUser:u}),"history"===a&&(0,Pt.jsx)(Bn,{user:e,onUpdateUser:u})]})})]}),(0,Pt.jsx)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-surface-sidebar border-t border-border-primary",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-around py-2 px-4",children:[(0,Pt.jsx)("button",{onClick:()=>s("lobby"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("lobby"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Pt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Pt.jsx)("button",{onClick:()=>s("my-bets"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("my-bets"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Pt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})})}),(0,Pt.jsx)("button",{onClick:()=>s("shop"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("shop"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Pt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})})}),(0,Pt.jsx)("button",{onClick:()=>s("inventory"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("inventory"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Pt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Pt.jsx)("button",{onClick:()=>s("leaderboard"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("leaderboard"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Pt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),(0,Pt.jsx)(hu,{})]})})}):(0,Pt.jsx)(vu,{onLogin:h})};a.createRoot(document.getElementById("root")).render((0,Pt.jsx)(t.StrictMode,{children:(0,Pt.jsx)(ju,{})}))})()})();
//# sourceMappingURL=main.622ef90f.js.map