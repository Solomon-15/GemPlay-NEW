/*! For license information please see main.01c64590.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,a)=>{var s=a(853),r=a(43),n=a(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var w=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function k(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var S=Symbol.for("react.client.reference");function C(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===S?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case m:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return C(e(t))}catch(a){}}return null}var M,L,E=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign;function T(e){if(void 0===M)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||"",L=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+M+e+L}var P=!1;function z(e,t){if(!e||P)return"";P=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(r){var s=r}Reflect.construct(e,[],a)}else{try{a.call()}catch(n){s=n}e.call(a.prototype)}}else{try{throw Error()}catch(o){s=o}(a=e())&&"function"===typeof a.catch&&a.catch((function(){}))}}catch(sl){if(sl&&s&&"string"===typeof sl.stack)return[sl.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=s.DetermineComponentFrameRoot(),o=n[0],i=n[1];if(o&&i){var l=o.split("\n"),c=i.split("\n");for(r=s=0;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(s===l.length||r===c.length)for(s=l.length-1,r=c.length-1;1<=s&&0<=r&&l[s]!==c[r];)r--;for(;1<=s&&0<=r;s--,r--)if(l[s]!==c[r]){if(1!==s||1!==r)do{if(s--,0>--r||l[s]!==c[r]){var d="\n"+l[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=r);break}}}finally{P=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?T(a):""}function I(e){switch(e.tag){case 26:case 27:case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function O(e){try{var t="";do{t+=I(e),e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}function D(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function R(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function B(e){if(D(e)!==e)throw Error(o(188))}function F(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=F(e)))return t;e=e.sibling}return null}var W=Array.isArray,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},H=[],q=-1;function G(e){return{current:e}}function $(e){0>q||(e.current=H[q],H[q]=null,q--)}function Y(e,t){q++,H[q]=e.current,e.current=t}var Q=G(null),K=G(null),X=G(null),J=G(null);function Z(e,t){switch(Y(X,t),Y(K,e),Y(Q,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xd(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Jd(e=Xd(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(Q),Y(Q,t)}function ee(){$(Q),$(K),$(X)}function te(e){null!==e.memoizedState&&Y(J,e);var t=Q.current,a=Jd(t,e.type);t!==a&&(Y(K,e),Y(Q,a))}function ae(e){K.current===e&&($(Q),$(K)),J.current===e&&($(J),Du._currentValue=U)}var se=Object.prototype.hasOwnProperty,re=s.unstable_scheduleCallback,ne=s.unstable_cancelCallback,oe=s.unstable_shouldYield,ie=s.unstable_requestPaint,le=s.unstable_now,ce=s.unstable_getCurrentPriorityLevel,de=s.unstable_ImmediatePriority,ue=s.unstable_UserBlockingPriority,he=s.unstable_NormalPriority,me=s.unstable_LowPriority,xe=s.unstable_IdlePriority,pe=s.log,fe=s.unstable_setDisableYieldValue,ge=null,be=null;function ye(e){if("function"===typeof pe&&fe(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/we|0)|0},je=Math.log,we=Math.LN2;var Ne=128,_e=4194304;function ke(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Se(e,t){var a=e.pendingLanes;if(0===a)return 0;var s=0,r=e.suspendedLanes,n=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var i=134217727&a;return 0!==i?0!==(a=i&~r)?s=ke(a):0!==(n&=i)?s=ke(n):e||0!==(o=i&~o)&&(s=ke(o)):0!==(i=a&~r)?s=ke(i):0!==n?s=ke(n):e||0!==(o=a&~o)&&(s=ke(o)),0===s?0:0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(o=t&-t)||32===r&&0!==(4194176&o))?t:s}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Me(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Le(){var e=Ne;return 0===(4194176&(Ne<<=1))&&(Ne=128),e}function Ee(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ve(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|4194218&a}function ze(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ve(a),r=1<<s;r&t|e[s]&t&&(e[s]|=t),a&=~r}}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=V.p;return 0!==e?e:void 0===(e=window.event)?32:Ju(e.type)}var De=Math.random().toString(36).slice(2),Re="__reactFiber$"+De,Be="__reactProps$"+De,Fe="__reactContainer$"+De,We="__reactEvents$"+De,Ve="__reactListeners$"+De,Ue="__reactHandles$"+De,He="__reactResources$"+De,qe="__reactMarker$"+De;function Ge(e){delete e[Re],delete e[Be],delete e[We],delete e[Ve],delete e[Ue]}function $e(e){var t=e[Re];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Fe]||a[Re]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=cu(e);null!==e;){if(a=e[Re])return a;e=cu(e)}return t}a=(e=a).parentNode}return null}function Ye(e){if(e=e[Re]||e[Fe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ke(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[qe]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var at=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},nt={};function ot(e,t,a){if(r=t,se.call(nt,r)||!se.call(rt,r)&&(st.test(r)?nt[r]=!0:(rt[r]=!0,0)))if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+a)}var r}function it(e,t,a){if(null===a)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+a)}}function lt(e,t,a,s){if(null===s)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(t,a,""+s)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,n=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=dt(e)?e.checked?"true":"false":e.value),(e=s)!==a&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function pt(e){return e.replace(xt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function ft(e,t,a,s,r,n,o,i){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?bt(e,o,ct(t)):null!=a?bt(e,o,ct(a)):null!=s&&e.removeAttribute("value"),null==r&&null!=n&&(e.defaultChecked=!!n),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function gt(e,t,a,s,r,n,o,i){if(null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&"boolean"!==typeof n&&(e.type=n),null!=t||null!=a){if(!("submit"!==n&&"reset"!==n||void 0!==t&&null!==t))return;a=null!=a?""+ct(a):"",t=null!=t?""+ct(t):a,i||t===e.value||(e.value=t),e.defaultValue=t}s="function"!==typeof(s=null!=s?s:r)&&"symbol"!==typeof s&&!!s,e.checked=i?e.checked:!!s,e.defaultChecked=!!s,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function bt(e,t,a){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yt(e,t,a,s){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ct(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function vt(e,t,a){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=a)?e.defaultValue=null!=a?""+ct(a):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,a,s){if(null==t){if(null!=s){if(null!=a)throw Error(o(92));if(W(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}null==a&&(a=""),t=a}a=ct(t),e.defaultValue=a,(s=e.textContent)===a&&""!==s&&null!==s&&(e.value=s)}function wt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,a){var s=0===t.indexOf("--");null==a||"boolean"===typeof a||""===a?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,a):"number"!==typeof a||0===a||Nt.has(t)?"float"===t?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function kt(e,t,a){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=a){for(var s in a)!a.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&a[r]!==s&&_t(e,r,s)}else for(var n in t)t.hasOwnProperty(n)&&_t(e,n,t[n])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Et=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Pt=null;function zt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var a=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(ft(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var r=s[Be]||null;if(!r)throw Error(o(90));ft(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)(s=a[t]).form===e.form&&ht(s)}break e;case"textarea":vt(e,a.value,a.defaultValue);break e;case"select":null!=(t=a.value)&&yt(e,!!a.multiple,t,!1)}}}var It=!1;function Ot(e,t,a){if(It)return e(t,a);It=!0;try{return e(t)}finally{if(It=!1,(null!==Tt||null!==Pt)&&(Bc(),Tt&&(t=Tt,e=Pt,Pt=Tt=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Dt(e,t){var a=e.stateNode;if(null===a)return null;var s=a[Be]||null;if(null===s)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(o(231,t,typeof a));return a}var Rt=!1;if(at)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(wh){Rt=!1}var Ft=null,Wt=null,Vt=null;function Ut(){if(Vt)return Vt;var e,t,a=Wt,s=a.length,r="value"in Ft?Ft.value:Ft.textContent,n=r.length;for(e=0;e<s&&a[e]===r[e];e++);var o=s-e;for(t=1;t<=o&&a[s-t]===r[n-t];t++);return Vt=r.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function $t(e){function t(t,a,s,r,n){for(var o in this._reactName=t,this._targetInst=s,this.type=a,this.nativeEvent=r,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Yt,Qt,Kt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=$t(Xt),Zt=A({},Xt,{view:0,detail:0}),ea=$t(Zt),ta=A({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Yt=e.screenX-Kt.screenX,Qt=e.screenY-Kt.screenY):Qt=Yt=0,Kt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),aa=$t(ta),sa=$t(A({},ta,{dataTransfer:0})),ra=$t(A({},Zt,{relatedTarget:0})),na=$t(A({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),oa=$t(A({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ia=$t(A({},Xt,{data:0})),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ua(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=da[e])&&!!t[e]}function ha(){return ua}var ma=$t(A({},Zt,{key:function(e){if(e.key){var t=la[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ca[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xa=$t(A({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),pa=$t(A({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha})),fa=$t(A({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),ga=$t(A({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),ba=$t(A({},Xt,{newState:0,oldState:0})),ya=[9,13,27,32],va=at&&"CompositionEvent"in window,ja=null;at&&"documentMode"in document&&(ja=document.documentMode);var wa=at&&"TextEvent"in window&&!ja,Na=at&&(!va||ja&&8<ja&&11>=ja),_a=String.fromCharCode(32),ka=!1;function Sa(e,t){switch(e){case"keyup":return-1!==ya.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ma=!1;var La={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!La[e.type]:"textarea"===t}function Aa(e,t,a,s){Tt?Pt?Pt.push(s):Pt=[s]:Tt=s,0<(t=Dd(t,"onChange")).length&&(a=new Jt("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ta=null,Pa=null;function za(e){Ld(e,0)}function Ia(e){if(ht(Qe(e)))return e}function Oa(e,t){if("change"===e)return t}var Da=!1;if(at){var Ra;if(at){var Ba="oninput"in document;if(!Ba){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),Ba="function"===typeof Fa.oninput}Ra=Ba}else Ra=!1;Da=Ra&&(!document.documentMode||9<document.documentMode)}function Wa(){Ta&&(Ta.detachEvent("onpropertychange",Va),Pa=Ta=null)}function Va(e){if("value"===e.propertyName&&Ia(Pa)){var t=[];Aa(t,Pa,e,At(e)),Ot(za,t)}}function Ua(e,t,a){"focusin"===e?(Wa(),Pa=a,(Ta=t).attachEvent("onpropertychange",Va)):"focusout"===e&&Wa()}function Ha(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ia(Pa)}function qa(e,t){if("click"===e)return Ia(t)}function Ga(e,t){if("input"===e||"change"===e)return Ia(t)}var $a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ya(e,t){if($a(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var r=a[s];if(!se.call(t,r)||!$a(e[r],t[r]))return!1}return!0}function Qa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ka(e,t){var a,s=Qa(e);for(e=0;s;){if(3===s.nodeType){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qa(s)}}function Xa(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xa(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ja(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(s){a=!1}if(!a)break;t=mt((e=t.contentWindow).document)}return t}function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function es(e,t){var a=Ja(t);t=e.focusedElem;var s=e.selectionRange;if(a!==t&&t&&t.ownerDocument&&Xa(t.ownerDocument.documentElement,t)){if(null!==s&&Za(t))if(e=s.start,void 0===(a=s.end)&&(a=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(a,t.value.length);else if((a=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){a=a.getSelection();var r=t.textContent.length,n=Math.min(s.start,r);s=void 0===s.end?n:Math.min(s.end,r),!a.extend&&n>s&&(r=s,s=n,n=r),r=Ka(t,n);var o=Ka(t,s);r&&o&&(1!==a.rangeCount||a.anchorNode!==r.node||a.anchorOffset!==r.offset||a.focusNode!==o.node||a.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),a.removeAllRanges(),n>s?(a.addRange(e),a.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),a.addRange(e)))}for(e=[],a=t;a=a.parentNode;)1===a.nodeType&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(a=e[t]).element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ts=at&&"documentMode"in document&&11>=document.documentMode,as=null,ss=null,rs=null,ns=!1;function os(e,t,a){var s=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;ns||null==as||as!==mt(s)||("selectionStart"in(s=as)&&Za(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},rs&&Ya(rs,s)||(rs=s,0<(s=Dd(ss,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=as)))}function is(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ls={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},cs={},ds={};function us(e){if(cs[e])return cs[e];if(!ls[e])return e;var t,a=ls[e];for(t in a)if(a.hasOwnProperty(t)&&t in ds)return cs[e]=a[t];return e}at&&(ds=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);var hs=us("animationend"),ms=us("animationiteration"),xs=us("animationstart"),ps=us("transitionrun"),fs=us("transitionstart"),gs=us("transitioncancel"),bs=us("transitionend"),ys=new Map,vs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function js(e,t){ys.set(e,t),et(t,[e])}var ws=[],Ns=0,_s=0;function ks(){for(var e=Ns,t=_s=Ns=0;t<e;){var a=ws[t];ws[t++]=null;var s=ws[t];ws[t++]=null;var r=ws[t];ws[t++]=null;var n=ws[t];if(ws[t++]=null,null!==s&&null!==r){var o=s.pending;null===o?r.next=r:(r.next=o.next,o.next=r),s.pending=r}0!==n&&Ls(a,r,n)}}function Ss(e,t,a,s){ws[Ns++]=e,ws[Ns++]=t,ws[Ns++]=a,ws[Ns++]=s,_s|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Cs(e,t,a,s){return Ss(e,t,a,s),Es(e)}function Ms(e,t){return Ss(e,null,null,t),Es(e)}function Ls(e,t,a){e.lanes|=a;var s=e.alternate;null!==s&&(s.lanes|=a);for(var r=!1,n=e.return;null!==n;)n.childLanes|=a,null!==(s=n.alternate)&&(s.childLanes|=a),22===n.tag&&(null===(e=n.stateNode)||1&e._visibility||(r=!0)),e=n,n=n.return;r&&null!==t&&3===e.tag&&(n=e.stateNode,r=31-ve(a),null===(e=(n=n.hiddenUpdates)[r])?n[r]=[t]:e.push(t),t.lane=536870912|a)}function Es(e){if(50<Lc)throw Lc=0,Ec=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var As={},Ts=new WeakMap;function Ps(e,t){if("object"===typeof e&&null!==e){var a=Ts.get(e);return void 0!==a?a:(t={value:e,source:t,stack:O(t)},Ts.set(e,t),t)}return{value:e,source:t,stack:O(t)}}var zs=[],Is=0,Os=null,Ds=0,Rs=[],Bs=0,Fs=null,Ws=1,Vs="";function Us(e,t){zs[Is++]=Ds,zs[Is++]=Os,Os=e,Ds=t}function Hs(e,t,a){Rs[Bs++]=Ws,Rs[Bs++]=Vs,Rs[Bs++]=Fs,Fs=e;var s=Ws;e=Vs;var r=32-ve(s)-1;s&=~(1<<r),a+=1;var n=32-ve(t)+r;if(30<n){var o=r-r%5;n=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Ws=1<<32-ve(t)+r|a<<r|s,Vs=n+e}else Ws=1<<n|a<<r|s,Vs=e}function qs(e){null!==e.return&&(Us(e,1),Hs(e,1,0))}function Gs(e){for(;e===Os;)Os=zs[--Is],zs[Is]=null,Ds=zs[--Is],zs[Is]=null;for(;e===Fs;)Fs=Rs[--Bs],Rs[Bs]=null,Vs=Rs[--Bs],Rs[Bs]=null,Ws=Rs[--Bs],Rs[Bs]=null}var $s=null,Ys=null,Qs=!1,Ks=null,Xs=!1,Js=Error(o(519));function Zs(e){throw rr(Ps(Error(o(418,"")),e)),Js}function er(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Re]=e,t[Be]=s,a){case"dialog":Ed("cancel",t),Ed("close",t);break;case"iframe":case"object":case"embed":Ed("load",t);break;case"video":case"audio":for(a=0;a<Cd.length;a++)Ed(Cd[a],t);break;case"source":Ed("error",t);break;case"img":case"image":case"link":Ed("error",t),Ed("load",t);break;case"details":Ed("toggle",t);break;case"input":Ed("invalid",t),gt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ut(t);break;case"select":Ed("invalid",t);break;case"textarea":Ed("invalid",t),jt(t,s.value,s.defaultValue,s.children),ut(t)}"string"!==typeof(a=s.children)&&"number"!==typeof a&&"bigint"!==typeof a||t.textContent===""+a||!0===s.suppressHydrationWarning||Ud(t.textContent,a)?(null!=s.popover&&(Ed("beforetoggle",t),Ed("toggle",t)),null!=s.onScroll&&Ed("scroll",t),null!=s.onScrollEnd&&Ed("scrollend",t),null!=s.onClick&&(t.onclick=Hd),t=!0):t=!1,t||Zs(e)}function tr(e){for($s=e.return;$s;)switch($s.tag){case 3:case 27:return void(Xs=!0);case 5:case 13:return void(Xs=!1);default:$s=$s.return}}function ar(e){if(e!==$s)return!1;if(!Qs)return tr(e),Qs=!0,!1;var t,a=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Zd(e.type,e.memoizedProps)),t=!t),t&&(a=!0),a&&Ys&&Zs(e),tr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,a=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===a){Ys=lu(e.nextSibling);break e}a--}else"$"!==t&&"$!"!==t&&"$?"!==t||a++;e=e.nextSibling}Ys=null}}else Ys=$s?lu(e.stateNode.nextSibling):null;return!0}function sr(){Ys=$s=null,Qs=!1}function rr(e){null===Ks?Ks=[e]:Ks.push(e)}var nr=Error(o(460)),or=Error(o(474)),ir={then:function(){}};function lr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function cr(){}function dr(e,t,a){switch(void 0===(a=e[a])?e.push(t):a!==t&&(t.then(cr,cr),t=a),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===nr)throw Error(o(483));throw e;default:if("string"===typeof t.status)t.then(cr,cr);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var a=t;a.status="fulfilled",a.value=e}}),(function(e){if("pending"===t.status){var a=t;a.status="rejected",a.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===nr)throw Error(o(483));throw e}throw ur=t,nr}}var ur=null;function hr(){if(null===ur)throw Error(o(459));var e=ur;return ur=null,e}var mr=null,xr=0;function pr(e){var t=xr;return xr+=1,null===mr&&(mr=[]),dr(mr,e,t)}function fr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function gr(e,t){if(t.$$typeof===l)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function br(e){return(0,e._init)(e._payload)}function yr(e){function t(t,a){if(e){var s=t.deletions;null===s?(t.deletions=[a],t.flags|=16):s.push(a)}}function a(a,s){if(!e)return null;for(;null!==s;)t(a,s),s=s.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function n(t,a,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<a?(t.flags|=33554434,a):s:(t.flags|=33554434,a):(t.flags|=1048576,a)}function i(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,a,s){return null===t||6!==t.tag?((t=Ul(a,e.mode,s)).return=e,t):((t=r(t,a)).return=e,t)}function h(e,t,a,s){var n=a.type;return n===u?x(e,t,a.props.children,s,a.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===j&&br(n)===t.type)?(fr(t=r(t,a.props),a),t.return=e,t):(fr(t=Fl(a.type,a.key,a.props,null,e.mode,s),a),t.return=e,t)}function m(e,t,a,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Hl(a,e.mode,s)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function x(e,t,a,s,n){return null===t||7!==t.tag?((t=Wl(a,e.mode,s,n)).return=e,t):((t=r(t,a)).return=e,t)}function p(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ul(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return fr(a=Fl(t.type,t.key,t.props,null,e.mode,a),t),a.return=e,a;case d:return(t=Hl(t,e.mode,a)).return=e,t;case j:return p(e,t=(0,t._init)(t._payload),a)}if(W(t)||k(t))return(t=Wl(t,e.mode,a,null)).return=e,t;if("function"===typeof t.then)return p(e,pr(t),a);if(t.$$typeof===f)return p(e,Si(e,t),a);gr(e,t)}return null}function g(e,t,a,s){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return null!==r?null:l(e,t,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case c:return a.key===r?h(e,t,a,s):null;case d:return a.key===r?m(e,t,a,s):null;case j:return g(e,t,a=(r=a._init)(a._payload),s)}if(W(a)||k(a))return null!==r?null:x(e,t,a,s,null);if("function"===typeof a.then)return g(e,t,pr(a),s);if(a.$$typeof===f)return g(e,t,Si(e,a),s);gr(e,a)}return null}function b(e,t,a,s,r){if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return l(t,e=e.get(a)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case c:return h(t,e=e.get(null===s.key?a:s.key)||null,s,r);case d:return m(t,e=e.get(null===s.key?a:s.key)||null,s,r);case j:return b(e,t,a,s=(0,s._init)(s._payload),r)}if(W(s)||k(s))return x(t,e=e.get(a)||null,s,r,null);if("function"===typeof s.then)return b(e,t,a,pr(s),r);if(s.$$typeof===f)return b(e,t,a,Si(t,s),r);gr(t,s)}return null}function y(l,h,m,x){if("object"===typeof m&&null!==m&&m.type===u&&null===m.key&&(m=m.props.children),"object"===typeof m&&null!==m){switch(m.$$typeof){case c:e:{for(var v=m.key;null!==h;){if(h.key===v){if((v=m.type)===u){if(7===h.tag){a(l,h.sibling),(x=r(h,m.props.children)).return=l,l=x;break e}}else if(h.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===j&&br(v)===h.type){a(l,h.sibling),fr(x=r(h,m.props),m),x.return=l,l=x;break e}a(l,h);break}t(l,h),h=h.sibling}m.type===u?((x=Wl(m.props.children,l.mode,x,m.key)).return=l,l=x):(fr(x=Fl(m.type,m.key,m.props,null,l.mode,x),m),x.return=l,l=x)}return i(l);case d:e:{for(v=m.key;null!==h;){if(h.key===v){if(4===h.tag&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){a(l,h.sibling),(x=r(h,m.children||[])).return=l,l=x;break e}a(l,h);break}t(l,h),h=h.sibling}(x=Hl(m,l.mode,x)).return=l,l=x}return i(l);case j:return y(l,h,m=(v=m._init)(m._payload),x)}if(W(m))return function(r,o,i,l){for(var c=null,d=null,u=o,h=o=0,m=null;null!==u&&h<i.length;h++){u.index>h?(m=u,u=null):m=u.sibling;var x=g(r,u,i[h],l);if(null===x){null===u&&(u=m);break}e&&u&&null===x.alternate&&t(r,u),o=n(x,o,h),null===d?c=x:d.sibling=x,d=x,u=m}if(h===i.length)return a(r,u),Qs&&Us(r,h),c;if(null===u){for(;h<i.length;h++)null!==(u=p(r,i[h],l))&&(o=n(u,o,h),null===d?c=u:d.sibling=u,d=u);return Qs&&Us(r,h),c}for(u=s(u);h<i.length;h++)null!==(m=b(u,r,h,i[h],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?h:m.key),o=n(m,o,h),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(r,e)})),Qs&&Us(r,h),c}(l,h,m,x);if(k(m)){if("function"!==typeof(v=k(m)))throw Error(o(150));return function(r,i,l,c){if(null==l)throw Error(o(151));for(var d=null,u=null,h=i,m=i=0,x=null,f=l.next();null!==h&&!f.done;m++,f=l.next()){h.index>m?(x=h,h=null):x=h.sibling;var y=g(r,h,f.value,c);if(null===y){null===h&&(h=x);break}e&&h&&null===y.alternate&&t(r,h),i=n(y,i,m),null===u?d=y:u.sibling=y,u=y,h=x}if(f.done)return a(r,h),Qs&&Us(r,m),d;if(null===h){for(;!f.done;m++,f=l.next())null!==(f=p(r,f.value,c))&&(i=n(f,i,m),null===u?d=f:u.sibling=f,u=f);return Qs&&Us(r,m),d}for(h=s(h);!f.done;m++,f=l.next())null!==(f=b(h,r,m,f.value,c))&&(e&&null!==f.alternate&&h.delete(null===f.key?m:f.key),i=n(f,i,m),null===u?d=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(r,e)})),Qs&&Us(r,m),d}(l,h,m=v.call(m),x)}if("function"===typeof m.then)return y(l,h,pr(m),x);if(m.$$typeof===f)return y(l,h,Si(l,m),x);gr(l,m)}return"string"===typeof m&&""!==m||"number"===typeof m||"bigint"===typeof m?(m=""+m,null!==h&&6===h.tag?(a(l,h.sibling),(x=r(h,m)).return=l,l=x):(a(l,h),(x=Ul(m,l.mode,x)).return=l,l=x),i(l)):a(l,h)}return function(e,t,a,s){try{xr=0;var r=y(e,t,a,s);return mr=null,r}catch(o){if(o===nr)throw o;var n=Ol(29,o,null,e.mode);return n.lanes=s,n.return=e,n}}}var vr=yr(!0),jr=yr(!1),wr=G(null),Nr=G(0);function _r(e,t){Y(Nr,e=dc),Y(wr,t),dc=e|t.baseLanes}function kr(){Y(Nr,dc),Y(wr,wr.current)}function Sr(){dc=Nr.current,$(wr),$(Nr)}var Cr=G(null),Mr=null;function Lr(e){var t=e.alternate;Y(Pr,1&Pr.current),Y(Cr,e),null===Mr&&(null===t||null!==wr.current||null!==t.memoizedState)&&(Mr=e)}function Er(e){if(22===e.tag){if(Y(Pr,Pr.current),Y(Cr,e),null===Mr){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Mr=e)}}else Ar()}function Ar(){Y(Pr,Pr.current),Y(Cr,Cr.current)}function Tr(e){$(Cr),Mr===e&&(Mr=null),$(Pr)}var Pr=G(0);function zr(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ir="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Or=s.unstable_scheduleCallback,Dr=s.unstable_NormalPriority,Rr={$$typeof:f,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Br(){return{controller:new Ir,data:new Map,refCount:0}}function Fr(e){e.refCount--,0===e.refCount&&Or(Dr,(function(){e.controller.abort()}))}var Wr=null,Vr=0,Ur=0,Hr=null;function qr(){if(0===--Vr&&null!==Wr){null!==Hr&&(Hr.status="fulfilled");var e=Wr;Wr=null,Ur=0,Hr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gr=E.S;E.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wr){var a=Wr=[];Vr=0,Ur=wd(),Hr={status:"pending",value:void 0,then:function(e){a.push(e)}}}Vr++,t.then(qr,qr)}(0,t),null!==Gr&&Gr(e,t)};var $r=G(null);function Yr(){var e=$r.current;return null!==e?e:ac.pooledCache}function Qr(e,t){Y($r,null===t?$r.current:t.pool)}function Kr(){var e=Yr();return null===e?null:{parent:Rr._currentValue,pool:e}}var Xr=0,Jr=null,Zr=null,en=null,tn=!1,an=!1,sn=!1,rn=0,nn=0,on=null,ln=0;function cn(){throw Error(o(321))}function dn(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!$a(e[a],t[a]))return!1;return!0}function un(e,t,a,s,r,n){return Xr=n,Jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=null===e||null===e.memoizedState?So:Co,sn=!1,n=a(s,r),sn=!1,an&&(n=mn(t,a,s,r)),hn(e),n}function hn(e){E.H=ko;var t=null!==Zr&&null!==Zr.next;if(Xr=0,en=Zr=Jr=null,tn=!1,nn=0,on=null,t)throw Error(o(300));null===e||Ho||null!==(e=e.dependencies)&&Ni(e)&&(Ho=!0)}function mn(e,t,a,s){Jr=e;var r=0;do{if(an&&(on=null),nn=0,an=!1,25<=r)throw Error(o(301));if(r+=1,en=Zr=null,null!=e.updateQueue){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,null!=n.memoCache&&(n.memoCache.index=0)}E.H=Mo,n=t(a,s)}while(an);return n}function xn(){var e=E.H,t=e.useState()[0];return t="function"===typeof t.then?vn(t):t,e=e.useState()[0],(null!==Zr?Zr.memoizedState:null)!==e&&(Jr.flags|=1024),t}function pn(){var e=0!==rn;return rn=0,e}function fn(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function gn(e){if(tn){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}tn=!1}Xr=0,en=Zr=Jr=null,an=!1,nn=rn=0,on=null}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===en?Jr.memoizedState=en=e:en=en.next=e,en}function yn(){if(null===Zr){var e=Jr.alternate;e=null!==e?e.memoizedState:null}else e=Zr.next;var t=null===en?Jr.memoizedState:en.next;if(null!==t)en=t,Zr=e;else{if(null===e){if(null===Jr.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Zr=e).memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},null===en?Jr.memoizedState=en=e:en=en.next=e}return en}function vn(e){var t=nn;return nn+=1,null===on&&(on=[]),e=dr(on,e,t),t=Jr,null===(null===en?t.memoizedState:en.next)&&(t=t.alternate,E.H=null===t||null===t.memoizedState?So:Co),e}function jn(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return vn(e);if(e.$$typeof===f)return ki(e)}throw Error(o(438,String(e)))}function wn(e){var t=null,a=Jr.updateQueue;if(null!==a&&(t=a.memoCache),null==t){var s=Jr.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},Jr.updateQueue=a),a.memoCache=t,void 0===(a=t.data[t.index]))for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=N;return t.index++,a}function Nn(e,t){return"function"===typeof t?t(e):t}function _n(e){return kn(yn(),Zr,e)}function kn(e,t,a){var s=e.queue;if(null===s)throw Error(o(311));s.lastRenderedReducer=a;var r=e.baseQueue,n=s.pending;if(null!==n){if(null!==r){var i=r.next;r.next=n.next,n.next=i}t.baseQueue=r=n,s.pending=null}if(n=e.baseState,null===r)e.memoizedState=n;else{var l=i=null,c=null,d=t=r.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(rc&h)===h:(Xr&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ur&&(u=!0);else{if((Xr&m)===m){d=d.next,m===Ur&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,i=n):c=c.next=h,Jr.lanes|=m,hc|=m}h=d.action,sn&&a(n,h),n=d.hasEagerState?d.eagerState:a(n,h)}else m={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,i=n):c=c.next=m,Jr.lanes|=h,hc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?i=n:c.next=l,!$a(n,e.memoizedState)&&(Ho=!0,u&&null!==(a=Hr)))throw a;e.memoizedState=n,e.baseState=i,e.baseQueue=c,s.lastRenderedState=n}return null===r&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Sn(e){var t=yn(),a=t.queue;if(null===a)throw Error(o(311));a.lastRenderedReducer=e;var s=a.dispatch,r=a.pending,n=t.memoizedState;if(null!==r){a.pending=null;var i=r=r.next;do{n=e(n,i.action),i=i.next}while(i!==r);$a(n,t.memoizedState)||(Ho=!0),t.memoizedState=n,null===t.baseQueue&&(t.baseState=n),a.lastRenderedState=n}return[n,s]}function Cn(e,t,a){var s=Jr,r=yn(),n=Qs;if(n){if(void 0===a)throw Error(o(407));a=a()}else a=t();var i=!$a((Zr||r).memoizedState,a);if(i&&(r.memoizedState=a,Ho=!0),r=r.queue,Jn(En.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||null!==en&&1&en.memoizedState.tag){if(s.flags|=2048,$n(9,Ln.bind(null,s,r,a,t),{destroy:void 0},null),null===ac)throw Error(o(349));n||0!==(60&Xr)||Mn(s,t,a)}return a}function Mn(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=Jr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Jr.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Ln(e,t,a,s){t.value=a,t.getSnapshot=s,An(t)&&Tn(e)}function En(e,t,a){return a((function(){An(t)&&Tn(e)}))}function An(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!$a(e,a)}catch(s){return!0}}function Tn(e){var t=Ms(e,2);null!==t&&Pc(t,e,2)}function Pn(e){var t=bn();if("function"===typeof e){var a=e;if(e=a(),sn){ye(!0);try{a()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function zn(e,t,a,s){return e.baseState=a,kn(e,Zr,"function"===typeof s?s:Nn)}function In(e,t,a,s,r){if(wo(e))throw Error(o(485));if(null!==(e=t.action)){var n={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){n.listeners.push(e)}};null!==E.T?a(!0):n.isTransition=!1,s(n),null===(a=t.pending)?(n.next=t.pending=n,On(t,n)):(n.next=a.next,t.pending=a.next=n)}}function On(e,t){var a=t.action,s=t.payload,r=e.state;if(t.isTransition){var n=E.T,o={};E.T=o;try{var i=a(r,s),l=E.S;null!==l&&l(o,i),Dn(e,t,i)}catch(c){Bn(e,t,c)}finally{E.T=n}}else try{Dn(e,t,n=a(r,s))}catch(d){Bn(e,t,d)}}function Dn(e,t,a){null!==a&&"object"===typeof a&&"function"===typeof a.then?a.then((function(a){Rn(e,t,a)}),(function(a){return Bn(e,t,a)})):Rn(e,t,a)}function Rn(e,t,a){t.status="fulfilled",t.value=a,Fn(t),e.state=a,null!==(t=e.pending)&&((a=t.next)===t?e.pending=null:(a=a.next,t.next=a,On(e,a)))}function Bn(e,t,a){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=a,Fn(t),t=t.next}while(t!==s)}e.action=null}function Fn(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wn(e,t){return t}function Vn(e,t){if(Qs){var a=ac.formState;if(null!==a){e:{var s=Jr;if(Qs){if(Ys){t:{for(var r=Ys,n=Xs;8!==r.nodeType;){if(!n){r=null;break t}if(null===(r=lu(r.nextSibling))){r=null;break t}}r="F!"===(n=r.data)||"F"===n?r:null}if(r){Ys=lu(r.nextSibling),s="F!"===r.data;break e}}Zs(s)}s=!1}s&&(t=a[0])}}return(a=bn()).memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:t},a.queue=s,a=yo.bind(null,Jr,s),s.dispatch=a,s=Pn(!1),n=jo.bind(null,Jr,!1,s.queue),r={state:t,dispatch:null,action:e,pending:null},(s=bn()).queue=r,a=In.bind(null,Jr,r,n,a),r.dispatch=a,s.memoizedState=e,[t,a,!1]}function Un(e){return Hn(yn(),Zr,e)}function Hn(e,t,a){t=kn(e,t,Wn)[0],e=_n(Nn)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?vn(t):t;var s=yn(),r=s.queue,n=r.dispatch;return a!==s.memoizedState&&(Jr.flags|=2048,$n(9,qn.bind(null,r,a),{destroy:void 0},null)),[t,n,e]}function qn(e,t){e.action=t}function Gn(e){var t=yn(),a=Zr;if(null!==a)return Hn(t,a,e);yn(),t=t.memoizedState;var s=(a=yn()).queue.dispatch;return a.memoizedState=e,[t,s,!1]}function $n(e,t,a,s){return e={tag:e,create:t,inst:a,deps:s,next:null},null===(t=Jr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Jr.updateQueue=t),null===(a=t.lastEffect)?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Yn(){return yn().memoizedState}function Qn(e,t,a,s){var r=bn();Jr.flags|=e,r.memoizedState=$n(1|t,a,{destroy:void 0},void 0===s?null:s)}function Kn(e,t,a,s){var r=yn();s=void 0===s?null:s;var n=r.memoizedState.inst;null!==Zr&&null!==s&&dn(s,Zr.memoizedState.deps)?r.memoizedState=$n(t,a,n,s):(Jr.flags|=e,r.memoizedState=$n(1|t,a,n,s))}function Xn(e,t){Qn(8390656,8,e,t)}function Jn(e,t){Kn(2048,8,e,t)}function Zn(e,t){return Kn(4,2,e,t)}function eo(e,t){return Kn(4,4,e,t)}function to(e,t){if("function"===typeof t){e=e();var a=t(e);return function(){"function"===typeof a?a():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ao(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Kn(4,4,to.bind(null,t,e),a)}function so(){}function ro(e,t){var a=yn();t=void 0===t?null:t;var s=a.memoizedState;return null!==t&&dn(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function no(e,t){var a=yn();t=void 0===t?null:t;var s=a.memoizedState;if(null!==t&&dn(t,s[1]))return s[0];if(s=e(),sn){ye(!0);try{e()}finally{ye(!1)}}return a.memoizedState=[s,t],s}function oo(e,t,a){return void 0===a||0!==(1073741824&Xr)?e.memoizedState=t:(e.memoizedState=a,e=Tc(),Jr.lanes|=e,hc|=e,a)}function io(e,t,a,s){return $a(a,t)?a:null!==wr.current?(e=oo(e,a,s),$a(e,t)||(Ho=!0),e):0===(42&Xr)?(Ho=!0,e.memoizedState=a):(e=Tc(),Jr.lanes|=e,hc|=e,t)}function lo(e,t,a,s,r){var n=V.p;V.p=0!==n&&8>n?n:8;var o=E.T,i={};E.T=i,jo(e,!1,t,a);try{var l=r(),c=E.S;if(null!==c&&c(i,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=function(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then((function(){s.status="fulfilled",s.value=t;for(var e=0;e<a.length;e++)(0,a[e])(t)}),(function(e){for(s.status="rejected",s.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)})),s}(l,s);vo(e,t,d,Ac())}else vo(e,t,s,Ac())}catch(u){vo(e,t,{then:function(){},status:"rejected",reason:u},Ac())}finally{V.p=n,E.T=o}}function co(){}function uo(e,t,a,s){if(5!==e.tag)throw Error(o(476));var r=ho(e).queue;lo(e,r,t,U,null===a?co:function(){return mo(e),a(s)})}function ho(e){var t=e.memoizedState;if(null!==t)return t;var a={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:U},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:a},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function mo(e){vo(e,ho(e).next.queue,{},Ac())}function xo(){return ki(Du)}function po(){return yn().memoizedState}function fo(){return yn().memoizedState}function go(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var a=Ac(),s=Ti(t,e=Ai(a),a);return null!==s&&(Pc(s,t,a),Pi(s,t,a)),t={cache:Br()},void(e.payload=t)}t=t.return}}function bo(e,t,a){var s=Ac();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wo(e)?No(t,a):null!==(a=Cs(e,t,a,s))&&(Pc(a,e,s),_o(a,t,s))}function yo(e,t,a){vo(e,t,a,Ac())}function vo(e,t,a,s){var r={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wo(e))No(t,r);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=n(o,a);if(r.hasEagerState=!0,r.eagerState=i,$a(i,o))return Ss(e,t,r,0),null===ac&&ks(),!1}catch(l){}if(null!==(a=Cs(e,t,r,s)))return Pc(a,e,s),_o(a,t,s),!0}return!1}function jo(e,t,a,s){if(s={lane:2,revertLane:wd(),action:s,hasEagerState:!1,eagerState:null,next:null},wo(e)){if(t)throw Error(o(479))}else null!==(t=Cs(e,a,s,2))&&Pc(t,e,2)}function wo(e){var t=e.alternate;return e===Jr||null!==t&&t===Jr}function No(e,t){an=tn=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function _o(e,t,a){if(0!==(4194176&a)){var s=t.lanes;a|=s&=e.pendingLanes,t.lanes=a,ze(e,a)}}var ko={readContext:ki,use:jn,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn};ko.useCacheRefresh=cn,ko.useMemoCache=cn,ko.useHostTransitionStatus=cn,ko.useFormState=cn,ko.useActionState=cn,ko.useOptimistic=cn;var So={readContext:ki,use:jn,useCallback:function(e,t){return bn().memoizedState=[e,void 0===t?null:t],e},useContext:ki,useEffect:Xn,useImperativeHandle:function(e,t,a){a=null!==a&&void 0!==a?a.concat([e]):null,Qn(4194308,4,to.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Qn(4194308,4,e,t)},useInsertionEffect:function(e,t){Qn(4,2,e,t)},useMemo:function(e,t){var a=bn();t=void 0===t?null:t;var s=e();if(sn){ye(!0);try{e()}finally{ye(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=bn();if(void 0!==a){var r=a(t);if(sn){ye(!0);try{a(t)}finally{ye(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=bo.bind(null,Jr,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},bn().memoizedState=e},useState:function(e){var t=(e=Pn(e)).queue,a=yo.bind(null,Jr,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:so,useDeferredValue:function(e,t){return oo(bn(),e,t)},useTransition:function(){var e=Pn(!1);return e=lo.bind(null,Jr,e.queue,!0,!1),bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Jr,r=bn();if(Qs){if(void 0===a)throw Error(o(407));a=a()}else{if(a=t(),null===ac)throw Error(o(349));0!==(60&rc)||Mn(s,t,a)}r.memoizedState=a;var n={value:a,getSnapshot:t};return r.queue=n,Xn(En.bind(null,s,n,e),[e]),s.flags|=2048,$n(9,Ln.bind(null,s,n,a,t),{destroy:void 0},null),a},useId:function(){var e=bn(),t=ac.identifierPrefix;if(Qs){var a=Vs;t=":"+t+"R"+(a=(Ws&~(1<<32-ve(Ws)-1)).toString(32)+a),0<(a=rn++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=ln++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return bn().memoizedState=go.bind(null,Jr)}};So.useMemoCache=wn,So.useHostTransitionStatus=xo,So.useFormState=Vn,So.useActionState=Vn,So.useOptimistic=function(e){var t=bn();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=jo.bind(null,Jr,!0,a),a.dispatch=t,[e,t]};var Co={readContext:ki,use:jn,useCallback:ro,useContext:ki,useEffect:Jn,useImperativeHandle:ao,useInsertionEffect:Zn,useLayoutEffect:eo,useMemo:no,useReducer:_n,useRef:Yn,useState:function(){return _n(Nn)},useDebugValue:so,useDeferredValue:function(e,t){return io(yn(),Zr.memoizedState,e,t)},useTransition:function(){var e=_n(Nn)[0],t=yn().memoizedState;return["boolean"===typeof e?e:vn(e),t]},useSyncExternalStore:Cn,useId:po};Co.useCacheRefresh=fo,Co.useMemoCache=wn,Co.useHostTransitionStatus=xo,Co.useFormState=Un,Co.useActionState=Un,Co.useOptimistic=function(e,t){return zn(yn(),0,e,t)};var Mo={readContext:ki,use:jn,useCallback:ro,useContext:ki,useEffect:Jn,useImperativeHandle:ao,useInsertionEffect:Zn,useLayoutEffect:eo,useMemo:no,useReducer:Sn,useRef:Yn,useState:function(){return Sn(Nn)},useDebugValue:so,useDeferredValue:function(e,t){var a=yn();return null===Zr?oo(a,e,t):io(a,Zr.memoizedState,e,t)},useTransition:function(){var e=Sn(Nn)[0],t=yn().memoizedState;return["boolean"===typeof e?e:vn(e),t]},useSyncExternalStore:Cn,useId:po};function Lo(e,t,a,s){a=null===(a=a(s,t=e.memoizedState))||void 0===a?t:A({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}Mo.useCacheRefresh=fo,Mo.useMemoCache=wn,Mo.useHostTransitionStatus=xo,Mo.useFormState=Gn,Mo.useActionState=Gn,Mo.useOptimistic=function(e,t){var a=yn();return null!==Zr?zn(a,0,e,t):(a.baseState=e,[e,a.queue.dispatch])};var Eo={isMounted:function(e){return!!(e=e._reactInternals)&&D(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ac(),r=Ai(s);r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=Ti(e,r,s))&&(Pc(t,e,s),Pi(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ac(),r=Ai(s);r.tag=1,r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=Ti(e,r,s))&&(Pc(t,e,s),Pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ac(),s=Ai(a);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ti(e,s,a))&&(Pc(t,e,a),Pi(t,e,a))}};function Ao(e,t,a,s,r,n,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,n,o):!t.prototype||!t.prototype.isPureReactComponent||(!Ya(a,s)||!Ya(r,n))}function To(e,t,a,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function Po(e,t){var a=t;if("ref"in t)for(var s in a={},t)"ref"!==s&&(a[s]=t[s]);if(e=e.defaultProps)for(var r in a===t&&(a=A({},a)),e)void 0===a[r]&&(a[r]=e[r]);return a}var zo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Io(e){zo(e)}function Oo(e){console.error(e)}function Do(e){zo(e)}function Ro(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(a){setTimeout((function(){throw a}))}}function Bo(e,t,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout((function(){throw s}))}}function Fo(e,t,a){return(a=Ai(a)).tag=3,a.payload={element:null},a.callback=function(){Ro(e,t)},a}function Wo(e){return(e=Ai(e)).tag=3,e}function Vo(e,t,a,s){var r=a.type.getDerivedStateFromError;if("function"===typeof r){var n=s.value;e.payload=function(){return r(n)},e.callback=function(){Bo(t,a,s)}}var o=a.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Bo(t,a,s),"function"!==typeof r&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var Uo=Error(o(461)),Ho=!1;function qo(e,t,a,s){t.child=null===e?jr(t,null,a,s):vr(t,e.child,a,s)}function Go(e,t,a,s,r){a=a.render;var n=t.ref;if("ref"in s){var o={};for(var i in s)"ref"!==i&&(o[i]=s[i])}else o=s;return _i(t),s=un(e,t,a,o,n,r),i=pn(),null===e||Ho?(Qs&&i&&qs(t),t.flags|=1,qo(e,t,s,r),t.child):(fn(e,t,r),hi(e,t,r))}function $o(e,t,a,s,r){if(null===e){var n=a.type;return"function"!==typeof n||Dl(n)||void 0!==n.defaultProps||null!==a.compare?((e=Fl(a.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,Yo(e,t,n,s,r))}if(n=e.child,!mi(e,r)){var o=n.memoizedProps;if((a=null!==(a=a.compare)?a:Ya)(o,s)&&e.ref===t.ref)return hi(e,t,r)}return t.flags|=1,(e=Rl(n,s)).ref=t.ref,e.return=t,t.child=e}function Yo(e,t,a,s,r){if(null!==e){var n=e.memoizedProps;if(Ya(n,s)&&e.ref===t.ref){if(Ho=!1,t.pendingProps=s=n,!mi(e,r))return t.lanes=e.lanes,hi(e,t,r);0!==(131072&e.flags)&&(Ho=!0)}}return Jo(e,t,a,s,r)}function Qo(e,t,a){var s=t.pendingProps,r=s.children,n=0!==(2&t.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(Xo(e,t),"hidden"===s.mode||n){if(0!==(128&t.flags)){if(s=null!==o?o.baseLanes|a:a,null!==e){for(r=t.child=e.child,n=0;null!==r;)n=n|r.lanes|r.childLanes,r=r.sibling;t.childLanes=n&~s}else t.childLanes=0,t.child=null;return Ko(e,t,s,a)}if(0===(536870912&a))return t.lanes=t.childLanes=536870912,Ko(e,t,null!==o?o.baseLanes|a:a,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qr(0,null!==o?o.cachePool:null),null!==o?_r(t,o):kr(),Er(t)}else null!==o?(Qr(0,o.cachePool),_r(t,o),Ar(),t.memoizedState=null):(null!==e&&Qr(0,null),kr(),Ar());return qo(e,t,r,a),t.child}function Ko(e,t,a,s){var r=Yr();return r=null===r?null:{parent:Rr._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},null!==e&&Qr(0,null),kr(),Er(t),null!==e&&wi(e,t,s,!0),null}function Xo(e,t){var a=t.ref;if(null===a)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof a&&"object"!==typeof a)throw Error(o(284));null!==e&&e.ref===a||(t.flags|=2097664)}}function Jo(e,t,a,s,r){return _i(t),a=un(e,t,a,s,void 0,r),s=pn(),null===e||Ho?(Qs&&s&&qs(t),t.flags|=1,qo(e,t,a,r),t.child):(fn(e,t,r),hi(e,t,r))}function Zo(e,t,a,s,r,n){return _i(t),t.updateQueue=null,a=mn(t,s,a,r),hn(e),s=pn(),null===e||Ho?(Qs&&s&&qs(t),t.flags|=1,qo(e,t,a,n),t.child):(fn(e,t,n),hi(e,t,n))}function ei(e,t,a,s,r){if(_i(t),null===t.stateNode){var n=As,o=a.contextType;"object"===typeof o&&null!==o&&(n=ki(o)),n=new a(s,n),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Eo,t.stateNode=n,n._reactInternals=t,(n=t.stateNode).props=s,n.state=t.memoizedState,n.refs={},Li(t),o=a.contextType,n.context="object"===typeof o&&null!==o?ki(o):As,n.state=t.memoizedState,"function"===typeof(o=a.getDerivedStateFromProps)&&(Lo(t,a,o,s),n.state=t.memoizedState),"function"===typeof a.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(o=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),o!==n.state&&Eo.enqueueReplaceState(n,n.state,null),Di(t,s,n,r),Oi(),n.state=t.memoizedState),"function"===typeof n.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){n=t.stateNode;var i=t.memoizedProps,l=Po(a,i);n.props=l;var c=n.context,d=a.contextType;o=As,"object"===typeof d&&null!==d&&(o=ki(d));var u=a.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof n.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(i||c!==o)&&To(t,n,s,o),Mi=!1;var h=t.memoizedState;n.state=h,Di(t,s,n,r),Oi(),c=t.memoizedState,i||h!==c||Mi?("function"===typeof u&&(Lo(t,a,u,s),c=t.memoizedState),(l=Mi||Ao(t,a,l,s,h,c,o))?(d||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||("function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"===typeof n.componentDidMount&&(t.flags|=4194308)):("function"===typeof n.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),n.props=s,n.state=c,n.context=o,s=l):("function"===typeof n.componentDidMount&&(t.flags|=4194308),s=!1)}else{n=t.stateNode,Ei(e,t),d=Po(a,o=t.memoizedProps),n.props=d,u=t.pendingProps,h=n.context,c=a.contextType,l=As,"object"===typeof c&&null!==c&&(l=ki(c)),(c="function"===typeof(i=a.getDerivedStateFromProps)||"function"===typeof n.getSnapshotBeforeUpdate)||"function"!==typeof n.UNSAFE_componentWillReceiveProps&&"function"!==typeof n.componentWillReceiveProps||(o!==u||h!==l)&&To(t,n,s,l),Mi=!1,h=t.memoizedState,n.state=h,Di(t,s,n,r),Oi();var m=t.memoizedState;o!==u||h!==m||Mi||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof i&&(Lo(t,a,i,s),m=t.memoizedState),(d=Mi||Ao(t,a,d,s,h,m,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(c||"function"!==typeof n.UNSAFE_componentWillUpdate&&"function"!==typeof n.componentWillUpdate||("function"===typeof n.componentWillUpdate&&n.componentWillUpdate(s,m,l),"function"===typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(s,m,l)),"function"===typeof n.componentDidUpdate&&(t.flags|=4),"function"===typeof n.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof n.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),n.props=s,n.state=m,n.context=l,s=d):("function"!==typeof n.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof n.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return n=s,Xo(e,t),s=0!==(128&t.flags),n||s?(n=t.stateNode,a=s&&"function"!==typeof a.getDerivedStateFromError?null:n.render(),t.flags|=1,null!==e&&s?(t.child=vr(t,e.child,null,r),t.child=vr(t,null,a,r)):qo(e,t,a,r),t.memoizedState=n.state,e=t.child):e=hi(e,t,r),e}function ti(e,t,a,s){return sr(),t.flags|=256,qo(e,t,a,s),t.child}var ai={dehydrated:null,treeContext:null,retryLane:0};function si(e){return{baseLanes:e,cachePool:Kr()}}function ri(e,t,a){return e=null!==e?e.childLanes&~a:0,t&&(e|=pc),e}function ni(e,t,a){var s,r=t.pendingProps,n=!1,i=0!==(128&t.flags);if((s=i)||(s=(null===e||null!==e.memoizedState)&&0!==(2&Pr.current)),s&&(n=!0,t.flags&=-129),s=0!==(32&t.flags),t.flags&=-33,null===e){if(Qs){if(n?Lr(t):Ar(),Qs){var l,c=Ys;if(l=c){e:{for(l=c,c=Xs;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=lu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Fs?{id:Ws,overflow:Vs}:null,retryLane:536870912},(l=Ol(18,null,null,0)).stateNode=c,l.return=t,t.child=l,$s=t,Ys=null,l=!0):l=!1}l||Zs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Tr(t)}return c=r.children,r=r.fallback,n?(Ar(),c=ii({mode:"hidden",children:c},n=t.mode),r=Wl(r,n,a,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(n=t.child).memoizedState=si(a),n.childLanes=ri(e,s,a),t.memoizedState=ai,r):(Lr(t),oi(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(i)256&t.flags?(Lr(t),t.flags&=-257,t=li(e,t,a)):null!==t.memoizedState?(Ar(),t.child=e.child,t.flags|=128,t=null):(Ar(),n=r.fallback,c=t.mode,r=ii({mode:"visible",children:r.children},c),(n=Wl(n,c,a,null)).flags|=2,r.return=t,n.return=t,r.sibling=n,t.child=r,vr(t,e.child,null,a),(r=t.child).memoizedState=si(a),r.childLanes=ri(e,s,a),t.memoizedState=ai,t=n);else if(Lr(t),"$!"===c.data){if(s=c.nextSibling&&c.nextSibling.dataset)var d=s.dgst;s=d,(r=Error(o(419))).stack="",r.digest=s,rr({value:r,source:null,stack:null}),t=li(e,t,a)}else if(Ho||wi(e,t,a,!1),s=0!==(a&e.childLanes),Ho||s){if(null!==(s=ac)){if(0!==(42&(r=a&-a)))r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(0!==(r=0!==(r&(s.suspendedLanes|a))?0:r)&&r!==l.retryLane)throw l.retryLane=r,Ms(e,r),Pc(s,e,r),Uo}"$?"===c.data||qc(),t=li(e,t,a)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ld.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Ys=lu(c.nextSibling),$s=t,Qs=!0,Ks=null,Xs=!1,null!==e&&(Rs[Bs++]=Ws,Rs[Bs++]=Vs,Rs[Bs++]=Fs,Ws=e.id,Vs=e.overflow,Fs=t),(t=oi(t,r.children)).flags|=4096);return t}return n?(Ar(),n=r.fallback,c=t.mode,d=(l=e.child).sibling,(r=Rl(l,{mode:"hidden",children:r.children})).subtreeFlags=31457280&l.subtreeFlags,null!==d?n=Rl(d,n):(n=Wl(n,c,a,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,r=n,n=t.child,null===(c=e.child.memoizedState)?c=si(a):(null!==(l=c.cachePool)?(d=Rr._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Kr(),c={baseLanes:c.baseLanes|a,cachePool:l}),n.memoizedState=c,n.childLanes=ri(e,s,a),t.memoizedState=ai,r):(Lr(t),e=(a=e.child).sibling,(a=Rl(a,{mode:"visible",children:r.children})).return=t,a.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a)}function oi(e,t){return(t=ii({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ii(e,t){return Vl(e,t,0,null)}function li(e,t,a){return vr(t,e.child,null,a),(e=oi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ci(e,t,a){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),vi(e.return,t,a)}function di(e,t,a,s,r){var n=e.memoizedState;null===n?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:r}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=a,n.tailMode=r)}function ui(e,t,a){var s=t.pendingProps,r=s.revealOrder,n=s.tail;if(qo(e,t,s.children,a),0!==(2&(s=Pr.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ci(e,a,t);else if(19===e.tag)ci(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(Y(Pr,s),r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===zr(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),di(t,!1,r,a,n);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===zr(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}di(t,!0,a,null,n);break;case"together":di(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(a&t.childLanes)){if(null===e)return null;if(wi(e,t,a,!1),0===(a&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(a=Rl(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Rl(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function mi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function xi(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ho=!0;else{if(!mi(e,a)&&0===(128&t.flags))return Ho=!1,function(e,t,a){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),bi(t,Rr,e.memoizedState.cache),sr();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:bi(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(Lr(t),t.flags|=128,null):0!==(a&t.child.childLanes)?ni(e,t,a):(Lr(t),null!==(e=hi(e,t,a))?e.sibling:null);Lr(t);break;case 19:var r=0!==(128&e.flags);if((s=0!==(a&t.childLanes))||(wi(e,t,a,!1),s=0!==(a&t.childLanes)),r){if(s)return ui(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Y(Pr,Pr.current),s)break;return null;case 22:case 23:return t.lanes=0,Qo(e,t,a);case 24:bi(t,Rr,e.memoizedState.cache)}return hi(e,t,a)}(e,t,a);Ho=0!==(131072&e.flags)}else Ho=!1,Qs&&0!==(1048576&t.flags)&&Hs(t,Ds,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,"function"!==typeof s){if(void 0!==s&&null!==s){if((r=s.$$typeof)===g){t.tag=11,t=Go(null,t,s,e,a);break e}if(r===v){t.tag=14,t=$o(null,t,s,e,a);break e}}throw t=C(s)||s,Error(o(306,t,""))}Dl(s)?(e=Po(s,e),t.tag=1,t=ei(null,t,s,e,a)):(t.tag=0,t=Jo(null,t,s,e,a))}return t;case 0:return Jo(e,t,t.type,t.pendingProps,a);case 1:return ei(e,t,s=t.type,r=Po(s,t.pendingProps),a);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(o(387));var n=t.pendingProps;s=(r=t.memoizedState).element,Ei(e,t),Di(t,n,null,a);var i=t.memoizedState;if(n=i.cache,bi(t,Rr,n),n!==r.cache&&ji(t,[Rr],a,!0),Oi(),n=i.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=ti(e,t,n,a);break e}if(n!==s){rr(s=Ps(Error(o(424)),t)),t=ti(e,t,n,a);break e}for(Ys=lu(t.stateNode.containerInfo.firstChild),$s=t,Qs=!0,Ks=null,Xs=!0,a=jr(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(sr(),n===s){t=hi(e,t,a);break e}qo(e,t,n,a)}t=t.child}return t;case 26:return Xo(e,t),null===e?(a=gu(t.type,null,t.pendingProps,null))?t.memoizedState=a:Qs||(a=t.type,e=t.pendingProps,(s=Kd(X.current).createElement(a))[Re]=t,s[Be]=e,$d(s,a,e),Xe(s),t.stateNode=s):t.memoizedState=gu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Qs&&(s=t.stateNode=du(t.type,t.pendingProps,X.current),$s=t,Xs=!0,Ys=lu(s.firstChild)),s=t.pendingProps.children,null!==e||Qs?qo(e,t,s,a):t.child=vr(t,null,s,a),Xo(e,t),t.child;case 5:return null===e&&Qs&&((r=s=Ys)&&(null!==(s=function(e,t,a,s){for(;1===e.nodeType;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(n=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(n!==r.rel||e.getAttribute("href")!==(null==r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((n=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var n=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===n)return e}if(null===(e=lu(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,Xs))?(t.stateNode=s,$s=t,Ys=lu(s.firstChild),Xs=!1,r=!0):r=!1),r||Zs(t)),te(t),r=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,s=n.children,Zd(r,n)?s=null:null!==i&&Zd(r,i)&&(t.flags|=32),null!==t.memoizedState&&(r=un(e,t,xn,null,null,a),Du._currentValue=r),Xo(e,t),qo(e,t,s,a),t.child;case 6:return null===e&&Qs&&((e=a=Ys)&&(null!==(a=function(e,t,a){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=lu(e.nextSibling)))return null}return e}(a,t.pendingProps,Xs))?(t.stateNode=a,$s=t,Ys=null,e=!0):e=!1),e||Zs(t)),null;case 13:return ni(e,t,a);case 4:return Z(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=vr(t,null,s,a):qo(e,t,s,a),t.child;case 11:return Go(e,t,t.type,t.pendingProps,a);case 7:return qo(e,t,t.pendingProps,a),t.child;case 8:case 12:return qo(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,bi(t,t.type,s.value),qo(e,t,s.children,a),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,_i(t),s=s(r=ki(r)),t.flags|=1,qo(e,t,s,a),t.child;case 14:return $o(e,t,t.type,t.pendingProps,a);case 15:return Yo(e,t,t.type,t.pendingProps,a);case 19:return ui(e,t,a);case 22:return Qo(e,t,a);case 24:return _i(t),s=ki(Rr),null===e?(null===(r=Yr())&&(r=ac,n=Br(),r.pooledCache=n,n.refCount++,null!==n&&(r.pooledCacheLanes|=a),r=n),t.memoizedState={parent:s,cache:r},Li(t),bi(t,Rr,r)):(0!==(e.lanes&a)&&(Ei(e,t),Di(t,null,null,a),Oi()),r=e.memoizedState,n=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),bi(t,Rr,s)):(s=n.cache,bi(t,Rr,s),s!==r.cache&&ji(t,[Rr],a,!0))),qo(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var pi=G(null),fi=null,gi=null;function bi(e,t,a){Y(pi,t._currentValue),t._currentValue=a}function yi(e){e._currentValue=pi.current,$(pi)}function vi(e,t,a){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ji(e,t,a,s){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var n=r.dependencies;if(null!==n){var i=r.child;n=n.firstContext;e:for(;null!==n;){var l=n;n=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){n.lanes|=a,null!==(l=n.alternate)&&(l.lanes|=a),vi(n.return,a,e),s||(i=null);break e}n=l.next}}else if(18===r.tag){if(null===(i=r.return))throw Error(o(341));i.lanes|=a,null!==(n=i.alternate)&&(n.lanes|=a),vi(i,a,e),i=null}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}}function wi(e,t,a,s){e=null;for(var r=t,n=!1;null!==r;){if(!n)if(0!==(524288&r.flags))n=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var i=r.alternate;if(null===i)throw Error(o(387));if(null!==(i=i.memoizedProps)){var l=r.type;$a(r.pendingProps.value,i.value)||(null!==e?e.push(l):e=[l])}}else if(r===J.current){if(null===(i=r.alternate))throw Error(o(387));i.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Du):e=[Du])}r=r.return}null!==e&&ji(t,e,a,s),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!$a(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){fi=e,gi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ki(e){return Ci(fi,e)}function Si(e,t){return null===fi&&_i(e),Ci(e,t)}function Ci(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},null===gi){if(null===e)throw Error(o(308));gi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gi=gi.next=t;return a}var Mi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ei(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,a){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&tc)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Es(e),Ls(e,null,a),t}return Ss(e,s,t,a),Es(e)}function Pi(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&a))){var s=t.lanes;a|=s&=e.pendingLanes,t.lanes=a,ze(e,a)}}function zi(e,t){var a=e.updateQueue,s=e.alternate;if(null!==s&&a===(s=s.updateQueue)){var r=null,n=null;if(null!==(a=a.firstBaseUpdate)){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===n?r=n=o:n=n.next=o,a=a.next}while(null!==a);null===n?r=n=t:n=n.next=t}else r=n=t;return a={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ii=!1;function Oi(){if(Ii){if(null!==Hr)throw Hr}}function Di(e,t,a,s){Ii=!1;var r=e.updateQueue;Mi=!1;var n=r.firstBaseUpdate,o=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?n=c:o.next=c,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==n){var u=r.baseState;for(o=0,d=c=l=null,i=n;;){var h=-536870913&i.lane,m=h!==i.lane;if(m?(rc&h)===h:(s&h)===h){0!==h&&h===Ur&&(Ii=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var x=e,p=i;h=t;var f=a;switch(p.tag){case 1:if("function"===typeof(x=p.payload)){u=x.call(f,u,h);break e}u=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null===(h="function"===typeof(x=p.payload)?x.call(f,u,h):x)||void 0===h)break e;u=A({},u,h);break e;case 2:Mi=!0}}null!==(h=i.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[h]:m.push(h))}else m={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,o|=h;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(m=i).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===n&&(r.shared.lanes=0),hc|=o,e.lanes=o,e.memoizedState=u}}function Ri(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Bi(e,t){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)Ri(a[e],t)}function Fi(e,t){try{var a=t.updateQueue,s=null!==a?a.lastEffect:null;if(null!==s){var r=s.next;a=r;do{if((a.tag&e)===e){s=void 0;var n=a.create,o=a.inst;s=n(),o.destroy=s}a=a.next}while(a!==r)}}catch(i){rd(t,t.return,i)}}function Wi(e,t,a){try{var s=t.updateQueue,r=null!==s?s.lastEffect:null;if(null!==r){var n=r.next;s=n;do{if((s.tag&e)===e){var o=s.inst,i=o.destroy;if(void 0!==i){o.destroy=void 0,r=t;var l=a;try{i()}catch(c){rd(r,l,c)}}}s=s.next}while(s!==n)}}catch(c){rd(t,t.return,c)}}function Vi(e){var t=e.updateQueue;if(null!==t){var a=e.stateNode;try{Bi(t,a)}catch(s){rd(e,e.return,s)}}}function Ui(e,t,a){a.props=Po(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){rd(e,t,s)}}function Hi(e,t){try{var a=e.ref;if(null!==a){var s=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=s;break;default:r=s}"function"===typeof a?e.refCleanup=a(r):a.current=r}}catch(n){rd(e,t,n)}}function qi(e,t){var a=e.ref,s=e.refCleanup;if(null!==a)if("function"===typeof s)try{s()}catch(r){rd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof a)try{a(null)}catch(n){rd(e,t,n)}else a.current=null}function Gi(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(r){rd(e,e.return,r)}}function $i(e,t,a){try{var s=e.stateNode;!function(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,n=null,i=null,l=null,c=null,d=null,u=null;for(x in a){var h=a[x];if(a.hasOwnProperty(x)&&null!=h)switch(x){case"checked":case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(x)||qd(e,t,x,null,s,h)}}for(var m in s){var x=s[m];if(h=a[m],s.hasOwnProperty(m)&&(null!=x||null!=h))switch(m){case"type":n=x;break;case"name":r=x;break;case"checked":d=x;break;case"defaultChecked":u=x;break;case"value":i=x;break;case"defaultValue":l=x;break;case"children":case"dangerouslySetInnerHTML":if(null!=x)throw Error(o(137,t));break;default:x!==h&&qd(e,t,m,x,s,h)}}return void ft(e,i,l,c,d,u,n,r);case"select":for(n in x=i=l=m=null,a)if(c=a[n],a.hasOwnProperty(n)&&null!=c)switch(n){case"value":break;case"multiple":x=c;default:s.hasOwnProperty(n)||qd(e,t,n,null,s,c)}for(r in s)if(n=s[r],c=a[r],s.hasOwnProperty(r)&&(null!=n||null!=c))switch(r){case"value":m=n;break;case"defaultValue":l=n;break;case"multiple":i=n;default:n!==c&&qd(e,t,r,n,s,c)}return t=l,a=i,s=x,void(null!=m?yt(e,!!a,m,!1):!!s!==!!a&&(null!=t?yt(e,!!a,t,!0):yt(e,!!a,a?[]:"",!1)));case"textarea":for(l in x=m=null,a)if(r=a[l],a.hasOwnProperty(l)&&null!=r&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:qd(e,t,l,null,s,r)}for(i in s)if(r=s[i],n=a[i],s.hasOwnProperty(i)&&(null!=r||null!=n))switch(i){case"value":m=r;break;case"defaultValue":x=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==n&&qd(e,t,i,r,s,n)}return void vt(e,m,x);case"option":for(var p in a)if(m=a[p],a.hasOwnProperty(p)&&null!=m&&!s.hasOwnProperty(p))if("selected"===p)e.selected=!1;else qd(e,t,p,null,s,m);for(c in s)if(m=s[c],x=a[c],s.hasOwnProperty(c)&&m!==x&&(null!=m||null!=x))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else qd(e,t,c,m,s,x);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var f in a)m=a[f],a.hasOwnProperty(f)&&null!=m&&!s.hasOwnProperty(f)&&qd(e,t,f,null,s,m);for(d in s)if(m=s[d],x=a[d],s.hasOwnProperty(d)&&m!==x&&(null!=m||null!=x))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(o(137,t));break;default:qd(e,t,d,m,s,x)}return;default:if(St(t)){for(var g in a)m=a[g],a.hasOwnProperty(g)&&void 0!==m&&!s.hasOwnProperty(g)&&Gd(e,t,g,void 0,s,m);for(u in s)m=s[u],x=a[u],!s.hasOwnProperty(u)||m===x||void 0===m&&void 0===x||Gd(e,t,u,m,s,x);return}}for(var b in a)m=a[b],a.hasOwnProperty(b)&&null!=m&&!s.hasOwnProperty(b)&&qd(e,t,b,null,s,m);for(h in s)m=s[h],x=a[h],!s.hasOwnProperty(h)||m===x||null==m&&null==x||qd(e,t,h,m,s,x)}(s,e.type,a,t),s[Be]=t}catch(r){rd(e,e.return,r)}}function Yi(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Qi(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Yi(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ki(e,t,a){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Hd));else if(4!==s&&27!==s&&null!==(e=e.child))for(Ki(e,t,a),e=e.sibling;null!==e;)Ki(e,t,a),e=e.sibling}function Xi(e,t,a){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==s&&27!==s&&null!==(e=e.child))for(Xi(e,t,a),e=e.sibling;null!==e;)Xi(e,t,a),e=e.sibling}var Ji=!1,Zi=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,al=null,rl=!1;function nl(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:bl(e,a),4&s&&Fi(5,a);break;case 1:if(bl(e,a),4&s)if(e=a.stateNode,null===t)try{e.componentDidMount()}catch(i){rd(a,a.return,i)}else{var r=Po(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){rd(a,a.return,l)}}64&s&&Vi(a),512&s&&Hi(a,a.return);break;case 3:if(bl(e,a),64&s&&null!==(s=a.updateQueue)){if(e=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:e=a.child.stateNode}try{Bi(s,e)}catch(i){rd(a,a.return,i)}}break;case 26:bl(e,a),512&s&&Hi(a,a.return);break;case 27:case 5:bl(e,a),null===t&&4&s&&Gi(a),512&s&&Hi(a,a.return);break;case 12:default:bl(e,a);break;case 13:bl(e,a),4&s&&ul(e,a);break;case 22:if(!(r=null!==a.memoizedState||Ji)){t=null!==t&&null!==t.memoizedState||Zi;var n=Ji,o=Zi;Ji=r,(Zi=t)&&!o?vl(e,a,0!==(8772&a.subtreeFlags)):bl(e,a),Ji=n,Zi=o}512&s&&("manual"===a.memoizedProps.mode?Hi(a,a.return):qi(a,a.return))}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var il=null,ll=!1;function cl(e,t,a){for(a=a.child;null!==a;)dl(e,t,a),a=a.sibling}function dl(e,t,a){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,a)}catch(o){}switch(a.tag){case 26:Zi||qi(a,t),cl(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:Zi||qi(a,t);var s=il,r=ll;for(il=a.stateNode,cl(e,t,a),t=(a=a.stateNode).attributes;t.length;)a.removeAttributeNode(t[0]);Ge(a),il=s,ll=r;break;case 5:Zi||qi(a,t);case 6:r=il;var n=ll;if(il=null,cl(e,t,a),ll=n,null!==(il=r))if(ll)try{e=il,s=a.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)}catch(i){rd(a,t,i)}else try{il.removeChild(a.stateNode)}catch(i){rd(a,t,i)}break;case 18:null!==il&&(ll?(t=il,a=a.stateNode,8===t.nodeType?ou(t.parentNode,a):1===t.nodeType&&ou(t,a),fh(t)):ou(il,a.stateNode));break;case 4:s=il,r=ll,il=a.stateNode.containerInfo,ll=!0,cl(e,t,a),il=s,ll=r;break;case 0:case 11:case 14:case 15:Zi||Wi(2,a,t),Zi||Wi(4,a,t),cl(e,t,a);break;case 1:Zi||(qi(a,t),"function"===typeof(s=a.stateNode).componentWillUnmount&&Ui(a,t,s)),cl(e,t,a);break;case 21:cl(e,t,a);break;case 22:Zi||qi(a,t),Zi=(s=Zi)||null!==a.memoizedState,cl(e,t,a),Zi=s;break;default:cl(e,t,a)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{fh(e)}catch(a){rd(t,t.return,a)}}function hl(e,t){var a=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var s=cd.bind(null,e,t);a.has(t)||(a.add(t),t.then(s,s))}))}function ml(e,t){var a=t.deletions;if(null!==a)for(var s=0;s<a.length;s++){var r=a[s],n=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 27:case 5:il=l.stateNode,ll=!1;break e;case 3:case 4:il=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===il)throw Error(o(160));dl(n,i,r),il=null,ll=!1,null!==(n=r.alternate)&&(n.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var xl=null;function pl(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ml(t,e),fl(e),4&s&&(Wi(3,e,e.return),Fi(3,e),Wi(5,e,e.return));break;case 1:ml(t,e),fl(e),512&s&&(Zi||null===a||qi(a,a.return)),64&s&&Ji&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?s:a.concat(s))));break;case 26:var r=xl;if(ml(t,e),fl(e),512&s&&(Zi||null===a||qi(a,a.return)),4&s){var n=null!==a?a.memoizedState:null;if(s=e.memoizedState,null===a)if(null===s)if(null===e.stateNode){e:{s=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":(!(n=r.getElementsByTagName("title")[0])||n[qe]||n[Re]||"http://www.w3.org/2000/svg"===n.namespaceURI||n.hasAttribute("itemprop"))&&(n=r.createElement(s),r.head.insertBefore(n,r.querySelector("head > title"))),$d(n,s,a),n[Re]=e,Xe(n),s=n;break e;case"link":var i=Mu("link","href",r).get(s+(a.href||""));if(i)for(var l=0;l<i.length;l++)if((n=i[l]).getAttribute("href")===(null==a.href?null:a.href)&&n.getAttribute("rel")===(null==a.rel?null:a.rel)&&n.getAttribute("title")===(null==a.title?null:a.title)&&n.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){i.splice(l,1);break t}$d(n=r.createElement(s),s,a),r.head.appendChild(n);break;case"meta":if(i=Mu("meta","content",r).get(s+(a.content||"")))for(l=0;l<i.length;l++)if((n=i[l]).getAttribute("content")===(null==a.content?null:""+a.content)&&n.getAttribute("name")===(null==a.name?null:a.name)&&n.getAttribute("property")===(null==a.property?null:a.property)&&n.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&n.getAttribute("charset")===(null==a.charSet?null:a.charSet)){i.splice(l,1);break t}$d(n=r.createElement(s),s,a),r.head.appendChild(n);break;default:throw Error(o(468,s))}n[Re]=e,Xe(n),s=n}e.stateNode=s}else Lu(r,e.type,e.stateNode);else e.stateNode=Nu(r,s,e.memoizedProps);else n!==s?(null===n?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):n.count--,null===s?Lu(r,e.type,e.stateNode):Nu(r,s,e.memoizedProps)):null===s&&null!==e.stateNode&&$i(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(4&s&&null===e.alternate){r=e.stateNode,n=e.memoizedProps;try{for(var c=r.firstChild;c;){var d=c.nextSibling,u=c.nodeName;c[qe]||"HEAD"===u||"BODY"===u||"SCRIPT"===u||"STYLE"===u||"LINK"===u&&"stylesheet"===c.rel.toLowerCase()||r.removeChild(c),c=d}for(var h=e.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);$d(r,h,n),r[Re]=e,r[Be]=n}catch(p){rd(e,e.return,p)}}case 5:if(ml(t,e),fl(e),512&s&&(Zi||null===a||qi(a,a.return)),32&e.flags){r=e.stateNode;try{wt(r,"")}catch(p){rd(e,e.return,p)}}4&s&&null!=e.stateNode&&$i(e,r=e.memoizedProps,null!==a?a.memoizedProps:r),1024&s&&(el=!0);break;case 6:if(ml(t,e),fl(e),4&s){if(null===e.stateNode)throw Error(o(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(p){rd(e,e.return,p)}}break;case 3:if(Cu=null,r=xl,xl=mu(t.containerInfo),ml(t,e),xl=r,fl(e),4&s&&null!==a&&a.memoizedState.isDehydrated)try{fh(t.containerInfo)}catch(p){rd(e,e.return,p)}el&&(el=!1,gl(e));break;case 4:s=xl,xl=mu(e.stateNode.containerInfo),ml(t,e),fl(e),xl=s;break;case 12:ml(t,e),fl(e);break;case 13:ml(t,e),fl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==a&&null!==a.memoizedState)&&(vc=le()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,hl(e,s)));break;case 22:if(512&s&&(Zi||null===a||qi(a,a.return)),c=null!==e.memoizedState,d=null!==a&&null!==a.memoizedState,Ji=(u=Ji)||c,Zi=(h=Zi)||d,ml(t,e),Zi=h,Ji=u,fl(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&s&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Ji||Zi,null===a||d||t||yl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(a=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===a){d=a=t;try{if(r=d.stateNode,c)"function"===typeof(n=r.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{i=d.stateNode;var x=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;i.style.display=null==x||"boolean"===typeof x?"":(""+x).trim()}}catch(p){rd(d,d.return,p)}}}else if(6===t.tag){if(null===a){d=t;try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){rd(d,d.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(a=s.retryQueue)&&(s.retryQueue=null,hl(e,a))));break;case 19:ml(t,e),fl(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,hl(e,s)));break;case 21:break;default:ml(t,e),fl(e)}}function fl(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var a=e.return;null!==a;){if(Yi(a)){var s=a;break e}a=a.return}throw Error(o(160))}switch(s.tag){case 27:var r=s.stateNode;Xi(e,Qi(e),r);break;case 5:var n=s.stateNode;32&s.flags&&(wt(n,""),s.flags&=-33),Xi(e,Qi(e),n);break;case 3:case 4:var i=s.stateNode.containerInfo;Ki(e,Qi(e),i);break;default:throw Error(o(161))}}}catch(l){rd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)nl(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wi(4,t,t.return),yl(t);break;case 1:qi(t,t.return);var a=t.stateNode;"function"===typeof a.componentWillUnmount&&Ui(t,t.return,a),yl(t);break;case 26:case 27:case 5:qi(t,t.return),yl(t);break;case 22:qi(t,t.return),null===t.memoizedState&&yl(t);break;default:yl(t)}e=e.sibling}}function vl(e,t,a){for(a=a&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,r=e,n=t,o=n.flags;switch(n.tag){case 0:case 11:case 15:vl(r,n,a),Fi(4,n);break;case 1:if(vl(r,n,a),"function"===typeof(r=(s=n).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){rd(s,s.return,c)}if(null!==(r=(s=n).updateQueue)){var i=s.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)Ri(l[r],i)}catch(c){rd(s,s.return,c)}}a&&64&o&&Vi(n),Hi(n,n.return);break;case 26:case 27:case 5:vl(r,n,a),a&&null===s&&4&o&&Gi(n),Hi(n,n.return);break;case 12:default:vl(r,n,a);break;case 13:vl(r,n,a),a&&4&o&&ul(r,n);break;case 22:null===n.memoizedState&&vl(r,n,a),Hi(n,n.return)}t=t.sibling}}function jl(e,t){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&Fr(a))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fr(e))}function Nl(e,t,a,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t,a,s),t=t.sibling}function _l(e,t,a,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Nl(e,t,a,s),2048&r&&Fi(9,t);break;case 3:Nl(e,t,a,s),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fr(e)));break;case 12:if(2048&r){Nl(e,t,a,s),e=t.stateNode;try{var n=t.memoizedProps,o=n.id,i=n.onPostCommit;"function"===typeof i&&i(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){rd(t,t.return,l)}}else Nl(e,t,a,s);break;case 23:break;case 22:n=t.stateNode,null!==t.memoizedState?4&n._visibility?Nl(e,t,a,s):Sl(e,t):4&n._visibility?Nl(e,t,a,s):(n._visibility|=4,kl(e,t,a,s,0!==(10256&t.subtreeFlags))),2048&r&&jl(t.alternate,t);break;case 24:Nl(e,t,a,s),2048&r&&wl(t.alternate,t);break;default:Nl(e,t,a,s)}}function kl(e,t,a,s,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var n=e,o=t,i=a,l=s,c=o.flags;switch(o.tag){case 0:case 11:case 15:kl(n,o,i,l,r),Fi(8,o);break;case 23:break;case 22:var d=o.stateNode;null!==o.memoizedState?4&d._visibility?kl(n,o,i,l,r):Sl(n,o):(d._visibility|=4,kl(n,o,i,l,r)),r&&2048&c&&jl(o.alternate,o);break;case 24:kl(n,o,i,l,r),r&&2048&c&&wl(o.alternate,o);break;default:kl(n,o,i,l,r)}t=t.sibling}}function Sl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var a=e,s=t,r=s.flags;switch(s.tag){case 22:Sl(a,s),2048&r&&jl(s.alternate,s);break;case 24:Sl(a,s),2048&r&&wl(s.alternate,s);break;default:Sl(a,s)}t=t.sibling}}var Cl=8192;function Ml(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)Ll(e),e=e.sibling}function Ll(e){switch(e.tag){case 26:Ml(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,a){if(null===Au)throw Error(o(475));var s=Au;if("stylesheet"===t.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=bu(a.href),n=e.querySelector(yu(r));if(n)return null!==(e=n._p)&&"object"===typeof e&&"function"===typeof e.then&&(s.count++,s=Pu.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=n,void Xe(n);n=e.ownerDocument||e,a=vu(a),(r=uu.get(r))&&ku(a,r),Xe(n=n.createElement("link"));var i=n;i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),$d(n,"link",a),t.instance=n}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(s.count++,t=Pu.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(xl,e.memoizedState,e.memoizedProps);break;case 5:default:Ml(e);break;case 3:case 4:var t=xl;xl=mu(e.stateNode.containerInfo),Ml(e),xl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Ml(e),Cl=t):Ml(e))}}function El(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Al(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];al=s,zl(s,e)}El(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Tl(e),e=e.sibling}function Tl(e){switch(e.tag){case 0:case 11:case 15:Al(e),2048&e.flags&&Wi(9,e,e.return);break;case 3:case 12:default:Al(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Pl(e)):Al(e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];al=s,zl(s,e)}El(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Wi(8,t,t.return),Pl(t);break;case 22:4&(a=t.stateNode)._visibility&&(a._visibility&=-5,Pl(t));break;default:Pl(t)}e=e.sibling}}function zl(e,t){for(;null!==al;){var a=al;switch(a.tag){case 0:case 11:case 15:Wi(8,a,t);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var s=a.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:Fr(a.memoizedState.cache)}if(null!==(s=a.child))s.return=a,al=s;else e:for(a=e;null!==al;){var r=(s=al).sibling,n=s.return;if(ol(s),s===a){al=null;break e}if(null!==r){r.return=n,al=r;break e}al=n}}}function Il(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,a,s){return new Il(e,t,a,s)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var a=e.alternate;return null===a?((a=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=31457280&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bl(e,t){e.flags&=31457282;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,a,s,r,n){var i=0;if(s=e,"function"===typeof e)Dl(e)&&(i=1);else if("string"===typeof e)i=function(e,t,a){if(1===a||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,a,Q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case u:return Wl(a.children,r,n,t);case h:i=8,r|=24;break;case m:return(e=Ol(12,a,t,2|r)).elementType=m,e.lanes=n,e;case b:return(e=Ol(13,a,t,r)).elementType=b,e.lanes=n,e;case y:return(e=Ol(19,a,t,r)).elementType=y,e.lanes=n,e;case w:return Vl(a,r,n,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case f:i=10;break e;case p:i=9;break e;case g:i=11;break e;case v:i=14;break e;case j:i=16,s=null;break e}i=29,a=Error(o(130,null===e?"null":typeof e,"")),s=null}return(t=Ol(i,a,t,r)).elementType=e,t.type=s,t.lanes=n,t}function Wl(e,t,a,s){return(e=Ol(7,e,s,t)).lanes=a,e}function Vl(e,t,a,s){(e=Ol(22,e,s,t)).elementType=w,e.lanes=a;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=r._current;if(null===e)throw Error(o(456));if(0===(2&r._pendingVisibility)){var t=Ms(e,2);null!==t&&(r._pendingVisibility|=2,Pc(t,e,2))}},attach:function(){var e=r._current;if(null===e)throw Error(o(456));if(0!==(2&r._pendingVisibility)){var t=Ms(e,2);null!==t&&(r._pendingVisibility&=-3,Pc(t,e,2))}}};return e.stateNode=r,e}function Ul(e,t,a){return(e=Ol(6,e,null,t)).lanes=a,e}function Hl(e,t,a){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ql(e){e.flags|=4}function Gl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Eu(t)){if(null!==(t=Cr.current)&&((4194176&rc)===rc?null!==Mr:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Mr))throw ur=ir,or;e.flags|=8192}}function $l(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,fc|=t)}function Yl(e,t){if(!Qs)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;null!==a;)null!==a.alternate&&(s=a),a=a.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,s=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,s|=31457280&r.subtreeFlags,s|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Kl(e,t,a){var s=t.pendingProps;switch(Gs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Ql(t),null;case 3:return a=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),yi(Rr),ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ar(t)?ql(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ks&&(Ic(Ks),Ks=null))),Ql(t),null;case 26:return a=t.memoizedState,null===e?(ql(t),null!==a?(Ql(t),Gl(t,a)):(Ql(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ql(t),Ql(t),Gl(t,a)):(Ql(t),t.flags&=-16777217):(e.memoizedProps!==s&&ql(t),Ql(t),t.flags&=-16777217),null;case 27:ae(t),a=X.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&ql(t);else{if(!s){if(null===t.stateNode)throw Error(o(166));return Ql(t),null}e=Q.current,ar(t)?er(t):(e=du(r,s,a),t.stateNode=e,ql(t))}return Ql(t),null;case 5:if(ae(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&ql(t);else{if(!s){if(null===t.stateNode)throw Error(o(166));return Ql(t),null}if(e=Q.current,ar(t))er(t);else{switch(r=Kd(X.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof s.is?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"===typeof s.is?r.createElement(a,{is:s.is}):r.createElement(a)}}e[Re]=t,e[Be]=s;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch($d(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ql(t)}}return Ql(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&ql(t);else{if("string"!==typeof s&&null===t.stateNode)throw Error(o(166));if(e=X.current,ar(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,null!==(r=$s))switch(r.tag){case 27:case 5:s=r.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===a||null!==s&&!0===s.suppressHydrationWarning||Ud(e.nodeValue,a)))||Zs(t)}else(e=Kd(e).createTextNode(s))[Re]=t,t.stateNode=e}return Ql(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=ar(t),null!==s&&null!==s.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[Re]=t}else sr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),r=!1}else null!==Ks&&(Ic(Ks),Ks=null),r=!0;if(!r)return 256&t.flags?(Tr(t),t):(Tr(t),null)}if(Tr(t),0!==(128&t.flags))return t.lanes=a,t;if(a=null!==s,e=null!==e&&null!==e.memoizedState,a){r=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(r=s.alternate.memoizedState.cachePool.pool);var n=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(n=s.memoizedState.cachePool.pool),n!==r&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),$l(t,t.updateQueue),Ql(t),null;case 4:return ee(),null===e&&Pd(t.stateNode.containerInfo),Ql(t),null;case 10:return yi(t.type),Ql(t),null;case 19:if($(Pr),null===(r=t.memoizedState))return Ql(t),null;if(s=0!==(128&t.flags),null===(n=r.rendering))if(s)Yl(r,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(n=zr(e))){for(t.flags|=128,Yl(r,!1),e=n.updateQueue,t.updateQueue=e,$l(t,e),t.subtreeFlags=0,e=a,a=t.child;null!==a;)Bl(a,e),a=a.sibling;return Y(Pr,1&Pr.current|2),t.child}e=e.sibling}null!==r.tail&&le()>jc&&(t.flags|=128,s=!0,Yl(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=zr(n))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,$l(t,e),Yl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!n.alternate&&!Qs)return Ql(t),null}else 2*le()-r.renderingStartTime>jc&&536870912!==a&&(t.flags|=128,s=!0,Yl(r,!1),t.lanes=4194304);r.isBackwards?(n.sibling=t.child,t.child=n):(null!==(e=r.last)?e.sibling=n:t.child=n,r.last=n)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=le(),t.sibling=null,e=Pr.current,Y(Pr,s?1&e|2:1&e),t):(Ql(t),null);case 22:case 23:return Tr(t),Sr(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?0!==(536870912&a)&&0===(128&t.flags)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null!==(a=t.updateQueue)&&$l(t,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),null!==e&&$($r),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),yi(Rr),Ql(t),null;case 25:return null}throw Error(o(156,t.tag))}function Xl(e,t){switch(Gs(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yi(Rr),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ae(t),null;case 13:if(Tr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));sr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $(Pr),null;case 4:return ee(),null;case 10:return yi(t.type),null;case 22:case 23:return Tr(t),Sr(),null!==e&&$($r),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yi(Rr),null;default:return null}}function Jl(e,t){switch(Gs(t),t.tag){case 3:yi(Rr),ee();break;case 26:case 27:case 5:ae(t);break;case 4:ee();break;case 13:Tr(t);break;case 19:$(Pr);break;case 10:yi(t.type);break;case 22:case 23:Tr(t),Sr(),null!==e&&$($r);break;case 24:yi(Rr)}}var Zl={getCacheForType:function(e){var t=ki(Rr),a=t.data.get(e);return void 0===a&&(a=e(),t.data.set(e,a)),a}},ec="function"===typeof WeakMap?WeakMap:Map,tc=0,ac=null,sc=null,rc=0,nc=0,oc=null,ic=!1,lc=!1,cc=!1,dc=0,uc=0,hc=0,mc=0,xc=0,pc=0,fc=0,gc=null,bc=null,yc=!1,vc=0,jc=1/0,wc=null,Nc=null,_c=!1,kc=null,Sc=0,Cc=0,Mc=null,Lc=0,Ec=null;function Ac(){if(0!==(2&tc)&&0!==rc)return rc&-rc;if(null!==E.T){return 0!==Ur?Ur:wd()}return Oe()}function Tc(){0===pc&&(pc=0===(536870912&rc)||Qs?Le():536870912);var e=Cr.current;return null!==e&&(e.flags|=32),pc}function Pc(e,t,a){(e===ac&&2===nc||null!==e.cancelPendingCommit)&&(Wc(e,0),Rc(e,rc,pc,!1)),Te(e,a),0!==(2&tc)&&e===ac||(e===ac&&(0===(2&tc)&&(mc|=a),4===uc&&Rc(e,rc,pc,!1)),fd(e))}function zc(e,t,a){if(0!==(6&tc))throw Error(o(327));for(var s=!a&&0===(60&t)&&0===(t&e.expiredLanes)||Ce(e,t),r=s?function(e,t){var a=tc;tc|=2;var s=Uc(),r=Hc();ac!==e||rc!==t?(wc=null,jc=le()+500,Wc(e,t)):lc=Ce(e,t);e:for(;;)try{if(0!==nc&&null!==sc){t=sc;var n=oc;t:switch(nc){case 1:nc=0,oc=null,Xc(e,t,n,1);break;case 2:if(lr(n)){nc=0,oc=null,Kc(t);break}t=function(){2===nc&&ac===e&&(nc=7),fd(e)},n.then(t,t);break e;case 3:nc=7;break e;case 4:nc=5;break e;case 7:lr(n)?(nc=0,oc=null,Kc(t)):(nc=0,oc=null,Xc(e,t,n,7));break;case 5:var i=null;switch(sc.tag){case 26:i=sc.memoizedState;case 5:case 27:var l=sc;if(!i||Eu(i)){nc=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var d=l.return;null!==d?(sc=d,Jc(d)):sc=null}break t}}nc=0,oc=null,Xc(e,t,n,5);break;case 6:nc=0,oc=null,Xc(e,t,n,6);break;case 8:Fc(),uc=6;break e;default:throw Error(o(462))}}Yc();break}catch(u){Vc(e,u)}return gi=fi=null,E.H=s,E.A=r,tc=a,null!==sc?0:(ac=null,rc=0,ks(),uc)}(e,t):Gc(e,t,!0),n=s;;){if(0===r){lc&&!s&&Rc(e,t,0,!1);break}if(6===r)Rc(e,t,0,!ic);else{if(a=e.current.alternate,n&&!Dc(a)){r=Gc(e,t,!1),n=!1;continue}if(2===r){if(n=t,e.errorRecoveryDisabledLanes&n)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var l=e;r=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,i).flags|=256),2!==(i=Gc(l,i,!1))){if(cc&&!c){l.errorRecoveryDisabledLanes|=n,mc|=n,r=4;break e}n=bc,bc=r,null!==n&&Ic(n)}r=i}if(n=!1,2!==r)continue}}if(1===r){Wc(e,0),Rc(e,t,0,!0);break}e:{switch(s=e,r){case 0:case 1:throw Error(o(345));case 4:if((4194176&t)===t){Rc(s,t,pc,!ic);break e}break;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if(s.finishedWork=a,s.finishedLanes=t,(62914560&t)===t&&10<(n=vc+300-le())){if(Rc(s,t,pc,!ic),0!==Se(s,0))break e;s.timeoutHandle=tu(Oc.bind(null,s,a,bc,wc,yc,t,pc,mc,fc,ic,2,-0,0),n)}else Oc(s,a,bc,wc,yc,t,pc,mc,fc,ic,0,-0,0)}}break}fd(e)}function Ic(e){null===bc?bc=e:bc.push.apply(bc,e)}function Oc(e,t,a,s,r,n,i,l,c,d,u,h,m){var x=t.subtreeFlags;if((8192&x||16785408===(16785408&x))&&(Au={stylesheets:null,count:0,unsuspend:Tu},Ll(t),null!==(t=function(){if(null===Au)throw Error(o(475));var e=Au;return e.stylesheets&&0===e.count&&Iu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout((function(){if(e.stylesheets&&Iu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}())))return e.cancelPendingCommit=t(ed.bind(null,e,a,s,r,i,l,c,1,h,m)),void Rc(e,n,i,!d);ed(e,a,s,r,i,l,c,u,h,m)}function Dc(e){for(var t=e;;){var a=t.tag;if((0===a||11===a||15===a)&&16384&t.flags&&(null!==(a=t.updateQueue)&&null!==(a=a.stores)))for(var s=0;s<a.length;s++){var r=a[s],n=r.getSnapshot;r=r.value;try{if(!$a(n(),r))return!1}catch(o){return!1}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rc(e,t,a,s){t&=~xc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var n=31-ve(r),o=1<<n;s[n]=-1,r&=~o}0!==a&&Pe(e,a,t)}function Bc(){return 0!==(6&tc)||(gd(0,!1),!1)}function Fc(){if(null!==sc){if(0===nc)var e=sc.return;else gi=fi=null,gn(e=sc),mr=null,xr=0,e=sc;for(;null!==e;)Jl(e.alternate,e),e=e.return;sc=null}}function Wc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,au(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),Fc(),ac=e,sc=a=Rl(e.current,null),rc=t,nc=0,oc=null,ic=!1,lc=Ce(e,t),cc=!1,fc=pc=xc=mc=hc=uc=0,bc=gc=null,yc=!1,0!==(8&t)&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var r=31-ve(s),n=1<<r;t|=e[r],s&=~n}return dc=t,ks(),a}function Vc(e,t){Jr=null,E.H=ko,t===nr?(t=hr(),nc=3):t===or?(t=hr(),nc=4):nc=t===Uo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(uc=1,Ro(e,Ps(t,e.current)))}function Uc(){var e=E.H;return E.H=ko,null===e?ko:e}function Hc(){var e=E.A;return E.A=Zl,e}function qc(){uc=4,ic||(4194176&rc)!==rc&&null!==Cr.current||(lc=!0),0===(134217727&hc)&&0===(134217727&mc)||null===ac||Rc(ac,rc,pc,!1)}function Gc(e,t,a){var s=tc;tc|=2;var r=Uc(),n=Hc();ac===e&&rc===t||(wc=null,Wc(e,t)),t=!1;var o=uc;e:for(;;)try{if(0!==nc&&null!==sc){var i=sc,l=oc;switch(nc){case 8:Fc(),o=6;break e;case 3:case 2:case 6:null===Cr.current&&(t=!0);var c=nc;if(nc=0,oc=null,Xc(e,i,l,c),a&&lc){o=0;break e}break;default:c=nc,nc=0,oc=null,Xc(e,i,l,c)}}$c(),o=uc;break}catch(d){Vc(e,d)}return t&&e.shellSuspendCounter++,gi=fi=null,tc=s,E.H=r,E.A=n,null===sc&&(ac=null,rc=0,ks()),o}function $c(){for(;null!==sc;)Qc(sc)}function Yc(){for(;null!==sc&&!oe();)Qc(sc)}function Qc(e){var t=xi(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?Jc(e):sc=t}function Kc(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Zo(a,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Zo(a,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:gn(t);default:Jl(a,t),t=xi(a,t=sc=Bl(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?Jc(e):sc=t}function Xc(e,t,a,s){gi=fi=null,gn(t),mr=null,xr=0;var r=t.return;try{if(function(e,t,a,s,r){if(a.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){if(null!==(t=a.alternate)&&wi(t,a,r,!0),null!==(a=Cr.current)){switch(a.tag){case 13:return null===Mr?qc():null===a.alternate&&0===uc&&(uc=3),a.flags&=-257,a.flags|=65536,a.lanes=r,s===ir?a.flags|=16384:(null===(t=a.updateQueue)?a.updateQueue=new Set([s]):t.add(s),nd(e,s,r)),!1;case 22:return a.flags|=65536,s===ir?a.flags|=16384:(null===(t=a.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):null===(a=t.retryQueue)?t.retryQueue=new Set([s]):a.add(s),nd(e,s,r)),!1}throw Error(o(435,a.tag))}return nd(e,s,r),qc(),!1}if(Qs)return null!==(t=Cr.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Js&&rr(Ps(e=Error(o(422),{cause:s}),a))):(s!==Js&&rr(Ps(t=Error(o(423),{cause:s}),a)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,s=Ps(s,a),zi(e,r=Fo(e.stateNode,s,r)),4!==uc&&(uc=2)),!1;var n=Error(o(520),{cause:s});if(n=Ps(n,a),null===gc?gc=[n]:gc.push(n),4!==uc&&(uc=2),null===t)return!0;s=Ps(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,zi(a,e=Fo(a.stateNode,s,e)),!1;case 1:if(t=a.type,n=a.stateNode,0===(128&a.flags)&&("function"===typeof t.getDerivedStateFromError||null!==n&&"function"===typeof n.componentDidCatch&&(null===Nc||!Nc.has(n))))return a.flags|=65536,r&=-r,a.lanes|=r,Vo(r=Wo(r),e,a,s),zi(a,r),!1}a=a.return}while(null!==a);return!1}(e,r,t,a,rc))return uc=1,Ro(e,Ps(a,e.current)),void(sc=null)}catch(n){if(null!==r)throw sc=r,n;return uc=1,Ro(e,Ps(a,e.current)),void(sc=null)}32768&t.flags?(Qs||1===s?e=!0:lc||0!==(536870912&rc)?e=!1:(ic=e=!0,(2===s||3===s||6===s)&&(null!==(s=Cr.current)&&13===s.tag&&(s.flags|=16384))),Zc(t,e)):Jc(t)}function Jc(e){var t=e;do{if(0!==(32768&t.flags))return void Zc(t,ic);e=t.return;var a=Kl(t.alternate,t,dc);if(null!==a)return void(sc=a);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===uc&&(uc=5)}function Zc(e,t){do{var a=Xl(e.alternate,e);if(null!==a)return a.flags&=32767,void(sc=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=a}while(null!==e);uc=6,sc=null}function ed(e,t,a,s,r,n,i,l,c,d){var u=E.T,h=V.p;try{V.p=2,E.T=null,function(e,t,a,s,r,n,i,l){do{ad()}while(null!==kc);if(0!==(6&tc))throw Error(o(327));var c=e.finishedWork;if(s=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var d=c.lanes|c.childLanes;if(function(e,t,a,s,r,n){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(a=o&~a;0<a;){var d=31-ve(a),u=1<<d;i[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}a&=~u}0!==s&&Pe(e,s,0),0!==n&&0===r&&0!==e.tag&&(e.suspendedLanes|=n&~(o&~t))}(e,s,d|=_s,n,i,l),e===ac&&(sc=ac=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||_c||(_c=!0,Cc=d,Mc=a,function(e,t){re(e,t)}(he,(function(){return ad(),null}))),a=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||a?(a=E.T,E.T=null,n=V.p,V.p=2,i=tc,tc|=4,function(e,t){if(e=e.containerInfo,Yd=qu,Za(e=Ja(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var r=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{a.nodeType,n.nodeType}catch(f){a=null;break e}var i=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var x;h!==a||0!==r&&3!==h.nodeType||(l=i+r),h!==n||0!==s&&3!==h.nodeType||(c=i+s),3===h.nodeType&&(i+=h.nodeValue.length),null!==(x=h.firstChild);)m=h,h=x;for(;;){if(h===e)break t;if(m===a&&++d===r&&(l=i),m===n&&++u===s&&(c=i),null!==(x=h.nextSibling))break;m=(h=m).parentNode}h=x}a=-1===l||-1===c?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:e,selectionRange:a},qu=!1,al=t;null!==al;)if(e=(t=al).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,al=e;else for(;null!==al;){switch(n=(t=al).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==n){e=void 0,a=t,r=n.memoizedProps,n=n.memoizedState,s=a.stateNode;try{var p=Po(a.type,r,(a.elementType,a.type));e=s.getSnapshotBeforeUpdate(p,n),s.__reactInternalSnapshotBeforeUpdate=e}catch(g){rd(a,a.return,g)}}break;case 3:if(0!==(1024&e))if(9===(a=(e=t.stateNode.containerInfo).nodeType))iu(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":iu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,al=e;break}al=t.return}p=rl,rl=!1}(e,c),pl(c,e),es(Qd,e.containerInfo),qu=!!Yd,Qd=Yd=null,e.current=c,nl(e,c.alternate,c),ie(),tc=i,V.p=n,E.T=a):e.current=c,_c?(_c=!1,kc=e,Sc=s):td(e,d),d=e.pendingLanes,0===d&&(Nc=null),function(e){if(be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),fd(e),null!==t)for(r=e.onRecoverableError,c=0;c<t.length;c++)d=t[c],r(d.value,{componentStack:d.stack});0!==(3&Sc)&&ad(),d=e.pendingLanes,0!==(4194218&s)&&0!==(42&d)?e===Ec?Lc++:(Lc=0,Ec=e):Lc=0,gd(0,!1)}(e,t,a,s,h,r,n,i)}finally{E.T=u,V.p=h}}function td(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fr(t)))}function ad(){if(null!==kc){var e=kc,t=Cc;Cc=0;var a=Ie(Sc),s=E.T,r=V.p;try{if(V.p=32>a?32:a,E.T=null,null===kc)var n=!1;else{a=Mc,Mc=null;var i=kc,l=Sc;if(kc=null,Sc=0,0!==(6&tc))throw Error(o(331));var c=tc;if(tc|=4,Tl(i.current),_l(i,i.current,l,a),tc=c,gd(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,i)}catch(d){}n=!0}return n}finally{V.p=r,E.T=s,td(e,t)}}return!1}function sd(e,t,a){t=Ps(a,t),null!==(e=Ti(e,t=Fo(e.stateNode,t,2),2))&&(Te(e,2),fd(e))}function rd(e,t,a){if(3===e.tag)sd(e,e,a);else for(;null!==t;){if(3===t.tag){sd(t,e,a);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Nc||!Nc.has(s))){e=Ps(a,e),null!==(s=Ti(t,a=Wo(2),2))&&(Vo(a,s,t,e),Te(s,2),fd(s));break}}t=t.return}}function nd(e,t,a){var s=e.pingCache;if(null===s){s=e.pingCache=new ec;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(a)||(cc=!0,r.add(a),e=od.bind(null,e,t,a),t.then(e,e))}function od(e,t,a){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ac===e&&(rc&a)===a&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-vc?0===(2&tc)&&Wc(e,0):xc|=a,fc===rc&&(fc=0)),fd(e)}function id(e,t){0===t&&(t=Ee()),null!==(e=Ms(e,t))&&(Te(e,t),fd(e))}function ld(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),id(e,a)}function cd(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==s&&s.delete(t),id(e,a)}var dd=null,ud=null,hd=!1,md=!1,xd=!1,pd=0;function fd(e){var t;e!==ud&&null===e.next&&(null===ud?dd=ud=e:ud=ud.next=e),md=!0,hd||(hd=!0,t=bd,ru((function(){0!==(6&tc)?re(de,t):t()})))}function gd(e,t){if(!xd&&md){xd=!0;do{for(var a=!1,s=dd;null!==s;){if(!t)if(0!==e){var r=s.pendingLanes;if(0===r)var n=0;else{var o=s.suspendedLanes,i=s.pingedLanes;n=(1<<31-ve(42|e)+1)-1,n=201326677&(n&=r&~(o&~i))?201326677&n|1:n?2|n:0}0!==n&&(a=!0,jd(s,n))}else n=rc,0===(3&(n=Se(s,s===ac?n:0)))||Ce(s,n)||(a=!0,jd(s,n));s=s.next}}while(a);xd=!1}}function bd(){md=hd=!1;var e=0;0!==pd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==eu&&(eu=e,!0);return eu=null,!1}()&&(e=pd),pd=0);for(var t=le(),a=null,s=dd;null!==s;){var r=s.next,n=yd(s,t);0===n?(s.next=null,null===a?dd=r:a.next=r,null===r&&(ud=a)):(a=s,(0!==e||0!==(3&n))&&(md=!0)),s=r}gd(e,!1)}function yd(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,n=-62914561&e.pendingLanes;0<n;){var o=31-ve(n),i=1<<o,l=r[o];-1===l?0!==(i&a)&&0===(i&s)||(r[o]=Me(i,t)):l<=t&&(e.expiredLanes|=i),n&=~i}if(a=rc,a=Se(e,e===(t=ac)?a:0),s=e.callbackNode,0===a||e===t&&2===nc||null!==e.cancelPendingCommit)return null!==s&&null!==s&&ne(s),e.callbackNode=null,e.callbackPriority=0;if(0===(3&a)||Ce(e,a)){if((t=a&-a)===e.callbackPriority)return t;switch(null!==s&&ne(s),Ie(a)){case 2:case 8:a=ue;break;case 32:default:a=he;break;case 268435456:a=xe}return s=vd.bind(null,e),a=re(a,s),e.callbackPriority=t,e.callbackNode=a,t}return null!==s&&null!==s&&ne(s),e.callbackPriority=2,e.callbackNode=null,2}function vd(e,t){var a=e.callbackNode;if(ad()&&e.callbackNode!==a)return null;var s=rc;return 0===(s=Se(e,e===ac?s:0))?null:(zc(e,s,t),yd(e,le()),null!=e.callbackNode&&e.callbackNode===a?vd.bind(null,e):null)}function jd(e,t){if(ad())return null;zc(e,t,!0)}function wd(){return 0===pd&&(pd=Le()),pd}function Nd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function _d(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}for(var kd=0;kd<vs.length;kd++){var Sd=vs[kd];js(Sd.toLowerCase(),"on"+(Sd[0].toUpperCase()+Sd.slice(1)))}js(hs,"onAnimationEnd"),js(ms,"onAnimationIteration"),js(xs,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(ps,"onTransitionRun"),js(fs,"onTransitionStart"),js(gs,"onTransitionCancel"),js(bs,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Md=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function Ld(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var s=e[a],r=s.event;s=s.listeners;e:{var n=void 0;if(t)for(var o=s.length-1;0<=o;o--){var i=s[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==n&&r.isPropagationStopped())break e;n=i,r.currentTarget=c;try{n(r)}catch(d){zo(d)}r.currentTarget=null,n=l}else for(o=0;o<s.length;o++){if(l=(i=s[o]).instance,c=i.currentTarget,i=i.listener,l!==n&&r.isPropagationStopped())break e;n=i,r.currentTarget=c;try{n(r)}catch(d){zo(d)}r.currentTarget=null,n=l}}}}function Ed(e,t){var a=t[We];void 0===a&&(a=t[We]=new Set);var s=e+"__bubble";a.has(s)||(zd(t,e,2,!1),a.add(s))}function Ad(e,t,a){var s=0;t&&(s|=4),zd(a,e,s,t)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[Td]){e[Td]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Md.has(t)||Ad(t,!1,e),Ad(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Td]||(t[Td]=!0,Ad("selectionchange",!1,t))}}function zd(e,t,a,s){switch(Ju(t)){case 2:var r=Gu;break;case 8:r=$u;break;default:r=Yu}a=r.bind(null,t,a,e),r=void 0,!Rt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Id(e,t,a,s,r){var n=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var o=s.tag;if(3===o||4===o){var i=s.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===o)for(o=s.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==i;){if(null===(o=$e(i)))return;if(5===(l=o.tag)||6===l||26===l||27===l){s=n=o;continue e}i=i.parentNode}}s=s.return}Ot((function(){var s=n,r=At(a),o=[];e:{var i=ys.get(e);if(void 0!==i){var l=Jt,c=e;switch(e){case"keypress":if(0===Ht(a))break e;case"keydown":case"keyup":l=ma;break;case"focusin":c="focus",l=ra;break;case"focusout":c="blur",l=ra;break;case"beforeblur":case"afterblur":l=ra;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=pa;break;case hs:case ms:case xs:l=na;break;case bs:l=fa;break;case"scroll":case"scrollend":l=ea;break;case"wheel":l=ga;break;case"copy":case"cut":case"paste":l=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xa;break;case"toggle":case"beforetoggle":l=ba}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==i?i+"Capture":null:i;d=[];for(var m,x=s;null!==x;){var p=x;if(m=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===m||null===h||null!=(p=Dt(x,h))&&d.push(Od(x,p,m)),u)break;x=x.return}0<d.length&&(i=new l(i,c,null,a,r),o.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||a===Et||!(c=a.relatedTarget||a.fromElement)||!$e(c)&&!c[Fe])&&(l||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=s,null!==(c=(c=a.relatedTarget||a.toElement)?$e(c):null)&&(u=D(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(l=null,c=s),l!==c)){if(d=aa,p="onMouseLeave",h="onMouseEnter",x="mouse","pointerout"!==e&&"pointerover"!==e||(d=xa,p="onPointerLeave",h="onPointerEnter",x="pointer"),u=null==l?i:Qe(l),m=null==c?i:Qe(c),(i=new d(p,x+"leave",l,a,r)).target=u,i.relatedTarget=m,p=null,$e(r)===s&&((d=new d(h,x+"enter",c,a,r)).target=m,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,x=0,m=d=l;m;m=Rd(m))x++;for(m=0,p=h;p;p=Rd(p))m++;for(;0<x-m;)d=Rd(d),x--;for(;0<m-x;)h=Rd(h),m--;for(;x--;){if(d===h||null!==h&&d===h.alternate)break e;d=Rd(d),h=Rd(h)}d=null}else d=null;null!==l&&Bd(o,i,l,d,!1),null!==c&&null!==u&&Bd(o,u,c,d,!0)}if("select"===(l=(i=s?Qe(s):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var f=Oa;else if(Ea(i))if(Da)f=Ga;else{f=Ha;var g=Ua}else!(l=i.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?s&&St(s.elementType)&&(f=Oa):f=qa;switch(f&&(f=f(e,s))?Aa(o,f,a,r):(g&&g(e,i,s),"focusout"===e&&s&&"number"===i.type&&null!=s.memoizedProps.value&&bt(i,"number",i.value)),g=s?Qe(s):window,e){case"focusin":(Ea(g)||"true"===g.contentEditable)&&(as=g,ss=s,rs=null);break;case"focusout":rs=ss=as=null;break;case"mousedown":ns=!0;break;case"contextmenu":case"mouseup":case"dragend":ns=!1,os(o,a,r);break;case"selectionchange":if(ts)break;case"keydown":case"keyup":os(o,a,r)}var b;if(va)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ma?Sa(e,a)&&(y="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(y="onCompositionStart");y&&(Na&&"ko"!==a.locale&&(Ma||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ma&&(b=Ut()):(Wt="value"in(Ft=r)?Ft.value:Ft.textContent,Ma=!0)),0<(g=Dd(s,y)).length&&(y=new ia(y,e,null,a,r),o.push({event:y,listeners:g}),b?y.data=b:null!==(b=Ca(a))&&(y.data=b))),(b=wa?function(e,t){switch(e){case"compositionend":return Ca(t);case"keypress":return 32!==t.which?null:(ka=!0,_a);case"textInput":return(e=t.data)===_a&&ka?null:e;default:return null}}(e,a):function(e,t){if(Ma)return"compositionend"===e||!va&&Sa(e,t)?(e=Ut(),Vt=Wt=Ft=null,Ma=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Na&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(y=Dd(s,"onBeforeInput")).length&&(g=new ia("onBeforeInput","beforeinput",null,a,r),o.push({event:g,listeners:y}),g.data=b)),function(e,t,a,s,r){if("submit"===t&&a&&a.stateNode===r){var n=Nd((r[Be]||null).action),o=s.submitter;o&&null!==(t=(t=o[Be]||null)?Nd(t.formAction):o.getAttribute("formAction"))&&(n=t,o=null);var i=new Jt("action","action",null,s,r);e.push({event:i,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==pd){var e=o?_d(r,o):new FormData(r);uo(a,{pending:!0,data:e,method:r.method,action:n},null,e)}}else"function"===typeof n&&(i.preventDefault(),e=o?_d(r,o):new FormData(r),uo(a,{pending:!0,data:e,method:r.method,action:n},n,e))},currentTarget:r}]})}}(o,e,s,a,r)}Ld(o,t)}))}function Od(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Dd(e,t){for(var a=t+"Capture",s=[];null!==e;){var r=e,n=r.stateNode;5!==(r=r.tag)&&26!==r&&27!==r||null===n||(null!=(r=Dt(e,a))&&s.unshift(Od(e,r,n)),null!=(r=Dt(e,t))&&s.push(Od(e,r,n))),e=e.return}return s}function Rd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Bd(e,t,a,s,r){for(var n=t._reactName,o=[];null!==a&&a!==s;){var i=a,l=i.alternate,c=i.stateNode;if(i=i.tag,null!==l&&l===s)break;5!==i&&26!==i&&27!==i||null===c||(l=c,r?null!=(c=Dt(a,n))&&o.unshift(Od(a,c,l)):r||null!=(c=Dt(a,n))&&o.push(Od(a,c,l))),a=a.return}0!==o.length&&e.push({event:t,listeners:o})}var Fd=/\r\n?/g,Wd=/\u0000|\uFFFD/g;function Vd(e){return("string"===typeof e?e:""+e).replace(Fd,"\n").replace(Wd,"")}function Ud(e,t){return t=Vd(t),Vd(e)===t}function Hd(){}function qd(e,t,a,s,r,n){switch(a){case"children":"string"===typeof s?"body"===t||"textarea"===t&&""===s||wt(e,s):("number"===typeof s||"bigint"===typeof s)&&"body"!==t&&wt(e,""+s);break;case"className":it(e,"class",s);break;case"tabIndex":it(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,a,s);break;case"style":kt(e,s,n);break;case"data":if("object"!==t){it(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==a)){e.removeAttribute(a);break}if(null==s||"function"===typeof s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(a);break}s=Lt(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if("function"===typeof s){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof n&&("formAction"===a?("input"!==t&&qd(e,t,"name",r.name,r,null),qd(e,t,"formEncType",r.formEncType,r,null),qd(e,t,"formMethod",r.formMethod,r,null),qd(e,t,"formTarget",r.formTarget,r,null)):(qd(e,t,"encType",r.encType,r,null),qd(e,t,"method",r.method,r,null),qd(e,t,"target",r.target,r,null))),null==s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(a);break}s=Lt(""+s),e.setAttribute(a,s);break;case"onClick":null!=s&&(e.onclick=Hd);break;case"onScroll":null!=s&&Ed("scroll",e);break;case"onScrollEnd":null!=s&&Ed("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(o(61));if(null!=(a=s.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"muted":e.muted=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"===typeof s||"boolean"===typeof s||"symbol"===typeof s){e.removeAttribute("xlink:href");break}a=Lt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===s?e.setAttribute(a,""):!1!==s&&null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":null==s||"function"===typeof s||"symbol"===typeof s||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ed("beforetoggle",e),Ed("toggle",e),ot(e,"popover",s);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ot(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&ot(e,a=Ct.get(a)||a,s)}}function Gd(e,t,a,s,r,n){switch(a){case"style":kt(e,s,n);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(o(61));if(null!=(a=s.__html)){if(null!=r.children)throw Error(o(60));e.innerHTML=a}}break;case"children":"string"===typeof s?wt(e,s):("number"===typeof s||"bigint"===typeof s)&&wt(e,""+s);break;case"onScroll":null!=s&&Ed("scroll",e);break;case"onScrollEnd":null!=s&&Ed("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Hd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),"function"===typeof(n=null!=(n=e[Be]||null)?n[a]:null)&&e.removeEventListener(t,n,r),"function"!==typeof s)?a in e?e[a]=s:!0===s?e.setAttribute(a,""):ot(e,a,s):("function"!==typeof n&&null!==n&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,r)))}}function $d(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ed("error",e),Ed("load",e);var s,r=!1,n=!1;for(s in a)if(a.hasOwnProperty(s)){var i=a[s];if(null!=i)switch(s){case"src":r=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qd(e,t,s,i,a,null)}}return n&&qd(e,t,"srcSet",a.srcSet,a,null),void(r&&qd(e,t,"src",a.src,a,null));case"input":Ed("invalid",e);var l=s=i=n=null,c=null,d=null;for(r in a)if(a.hasOwnProperty(r)){var u=a[r];if(null!=u)switch(r){case"name":n=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(o(137,t));break;default:qd(e,t,r,u,a,null)}}return gt(e,s,l,c,d,i,n,!1),void ut(e);case"select":for(n in Ed("invalid",e),r=i=s=null,a)if(a.hasOwnProperty(n)&&null!=(l=a[n]))switch(n){case"value":s=l;break;case"defaultValue":i=l;break;case"multiple":r=l;default:qd(e,t,n,l,a,null)}return t=s,a=i,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=a&&yt(e,!!r,a,!0));case"textarea":for(i in Ed("invalid",e),s=n=r=null,a)if(a.hasOwnProperty(i)&&null!=(l=a[i]))switch(i){case"value":r=l;break;case"defaultValue":n=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:qd(e,t,i,l,a,null)}return jt(e,r,n,s),void ut(e);case"option":for(c in a)if(a.hasOwnProperty(c)&&null!=(r=a[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else qd(e,t,c,r,a,null);return;case"dialog":Ed("cancel",e),Ed("close",e);break;case"iframe":case"object":Ed("load",e);break;case"video":case"audio":for(r=0;r<Cd.length;r++)Ed(Cd[r],e);break;case"image":Ed("error",e),Ed("load",e);break;case"details":Ed("toggle",e);break;case"embed":case"source":case"link":Ed("error",e),Ed("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&null!=(r=a[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qd(e,t,d,r,a,null)}return;default:if(St(t)){for(u in a)a.hasOwnProperty(u)&&(void 0!==(r=a[u])&&Gd(e,t,u,r,a,void 0));return}}for(l in a)a.hasOwnProperty(l)&&(null!=(r=a[l])&&qd(e,t,l,r,a,null))}var Yd=null,Qd=null;function Kd(e){return 9===e.nodeType?e:e.ownerDocument}function Xd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Zd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var eu=null;var tu="function"===typeof setTimeout?setTimeout:void 0,au="function"===typeof clearTimeout?clearTimeout:void 0,su="function"===typeof Promise?Promise:void 0,ru="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof su?function(e){return su.resolve(null).then(e).catch(nu)}:tu;function nu(e){setTimeout((function(){throw e}))}function ou(e,t){var a=t,s=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&8===r.nodeType)if("/$"===(a=r.data)){if(0===s)return e.removeChild(r),void fh(t);s--}else"$"!==a&&"$?"!==a&&"$!"!==a||s++;a=r}while(a);fh(t)}function iu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":iu(a),Ge(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function lu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}function du(e,t,a){switch(t=Kd(a),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}var uu=new Map,hu=new Set;function mu(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var xu=V.d;V.d={f:function(){var e=xu.f(),t=Bc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?mo(t):xu.r(e)},D:function(e){xu.D(e),fu("dns-prefetch",e,null)},C:function(e,t){xu.C(e,t),fu("preconnect",e,t)},L:function(e,t,a){xu.L(e,t,a);var s=pu;if(s&&e&&t){var r='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&a&&a.imageSrcSet?(r+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',"string"===typeof a.imageSizes&&(r+='[imagesizes="'+pt(a.imageSizes)+'"]')):r+='[href="'+pt(e)+'"]';var n=r;switch(t){case"style":n=bu(e);break;case"script":n=ju(e)}uu.has(n)||(e=A({rel:"preload",href:"image"===t&&a&&a.imageSrcSet?void 0:e,as:t},a),uu.set(n,e),null!==s.querySelector(r)||"style"===t&&s.querySelector(yu(n))||"script"===t&&s.querySelector(wu(n))||($d(t=s.createElement("link"),"link",e),Xe(t),s.head.appendChild(t)))}},m:function(e,t){xu.m(e,t);var a=pu;if(a&&e){var s=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+pt(s)+'"][href="'+pt(e)+'"]',n=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=ju(e)}if(!uu.has(n)&&(e=A({rel:"modulepreload",href:e},t),uu.set(n,e),null===a.querySelector(r))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wu(n)))return}$d(s=a.createElement("link"),"link",e),Xe(s),a.head.appendChild(s)}}},X:function(e,t){xu.X(e,t);var a=pu;if(a&&e){var s=Ke(a).hoistableScripts,r=ju(e),n=s.get(r);n||((n=a.querySelector(wu(r)))||(e=A({src:e,async:!0},t),(t=uu.get(r))&&Su(e,t),Xe(n=a.createElement("script")),$d(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}},S:function(e,t,a){xu.S(e,t,a);var s=pu;if(s&&e){var r=Ke(s).hoistableStyles,n=bu(e);t=t||"default";var o=r.get(n);if(!o){var i={loading:0,preload:null};if(o=s.querySelector(yu(n)))i.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},a),(a=uu.get(n))&&ku(e,a);var l=o=s.createElement("link");Xe(l),$d(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){i.loading|=1})),l.addEventListener("error",(function(){i.loading|=2})),i.loading|=4,_u(o,t,s)}o={type:"stylesheet",instance:o,count:1,state:i},r.set(n,o)}}},M:function(e,t){xu.M(e,t);var a=pu;if(a&&e){var s=Ke(a).hoistableScripts,r=ju(e),n=s.get(r);n||((n=a.querySelector(wu(r)))||(e=A({src:e,async:!0,type:"module"},t),(t=uu.get(r))&&Su(e,t),Xe(n=a.createElement("script")),$d(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}}};var pu="undefined"===typeof document?null:document;function fu(e,t,a){var s=pu;if(s&&"string"===typeof t&&t){var r=pt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof a&&(r+='[crossorigin="'+a+'"]'),hu.has(r)||(hu.add(r),e={rel:e,crossOrigin:a,href:t},null===s.querySelector(r)&&($d(t=s.createElement("link"),"link",e),Xe(t),s.head.appendChild(t)))}}function gu(e,t,a,s){var r,n,i,l,c=(c=X.current)?mu(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof a.precedence&&"string"===typeof a.href?(t=bu(a.href),(s=(a=Ke(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"===typeof a.href&&"string"===typeof a.precedence){e=bu(a.href);var d=Ke(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(yu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),uu.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},uu.set(e,a),d||(r=c,n=e,i=a,l=u.state,r.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=r.createElement("link"),l.preload=n,n.addEventListener("load",(function(){return l.loading|=1})),n.addEventListener("error",(function(){return l.loading|=2})),$d(n,"link",i),Xe(n),r.head.appendChild(n))))),t&&null===s)throw Error(o(528,""));return u}if(t&&null!==s)throw Error(o(529,""));return null;case"script":return t=a.async,"string"===typeof(a=a.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=ju(a),(s=(a=Ke(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function bu(e){return'href="'+pt(e)+'"'}function yu(e){return'link[rel="stylesheet"]['+e+"]"}function vu(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ju(e){return'[src="'+pt(e)+'"]'}function wu(e){return"script[async]"+e}function Nu(e,t,a){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+pt(a.href)+'"]');if(s)return t.instance=s,Xe(s),s;var r=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return Xe(s=(e.ownerDocument||e).createElement("style")),$d(s,"style",r),_u(s,a.precedence,e),t.instance=s;case"stylesheet":r=bu(a.href);var n=e.querySelector(yu(r));if(n)return t.state.loading|=4,t.instance=n,Xe(n),n;s=vu(a),(r=uu.get(r))&&ku(s,r),Xe(n=(e.ownerDocument||e).createElement("link"));var i=n;return i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),$d(n,"link",s),t.state.loading|=4,_u(n,a.precedence,e),t.instance=n;case"script":return n=ju(a.src),(r=e.querySelector(wu(n)))?(t.instance=r,Xe(r),r):(s=a,(r=uu.get(n))&&Su(s=A({},a),r),Xe(r=(e=e.ownerDocument||e).createElement("script")),$d(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,_u(s,a.precedence,e));return t.instance}function _u(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,n=r,o=0;o<s.length;o++){var i=s[o];if(i.dataset.precedence===t)n=i;else if(n!==r)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=9===a.nodeType?a.head:a).insertBefore(e,t.firstChild)}function ku(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Su(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cu=null;function Mu(e,t,a){if(null===Cu){var s=new Map,r=Cu=new Map;r.set(a,s)}else(s=(r=Cu).get(a))||(s=new Map,r.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var n=a[r];if(!(n[qe]||n[Re]||"link"===e&&"stylesheet"===n.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==n.namespaceURI){var o=n.getAttribute(t)||"";o=e+o;var i=s.get(o);i?i.push(n):s.set(o,[n])}}return s}function Lu(e,t,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===t?e.querySelector("head > title"):null)}function Eu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Au=null;function Tu(){}function Pu(){if(this.count--,0===this.count)if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var zu=null;function Iu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,zu=new Map,t.forEach(Ou,e),zu=null,Pu.call(e))}function Ou(e,t){if(!(4&t.state.loading)){var a=zu.get(e);if(a)var s=a.get(null);else{a=new Map,zu.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<r.length;n++){var o=r[n];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(a.set(o.dataset.precedence,o),s=o)}s&&a.set(null,s)}o=(r=t.instance).getAttribute("data-precedence"),(n=a.get(o)||s)===s&&a.set(null,r),a.set(o,r),this.count++,s=Pu.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),n?n.parentNode.insertBefore(r,n.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Du={$$typeof:f,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Ru(e,t,a,s,r,n,o,i){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=n,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Bu(e,t,a,s,r,n,o,i,l,c,d,u){return e=new Ru(e,t,a,o,i,l,c,u),t=1,!0===n&&(t|=24),n=Ol(3,null,null,t),e.current=n,n.stateNode=e,(t=Br()).refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:s,isDehydrated:a,cache:t},Li(n),e}function Fu(e){return e?e=As:As}function Wu(e,t,a,s,r,n){r=Fu(r),null===s.context?s.context=r:s.pendingContext=r,(s=Ai(t)).payload={element:a},null!==(n=void 0===n?null:n)&&(s.callback=n),null!==(a=Ti(e,s,t))&&(Pc(a,0,t),Pi(a,e,t))}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Uu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function Hu(e){if(13===e.tag){var t=Ms(e,67108864);null!==t&&Pc(t,0,67108864),Uu(e,67108864)}}var qu=!0;function Gu(e,t,a,s){var r=E.T;E.T=null;var n=V.p;try{V.p=2,Yu(e,t,a,s)}finally{V.p=n,E.T=r}}function $u(e,t,a,s){var r=E.T;E.T=null;var n=V.p;try{V.p=8,Yu(e,t,a,s)}finally{V.p=n,E.T=r}}function Yu(e,t,a,s){if(qu){var r=Qu(s);if(null===r)Id(e,t,s,Ku,a),ih(e,s);else if(function(e,t,a,s,r){switch(t){case"focusin":return eh=lh(eh,e,t,a,s,r),!0;case"dragenter":return th=lh(th,e,t,a,s,r),!0;case"mouseover":return ah=lh(ah,e,t,a,s,r),!0;case"pointerover":var n=r.pointerId;return sh.set(n,lh(sh.get(n)||null,e,t,a,s,r)),!0;case"gotpointercapture":return n=r.pointerId,rh.set(n,lh(rh.get(n)||null,e,t,a,s,r)),!0}return!1}(r,e,t,a,s))s.stopPropagation();else if(ih(e,s),4&t&&-1<oh.indexOf(e)){for(;null!==r;){var n=Ye(r);if(null!==n)switch(n.tag){case 3:if((n=n.stateNode).current.memoizedState.isDehydrated){var o=ke(n.pendingLanes);if(0!==o){var i=n;for(i.pendingLanes|=2,i.entangledLanes|=2;o;){var l=1<<31-ve(o);i.entanglements[1]|=l,o&=~l}fd(n),0===(6&tc)&&(jc=le()+500,gd(0,!1))}}break;case 13:null!==(i=Ms(n,2))&&Pc(i,0,2),Bc(),Uu(n,2)}if(null===(n=Qu(s))&&Id(e,t,s,Ku,a),n===r)break;r=n}null!==r&&s.stopPropagation()}else Id(e,t,s,null,a)}}function Qu(e){return Xu(e=At(e))}var Ku=null;function Xu(e){if(Ku=null,null!==(e=$e(e))){var t=D(e);if(null===t)e=null;else{var a=t.tag;if(13===a){if(null!==(e=R(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ku=e,null}function Ju(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case me:return 32;case xe:return 268435456;default:return 32}default:return 32}}var Zu=!1,eh=null,th=null,ah=null,sh=new Map,rh=new Map,nh=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ih(e,t){switch(e){case"focusin":case"focusout":eh=null;break;case"dragenter":case"dragleave":th=null;break;case"mouseover":case"mouseout":ah=null;break;case"pointerover":case"pointerout":sh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function lh(e,t,a,s,r,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:n,targetContainers:[r]},null!==t&&(null!==(t=Ye(t))&&Hu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function ch(e){var t=$e(e.target);if(null!==t){var a=D(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=R(a)))return e.blockedOn=t,void function(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}(e.priority,(function(){if(13===a.tag){var e=Ac(),t=Ms(a,e);null!==t&&Pc(t,0,e),Uu(a,e)}}))}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function dh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Qu(e.nativeEvent);if(null!==a)return null!==(t=Ye(a))&&Hu(t),e.blockedOn=a,!1;var s=new(a=e.nativeEvent).constructor(a.type,a);Et=s,a.target.dispatchEvent(s),Et=null,t.shift()}return!0}function uh(e,t,a){dh(e)&&a.delete(t)}function hh(){Zu=!1,null!==eh&&dh(eh)&&(eh=null),null!==th&&dh(th)&&(th=null),null!==ah&&dh(ah)&&(ah=null),sh.forEach(uh),rh.forEach(uh)}function mh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hh)))}var xh=null;function ph(e){xh!==e&&(xh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,(function(){xh===e&&(xh=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],r=e[t+2];if("function"!==typeof s){if(null===Xu(s||a))continue;break}var n=Ye(a);null!==n&&(e.splice(t,3),t-=3,uo(n,{pending:!0,data:r,method:a.method,action:s},s,r))}})))}function fh(e){function t(t){return mh(t,e)}null!==eh&&mh(eh,e),null!==th&&mh(th,e),null!==ah&&mh(ah,e),sh.forEach(t),rh.forEach(t);for(var a=0;a<nh.length;a++){var s=nh[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<nh.length&&null===(a=nh[0]).blockedOn;)ch(a),null===a.blockedOn&&nh.shift();if(null!=(a=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<a.length;s+=3){var r=a[s],n=a[s+1],o=r[Be]||null;if("function"===typeof n)o||ph(a);else if(o){var i=null;if(n&&n.hasAttribute("formAction")){if(r=n,o=n[Be]||null)i=o.formAction;else if(null!==Xu(r))continue}else i=o.action;"function"===typeof i?a[s+1]=i:(a.splice(s,3),s-=3),ph(a)}}}function gh(e){this._internalRoot=e}function bh(e){this._internalRoot=e}bh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(t.current,Ac(),e,t,null,null)},bh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&ad(),Wu(e.current,2,null,e,null,null),Bc(),t[Fe]=null}},bh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var a=0;a<nh.length&&0!==t&&t<nh[a].priority;a++);nh.splice(a,0,e),0===a&&ch(e)}};var yh=r.version;if("19.0.0"!==yh)throw Error(o(527,yh,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=D(e)))throw Error(o(188));return t!==e?null:e}for(var a=e,s=t;;){var r=a.return;if(null===r)break;var n=r.alternate;if(null===n){if(null!==(s=r.return)){a=s;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===a)return B(r),e;if(n===s)return B(r),t;n=n.sibling}throw Error(o(188))}if(a.return!==s.return)a=r,s=n;else{for(var i=!1,l=r.child;l;){if(l===a){i=!0,a=r,s=n;break}if(l===s){i=!0,s=r,a=n;break}l=l.sibling}if(!i){for(l=n.child;l;){if(l===a){i=!0,a=n,s=r;break}if(l===s){i=!0,s=n,a=r;break}l=l.sibling}if(!i)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(3!==a.tag)throw Error(o(188));return a.stateNode.current===a?e:t}(t),e=null===(e=null!==e?F(e):null)?null:e.stateNode};var vh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:E,findFiberByHostInstance:$e,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ge=jh.inject(vh),be=jh}catch(Nh){}}t.createRoot=function(e,t){if(!i(e))throw Error(o(299));var a=!1,s="",r=Io,n=Oo,l=Do;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(n=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Bu(e,1,!1,null,0,a,s,r,n,l,0,null),e[Fe]=t.current,Pd(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,a){if(!i(e))throw Error(o(299));var s=!1,r="",n=Io,l=Oo,c=Do,d=null;return null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(s=!0),void 0!==a.identifierPrefix&&(r=a.identifierPrefix),void 0!==a.onUncaughtError&&(n=a.onUncaughtError),void 0!==a.onCaughtError&&(l=a.onCaughtError),void 0!==a.onRecoverableError&&(c=a.onRecoverableError),void 0!==a.unstable_transitionCallbacks&&a.unstable_transitionCallbacks,void 0!==a.formState&&(d=a.formState)),(t=Bu(e,1,!0,t,0,s,r,n,l,c,0,d)).context=Fu(null),a=t.current,(r=Ai(s=Ac())).callback=null,Ti(a,r,s),t.current.lanes=s,Te(t,s),fd(t),e[Fe]=t.current,Pd(e),new bh(t)},t.version="19.0.0"},672:(e,t,a)=>{var s=a(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==s?null:""+s,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.flushSync=function(e){var t=l.T,a=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=a,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var a=t.as,s=c(a,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,n="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===a?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:n}):"script"===a&&o.d.X(e,{crossOrigin:s,integrity:r,fetchPriority:n,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var a=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var a=t.as,s=c(a,t.crossOrigin);o.d.L(e,a,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var a=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,a){return l.H.useFormState(e,t,a)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(4)},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(672)},799:(e,t)=>{var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(e,t,s){var r=null;if(void 0!==s&&(r=""+s),void 0!==t.key&&(r=""+t.key),"key"in t)for(var n in s={},t)"key"!==n&&(s[n]=t[n]);else s=t;return t=s.ref,{$$typeof:a,type:e,key:r,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=r,t.jsxs=r},288:(e,t)=>{var a=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function g(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||x}function b(){}function y(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||x}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,p(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function _(e,t,s,r,n,o){return s=o.ref,{$$typeof:a,type:e,key:t,ref:void 0!==s?s:null,props:o}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(){}function L(e,t,r,n,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case a:case s:d=!0;break;case h:return L((d=e._init)(e._payload),t,r,n,o)}}if(d)return o=o(e),d=""===n?"."+C(e,0):n,j(o)?(r="",null!=d&&(r=d.replace(S,"$&/")+"/"),L(o,t,r,"",(function(e){return e}))):null!=o&&(k(o)&&(l=o,c=r+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+d,o=_(l.type,c,void 0,0,0,l.props)),t.push(o)),1;d=0;var u,x=""===n?".":n+":";if(j(e))for(var p=0;p<e.length;p++)d+=L(n=e[p],t,r,i=x+C(n,p),o);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=m&&u[m]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(n=e.next()).done;)d+=L(n=n.value,t,r,i=x+C(n,p++),o);else if("object"===i){if("function"===typeof e.then)return L(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(M,M):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,n,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function E(e,t,a){if(null==e)return e;var s=[],r=0;return L(e,s,"","",(function(e){return t.call(a,e,r++)})),s}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:E,forEach:function(e,t,a){E(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=o,t.PureComponent=y,t.StrictMode=n,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var s=p({},e.props),r=e.key;if(null!=t)for(n in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!N.call(t,n)||"key"===n||"__self"===n||"__source"===n||"ref"===n&&void 0===t.ref||(s[n]=t[n]);var n=arguments.length-2;if(1===n)s.children=a;else if(1<n){for(var o=Array(n),i=0;i<n;i++)o[i]=arguments[i+2];s.children=o}return _(e.type,r,void 0,0,0,s)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,a){var s,r={},n=null;if(null!=t)for(s in void 0!==t.key&&(n=""+t.key),t)N.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(r[s]=t[s]);var o=arguments.length-2;if(1===o)r.children=a;else if(1<o){for(var i=Array(o),l=0;l<o;l++)i[l]=arguments[l+2];r.children=i}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===r[s]&&(r[s]=o[s]);return _(e,n,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,a={};w.T=a;try{var s=e(),r=w.S;null!==r&&r(a,s),"object"===typeof s&&null!==s&&"function"===typeof s.then&&s.then(P,T)}catch(n){T(n)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,a){return w.H.useActionState(e,t,a)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,a){return w.H.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,a){return w.H.useReducer(e,t,a)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,a){return w.H.useSyncExternalStore(e,t,a)},t.useTransition=function(){return w.H.useTransition()},t.version="19.0.0"},43:(e,t,a)=>{e.exports=a(288)},579:(e,t,a)=>{e.exports=a(799)},896:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var s=a-1>>>1,r=e[s];if(!(0<n(r,t)))break e;e[s]=t,e[a]=r,a=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var s=0,r=e.length,o=r>>>1;s<o;){var i=2*(s+1)-1,l=e[i],c=i+1,d=e[c];if(0>n(l,a))c<r&&0>n(d,l)?(e[s]=d,e[c]=a,s=c):(e[s]=l,e[i]=a,s=i);else{if(!(c<r&&0>n(d,a)))break e;e[s]=d,e[c]=a,s=c}}}return t}function n(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,h=null,m=3,x=!1,p=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=s(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,a(c,t)}t=s(d)}}function j(e){if(f=!1,v(e),!p)if(null!==s(c))p=!0,A();else{var t=s(d);null!==t&&T(j,t.startTime-e)}}var w,N=!1,_=-1,k=5,S=-1;function C(){return!(t.unstable_now()-S<k)}function M(){if(N){var e=t.unstable_now();S=e;var a=!0;try{e:{p=!1,f&&(f=!1,b(_),_=-1),x=!0;var n=m;try{t:{for(v(e),h=s(c);null!==h&&!(h.expirationTime>e&&C());){var o=h.callback;if("function"===typeof o){h.callback=null,m=h.priorityLevel;var i=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){h.callback=i,v(e),a=!0;break t}h===s(c)&&r(c),v(e)}else r(c);h=s(c)}if(null!==h)a=!0;else{var l=s(d);null!==l&&T(j,l.startTime-e),a=!1}}break e}finally{h=null,m=n,x=!1}a=void 0}}finally{a?w():N=!1}}}if("function"===typeof y)w=function(){y(M)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,E=L.port2;L.port1.onmessage=M,w=function(){E.postMessage(null)}}else w=function(){g(M,0)};function A(){N||(N=!0,w())}function T(e,a){_=g((function(){e(t.unstable_now())}),a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||x||(p=!0,A())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var a=m;m=t;try{return e()}finally{m=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=m;m=e;try{return t()}finally{m=a}},t.unstable_scheduleCallback=function(e,r,n){var o=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?o+n:o:n=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:n,expirationTime:i=n+i,sortIndex:-1},n>o?(e.sortIndex=n,a(d,e),null===s(c)&&e===s(d)&&(f?(b(_),_=-1):f=!0,T(j,n-o))):(e.sortIndex=i,a(c,e),p||x||(p=!0,A())),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=m;return function(){var a=m;m=t;try{return e.apply(this,arguments)}finally{m=a}}}},853:(e,t,a)=>{e.exports=a(896)}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};a.r(s),a.d(s,{hasBrowserEnv:()=>me,hasStandardBrowserEnv:()=>pe,hasStandardBrowserWebWorkerEnv:()=>fe,navigator:()=>xe,origin:()=>ge});var r=a(43),n=a(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,a){return(t=i(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t){return function(){return e.apply(t,arguments)}}const{toString:h}=Object.prototype,{getPrototypeOf:m}=Object,x=(p=Object.create(null),e=>{const t=h.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())});var p;const f=e=>(e=e.toLowerCase(),t=>x(t)===e),g=e=>t=>typeof t===e,{isArray:b}=Array,y=g("undefined");const v=f("ArrayBuffer");const j=g("string"),w=g("function"),N=g("number"),_=e=>null!==e&&"object"===typeof e,k=e=>{if("object"!==x(e))return!1;const t=m(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S=f("Date"),C=f("File"),M=f("Blob"),L=f("FileList"),E=f("URLSearchParams"),[A,T,P,z]=["ReadableStream","Request","Response","Headers"].map(f);function I(e,t){let a,s,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),b(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),n=s.length;let o;for(a=0;a<n;a++)o=s[a],t.call(null,e[o],o,e)}}function O(e,t){t=t.toLowerCase();const a=Object.keys(e);let s,r=a.length;for(;r-- >0;)if(s=a[r],t===s.toLowerCase())return s;return null}const D="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,R=e=>!y(e)&&e!==D;const B=(F="undefined"!==typeof Uint8Array&&m(Uint8Array),e=>F&&e instanceof F);var F;const W=f("HTMLFormElement"),V=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),U=f("RegExp"),H=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};I(a,((a,r)=>{let n;!1!==(n=t(a,r,e))&&(s[r]=n||a)})),Object.defineProperties(e,s)};const q=f("AsyncFunction"),G=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),s=[],D.addEventListener("message",(e=>{let{source:t,data:r}=e;t===D&&r===a&&s.length&&s.shift()()}),!1),e=>{s.push(e),D.postMessage(a,"*")}):e=>setTimeout(e);var a,s})("function"===typeof setImmediate,w(D.postMessage)),$="undefined"!==typeof queueMicrotask?queueMicrotask.bind(D):"undefined"!==typeof process&&process.nextTick||G,Y={isArray:b,isArrayBuffer:v,isBuffer:function(e){return null!==e&&!y(e)&&null!==e.constructor&&!y(e.constructor)&&w(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||w(e.append)&&("formdata"===(t=x(e))||"object"===t&&w(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&v(e.buffer),t},isString:j,isNumber:N,isBoolean:e=>!0===e||!1===e,isObject:_,isPlainObject:k,isReadableStream:A,isRequest:T,isResponse:P,isHeaders:z,isUndefined:y,isDate:S,isFile:C,isBlob:M,isRegExp:U,isFunction:w,isStream:e=>_(e)&&w(e.pipe),isURLSearchParams:E,isTypedArray:B,isFileList:L,forEach:I,merge:function e(){const{caseless:t}=R(this)&&this||{},a={},s=(s,r)=>{const n=t&&O(a,r)||r;k(a[n])&&k(s)?a[n]=e(a[n],s):k(s)?a[n]=e({},s):b(s)?a[n]=s.slice():a[n]=s};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&I(arguments[r],s);return a},extend:function(e,t,a){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return I(t,((t,s)=>{a&&w(t)?e[s]=u(t,a):e[s]=t}),{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,s)=>{let r,n,o;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)o=r[n],s&&!s(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==a&&m(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:x,kindOfTest:f,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return-1!==s&&s===a},toArray:e=>{if(!e)return null;if(b(e))return e;let t=e.length;if(!N(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=a.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const s=[];for(;null!==(a=e.exec(t));)s.push(a);return s},isHTMLForm:W,hasOwnProperty:V,hasOwnProp:V,reduceDescriptors:H,freezeMethods:e=>{H(e,((t,a)=>{if(w(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const s=e[a];w(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},s=e=>{e.forEach((e=>{a[e]=!0}))};return b(e)?s(e):s(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:O,global:D,isContextDefined:R,isSpecCompliantForm:function(e){return!!(e&&w(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),a=(e,s)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[s]=e;const r=b(e)?[]:{};return I(e,((e,t)=>{const n=a(e,s+1);!y(n)&&(r[t]=n)})),t[s]=void 0,r}}return e};return a(e,0)},isAsyncFn:q,isThenable:e=>e&&(_(e)||w(e))&&w(e.then)&&w(e.catch),setImmediate:G,asap:$};function Q(e,t,a,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}Y.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const K=Q.prototype,X={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{X[e]={value:e}})),Object.defineProperties(Q,X),Object.defineProperty(K,"isAxiosError",{value:!0}),Q.from=(e,t,a,s,r,n)=>{const o=Object.create(K);return Y.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Q.call(o,e.message,t,a,s,r),o.cause=e,o.name=e.name,n&&Object.assign(o,n),o};const J=Q;function Z(e){return Y.isPlainObject(e)||Y.isArray(e)}function ee(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function te(e,t,a){return e?e.concat(t).map((function(e,t){return e=ee(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const ae=Y.toFlatObject(Y,{},null,(function(e){return/^is[A-Z]/.test(e)}));const se=function(e,t,a){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(a=Y.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Y.isUndefined(t[e])}))).metaTokens,r=a.visitor||c,n=a.dots,o=a.indexes,i=(a.Blob||"undefined"!==typeof Blob&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Y.isDate(e))return e.toISOString();if(!i&&Y.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(e)||Y.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let i=e;if(e&&!r&&"object"===typeof e)if(Y.endsWith(a,"{}"))a=s?a:a.slice(0,-2),e=JSON.stringify(e);else if(Y.isArray(e)&&function(e){return Y.isArray(e)&&!e.some(Z)}(e)||(Y.isFileList(e)||Y.endsWith(a,"[]"))&&(i=Y.toArray(e)))return a=ee(a),i.forEach((function(e,s){!Y.isUndefined(e)&&null!==e&&t.append(!0===o?te([a],s,n):null===o?a:a+"[]",l(e))})),!1;return!!Z(e)||(t.append(te(r,a,n),l(e)),!1)}const d=[],u=Object.assign(ae,{defaultVisitor:c,convertValue:l,isVisitable:Z});if(!Y.isObject(e))throw new TypeError("data must be an object");return function e(a,s){if(!Y.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+s.join("."));d.push(a),Y.forEach(a,(function(a,n){!0===(!(Y.isUndefined(a)||null===a)&&r.call(t,a,Y.isString(n)?n.trim():n,s,u))&&e(a,s?s.concat(n):[n])})),d.pop()}}(e),t};function re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ne(e,t){this._pairs=[],e&&se(e,this,t)}const oe=ne.prototype;oe.append=function(e,t){this._pairs.push([e,t])},oe.toString=function(e){const t=e?function(t){return e.call(this,t,re)}:re;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ie=ne;function le(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ce(e,t,a){if(!t)return e;const s=a&&a.encode||le;Y.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let n;if(n=r?r(t,a):Y.isURLSearchParams(t)?t.toString():new ie(t,a).toString(s),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}const de=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},he={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},me="undefined"!==typeof window&&"undefined"!==typeof document,xe="object"===typeof navigator&&navigator||void 0,pe=me&&(!xe||["ReactNative","NativeScript","NS"].indexOf(xe.product)<0),fe="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ge=me&&window.location.href||"http://localhost",be=d(d({},s),he);const ye=function(e){function t(e,a,s,r){let n=e[r++];if("__proto__"===n)return!0;const o=Number.isFinite(+n),i=r>=e.length;if(n=!n&&Y.isArray(s)?s.length:n,i)return Y.hasOwnProp(s,n)?s[n]=[s[n],a]:s[n]=a,!o;s[n]&&Y.isObject(s[n])||(s[n]=[]);return t(e,a,s[n],r)&&Y.isArray(s[n])&&(s[n]=function(e){const t={},a=Object.keys(e);let s;const r=a.length;let n;for(s=0;s<r;s++)n=a[s],t[n]=e[n];return t}(s[n])),!o}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const a={};return Y.forEachEntry(e,((e,s)=>{t(function(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),s,a,0)})),a}return null};const ve={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",s=a.indexOf("application/json")>-1,r=Y.isObject(e);r&&Y.isHTMLForm(e)&&(e=new FormData(e));if(Y.isFormData(e))return s?JSON.stringify(ye(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return se(e,new be.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,s){return be.isNode&&Y.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Y.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return se(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,a){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(s){if("SyntaxError"!==s.name)throw s}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ve.transitional,a=t&&t.forcedJSONParsing,s="json"===this.responseType;if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(a&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(r){if(a){if("SyntaxError"===r.name)throw J.from(r,J.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],(e=>{ve.headers[e]={}}));const je=ve,we=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ne=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function ke(e){return!1===e||null==e?e:Y.isArray(e)?e.map(ke):String(e)}function Se(e,t,a,s,r){return Y.isFunction(s)?s.call(this,t,a):(r&&(t=a),Y.isString(t)?Y.isString(s)?-1!==t.indexOf(s):Y.isRegExp(s)?s.test(t):void 0:void 0)}class Ce{constructor(e){e&&this.set(e)}set(e,t,a){const s=this;function r(e,t,a){const r=_e(t);if(!r)throw new Error("header name must be a non-empty string");const n=Y.findKey(s,r);(!n||void 0===s[n]||!0===a||void 0===a&&!1!==s[n])&&(s[n||t]=ke(e))}const n=(e,t)=>Y.forEach(e,((e,a)=>r(e,a,t)));if(Y.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(Y.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let a,s,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),s=e.substring(r+1).trim(),!a||t[a]&&we[a]||("set-cookie"===a?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)})),t})(e),t);else if(Y.isHeaders(e))for(const[o,i]of e.entries())r(i,o,a);else null!=e&&r(t,e,a);return this}get(e,t){if(e=_e(e)){const a=Y.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}(e);if(Y.isFunction(t))return t.call(this,e,a);if(Y.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_e(e)){const a=Y.findKey(this,e);return!(!a||void 0===this[a]||t&&!Se(0,this[a],a,t))}return!1}delete(e,t){const a=this;let s=!1;function r(e){if(e=_e(e)){const r=Y.findKey(a,e);!r||t&&!Se(0,a[r],r,t)||(delete a[r],s=!0)}}return Y.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let a=t.length,s=!1;for(;a--;){const r=t[a];e&&!Se(0,this[r],r,e,!0)||(delete this[r],s=!0)}return s}normalize(e){const t=this,a={};return Y.forEach(this,((s,r)=>{const n=Y.findKey(a,r);if(n)return t[n]=ke(s),void delete t[r];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(r):String(r).trim();o!==r&&delete t[r],t[o]=ke(s),a[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Y.forEach(this,((a,s)=>{null!=a&&!1!==a&&(t[s]=e&&Y.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,a]=e;return t+": "+a})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,s=new Array(a>1?a-1:0),r=1;r<a;r++)s[r-1]=arguments[r];return s.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ne]=this[Ne]={accessors:{}}).accessors,a=this.prototype;function s(e){const s=_e(e);t[s]||(!function(e,t){const a=Y.toCamelCase(" "+t);["get","set","has"].forEach((s=>{Object.defineProperty(e,s+a,{value:function(e,a,r){return this[s].call(this,t,e,a,r)},configurable:!0})}))}(a,e),t[s]=!0)}return Y.isArray(e)?e.forEach(s):s(e),this}}Ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Y.reduceDescriptors(Ce.prototype,((e,t)=>{let{value:a}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[s]=e}}})),Y.freezeMethods(Ce);const Me=Ce;function Le(e,t){const a=this||je,s=t||a,r=Me.from(s.headers);let n=s.data;return Y.forEach(e,(function(e){n=e.call(a,n,r.normalize(),t?t.status:void 0)})),r.normalize(),n}function Ee(e){return!(!e||!e.__CANCEL__)}function Ae(e,t,a){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,a),this.name="CanceledError"}Y.inherits(Ae,J,{__CANCEL__:!0});const Te=Ae;function Pe(e,t,a){const s=a.config.validateStatus;a.status&&s&&!s(a.status)?t(new J("Request failed with status code "+a.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const ze=function(e,t){e=e||10;const a=new Array(e),s=new Array(e);let r,n=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=s[o];r||(r=l),a[n]=i,s[n]=l;let d=o,u=0;for(;d!==n;)u+=a[d++],d%=e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Ie=function(e,t){let a,s,r=0,n=1e3/t;const o=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=n,a=null,s&&(clearTimeout(s),s=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=n?o(l,e):(a=l,s||(s=setTimeout((()=>{s=null,o(a)}),n-t)))},()=>a&&o(a)]},Oe=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const r=ze(50,250);return Ie((a=>{const n=a.loaded,o=a.lengthComputable?a.total:void 0,i=n-s,l=r(i);s=n;e({loaded:n,total:o,progress:o?n/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&n<=o?(o-n)/l:void 0,event:a,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),a)},De=(e,t)=>{const a=null!=e;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},Re=e=>function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return Y.asap((()=>e(...a)))},Be=be.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,be.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,Fe=be.hasStandardBrowserEnv?{write(e,t,a,s,r,n){const o=[e+"="+encodeURIComponent(t)];Y.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),Y.isString(s)&&o.push("path="+s),Y.isString(r)&&o.push("domain="+r),!0===n&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function We(e,t,a){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ve=e=>e instanceof Me?d({},e):e;function Ue(e,t){t=t||{};const a={};function s(e,t,a,s){return Y.isPlainObject(e)&&Y.isPlainObject(t)?Y.merge.call({caseless:s},e,t):Y.isPlainObject(t)?Y.merge({},t):Y.isArray(t)?t.slice():t}function r(e,t,a,r){return Y.isUndefined(t)?Y.isUndefined(e)?void 0:s(void 0,e,0,r):s(e,t,0,r)}function n(e,t){if(!Y.isUndefined(t))return s(void 0,t)}function o(e,t){return Y.isUndefined(t)?Y.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(a,r,n){return n in t?s(a,r):n in e?s(void 0,a):void 0}const l={url:n,method:n,data:n,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,a)=>r(Ve(e),Ve(t),0,!0)};return Y.forEach(Object.keys(Object.assign({},e,t)),(function(s){const n=l[s]||r,o=n(e[s],t[s],s);Y.isUndefined(o)&&n!==i||(a[s]=o)})),a}const He=e=>{const t=Ue({},e);let a,{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=Me.from(i),t.url=ce(We(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Y.isFormData(s))if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(be.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(t)),r||!1!==r&&Be(t.url))){const e=n&&o&&Fe.read(o);e&&i.set(n,e)}return t},qe="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){const s=He(e);let r=s.data;const n=Me.from(s.headers).normalize();let o,i,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=s;function x(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(o),s.signal&&s.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function f(){if(!p)return;const s=Me.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Pe((function(e){t(e),x()}),(function(e){a(e),x()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:s,config:e,request:p}),p=null}p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout,"onloadend"in p?p.onloadend=f:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(f)},p.onabort=function(){p&&(a(new J("Request aborted",J.ECONNABORTED,e,p)),p=null)},p.onerror=function(){a(new J("Network Error",J.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const r=s.transitional||ue;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),a(new J(t,r.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,p)),p=null},void 0===r&&n.setContentType(null),"setRequestHeader"in p&&Y.forEach(n.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),Y.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),u&&"json"!==u&&(p.responseType=s.responseType),m&&([l,d]=Oe(m,!0),p.addEventListener("progress",l)),h&&p.upload&&([i,c]=Oe(h),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(o=t=>{p&&(a(!t||t.type?new Te(null,e,p):t),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(o),s.signal&&(s.signal.aborted?o():s.signal.addEventListener("abort",o)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);g&&-1===be.protocols.indexOf(g)?a(new J("Unsupported protocol "+g+":",J.ERR_BAD_REQUEST,e)):p.send(r||null)}))},Ge=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,s=new AbortController;const r=function(e){if(!a){a=!0,o();const t=e instanceof Error?e:this.reason;s.abort(t instanceof J?t:new Te(t instanceof Error?t.message:t))}};let n=t&&setTimeout((()=>{n=null,r(new J("timeout ".concat(t," of ms exceeded"),J.ETIMEDOUT))}),t);const o=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:i}=s;return i.unsubscribe=()=>Y.asap(o),i}};function $e(e,t){this.v=e,this.k=t}function Ye(e){return function(){return new Qe(e.apply(this,arguments))}}function Qe(e){var t,a;function s(t,a){try{var n=e[t](a),o=n.value,i=o instanceof $e;Promise.resolve(i?o.v:o).then((function(a){if(i){var l="return"===t?"return":"next";if(!o.k||a.done)return s(l,a);a=e[l](a).value}r(n.done?"return":"normal",a)}),(function(e){s("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?s(t.key,t.arg):a=null}this._invoke=function(e,r){return new Promise((function(n,o){var i={key:e,arg:r,resolve:n,reject:o,next:null};a?a=a.next=i:(t=a=i,s(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ke(e){return new $e(e,0)}function Xe(e){var t={},a=!1;function s(t,s){return a=!0,s=new Promise((function(a){a(e[t](s))})),{done:!1,value:new $e(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):s("return",e)}),t}function Je(e){var t,a,s,r=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,s=Symbol.iterator);r--;){if(a&&null!=(t=e[a]))return t.call(e);if(s&&null!=(t=e[s]))return new Ze(t.call(e));a="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function Ze(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ze=function(e){this.s=e,this.n=e.next},Ze.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new Ze(e)}Qe.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Qe.prototype.next=function(e){return this._invoke("next",e)},Qe.prototype.throw=function(e){return this._invoke("throw",e)},Qe.prototype.return=function(e){return this._invoke("return",e)};const et=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let s,r=0;for(;r<a;)s=r+t,yield e.slice(r,s),r=s},tt=function(){var e=Ye((function*(e,t){var a,s=!1,r=!1;try{for(var n,o=Je(at(e));s=!(n=yield Ke(o.next())).done;s=!1){const e=n.value;yield*Xe(Je(et(e,t)))}}catch(i){r=!0,a=i}finally{try{s&&null!=o.return&&(yield Ke(o.return()))}finally{if(r)throw a}}}));return function(t,a){return e.apply(this,arguments)}}(),at=function(){var e=Ye((function*(e){if(e[Symbol.asyncIterator])return void(yield*Xe(Je(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield Ke(t.read());if(e)break;yield a}}finally{yield Ke(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),st=(e,t,a,s)=>{const r=tt(e,t);let n,o=0,i=e=>{n||(n=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await r.next();if(t)return i(),void e.close();let n=s.byteLength;if(a){let e=o+=n;a(e)}e.enqueue(new Uint8Array(s))}catch(t){throw i(t),t}},cancel:e=>(i(e),r.return())},{highWaterMark:2})},rt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,nt=rt&&"function"===typeof ReadableStream,ot=rt&&("function"===typeof TextEncoder?(it=new TextEncoder,e=>it.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var it;const lt=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return!!e(...a)}catch(r){return!1}},ct=nt&&lt((()=>{let e=!1;const t=new Request(be.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),dt=nt&&lt((()=>Y.isReadableStream(new Response("").body))),ut={stream:dt&&(e=>e.body)};var ht;rt&&(ht=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ut[e]&&(ut[e]=Y.isFunction(ht[e])?t=>t[e]():(t,a)=>{throw new J("Response type '".concat(e,"' is not supported"),J.ERR_NOT_SUPPORT,a)})})));const mt=async(e,t)=>{const a=Y.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(Y.isBlob(e))return e.size;if(Y.isSpecCompliantForm(e)){const t=new Request(be.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Y.isArrayBufferView(e)||Y.isArrayBuffer(e)?e.byteLength:(Y.isURLSearchParams(e)&&(e+=""),Y.isString(e)?(await ot(e)).byteLength:void 0)})(t):a},xt=rt&&(async e=>{let{url:t,method:a,data:s,signal:r,cancelToken:n,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:m}=He(e);c=c?(c+"").toLowerCase():"text";let x,p=Ge([r,n&&n.toAbortSignal()],o);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&ct&&"get"!==a&&"head"!==a&&0!==(g=await mt(u,s))){let e,a=new Request(t,{method:"POST",body:s,duplex:"half"});if(Y.isFormData(s)&&(e=a.headers.get("content-type"))&&u.setContentType(e),a.body){const[e,t]=De(g,Oe(Re(l)));s=st(a.body,65536,e,t)}}Y.isString(h)||(h=h?"include":"omit");const r="credentials"in Request.prototype;x=new Request(t,d(d({},m),{},{signal:p,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:r?h:void 0}));let n=await fetch(x);const o=dt&&("stream"===c||"response"===c);if(dt&&(i||o&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=n[t]}));const t=Y.toFiniteNumber(n.headers.get("content-length")),[a,s]=i&&De(t,Oe(Re(i),!0))||[];n=new Response(st(n.body,65536,a,(()=>{s&&s(),f&&f()})),e)}c=c||"text";let b=await ut[Y.findKey(ut,c)||"text"](n,e);return!o&&f&&f(),await new Promise(((t,a)=>{Pe(t,a,{data:b,headers:Me.from(n.headers),status:n.status,statusText:n.statusText,config:e,request:x})}))}catch(b){if(f&&f(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,e,x),{cause:b.cause||b});throw J.from(b,b&&b.code,e,x)}}),pt={http:null,xhr:qe,fetch:xt};Y.forEach(pt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a){}Object.defineProperty(e,"adapterName",{value:t})}}));const ft=e=>"- ".concat(e),gt=e=>Y.isFunction(e)||null===e||!1===e,bt=e=>{e=Y.isArray(e)?e:[e];const{length:t}=e;let a,s;const r={};for(let n=0;n<t;n++){let t;if(a=e[n],s=a,!gt(a)&&(s=pt[(t=String(a)).toLowerCase()],void 0===s))throw new J("Unknown adapter '".concat(t,"'"));if(s)break;r[t||"#"+n]=s}if(!s){const e=Object.entries(r).map((e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")}));let a=t?e.length>1?"since :\n"+e.map(ft).join("\n"):" "+ft(e[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s};function yt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Te(null,e)}function vt(e){yt(e),e.headers=Me.from(e.headers),e.data=Le.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bt(e.adapter||je.adapter)(e).then((function(t){return yt(e),t.data=Le.call(e,e.transformResponse,t),t.headers=Me.from(t.headers),t}),(function(t){return Ee(t)||(yt(e),t&&t.response&&(t.response.data=Le.call(e,e.transformResponse,t.response),t.response.headers=Me.from(t.response.headers))),Promise.reject(t)}))}const jt="1.8.4",wt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{wt[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const Nt={};wt.transitional=function(e,t,a){function s(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,n)=>{if(!1===e)throw new J(s(r," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!Nt[r]&&(Nt[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,n)}},wt.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const _t={assertOptions:function(e,t,a){if("object"!==typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const n=s[r],o=t[n];if(o){const t=e[n],a=void 0===t||o(t,n,e);if(!0!==a)throw new J("option "+n+" must be "+a,J.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new J("Unknown option "+n,J.ERR_BAD_OPTION)}},validators:wt},kt=_t.validators;class St{constructor(e){this.defaults=e,this.interceptors={request:new de,response:new de}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(s){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ue(this.defaults,t);const{transitional:a,paramsSerializer:s,headers:r}=t;void 0!==a&&_t.assertOptions(a,{silentJSONParsing:kt.transitional(kt.boolean),forcedJSONParsing:kt.transitional(kt.boolean),clarifyTimeoutError:kt.transitional(kt.boolean)},!1),null!=s&&(Y.isFunction(s)?t.paramsSerializer={serialize:s}:_t.assertOptions(s,{encode:kt.function,serialize:kt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_t.assertOptions(t,{baseUrl:kt.spelling("baseURL"),withXsrfToken:kt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=r&&Y.merge(r.common,r[t.method]);r&&Y.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=Me.concat(n,r);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[vt.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=o.length;let h=t;for(u=0;u<d;){const e=o[u++],t=o[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=vt.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ce(We((e=Ue(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],(function(e){St.prototype[e]=function(t,a){return this.request(Ue(a||{},{method:e,url:t,data:(a||{}).data}))}})),Y.forEach(["post","put","patch"],(function(e){function t(t){return function(a,s,r){return this.request(Ue(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}St.prototype[e]=t(),St.prototype[e+"Form"]=t(!0)}));const Ct=St;class Mt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const s=new Promise((e=>{a.subscribe(e),t=e})).then(e);return s.cancel=function(){a.unsubscribe(t)},s},e((function(e,s,r){a.reason||(a.reason=new Te(e,s,r),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Mt((function(t){e=t})),cancel:e}}}const Lt=Mt;const Et={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Et).forEach((e=>{let[t,a]=e;Et[a]=t}));const At=Et;const Tt=function e(t){const a=new Ct(t),s=u(Ct.prototype.request,a);return Y.extend(s,Ct.prototype,a,{allOwnKeys:!0}),Y.extend(s,a,null,{allOwnKeys:!0}),s.create=function(a){return e(Ue(t,a))},s}(je);Tt.Axios=Ct,Tt.CanceledError=Te,Tt.CancelToken=Lt,Tt.isCancel=Ee,Tt.VERSION=jt,Tt.toFormData=se,Tt.AxiosError=J,Tt.Cancel=Tt.CanceledError,Tt.all=function(e){return Promise.all(e)},Tt.spread=function(e){return function(t){return e.apply(null,t)}},Tt.isAxiosError=function(e){return Y.isObject(e)&&!0===e.isAxiosError},Tt.mergeConfig=Ue,Tt.AxiosHeaders=Me,Tt.formToJSON=e=>ye(Y.isHTMLForm(e)?new FormData(e):e),Tt.getAdapter=bt,Tt.HttpStatusCode=At,Tt.default=Tt;const Pt=Tt,zt={"\u0430":"a","\u0410":"A","\u0431":"b","\u0411":"B","\u0432":"v","\u0412":"V","\u0433":"g","\u0413":"G","\u0434":"d","\u0414":"D","\u0435":"e","\u0415":"E","\u0451":"yo","\u0401":"Yo","\u0436":"zh","\u0416":"Zh","\u0437":"z","\u0417":"Z","\u0438":"i","\u0418":"I","\u0439":"y","\u0419":"Y","\u043a":"k","\u041a":"K","\u043b":"l","\u041b":"L","\u043c":"m","\u041c":"M","\u043d":"n","\u041d":"N","\u043e":"o","\u041e":"O","\u043f":"p","\u041f":"P","\u0440":"r","\u0420":"R","\u0441":"s","\u0421":"S","\u0442":"t","\u0422":"T","\u0443":"u","\u0423":"U","\u0444":"f","\u0424":"F","\u0445":"h","\u0425":"H","\u0446":"ts","\u0426":"Ts","\u0447":"ch","\u0427":"Ch","\u0448":"sh","\u0428":"Sh","\u0449":"sch","\u0429":"Sch","\u044a":"","\u042a":"","\u044b":"y","\u042b":"Y","\u044c":"","\u042c":"","\u044d":"e","\u042d":"E","\u044e":"yu","\u042e":"Yu","\u044f":"ya","\u042f":"Ya","\u04d9":"a","\u04d8":"A","\u0493":"g","\u0492":"G","\u049b":"k","\u049a":"K","\u04a3":"ng","\u04a2":"Ng","\u04e9":"o","\u04e8":"O","\u04b1":"u","\u04b0":"U","\u04af":"u","\u04ae":"U","\u04bb":"h","\u04ba":"H","\u0456":"i","\u0406":"I","\u0457":"yi","\u0407":"Yi","\u0454":"ye","\u0404":"Ye","\u0456":"i","\u0406":"I","\u0491":"g","\u0490":"G"},It=/[^\x00-\x7F]/,Ot=/__+/,Dt=/[!@#$%^&*()+=\[\]{}\\|;':"\/?,<>~`]/,Rt=/^\s+|\s+$/,Bt=e=>e.split("").map((e=>zt[e]||e)).join(""),Ft=e=>{let t=e;return It.test(t)&&(t=Bt(t)),t=t.replace(Dt,""),t=t.replace(Ot,"_"),t=t.replace(Rt,""),t},Wt=e=>{const t=[];return(!e||e.length<3)&&t.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0438\u043c\u0435\u043d\u0438 - 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"),e&&e.length>15&&t.push("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0438\u043c\u0435\u043d\u0438 - 15 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),e&&e.trim()||t.push("\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),e&&It.test(e)&&t.push("\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"),e&&Dt.test(e)&&t.push("\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b. \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b: \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0434\u0435\u0444\u0438\u0441, \u043f\u043e\u0434\u0447\u0451\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435, \u0442\u043e\u0447\u043a\u0430, \u043f\u0440\u043e\u0431\u0435\u043b\u044b"),e&&Ot.test(e)&&t.push("\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u043f\u043e\u0434\u0440\u044f\u0434 \u0438\u0434\u0443\u0449\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u043f\u043e\u0434\u0447\u0451\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u044f"),e&&Rt.test(e)&&t.push("\u041f\u0440\u043e\u0431\u0435\u043b\u044b \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u0438 \u043a\u043e\u043d\u0446\u0435 \u0438\u043c\u0435\u043d\u0438 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b"),{isValid:0===t.length,errors:t,sanitized:Ft(e)}},Vt=(e,t,a)=>{let s=e;if(It.test(s)&&(s=Bt(s)),s=s.replace(Dt,""),s=s.replace(Ot,"_"),s.length>15&&(s=s.substring(0,15)),t(s),a){const e=Wt(s);!e.isValid&&s.length>0?a(e.errors[0]):a("")}return s},Ut="".concat("https://income-bot-3.preview.emergentagent.com","/api");const Ht=new class{constructor(){this.enabled=!0,this.volume=.3,this.sounds=new Map,this.audioCache=new Map,this.context=null,this.contextInitialized=!1,this.userInteracted=!1,this.currentlyPlaying=null,this.criticalSounds=new Set,this.initialized=!1,this.loadSettings(),this.criticalSounds=new Set(["\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438","\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438","\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430","reveal","\u043f\u043e\u0431\u0435\u0434\u0430","\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435","\u043d\u0438\u0447\u044c\u044f","\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430","\u043f\u0440\u043e\u0434\u0430\u0436\u0430_\u0433\u0435\u043c\u0430"]),this.setupUserInteractionListeners()}async initializeSounds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.initialized)try{await this.loadSounds(e),this.initialized=!0}catch(t){console.error("Error initializing sounds:",t),this.createFallbackSounds(),this.initialized=!0}}setupUserInteractionListeners(){const e=()=>{this.userInteracted||(this.userInteracted=!0,this.initAudioContext(),document.removeEventListener("click",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",e))};document.addEventListener("click",e,{passive:!0}),document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("keydown",e,{passive:!0})}initAudioContext(){if(!this.contextInitialized)try{this.context=new(window.AudioContext||window.webkitAudioContext),this.contextInitialized=!0}catch(e){}}loadSettings(){try{const e=JSON.parse(localStorage.getItem("gemplay-sound-settings")||"{}");this.enabled=!1!==e.enabled,this.volume=e.volume||.3}catch(e){console.warn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0437\u0432\u0443\u043a\u0430:",e)}}saveSettings(){try{const e={enabled:this.enabled,volume:this.volume};localStorage.setItem("gemplay-sound-settings",JSON.stringify(e))}catch(e){console.warn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0437\u0432\u0443\u043a\u0430:",e)}}async loadSounds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=localStorage.getItem("token");if(!t)return void this.createFallbackSounds();if("ADMIN"!==e&&"SUPER_ADMIN"!==e)return void this.createFallbackSounds();const a=await fetch("".concat(Ut,"/admin/sounds"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!a.ok)throw new Error("HTTP ".concat(a.status));const s=await a.json();for(const e of s)this.sounds.has(e.event_trigger)||this.sounds.set(e.event_trigger,[]),this.sounds.get(e.event_trigger).push(e);for(const[e,r]of this.sounds.entries())r.sort(((e,t)=>t.priority-e.priority));await this.preloadCriticalSounds()}catch(t){this.createFallbackSounds()}}async preloadCriticalSounds(){const e=[];for(const a of this.criticalSounds){const t=this.sounds.get(a);if(t)for(const a of t)a.has_audio_file&&!this.audioCache.has(a.id)&&e.push(this.loadAudioFile(a))}try{await Promise.all(e)}catch(t){}}async loadAudioFile(e){if(this.audioCache.has(e.id))return this.audioCache.get(e.id);try{const t=await this.createProgrammaticSound(e.event_trigger);return this.audioCache.set(e.id,t),t}catch(t){return console.warn("Error loading audio for sound ".concat(e.id,":"),t),null}}createFallbackSounds(){const e=[{event_trigger:"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",priority:7,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",priority:6,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430",priority:5,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"reveal",priority:8,is_enabled:!0,volume:.6,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u043e\u0431\u0435\u0434\u0430",priority:9,is_enabled:!0,volume:.8,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",priority:6,is_enabled:!0,volume:.4,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043d\u0438\u0447\u044c\u044f",priority:4,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430",priority:6,is_enabled:!0,volume:.6,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"hover",priority:2,is_enabled:!0,volume:.3,delay:0,can_repeat:!1,game_type:"ALL"},{event_trigger:"\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430",priority:3,is_enabled:!0,volume:.4,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430",priority:3,is_enabled:!0,volume:.4,delay:0,can_repeat:!0,game_type:"ALL"},{event_trigger:"\u043e\u0448\u0438\u0431\u043a\u0430",priority:8,is_enabled:!0,volume:.5,delay:0,can_repeat:!0,game_type:"ALL"}];for(const t of e)this.sounds.has(t.event_trigger)||this.sounds.set(t.event_trigger,[]),this.sounds.get(t.event_trigger).push(t)}async playSound(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!this.enabled)return;if(!this.userInteracted||!this.context)return void console.log("\ud83d\udd07 Sound skipped (no user interaction yet): ".concat(e));const s=this.sounds.get(e);if(!s||0===s.length)return void console.warn("Sound not found for event: ".concat(e));const r=s.filter((e=>e.is_enabled&&("ALL"===e.game_type||e.game_type===t)));if(0===r.length)return void console.warn("No applicable sounds for event: ".concat(e,", gameType: ").concat(t));const n=r[0];if(this.currentlyPlaying&&this.currentlyPlaying.priority>=n.priority)console.log("Sound blocked by higher priority: ".concat(this.currentlyPlaying.priority," >= ").concat(n.priority));else if(n.can_repeat||!this.currentlyPlaying||this.currentlyPlaying.event_trigger!==e){this.currentlyPlaying&&this.stopCurrentSound(),n.delay>0&&await new Promise((e=>setTimeout(e,n.delay)));try{"suspended"===this.context.state&&await this.context.resume(),this.currentlyPlaying=n,n.has_audio_file?await this.playAudioFile(n,a):await this.playProgrammaticSound(n,a)}catch(o){console.warn("Error playing sound ".concat(e,":"),o)}finally{this.currentlyPlaying=null}}else console.log("Sound repeat blocked for: ".concat(e))}async playAudioFile(e,t){let a=this.audioCache.get(e.id);if(!a&&(a=await this.loadAudioFile(e),!a))return void await this.playProgrammaticSound(e,t);const s=this.context.createBufferSource(),r=this.context.createGain();s.buffer=a,s.connect(r),r.connect(this.context.destination);const n=this.volume*e.volume*t;r.gain.setValueAtTime(n,this.context.currentTime),s.start(0),s.onended=()=>{this.currentlyPlaying===e&&(this.currentlyPlaying=null)}}async playProgrammaticSound(e,t){const a=this.getProgrammaticSoundFunction(e.event_trigger);if(a){a(this.volume*e.volume*t),setTimeout((()=>{this.currentlyPlaying===e&&(this.currentlyPlaying=null)}),1e3)}}getProgrammaticSoundFunction(e){return{"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438":e=>this.createClickSound(800,.1*e,"sine"),"\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438":e=>this.createTingSound([600,800],.3*e),"\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430":e=>this.createClickSound(400,.05*e,"square"),reveal:e=>this.createMagicalSound(e),"\u043f\u043e\u0431\u0435\u0434\u0430":e=>this.createVictorySound(e),"\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":e=>this.createDefeatSound(e),"\u043d\u0438\u0447\u044c\u044f":e=>this.createDrawSound(e),"\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430":e=>this.createCoinSound(e),"\u043f\u0440\u043e\u0434\u0430\u0436\u0430_\u0433\u0435\u043c\u0430":e=>this.createCrystalSound(e),"\u043f\u043e\u0434\u0430\u0440\u043e\u043a_\u0433\u0435\u043c\u043e\u0432":e=>this.createGiftSound(e),hover:e=>this.createHoverSound(e),"\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430":e=>this.createWooshSound(!0,e),"\u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430":e=>this.createWooshSound(!1,e),"\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435":e=>this.createNotificationSound(e),"\u043e\u0448\u0438\u0431\u043a\u0430":e=>this.createErrorSound(e),"\u0442\u0430\u0439\u043c\u0435\u0440_reveal":e=>this.createExpireSound(e),"\u043d\u0430\u0433\u0440\u0430\u0434\u0430":e=>this.createRewardSound(e)}[e]}stopCurrentSound(){this.currentlyPlaying=null}updateSettings(e,t){this.enabled=e,this.volume=Math.max(0,Math.min(1,t)),this.saveSettings()}async reloadSounds(){this.sounds.clear(),this.audioCache.clear(),await this.loadSounds()}async createProgrammaticSound(e){return null}createClickSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sine";if(this.context&&this.userInteracted)try{const s=this.context.createOscillator(),r=this.context.createGain();s.frequency.setValueAtTime(e,this.context.currentTime),s.type=a,r.gain.setValueAtTime(0,this.context.currentTime),r.gain.linearRampToValueAtTime(.3*this.volume,this.context.currentTime+.01),r.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+t),s.connect(r),r.connect(this.context.destination),s.start(this.context.currentTime),s.stop(this.context.currentTime+t)}catch(s){console.warn("Error creating click sound:",s)}}createTingSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[600,800],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3;if(this.context&&this.userInteracted)try{e.forEach(((e,a)=>{const s=.05*a,r=this.context.createOscillator(),n=this.context.createGain();r.frequency.setValueAtTime(e,this.context.currentTime+s),r.type="sine",n.gain.setValueAtTime(0,this.context.currentTime+s),n.gain.linearRampToValueAtTime(.2*this.volume,this.context.currentTime+s+.01),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+s+t),r.connect(n),n.connect(this.context.destination),r.start(this.context.currentTime+s),r.stop(this.context.currentTime+s+t)}))}catch(a){console.warn("Error creating ting sound:",a)}}createMagicalSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.currentTime;[440,554,659,880].forEach(((a,s)=>{const r=.1*s,n=this.context.createOscillator(),o=this.context.createGain();n.frequency.setValueAtTime(a,t+r),n.frequency.exponentialRampToValueAtTime(1.5*a,t+r+.5),n.type="sine",o.gain.setValueAtTime(0,t+r),o.gain.linearRampToValueAtTime(.3*this.volume*e,t+r+.1),o.gain.exponentialRampToValueAtTime(.001,t+r+.8),n.connect(o),o.connect(this.context.destination),n.start(t+r),n.stop(t+r+.8)}))}catch(t){console.warn("Error creating magical sound:",t)}}createVictorySound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.currentTime;[523,659,784,1047].forEach(((a,s)=>{const r=.15*s,n=this.context.createOscillator(),o=this.context.createGain();n.frequency.setValueAtTime(a,t+r),n.type="triangle",o.gain.setValueAtTime(0,t+r),o.gain.linearRampToValueAtTime(.4*this.volume*e,t+r+.05),o.gain.exponentialRampToValueAtTime(.001,t+r+.3),n.connect(o),o.connect(this.context.destination),n.start(t+r),n.stop(t+r+.3)}))}catch(t){console.warn("Error creating victory sound:",t)}}createDefeatSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.createOscillator(),a=this.context.createGain();t.frequency.setValueAtTime(220,this.context.currentTime),t.frequency.exponentialRampToValueAtTime(110,this.context.currentTime+.8),t.type="sawtooth",a.gain.setValueAtTime(0,this.context.currentTime),a.gain.linearRampToValueAtTime(.2*this.volume*e,this.context.currentTime+.1),a.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.8),t.connect(a),a.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.8)}catch(t){console.warn("Error creating defeat sound:",t)}}createDrawSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.createOscillator(),a=this.context.createGain();t.frequency.setValueAtTime(330,this.context.currentTime),t.type="square",a.gain.setValueAtTime(0,this.context.currentTime),a.gain.linearRampToValueAtTime(.15*this.volume*e,this.context.currentTime+.1),a.gain.linearRampToValueAtTime(0,this.context.currentTime+.3),t.connect(a),a.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.3)}catch(t){console.warn("Error creating draw sound:",t)}}createCoinSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{[800,1e3,1200].forEach(((t,a)=>{const s=.05*a,r=this.context.createOscillator(),n=this.context.createGain();r.frequency.setValueAtTime(t,this.context.currentTime+s),r.type="sine",n.gain.setValueAtTime(0,this.context.currentTime+s),n.gain.linearRampToValueAtTime(.25*this.volume*e,this.context.currentTime+s+.01),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+s+.2),r.connect(n),n.connect(this.context.destination),r.start(this.context.currentTime+s),r.stop(this.context.currentTime+s+.2)}))}catch(t){console.warn("Error creating coin sound:",t)}}createCrystalSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{for(let t=0;t<8;t++){const a=.02*t,s=800+800*Math.random(),r=this.context.createOscillator(),n=this.context.createGain();r.frequency.setValueAtTime(s,this.context.currentTime+a),r.type="sine",n.gain.setValueAtTime(0,this.context.currentTime+a),n.gain.linearRampToValueAtTime(.1*this.volume*e,this.context.currentTime+a+.01),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+a+.3),r.connect(n),n.connect(this.context.destination),r.start(this.context.currentTime+a),r.stop(this.context.currentTime+a+.3)}}catch(t){console.warn("Error creating crystal sound:",t)}}createGiftSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.currentTime;[659,784,988].forEach(((a,s)=>{const r=.1*s,n=this.context.createOscillator(),o=this.context.createGain();n.frequency.setValueAtTime(a,t+r),n.type="sine",o.gain.setValueAtTime(0,t+r),o.gain.linearRampToValueAtTime(.2*this.volume*e,t+r+.05),o.gain.exponentialRampToValueAtTime(.001,t+r+.25),n.connect(o),o.connect(this.context.destination),n.start(t+r),n.stop(t+r+.25)}))}catch(t){console.warn("Error creating gift sound:",t)}}createHoverSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.createOscillator(),a=this.context.createGain();t.frequency.setValueAtTime(500,this.context.currentTime),t.type="sine",a.gain.setValueAtTime(0,this.context.currentTime),a.gain.linearRampToValueAtTime(.1*this.volume*e,this.context.currentTime+.02),a.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.1),t.connect(a),a.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.1)}catch(t){console.warn("Error creating hover sound:",t)}}createWooshSound(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.context&&this.userInteracted)try{const a=this.context.createOscillator(),s=this.context.createGain();e?(a.frequency.setValueAtTime(200,this.context.currentTime),a.frequency.exponentialRampToValueAtTime(800,this.context.currentTime+.3)):(a.frequency.setValueAtTime(800,this.context.currentTime),a.frequency.exponentialRampToValueAtTime(200,this.context.currentTime+.3)),a.type="sawtooth",s.gain.setValueAtTime(0,this.context.currentTime),s.gain.linearRampToValueAtTime(.15*this.volume*t,this.context.currentTime+.1),s.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.3),a.connect(s),s.connect(this.context.destination),a.start(this.context.currentTime),a.stop(this.context.currentTime+.3)}catch(a){console.warn("Error creating woosh sound:",a)}}createNotificationSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{[523,659,523].forEach(((t,a)=>{const s=.15*a,r=this.context.createOscillator(),n=this.context.createGain();r.frequency.setValueAtTime(t,this.context.currentTime+s),r.type="square",n.gain.setValueAtTime(0,this.context.currentTime+s),n.gain.linearRampToValueAtTime(.2*this.volume*e,this.context.currentTime+s+.05),n.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+s+.2),r.connect(n),n.connect(this.context.destination),r.start(this.context.currentTime+s),r.stop(this.context.currentTime+s+.2)}))}catch(t){console.warn("Error creating notification sound:",t)}}createErrorSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.createOscillator(),a=this.context.createGain();t.frequency.setValueAtTime(300,this.context.currentTime),t.frequency.linearRampToValueAtTime(250,this.context.currentTime+.15),t.frequency.linearRampToValueAtTime(300,this.context.currentTime+.3),t.type="square",a.gain.setValueAtTime(0,this.context.currentTime),a.gain.linearRampToValueAtTime(.2*this.volume*e,this.context.currentTime+.05),a.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.3),t.connect(a),a.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+.3)}catch(t){console.warn("Error creating error sound:",t)}}createExpireSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.createOscillator(),a=this.context.createGain();t.frequency.setValueAtTime(400,this.context.currentTime),t.frequency.exponentialRampToValueAtTime(200,this.context.currentTime+1),t.type="triangle",a.gain.setValueAtTime(0,this.context.currentTime),a.gain.linearRampToValueAtTime(.25*this.volume*e,this.context.currentTime+.1),a.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+1),t.connect(a),a.connect(this.context.destination),t.start(this.context.currentTime),t.stop(this.context.currentTime+1)}catch(t){console.warn("Error creating expire sound:",t)}}createRewardSound(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.context&&this.userInteracted)try{const t=this.context.currentTime;[523,659,784,1047,1319].forEach(((a,s)=>{const r=.1*s,n=this.context.createOscillator(),o=this.context.createGain();n.frequency.setValueAtTime(a,t+r),n.type="sine",o.gain.setValueAtTime(0,t+r),o.gain.linearRampToValueAtTime(.3*this.volume*e,t+r+.05),o.gain.exponentialRampToValueAtTime(.001,t+r+.4),n.connect(o),o.connect(this.context.destination),n.start(t+r),n.stop(t+r+.4)}))}catch(t){console.warn("Error creating reward sound:",t)}}},qt=Ht;var Gt=a(579);const $t="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Yt=(0,r.createContext)(),Qt=()=>{const e=(0,r.useContext)(Yt);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},Kt=e=>{let{children:t}=e;const[a,s]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)(0),[c,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[x,p]=(0,r.useState)({bet_accepted:!0,match_results:!0,commission_freeze:!0,gem_gifts:!0,system_messages:!0,admin_notifications:!0}),f=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{u(!0),m(null);const s=localStorage.getItem("token");if(!s)return;const r=await Pt.get("".concat($t,"/notifications"),{headers:{Authorization:"Bearer ".concat(s)},params:{page:e,limit:t}});var a;if(r.data.success)o(r.data.notifications||[]),l((null===(a=r.data.pagination)||void 0===a?void 0:a.unread_count)||0)}catch(s){console.error("Error fetching notifications:",s),m("Failed to load notifications")}finally{u(!1)}}),[]),g=(0,r.useCallback)((async()=>{try{const e=localStorage.getItem("token");if(!e)return;const t=await Pt.get("".concat($t,"/notifications/settings"),{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&p(t.data.settings)}catch(e){console.error("Error fetching notification settings:",e)}}),[]),b=(0,r.useCallback)((async e=>{try{const t=localStorage.getItem("token");if(!t)return!1;return!!(await Pt.put("".concat($t,"/notifications/settings"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data.success&&(p(e),!0)}catch(t){return console.error("Error updating notification settings:",t),!1}}),[]),y=(0,r.useCallback)((async e=>{try{const t=localStorage.getItem("token");return!!t&&(await Pt.put("".concat($t,"/notifications/").concat(e,"/read"),{},{headers:{Authorization:"Bearer ".concat(t)}}),o((t=>t.map((t=>t.id===e?d(d({},t),{},{is_read:!0,read_at:(new Date).toISOString()}):t)))),l((e=>Math.max(0,e-1))),!0)}catch(t){return console.error("Error marking notification as read:",t),!1}}),[]),v=(0,r.useCallback)((async()=>{try{const e=localStorage.getItem("token");return!!e&&(await Pt.put("".concat($t,"/notifications/mark-all-read"),{},{headers:{Authorization:"Bearer ".concat(e)}}),o((e=>e.map((e=>d(d({},e),{},{is_read:!0,read_at:(new Date).toISOString()}))))),l(0),!0)}catch(e){return console.error("Error marking all notifications as read:",e),!1}}),[]),j=(0,r.useCallback)((async e=>{try{const t=localStorage.getItem("token");return!!t&&(await Pt.delete("".concat($t,"/notifications/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),o((t=>t.filter((t=>t.id!==e)))),!0)}catch(t){return console.error("Error deleting notification:",t),!1}}),[]),w=(0,r.useCallback)((e=>{s((t=>t.filter((t=>t.id!==e))))}),[]),N=(0,r.useCallback)((function(e){const t="string"===typeof e?{message:e,type:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||"info"}:e,a=Date.now()+Math.random(),r=d({id:a,type:t.type||"info",message:t.message||"",duration:t.duration||5e3,isRussian:t.isRussian||!1},t);return s((e=>[...e,r])),setTimeout((()=>{w(a)}),r.duration),a}),[w]),_=(0,r.useCallback)((()=>{s([])}),[]),k=(0,r.useCallback)((function(e){return N({message:e,type:"success",duration:arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3})}),[N]),S=(0,r.useCallback)((function(e){return N({message:e,type:"error",duration:arguments.length>1&&void 0!==arguments[1]?arguments[1]:7e3})}),[N]),C=(0,r.useCallback)((function(e){return N({message:e,type:"warning",duration:arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3})}),[N]),M=(0,r.useCallback)((function(e){return N({message:e,type:"info",duration:arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3})}),[N]);(0,r.useEffect)((()=>{localStorage.getItem("token")&&(f(),g())}),[f,g]),(0,r.useEffect)((()=>{if(!localStorage.getItem("token"))return;const e=setInterval((()=>{f()}),3e4);return()=>clearInterval(e)}),[f]);const L={notifications:a,addNotification:N,removeNotification:w,clearAllNotifications:_,addSuccessNotification:k,addErrorNotification:S,addWarningNotification:C,addInfoNotification:M,persistentNotifications:n,unreadCount:i,loading:c,error:h,fetchNotifications:f,markAsRead:y,markAllAsRead:v,deleteNotification:j,notificationSettings:x,updateNotificationSettings:b,fetchNotificationSettings:g,showSuccess:k,showError:S,showWarning:C,showInfo:M,showSuccessRU:k,showErrorRU:S,showWarningRU:C,showInfoRU:M};return r.useEffect((()=>(window.showErrorRU=S,()=>{delete window.showErrorRU})),[]),(0,Gt.jsx)(Yt.Provider,{value:L,children:t})},Xt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=new Date(e);return new Date(a.getTime()+36e5*t).toLocaleString()},Jt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=new Date(e);return new Date(a.getTime()+36e5*t).toLocaleDateString()},Zt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a=new Date(e),s=null===t?a:new Date(a.getTime()+36e5*t),r=s.getDate().toString().padStart(2,"0"),n=(s.getMonth()+1).toString().padStart(2,"0"),o=s.getFullYear(),i=s.getHours().toString().padStart(2,"0"),l=s.getMinutes().toString().padStart(2,"0"),c=s.getSeconds().toString().padStart(2,"0");return"".concat(r,".").concat(n,".").concat(o,", ").concat(i,":").concat(l,":").concat(c)},ea={rock:"/Rock.svg",paper:"/Paper.svg",scissors:"/Scissors.svg"},ta=e=>"string"===typeof e&&e.length?e.charAt(0).toUpperCase()+e.slice(1):e,aa=e=>{let{notification:t,user:a,showIcons:s=!0,onDelete:r}=e;const n=(e=>{const t=(null===e||void 0===e?void 0:e.payload)||{};if(t.outcome){const e=String(t.outcome).toLowerCase();if(e.includes("win"))return"win";if(e.includes("lose"))return"lose";if(e.includes("draw"))return"draw"}const a=((null===e||void 0===e?void 0:e.message)||"").toLowerCase();return a.includes("you won")?"win":a.includes("you lost")||a.includes("you lose")?"lose":a.includes("draw")?"draw":"win"})(t),o=(e=>{switch(e){case"win":return{text:"text-green-400",strong:"text-green-400",badge:"bg-green-600/20 text-green-300"};case"lose":return{text:"text-red-400",strong:"text-red-400",badge:"bg-red-600/20 text-red-300"};case"draw":return{text:"text-yellow-400",strong:"text-yellow-400",badge:"bg-yellow-600/20 text-yellow-300"};default:return{text:"text-text-secondary",strong:"text-accent-primary",badge:"bg-surface-sidebar text-text-secondary"}}})(n),i=(e=>{const t=(null===e||void 0===e?void 0:e.payload)||{};return t.opponent_name?t.opponent_name:((null===e||void 0===e?void 0:e.message)||"").toLowerCase().includes("bot")?"Bot":"Opponent"})(t),l=(e=>{const t=(null===e||void 0===e?void 0:e.payload)||{},a=(t.player_move||"").toString().toLowerCase(),s=(t.opponent_move||"").toString().toLowerCase(),r=["rock","paper","scissors"];return{player:r.includes(a)?a:null,opponent:r.includes(s)?s:null}})(t),c=(e=>{const t=(null===e||void 0===e?void 0:e.payload)||{};return{player:"number"===typeof t.player_bet_gems?t.player_bet_gems:null,opponent:"number"===typeof t.opponent_bet_gems?t.opponent_bet_gems:null}})(t),{isBotGame:d,isHumanBot:u,percent:h,commissionAmountUsd:m}=(e=>{const t=(null===e||void 0===e?void 0:e.payload)||{},a=!!t.is_bot_game,s=!!t.is_human_bot,r="number"===typeof t.commission_percent?t.commission_percent:3,n="number"===typeof t.player_bet_usd?t.player_bet_usd:"number"===typeof t.player_bet_gems?t.player_bet_gems:0;return{isBotGame:a,isHumanBot:s,percent:r,commissionAmountUsd:"number"===typeof t.commission_amount_usd?t.commission_amount_usd:n*r/100}})(t),x="win"===n&&(!d||d&&u)&&m>0?"(".concat(h,"% commission: $").concat(m.toFixed(2),")"):null,p=Zt(t.created_at,null===a||void 0===a?void 0:a.timezone_offset);return(0,Gt.jsx)("div",{className:"w-full",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-12 items-center gap-3",children:[(0,Gt.jsxs)("div",{className:"pl-6 col-span-7 sm:col-span-7",children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-sm sm:text-base",children:"Match Result"}),(0,Gt.jsxs)("div",{className:"mt-1 text-xs sm:text-sm font-rajdhani font-bold ".concat(o.text),children:["win"===n&&"WON ".concat(i,"!"),"lose"===n&&"LOST ".concat(i,"."),"draw"===n&&"DRAW ".concat(i,"."),(()=>{const e=c.player,a=c.opponent;if("win"===n){let s=e,r=a;if("number"!==typeof s||"number"!==typeof r){const e=(null===t||void 0===t?void 0:t.payload)||{};if("number"===typeof e.total_gems&&e.total_gems>0){const t=Math.round(e.total_gems/2);s=t,r=t}}if("number"===typeof s&&"number"===typeof r)return(0,Gt.jsxs)("span",{className:"ml-1 text-text-secondary font-medium",children:["Received: ",(0,Gt.jsxs)("span",{className:"font-extrabold ".concat(o.strong),children:[s,"/",r," Gems"]})]})}if("lose"===n||"draw"===n){const a=(null===t||void 0===t?void 0:t.payload)||{},s="number"===typeof e?e:"number"===typeof a.amount_lost?a.amount_lost:"number"===typeof a.amount?a.amount:null;if("number"===typeof s)return(0,Gt.jsx)("span",{className:"ml-1 text-text-secondary font-medium",children:(0,Gt.jsxs)("span",{className:"font-extrabold ".concat(o.strong),children:[s," Gems"]})})}return null})()]}),x&&(0,Gt.jsx)("div",{className:"mt-1 text-xs text-text-secondary font-rajdhani",children:x}),(0,Gt.jsx)("div",{className:"mt-1 text-[11px] sm:text-xs text-gray-500 font-roboto",children:p})]}),(0,Gt.jsx)("div",{className:"col-span-4 sm:col-span-3 flex items-center justify-center",children:s&&(0,Gt.jsxs)("div",{className:"flex space-x-1",children:[(0,Gt.jsx)("img",{src:ea[l.player],alt:ta(l.player),className:"w-10 h-10 sm:w-12 sm:h-12"}),(0,Gt.jsx)("span",{className:"text-text-secondary text-base font-rajdhani",children:"vs"}),(0,Gt.jsx)("img",{src:ea[l.opponent],alt:ta(l.opponent),className:"w-10 h-10 sm:w-12 sm:h-12"})]})})]})})},sa=e=>{let{isCollapsed:t,setCurrentView:a,user:s}=e;const[n,o]=(0,r.useState)(!1),i=(0,r.useRef)(null),l=(0,r.useRef)(null),{persistentNotifications:c,unreadCount:d,loading:u,fetchNotifications:h,markAsRead:m,markAllAsRead:x,deleteNotification:p}=Qt();(0,r.useEffect)((()=>{const e=e=>{var t;const a=null===(t=e.detail)||void 0===t?void 0:t.id;a&&p(a)};return window.addEventListener("delete-notification",e),()=>window.removeEventListener("delete-notification",e)}),[]);const[f,g]=(0,r.useState)({top:0,left:0}),[b,y]=(0,r.useState)(null),v=(0,r.useCallback)((()=>{if(i.current&&n){const e=i.current.getBoundingClientRect(),t=window.innerWidth,a=window.innerHeight;if(t<=768){const s=.8*a,r=a-e.bottom-20,n={top:e.bottom+2,left:Math.max(10,e.left-10),maxHeight:Math.min(s,r),width:Math.min(380,t-20)};g(n)}else{const s={top:e.bottom+2,left:e.left,maxHeight:a-e.bottom-20,maxWidth:Math.min(420,t-e.left-20)};g(s)}}}),[n]);(0,r.useEffect)((()=>{if(n){v();const e=setTimeout((()=>{v()}),10);return()=>clearTimeout(e)}}),[n,v]),(0,r.useEffect)((()=>{if(n){var e;v();const t=()=>{v()},a=()=>{v()};window.addEventListener("resize",t),window.addEventListener("scroll",a,{passive:!0}),document.addEventListener("scroll",a,{capture:!0,passive:!0});let s=null===(e=i.current)||void 0===e?void 0:e.parentElement;const r=[];for(;s&&s!==document.body;)s.scrollHeight>s.clientHeight&&(s.addEventListener("scroll",a,{passive:!0}),r.push(s)),s=s.parentElement;return()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",a),document.removeEventListener("scroll",a,{capture:!0}),r.forEach((e=>{e.removeEventListener("scroll",a)}))}}}),[n,v]);(0,r.useEffect)((()=>{if(n){const{body:e}=document,t=e.style.overflow,a=e.style.paddingRight,s=window.innerWidth-document.documentElement.clientWidth;return s>0&&(e.style.paddingRight="".concat(s,"px")),e.style.overflow="hidden",()=>{e.style.overflow=t||"unset",e.style.paddingRight=a||""}}}),[n]);const j=e=>{n&&l.current&&!l.current.contains(e.target)&&i.current&&!i.current.contains(e.target)&&o(!1)};(0,r.useEffect)((()=>{if(n)return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}}),[n]);const w=e=>{const t=(e.type||"").toString().toLowerCase(),a=(e.title||"").toString();return"match_result"===t||"Match Result"===a?(0,Gt.jsx)(aa,{notification:e,user:s,onDelete:e=>p(e)}):(0,Gt.jsxs)("div",{className:"p-3",children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-sm",children:e.title||"Notification"}),(0,Gt.jsx)("div",{className:"text-xs text-gray-300 mt-1",children:e.message}),(0,Gt.jsx)("div",{className:"text-[11px] text-gray-500 mt-1",children:Zt(e.created_at,null===s||void 0===s?void 0:s.timezone_offset)})]})},N=e=>{switch(e){case"error":return"border-l-red-500";case"warning":return"border-l-yellow-500";default:return"border-l-accent-primary"}};return(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsxs)("button",{ref:i,onClick:()=>{n||h(),o(!n),n||setTimeout((()=>{v()}),0)},className:"\n          relative flex items-center justify-center p-3 text-text-secondary hover:text-white \n          transition-all duration-200 rounded-lg hover:bg-surface-sidebar group\n          ".concat("w-10 h-10","\n        "),"aria-label":"Notifications",children:[(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("svg",{className:"w-6 h-6 transform group-hover:scale-110 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),d>0&&(0,Gt.jsxs)("div",{className:"absolute -top-1 -right-1 flex items-center justify-center",children:[(0,Gt.jsx)("div",{className:"absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75 animate-ping"}),(0,Gt.jsx)("div",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),d>0&&(0,Gt.jsx)("span",{className:"absolute -top-1 -right-1 min-w-[1.25rem] h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1 border-2 border-surface-primary",children:d>99?"99+":d})]}),n&&(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40 sm:hidden",onClick:()=>o(!1)}),(0,Gt.jsxs)("div",{ref:l,className:"fixed z-50 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg shadow-xl transform transition-all duration-200 ease-out",style:{top:"".concat(f.top,"px"),left:"".concat(f.left,"px"),width:"".concat(f.width||Math.min(420,f.maxWidth||420),"px"),maxHeight:"".concat(f.maxHeight||480,"px"),opacity:n?1:0,transform:n?"scale(1) translateY(0)":"scale(0.95) translateY(-8px)"},children:[(0,Gt.jsx)("div",{className:"sticky top-0 p-3 border-b border-gray-700 bg-surface-card rounded-t-lg z-10",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsx)("h3",{className:"text-white font-rajdhani font-bold text-lg",children:"Notifications"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[u&&(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-accent-primary"}),d>0&&(0,Gt.jsx)("button",{onClick:e=>{e.stopPropagation(),x()},className:"text-xs text-accent-primary hover:text-accent-primary-dark transition-colors whitespace-nowrap",children:"Mark all as read"}),(0,Gt.jsx)("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-white transition-colors ","aria-label":"Close",children:(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),(0,Gt.jsx)("div",{className:"overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent",style:{maxHeight:"".concat((f.maxHeight||400)-120,"px")},children:0===c.length?(0,Gt.jsxs)("div",{className:"p-8 text-center",children:[(0,Gt.jsx)("div",{className:"text-4xl mb-3 opacity-50",children:"\ud83d\udced"}),(0,Gt.jsx)("div",{className:"text-gray-400 text-sm",children:"No notifications"}),(0,Gt.jsx)("div",{className:"text-gray-500 text-xs mt-1",children:"Your notifications will appear here"})]}):(0,Gt.jsx)("div",{className:"divide-y divide-gray-700",children:c.slice(0,10).map((e=>(0,Gt.jsx)("div",{className:"border-l-4 ".concat(N(e.priority)," ").concat(e.is_read?"":"bg-accent-primary bg-opacity-5"),children:(0,Gt.jsxs)("div",{onClick:t=>(async(e,t)=>{t&&(t.preventDefault(),t.stopPropagation()),e.is_read||await m(e.id)})(e,t),className:"relative p-3 pb-7 pr-8 cursor-pointer hover:bg-surface-sidebar transition-colors duration-200",children:[w(e),!e.is_read&&(0,Gt.jsx)("span",{className:"absolute top-2 left-2 w-2 h-2 bg-red-500 rounded-full"}),(0,Gt.jsx)("button",{"aria-label":"Delete notification",className:"absolute bottom-2 right-2 text-gray-500 hover:text-red-400 transition-colors p-1 z-10",onClick:t=>{t.preventDefault(),t.stopPropagation(),p(e.id)},children:(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},e.id)))})}),(0,Gt.jsx)("div",{className:"sticky bottom-0 p-3 border-t border-gray-700 bg-surface-card rounded-b-lg",children:(0,Gt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a&&a("notifications"),o(!1)},className:"text-accent-primary text-sm hover:text-accent-primary-dark transition-colors font-medium",children:"All notifications \u2192"})})]})]})]})},ra=e=>{let{currentView:t,setCurrentView:a,user:s,isCollapsed:n,setIsCollapsed:o,onOpenAdminPanel:i,onLogout:l}=e;const[c,d]=(0,r.useState)(0),[u,h]=(0,r.useState)(!1),m="".concat("https://income-bot-3.preview.emergentagent.com","/api"),x=async()=>{try{if(!s)return;const e=localStorage.getItem("token"),t=(await Pt.get("".concat(m,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}})).data,a=(t.virtual_balance||0)-(t.frozen_balance||0),r=t.total_gem_value||0,n=Math.max(0,a)+r;d(n)}catch(e){console.error("Error fetching total balance:",e),d(0)}};(0,r.useEffect)((()=>{s&&x()}),[s]),(0,r.useEffect)((()=>{if(!s)return;const e=setInterval(x,1e4);return()=>clearInterval(e)}),[s]);const p=[{id:"lobby",label:"Lobby",icon:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),color:"text-gray-400"},{id:"my-bets",label:"My Bets",icon:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),color:"text-gray-400"},{id:"shop",label:"Shop",icon:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})}),color:"text-gray-400"},{id:"inventory",label:"Inventory",icon:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),color:"text-gray-400"},{id:"leaderboard",label:"Leaderboard",icon:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"text-gray-400"},{id:"profile",label:"Profile",icon:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),color:"text-gray-400"},{id:"history",label:"History",icon:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"text-gray-400"},{id:"admin-panel",label:"Admin Panel",icon:(0,Gt.jsxs)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),color:"text-purple-400",adminOnly:!0}];return(0,Gt.jsxs)("div",{className:"bg-surface-sidebar border-r border-border-primary transition-all duration-300 flex flex-col h-full ".concat(n?"w-16":"w-64"),children:[(0,Gt.jsxs)("div",{className:"p-4 border-b border-border-primary ".concat(n?"px-2":""),children:[(0,Gt.jsxs)("div",{className:"flex items-center ".concat(n?"justify-center":"justify-between"),children:[!n&&(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 flex items-center justify-center",children:(0,Gt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-10 h-10 object-contain"})}),(0,Gt.jsx)("span",{className:"font-russo text-2xl text-accent-primary",children:"GemPLAY"})]}),n&&(0,Gt.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Gt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-8 h-8 object-contain"})}),!n&&(0,Gt.jsx)("button",{onClick:()=>o(!n),className:"p-1 hover:bg-surface-card rounded-lg transition-colors",children:(0,Gt.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),(0,Gt.jsx)("div",{className:"".concat(n?"flex justify-center mt-2":"mt-3 flex justify-center"),children:(0,Gt.jsx)(sa,{isCollapsed:n,setCurrentView:a,user:s})}),n&&(0,Gt.jsx)("div",{className:"flex justify-center mt-2",children:(0,Gt.jsx)("button",{onClick:()=>o(!n),className:"p-2 hover:bg-surface-card rounded-lg transition-colors",children:(0,Gt.jsx)("svg",{className:"w-5 h-5 text-gray-400 transition-transform duration-300 rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})})]}),(0,Gt.jsx)("nav",{className:"flex-1 py-4",children:(0,Gt.jsx)("ul",{className:"space-y-1 ".concat(n?"px-1":"px-2"),children:p.map((e=>e.adminOnly&&(!s||"ADMIN"!==s.role&&"SUPER_ADMIN"!==s.role&&"MODERATOR"!==s.role)?null:(0,Gt.jsx)("li",{children:(0,Gt.jsxs)("button",{onClick:()=>{"admin-panel"===e.id?i():a(e.id)},className:"w-full flex items-center transition-all duration-300 group relative overflow-hidden ".concat(n?"justify-center p-2 mx-1 rounded-lg":"px-3 py-3 rounded-lg"," ").concat(t===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary":"hover:bg-surface-card ".concat(e.color," hover:text-white")),title:n?e.label:"",children:[t===e.id&&(0,Gt.jsx)("div",{className:"absolute inset-0 border border-accent-primary bg-accent-primary/10 border-opacity-40 rounded-lg ".concat(n?"border-opacity-50":"border-l-4 border-accent-primary border-opacity-100 border-t-0 border-r-0 border-b-0 bg-accent-primary/15")}),(0,Gt.jsx)("div",{className:"relative z-10 transition-all duration-300 ".concat(t===e.id?"text-accent-primary":"".concat(e.color," group-hover:text-white")," ").concat(n?"flex items-center justify-center group-hover:scale-110 group-hover:translate-x-1":""),children:e.icon}),!n&&(0,Gt.jsx)("span",{className:"ml-3 font-rajdhani font-semibold tracking-wide relative z-10",children:e.label})]})},e.id)))})}),!n&&s&&(0,Gt.jsxs)("div",{className:"p-4 border-t border-border-primary",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"font-russo text-white text-sm",children:s.username.charAt(0).toUpperCase()})}),(0,Gt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Gt.jsx)("p",{className:"font-rajdhani font-semibold text-white truncate",children:s.username}),(0,Gt.jsxs)("p",{className:"font-roboto text-sm text-green-400",children:["$",c.toFixed(2)||"0.00"]})]})]}),(0,Gt.jsxs)("button",{onClick:l,className:"w-full flex items-center justify-center px-3 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 group",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"LOGOUT"]})]}),n&&s&&(0,Gt.jsx)("div",{className:"p-2 border-t border-border-primary",children:(0,Gt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Gt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"font-russo text-white text-xs",children:s.username.charAt(0).toUpperCase()})}),(0,Gt.jsx)("button",{onClick:l,className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all duration-300 group flex items-center justify-center",title:"Logout",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})};let na=null;const oa=()=>{if(!na){const e=new Set;na={registerRefreshCallback:t=>(e.add(t),()=>{e.delete(t)}),triggerLobbyRefresh:()=>{e.forEach((e=>{try{e()}catch(t){console.error("Error in global lobby refresh callback:",t)}}))}}}return na},ia="".concat("https://income-bot-3.preview.emergentagent.com","/api"),la=(0,r.createContext)(),ca=()=>{const e=(0,r.useContext)(la);if(!e)throw new Error("useGems must be used within a GemsProvider");return e},da=e=>{let{children:t}=e;const[a,s]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[i,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{c();const e=oa().registerRefreshCallback((()=>{c()}));return()=>{e()}}),[]);const c=async()=>{o(!0);try{const e=localStorage.getItem("token");if(!e)return console.warn("No token found, using default gem definitions"),s(d()),void o(!1);const t=(await Pt.get("".concat(ia,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}})).data||[],a=await Pt.get("".concat(ia,"/gems/definitions")),r=(a.data||[]).map((e=>{const a=t.find((t=>t.type===e.type)),s={type:e.type,name:e.name,price:e.price,color:e.color,icon:u(e.type),rarity:e.rarity,quantity:a?a.quantity:0,frozen_quantity:a?a.frozen_quantity:0,available_quantity:a?a.quantity-a.frozen_quantity:0,total_value:a?a.quantity*e.price:0,available_value:a?(a.quantity-a.frozen_quantity)*e.price:0,frozen_value:a?a.frozen_quantity*e.price:0,has_gems:!!a&&a.quantity>0,has_available:!!a&&a.quantity-a.frozen_quantity>0,last_updated:a?a.updated_at:null};return"Magic"===e.type&&a&&a.quantity>0&&console.log("\ud83d\udc8e Magic gem data constructed:",{total:s.quantity,frozen:s.frozen_quantity,available:s.available_quantity,userGemExists:!!a,rawUserGem:a}),s}));s(r),l(new Date),o(!1)}catch(e){console.error("Error fetching inventory data:",e);try{const e=await Pt.get("".concat(ia,"/gems/definitions")),t=(e.data||[]).map((e=>({type:e.type,name:e.name,price:e.price,color:e.color,icon:u(e.type),rarity:e.rarity,quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null})));s(t)}catch(t){console.error("Error fetching gem definitions:",t),s(d())}o(!1)}},d=()=>[{type:"Ruby",name:"Ruby",price:1,color:"#ef4444",icon:"/gems/gem-red.svg",rarity:"common",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Amber",name:"Amber",price:2,color:"#f97316",icon:"/gems/gem-orange.svg",rarity:"common",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Topaz",name:"Topaz",price:5,color:"#eab308",icon:"/gems/gem-yellow.svg",rarity:"uncommon",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Emerald",name:"Emerald",price:10,color:"#22c55e",icon:"/gems/gem-green.svg",rarity:"rare",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Aquamarine",name:"Aquamarine",price:25,color:"#06b6d4",icon:"/gems/gem-cyan.svg",rarity:"epic",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Sapphire",name:"Sapphire",price:50,color:"#3b82f6",icon:"/gems/gem-blue.svg",rarity:"legendary",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null},{type:"Magic",name:"Magic",price:100,color:"#a855f7",icon:"/gems/gem-purple.svg",rarity:"mythic",quantity:0,frozen_quantity:0,available_quantity:0,total_value:0,available_value:0,frozen_value:0,has_gems:!1,has_available:!1,last_updated:null}],u=e=>({Ruby:"/gems/gem-red.svg",Amber:"/gems/gem-orange.svg",Topaz:"/gems/gem-yellow.svg",Emerald:"/gems/gem-green.svg",Aquamarine:"/gems/gem-cyan.svg",Sapphire:"/gems/gem-blue.svg",Magic:"/gems/gem-purple.svg"}[e]||"/gems/gem-red.svg"),h=e=>a.find((t=>t.type===e||t.name===e)),m={gemsData:a,loading:n,lastUpdate:i,gemsDefinitions:a,getGemByType:h,getGemValue:e=>{const t=h(e);return t?t.price:0},getGemIcon:e=>{const t=h(e);return t?t.icon:"/gems/gem-red.svg"},getAvailableGems:()=>a.filter((e=>e.has_available)),getAllGemsWithQuantity:()=>a.filter((e=>e.has_gems)),getSortedGems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"price",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return[...a].sort(((a,s)=>"asc"===t?a[e]-s[e]:s[e]-a[e]))},getTotalPortfolioValue:()=>a.reduce(((e,t)=>e+t.total_value),0),getAvailablePortfolioValue:()=>a.reduce(((e,t)=>e+t.available_value),0),getFrozenPortfolioValue:()=>a.reduce(((e,t)=>e+t.frozen_value),0),refreshInventory:async()=>{await c()},validateGemOperation:e=>{const t=Date.now();console.log("\ud83d\udc8e Validating gem operation at ".concat(t,":"),e);for(const[s,r]of Object.entries(e)){const e=a.find((e=>e.type===s||e.name===s));if(!e)return console.error("\u274c Unknown gem type: ".concat(s)),{valid:!1,error:"Unknown gem type: ".concat(s)};if(console.log("\ud83d\udc8e ".concat(s,": Required ").concat(r,", Available ").concat(e.available_quantity," (Total: ").concat(e.quantity,", Frozen: ").concat(e.frozen_quantity,")")),e.available_quantity<r){const t="Insufficient ".concat(s," gems. Available: ").concat(e.available_quantity,", Required: ").concat(r);return console.error("\u274c ".concat(t)),{valid:!1,error:t}}}return console.log("\u2705 Gem operation validation passed"),{valid:!0}},getGemIconPath:u};return(0,Gt.jsx)(la.Provider,{value:m,children:t})},ua=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!==typeof e||isNaN(e))return t?"0,00":"0";const a={minimumFractionDigits:t?2:0,maximumFractionDigits:t?2:0,useGrouping:!0};return(t?e:Math.floor(e)).toLocaleString("en-US",a).replace(/,/g," ").replace(".",",")},ha=function(e){return"$".concat(ua(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]))},ma=e=>"$".concat(ua(e,!0)),xa=e=>"number"!==typeof e||isNaN(e)?"$0":"$".concat(Math.floor(e).toLocaleString("en-US")),pa=e=>"number"!==typeof e||isNaN(e)?"0":Math.round(e).toString(),fa=e=>{let{user:t}=e;const{gemsData:a,loading:s}=ca(),r=e=>{let{gemType:t}=e;const s=a.find((e=>e.type===t));if(!s)return null;const{name:r,icon:n,color:o,price:i,quantity:l,frozen_quantity:c,available_quantity:d,has_gems:u,has_available:h}=s;return(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 text-center transition-all duration-300 ".concat(u?"hover:scale-105 hover:shadow-lg":""),style:{border:"1px solid ".concat(o).concat(u?"60":"20"),boxShadow:u?"0 0 8px ".concat(o,"20"):"none"},children:[(0,Gt.jsx)("div",{className:"flex justify-center mb-2",children:(0,Gt.jsx)("div",{className:"w-12 h-12 flex items-center justify-center",children:(0,Gt.jsx)("img",{src:n,alt:r,className:"w-10 h-10 object-contain transition-all duration-300 ".concat(u?"brightness-100":"brightness-50 opacity-40"),style:{filter:u?"drop-shadow(0 0 6px ".concat(o,"60)"):"grayscale(100%)"}})})}),(0,Gt.jsx)("h3",{className:"font-rajdhani text-sm font-bold mb-1 transition-colors duration-300 ".concat(u?"text-white":"text-gray-500"),children:r}),(0,Gt.jsx)("div",{className:"font-rajdhani text-lg font-bold mb-2 transition-colors duration-300",style:{color:u?o:"#6b7280"},children:ha(i)}),(0,Gt.jsx)("div",{className:"space-y-1",children:u?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"font-rajdhani text-xs text-green-400 font-medium",children:[d," Available"]}),c>0&&(0,Gt.jsxs)("div",{className:"font-rajdhani text-xs text-orange-400 font-medium",children:[c," Frozen"]})]}):(0,Gt.jsx)("div",{className:"font-rajdhani text-xs text-gray-600",children:"0 Owned"})})]})};return s?(0,Gt.jsx)("div",{className:"max-w-6xl mx-auto mb-6",children:(0,Gt.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[...Array(7)].map(((e,t)=>(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-20 rounded-lg p-3 animate-pulse",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-gray-600 rounded-full mx-auto mb-2"}),(0,Gt.jsx)("div",{className:"w-16 h-3 bg-gray-600 rounded mx-auto mb-2"}),(0,Gt.jsx)("div",{className:"w-12 h-4 bg-gray-600 rounded mx-auto mb-2"}),(0,Gt.jsx)("div",{className:"w-14 h-3 bg-gray-600 rounded mx-auto"})]},t)))})}):(0,Gt.jsx)("div",{className:"max-w-6xl mx-auto mb-6",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-7 gap-3",children:[(0,Gt.jsx)(r,{gemType:"Ruby"}),(0,Gt.jsx)(r,{gemType:"Amber"}),(0,Gt.jsx)(r,{gemType:"Topaz"}),(0,Gt.jsx)(r,{gemType:"Emerald"}),(0,Gt.jsx)(r,{gemType:"Aquamarine"}),(0,Gt.jsx)(r,{gemType:"Sapphire"}),(0,Gt.jsx)(r,{gemType:"Magic"})]})})},ga=e=>{let{size:t=64,ariaLabel:a="Loading"}=e;return(0,Gt.jsx)("img",{src:"/gems/gem-green.svg",alt:a,width:t,height:t,className:"spin-3s",style:{width:t,height:t}})},ba="".concat("https://income-bot-3.preview.emergentagent.com","/api");let ya=null,va=null;const ja=3e5,wa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Date.now();return ya&&va&&t-va<ja||(ya=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const a=localStorage.getItem("token");let s;if("SUPER_ADMIN"===e)try{if(s=await Pt.get("".concat(ba,"/admin/gems"),{headers:{Authorization:"Bearer ".concat(a)}}),s.data)return s.data}catch(t){console.log("Admin endpoint failed, falling back to public endpoint")}return s=await Pt.get("".concat(ba,"/gems/definitions"),{headers:a?{Authorization:"Bearer ".concat(a)}:{}}),s.data?s.data:[]}catch(a){return console.error("Error fetching gem prices:",a),[]}}(e),va=t),ya},Na=e=>{if("number"!==typeof e||isNaN(e))return"0 Gems";const t=Math.round(e);return 1===t?"1 Gem":"".concat(t," Gems")},_a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;await wa(e)},ka=(0,r.memo)((e=>{var t,a,s;let{game:n,user:o,isMyBet:i=!1,isOngoing:l=!1,onAccept:c,onCancel:u,onOpenJoinBattle:h}=e;const{gemsDefinitions:m,getGemByType:x}=ca(),[p,f]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),y="bot"===n.creator_type||"human_bot"===n.creator_type||n.is_bot_game,v=(0,r.useMemo)((()=>{if(!o||!n)return!1;let e=0;n.bet_amount?e=n.bet_amount:n.bet_gems&&Object.keys(n.bet_gems).length>0&&(e=Object.entries(n.bet_gems).reduce(((e,t)=>{let[a,s]=t;const r=x(a);return e+(r?r.price*s:0)}),0));const t=n.is_bot_game||!1?0:.03*e;if((o.virtual_balance||0)-(o.frozen_balance||0)<t)return!1;return m.reduce(((e,t)=>e+t.available_quantity*t.price),0)>=e}),[o,n,m,x]);(0,r.useEffect)((()=>{p&&v&&f(!1)}),[v,p]);const j=(0,r.useMemo)((()=>i&&"ACTIVE"===n.status?"bg-[#23233e] border-[#23d364] border-opacity-40 hover:border-opacity-60":"".concat("bg-[#09295e]"," border-[#23d364] border-opacity-30 hover:border-opacity-50")),[i,n.status]),w=(0,r.useCallback)((e=>e?e.length>15?e.substring(0,15)+"...":e:"Player"),[]),N=(0,r.useMemo)((()=>{var e,t;return w((null===(e=n.creator_info)||void 0===e?void 0:e.username)||n.creator_username||(null===(t=n.creator)||void 0===t?void 0:t.username)||"Unknown Player")}),[null===(t=n.creator_info)||void 0===t?void 0:t.username,n.creator_username,null===(a=n.creator)||void 0===a?void 0:a.username,w]),_=(0,r.useCallback)((()=>{if(!p){if(!v){let e=0;n.bet_amount?e=n.bet_amount:n.bet_gems&&Object.keys(n.bet_gems).length>0&&(e=Object.entries(n.bet_gems).reduce(((e,t)=>{let[a,s]=t;const r=x(a);return e+(r?r.price*s:0)}),0));const t=.03,a=n.is_bot_game||!1?0:e*t;if((o.virtual_balance||0)-(o.frozen_balance||0)<a)return void(h&&h(n));if(m.reduce(((e,t)=>e+t.available_quantity*t.price),0)<e)return void(h&&h(n))}f(!0),c?c(n.game_id||n.id):h&&h(n),v&&setTimeout((()=>f(!1)),1e3)}}),[c,h,n,p,v,o,m,x]),k=(0,r.useCallback)((()=>{g||(b(!0),u&&u(n.game_id||n.id),setTimeout((()=>b(!1)),1e3))}),[u,n.game_id,n.id,g]),S=(0,r.useMemo)((()=>(()=>{if(n.bet_gems&&Object.keys(n.bet_gems).length>0)return Object.entries(n.bet_gems).reduce(((e,t)=>{let[a,s]=t;const r=x(a);return e+(r?r.price*s:0)}),0);return n.bet_amount?n.bet_amount:0})()),[n.bet_amount,n.bet_gems,m]),C=(0,r.useMemo)((()=>(()=>{if(!n.created_at)return null;const e=new Date(n.created_at),t=new Date(e.getTime()+864e5),a=t.getHours(),s=t.getMinutes();return"".concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))})()),[n.created_at]),M=(0,r.useMemo)((()=>(()=>{if(!n.bet_gems){if(n.bet_amount&&m.length>0){const e=[];let t=n.bet_amount;const a=[...m].sort(((e,t)=>t.price-e.price));for(const s of a){if(t<=0)break;const a=Math.floor(t/s.price);if(a>0){const r=Math.min(a,Math.max(1,Math.floor(3*Math.random())+1));e.push(d(d({},s),{},{quantity:r})),t-=r*s.price}}if(t>0&&a.length>0){const s=a[a.length-1],r=Math.floor(t/s.price);if(r>0){const t=e.find((e=>e.type===s.type));t?t.quantity+=r:e.push(d(d({},s),{},{quantity:r}))}}return e.sort(((e,t)=>e.price-t.price))}return[]}return Object.entries(n.bet_gems).map((e=>{let[t,a]=e;const s=x(t);return s?d(d({},s),{},{quantity:a}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price))})()),[n.bet_gems,m]),L=(0,r.useMemo)((()=>(()=>{var e,t,a,s;return n.is_human_bot||"human_bot"===n.creator_type||"HUMAN"===n.bot_type?"female"===((null===(a=n.creator_info)||void 0===a?void 0:a.gender)||(null===(s=n.creator)||void 0===s?void 0:s.gender)||"male")?"/Women.svg":"/Men.svg":y?"\ud83e\udd16":"female"===((null===(e=n.creator_info)||void 0===e?void 0:e.gender)||(null===(t=n.creator)||void 0===t?void 0:t.gender)||"male")?"/Women.svg":"/Men.svg"})()),[n.is_human_bot,n.creator_type,n.bot_type,null===(s=n.creator)||void 0===s?void 0:s.gender,y]);return(0,Gt.jsx)(Gt.Fragment,{children:(0,Gt.jsx)("div",{className:"".concat(j," border rounded-lg p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"),style:{willChange:"transform"},children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsx)("div",{className:"flex-shrink-0",children:y&&n.is_bot_game&&"HUMAN"!==n.bot_type?(0,Gt.jsx)("div",{className:"w-14 h-14 rounded-full bg-purple-700 flex items-center justify-center",children:(0,Gt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Gt.jsx)("title",{children:"Bot 01 \u2014 Head + antenna"}),(0,Gt.jsx)("line",{x1:"12",y1:"4",x2:"12",y2:"7"}),(0,Gt.jsx)("circle",{cx:"12",cy:"3",r:"1"}),(0,Gt.jsx)("rect",{x:"5",y:"7",width:"14",height:"10",rx:"3"}),(0,Gt.jsx)("line",{x1:"3",y1:"12",x2:"5",y2:"12"}),(0,Gt.jsx)("line",{x1:"19",y1:"12",x2:"21",y2:"12"}),(0,Gt.jsx)("circle",{cx:"9.5",cy:"12",r:"1",fill:"white",stroke:"none"}),(0,Gt.jsx)("circle",{cx:"14.5",cy:"12",r:"1",fill:"white",stroke:"none"}),(0,Gt.jsx)("line",{x1:"8.5",y1:"15",x2:"15.5",y2:"15"})]})}):(0,Gt.jsx)("img",{src:L,alt:"Player Avatar",className:"w-14 h-14 rounded-full object-cover"})}),(0,Gt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Gt.jsx)("h3",{className:"text-white font-rajdhani font-bold text-lg truncate",children:N}),i&&(0,Gt.jsx)("span",{className:"bg-blue-600 text-white text-xs font-rajdhani font-bold px-2 py-1 rounded",children:"My Bet"}),y&&n.is_bot_game&&"HUMAN"!==n.bot_type&&(0,Gt.jsx)("span",{className:"bg-blue-600 text-white text-xs font-rajdhani font-bold px-2 py-1 rounded",children:"AI"})]}),(0,Gt.jsx)("div",{className:"flex items-center space-x-1 mb-2 overflow-x-auto",children:M.map(((e,t)=>(0,Gt.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[(0,Gt.jsx)("img",{src:e.icon,alt:e.name,className:"w-4 h-4"}),(0,Gt.jsx)("span",{className:"text-text-secondary text-xs font-rajdhani",children:e.quantity}),t<M.length-1&&(0,Gt.jsx)("span",{className:"text-text-secondary text-xs",children:"\u2022"})]},e.type)))}),(0,Gt.jsx)("div",{className:"text-green-400 font-rajdhani font-bold text-xl",children:Na(S)}),C&&(0,Gt.jsxs)("div",{className:"text-text-secondary text-xs font-rajdhani mt-1",children:["Auto-cancel: ",C]})]}),(0,Gt.jsx)("div",{className:"flex-shrink-0",children:i?"ACTIVE"===n.status||"REVEAL"===n.status?(0,Gt.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-gray-600 text-gray-400 font-rajdhani font-bold rounded-lg cursor-not-allowed",children:"In Progress"}):(0,Gt.jsx)("button",{onClick:k,disabled:g,className:"px-4 py-2 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ".concat(g?"bg-gray-600":"bg-red-600 hover:bg-red-700 hover:scale-105"),children:g?"Cancelling...":"Cancel"}):l?(0,Gt.jsx)("button",{disabled:!0,className:"px-4 py-2 bg-orange-600 text-white font-rajdhani font-bold rounded-lg cursor-not-allowed",children:"Busy"}):(0,Gt.jsx)("button",{onClick:_,disabled:p||!v,className:"px-4 py-2 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ".concat(p||!v?"bg-gray-600":"bg-green-600 hover:bg-green-700 hover:scale-105"),title:v?"":"Insufficient funds or gems",children:p?"Accepting...":"Accept"})})]})})})}));ka.displayName="PlayerCard";const Sa=ka,Ca={LOW:["Ruby","Amber"],MID:["Topaz","Emerald","Aquamarine"],HIGH:["Sapphire","Magic"]},Ma=(e,t)=>{const a=Math.round(100*t),s=[];for(const c of e){const e=Math.round(100*c.price);for(let t=0;t<c.availableQuantity;t++)s.push({type:c.type,name:c.name,price:c.price,priceCents:e,icon:c.icon,color:c.color})}const r=new Array(a+1).fill(!1);r[0]=!0;const n=new Array(a+1).fill(-1);for(let c=0;c<s.length;c++){const e=s[c].priceCents;for(let t=a;t>=e;t--)r[t-e]&&!r[t]&&(r[t]=!0,n[t]=c)}if(!r[a])return{success:!1,combination:[]};const o=[];let i=a;for(;i>0&&-1!==n[i];){const e=s[n[i]];o.push(e),i-=e.priceCents}const l={};for(const c of o){const e=c.type;l[e]||(l[e]=0),l[e]++}return{success:!0,combination:Object.entries(l).map((t=>{let[a,s]=t;const r=e.find((e=>e.type===a));return{type:a,name:r.name,price:r.price,quantity:s,totalValue:r.price*s,icon:r.icon,color:r.color}}))}},La=e=>e.filter((e=>e.available_quantity>0)).map((e=>({type:e.type,name:e.name,price:e.price,availableQuantity:e.available_quantity,totalQuantity:e.quantity,frozenQuantity:e.frozen_quantity,icon:e.icon,color:e.color}))),Ea=(e,t,a)=>{if(!t||!Array.isArray(t))return{success:!1,combination:[],message:"Invalid gems data provided."};if(!a||a<=0)return{success:!1,combination:[],message:"Please enter a valid bet amount."};if(0===t.filter((e=>e.available_quantity>0)).length)return{success:!1,combination:[],message:"No gems available in inventory. Purchase gems first."};const s=t.reduce(((e,t)=>e+t.available_quantity*t.price),0);if(a>s)return{success:!1,combination:[],message:"Cannot create bet of $".concat(a.toFixed(2),". Maximum possible with current inventory: $").concat(s.toFixed(2))};try{switch(e){case"small":return((e,t)=>{const a=La(e);if(0===a.length)return{success:!1,combination:[],message:"No gems available in inventory."};const s=[...a].sort(((e,t)=>e.price-t.price));let r=t;const n={};for(;r>0;){let e=!1;for(const t of s){const a=n[t.type]||0;if(a<t.availableQuantity&&t.price<=r){n[t.type]=a+1,r-=t.price,e=!0;break}}if(!e){let e=!1;for(const t of s){const a=n[t.type]||0;if(a<t.availableQuantity&&t.price===r){n[t.type]=a+1,r=0,e=!0;break}}if(!e){const e=Ma(a,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Small strategy: Found exact combination for $".concat(t.toFixed(2))}:(console.error("Small Strategy: No solution found",{targetAmount:t,availableGems:a.map((e=>"".concat(e.name,": ").concat(e.availableQuantity))),selectedSoFar:n,remainingNeeded:r}),{success:!1,combination:[],message:"Not enough gems in inventory to create this bet amount. Try a lower amount or purchase more gems."})}}}const o=Object.entries(n).map((e=>{let[t,s]=e;const r=a.find((e=>e.type===t));if(s>r.availableQuantity)throw console.error("VALIDATION ERROR: Trying to use ".concat(s," ").concat(t," but only ").concat(r.availableQuantity," available")),new Error("Cannot use ".concat(s," ").concat(t,", only ").concat(r.availableQuantity," available in inventory"));return{type:t,name:r.name,price:r.price,quantity:s,totalValue:r.price*s,icon:r.icon,color:r.color}})),i=o.reduce(((e,t)=>e+t.totalValue),0);return Math.abs(i-t)>.01?(console.error("AMOUNT MISMATCH: Target ".concat(t,", got ").concat(i)),{success:!1,combination:[],message:"Amount calculation error: expected $".concat(t.toFixed(2),", got $").concat(i.toFixed(2))}):{success:!0,combination:o.sort(((e,t)=>e.price-t.price)),message:"Small strategy: Found exact combination for $".concat(i.toFixed(2))}})(t,a);case"smart":return((e,t)=>{const a=La(e);if(0===a.length)return{success:!1,combination:[],message:"No gems available in inventory."};const s={low:a.filter((e=>Ca.LOW.includes(e.type))),mid:a.filter((e=>Ca.MID.includes(e.type))),high:a.filter((e=>Ca.HIGH.includes(e.type)))};s.low.sort(((e,t)=>e.price-t.price)),s.mid.sort(((e,t)=>e.price-t.price)),s.high.sort(((e,t)=>t.price-e.price));const r={};let n=t;const o=(e,t)=>{let a=0;for(;n>0&&a<t&&e.length>0;){let s=!1;for(const o of e){const e=r[o.type]||0;if(e<o.availableQuantity&&o.price<=n&&o.price<=t-a){r[o.type]=e+1,n-=o.price,a+=o.price,s=!0;break}}if(!s)break}return a},i=.6*t,l=.3*t,c=.1*t;if(o(s.mid,i),o(s.low,l),o(s.high,c),n>0){const e=[...s.mid,...s.low,...s.high];for(;n>0;){let t=!1;for(const a of e){const e=r[a.type]||0;if(e<a.availableQuantity&&a.price<=n){r[a.type]=e+1,n-=a.price,t=!0;break}}if(!t){for(const a of e){const e=r[a.type]||0;if(e<a.availableQuantity&&a.price===n){r[a.type]=e+1,n=0,t=!0;break}}if(!t)break}}}if(n>0){const e=Ma(a,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Smart strategy: Found balanced combination for $".concat(t.toFixed(2))}:{success:!1,combination:[],message:"Not enough gems in inventory to form this bet. Please adjust your balance or select manually."}}const d=Object.entries(r).map((e=>{let[t,s]=e;const r=a.find((e=>e.type===t));if(s>r.availableQuantity)throw console.error("VALIDATION ERROR: Trying to use ".concat(s," ").concat(t," but only ").concat(r.availableQuantity," available")),new Error("Cannot use ".concat(s," ").concat(t,", only ").concat(r.availableQuantity," available in inventory"));return{type:t,name:r.name,price:r.price,quantity:s,totalValue:r.price*s,icon:r.icon,color:r.color}})),u=d.reduce(((e,t)=>e+t.totalValue),0);return Math.abs(u-t)>.01?(console.error("AMOUNT MISMATCH: Target ".concat(t,", got ").concat(u)),{success:!1,combination:[],message:"Amount calculation error: expected $".concat(t.toFixed(2),", got $").concat(u.toFixed(2))}):{success:!0,combination:d.sort(((e,t)=>e.price-t.price)),message:"Smart strategy: Found balanced combination for $".concat(u.toFixed(2))}})(t,a);case"big":return((e,t)=>{const a=La(e);if(0===a.length)return{success:!1,combination:[],message:"No gems available in inventory."};const s=[...a].sort(((e,t)=>t.price-e.price));let r=t;const n={};for(;r>0;){let e=!1;for(const t of s){const a=n[t.type]||0;if(a<t.availableQuantity&&t.price<=r){n[t.type]=a+1,r-=t.price,e=!0;break}}if(!e){for(const t of s){const a=n[t.type]||0;if(a<t.availableQuantity&&t.price===r){n[t.type]=a+1,r=0,e=!0;break}}if(!e){const e=Ma(a,t);return e.success?{success:!0,combination:e.combination.sort(((e,t)=>e.price-t.price)),message:"Big strategy: Found combination with fewest gems for $".concat(t.toFixed(2))}:{success:!1,combination:[],message:"Not enough gems in inventory to form this bet. Please adjust your balance or select manually."}}}}const o=Object.entries(n).map((e=>{let[t,s]=e;const r=a.find((e=>e.type===t));if(s>r.availableQuantity)throw console.error("VALIDATION ERROR: Trying to use ".concat(s," ").concat(t," but only ").concat(r.availableQuantity," available")),new Error("Cannot use ".concat(s," ").concat(t,", only ").concat(r.availableQuantity," available in inventory"));return{type:t,name:r.name,price:r.price,quantity:s,totalValue:r.price*s,icon:r.icon,color:r.color}})),i=o.reduce(((e,t)=>e+t.totalValue),0);return Math.abs(i-t)>.01?(console.error("AMOUNT MISMATCH: Target ".concat(t,", got ").concat(i)),{success:!1,combination:[],message:"Amount calculation error: expected $".concat(t.toFixed(2),", got $").concat(i.toFixed(2))}):{success:!0,combination:o.sort(((e,t)=>e.price-t.price)),message:"Big strategy: Found combination with fewest gems for $".concat(i.toFixed(2))}})(t,a);default:return{success:!1,combination:[],message:"Invalid strategy selected."}}}catch(r){return console.error("Error in gem combination algorithm:",r),{success:!1,combination:[],message:"Error calculating gem combination: ".concat(r.message)}}},Aa=e=>{let{user:t,onClose:a,onUpdateUser:s}=e;const{gemsData:n,validateGemOperation:o,refreshInventory:i}=ca(),{showSuccess:l,showError:c}=Qt(),[u,h]=(0,r.useState)(1),[m,x]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[g,b]=(0,r.useState)({}),[y,v]=(0,r.useState)(0),[j,w]=(0,r.useState)(""),[N,_]=(0,r.useState)(null),[k,S]=(0,r.useState)({small:!1,smart:!1,big:!1}),[C,M]=(0,r.useState)(!1),[L,E]=(0,r.useState)(!1),A=3e3,T=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}],P=[];(0,r.useEffect)((()=>{const e=Object.entries(g).reduce(((e,t)=>{let[a,s]=t;const r=n.find((e=>e.type===a));return e+(r?r.price*s:0)}),0);v(e)}),[g,n]);const z=e=>{if(k[e])return;if(!p||parseFloat(p)<=0)return void c("Please enter a valid bet amount first");const t=parseFloat(p);if(t<1)c("Minimum bet amount is $".concat(1));else if(t>A)c("Maximum bet amount is $".concat(A));else{x(!0),S({small:"small"===e,smart:"smart"===e,big:"big"===e}),_(e);try{console.log("Attempting ".concat(e," strategy for $").concat(t," with gems:"),n.map((e=>"".concat(e.name,": ").concat(e.available_quantity))));const a=Ea(e,n,t);if(a.success){const s={};a.combination.forEach((e=>{s[e.type]=e.quantity}));const r=a.combination.reduce(((e,t)=>e+t.totalValue),0);if(Math.abs(r-t)>.01)throw new Error("Amount mismatch: expected $".concat(t,", got $").concat(r));b(s),l(a.message),console.log("".concat(e," strategy successful:"),s)}else c(a.message),console.error("".concat(e," strategy failed:"),a.message)}catch(a){console.error("Error calculating gem combination:",a);const e=a.message.includes("available in inventory")?a.message:"Error calculating gem combination. Please try manually selecting gems.";c(e)}finally{x(!1)}}},I=(e,t)=>{const a=n.find((t=>t.type===e));if(!a)return;const s=a.available_quantity,r=Math.max(0,Math.min(s,t));b((t=>{if(r<=0){const a=d({},t);return delete a[e],a}return d(d({},t),{},{[e]:r})}))},O=()=>!!j||(c("Please select your move"),!1),D=()=>{const e=Object.entries(g).map((e=>{let[t,a]=e;const s=n.find((e=>e.type===t));return s?d(d({},s),{},{quantity:a}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price));return 0===e.length?(0,Gt.jsx)("div",{className:"text-text-secondary text-sm text-center py-4",children:"No gems selected. Choose amount and strategy above."}):(0,Gt.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e=>{const t=e.quantity*e.price;return(0,Gt.jsxs)("div",{className:"flex items-center space-x-1 bg-surface-sidebar rounded-lg px-3 py-2 border border-opacity-30",style:{borderColor:e.color},children:[(0,Gt.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,Gt.jsxs)("span",{className:"text-text-secondary text-xs font-rajdhani",children:["x",e.quantity]}),(0,Gt.jsxs)("span",{className:"text-green-400 text-xs font-rajdhani font-bold",children:["= ",Na(t)]})]},e.type)}))})};return(0,r.useEffect)((()=>{const{body:e}=document,t=e.style.overflow,a=e.style.paddingRight,s=window.innerWidth-document.documentElement.clientWidth;return s>0&&(e.style.paddingRight="".concat(s,"px")),e.style.overflow="hidden",()=>{e.style.overflow=t,e.style.paddingRight=a}}),[]),(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onWheel:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg w-full max-w-lg max-h-[90vh] overflow-hidden",role:"dialog","aria-modal":"true",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-primary",children:[(0,Gt.jsx)("h2",{className:"text-white font-russo text-xl",children:"Create Bet"}),(0,Gt.jsx)("button",{onClick:a,className:"text-text-secondary hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsx)("div",{className:"",children:(0,Gt.jsx)("div",{className:"flex items-center space-x-2",children:P.map(((e,t)=>(0,Gt.jsxs)(r.Fragment,{children:[(0,Gt.jsxs)("div",{className:"flex-1 flex items-center space-x-2 ".concat(u>=e.id?"text-accent-primary":"text-text-secondary"),children:[(0,Gt.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ".concat(u>=e.id?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:e.id}),(0,Gt.jsx)("span",{className:"text-xs font-rajdhani hidden sm:block",children:e.name})]}),t<P.length-1&&(0,Gt.jsx)("div",{className:"w-8 h-0.5 ".concat(u>e.id?"bg-accent-primary":"bg-surface-sidebar")})]},e.id)))})}),(0,Gt.jsxs)("div",{className:"px-4 overflow-y-auto max-h-96",children:[1===u&&(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"sticky top-0 bg-surface-card border-b border-border-primary p-4 -mx-4 mb-0 z-10",children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Bet Amount"}),(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("input",{type:"number",value:p,onChange:e=>{return t=e.target.value,void f(t);var t},placeholder:"Enter amount...",min:1,max:A,className:"placeholder:text-xl w-full px-4 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white text-3xl font-rajdhani font-bold text-center focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400 text-xl font-bold",children:(0,Gt.jsx)("img",{src:"/gems/gem-green.svg",alt:"Gem",width:"20",height:"20",style:{verticalAlign:"middle"}})})]}),(0,Gt.jsxs)("div",{className:"flex justify-between text-text-secondary text-sm mt-2",children:[(0,Gt.jsxs)("span",{children:["Min: ",1," "]}),(0,Gt.jsxs)("span",{children:["Max: ",A]})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Auto Combination"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Gt.jsx)("button",{onClick:()=>z("small"),disabled:!p||parseFloat(p)<=0||m||k.small,className:"px-4 py-3 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center ".concat(k.small?"bg-gray-600":"bg-red-600 hover:bg-red-700 hover:scale-105"),title:"\ud83d\udd34 Use more cheap gems (Ruby, Amber, Topaz)",children:m?(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udd34 Small"}),(0,Gt.jsx)("button",{onClick:()=>z("smart"),disabled:!p||parseFloat(p)<=0||m||k.smart,className:"px-4 py-3 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center ".concat(k.smart?"bg-gray-600":"bg-green-600 hover:bg-green-700 hover:scale-105"),title:"\ud83d\udfe2 Balanced mid-range gems (60% mid, 30% low, 10% high)",children:m?(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe2 Smart"}),(0,Gt.jsx)("button",{onClick:()=>z("big"),disabled:!p||parseFloat(p)<=0||m||k.big,className:"px-4 py-3 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center ".concat(k.big?"bg-gray-600":"bg-purple-600 hover:bg-purple-700 hover:scale-105"),title:"\ud83d\udfe3 Use fewer expensive gems (Magic, Sapphire, Aquamarine)",children:m?(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"\ud83d\udfe3 Big"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Gt.jsx)("label",{className:"text-white font-rajdhani text-lg",children:"Selected Gems"}),(0,Gt.jsxs)("div",{className:"font-rajdhani text-xl font-bold ".concat(p&&Math.abs(y-parseFloat(p))<.01?"text-green-400":y>0?"text-orange-400":"text-text-secondary"),children:[Na(y),p&&parseFloat(p)>0&&(0,Gt.jsxs)("span",{className:"text-text-secondary text-sm ml-2",children:["/ ",parseFloat(p)]})]})]}),(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4 min-h-16 border border-border-primary",children:D()}),p&&parseFloat(p)>0&&Math.abs(y-parseFloat(p))>.01&&(0,Gt.jsxs)("div",{className:"mt-2 text-orange-400 text-sm font-rajdhani",children:["\u26a0\ufe0f Selected gems total ($",y,") doesn't match bet amount ($",parseFloat(p),"). Use auto-combination buttons or adjust manually."]})]}),(0,Gt.jsxs)("div",{className:"pb-4",children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani text-lg mb-3",children:"Your Inventory"}),(0,Gt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-3 gap-3 max-h-64 overflow-y-auto",children:n.map((e=>{const t=g[e.type]||0;return e.has_gems?(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3 border border-opacity-20",style:{borderColor:e.color},children:[(0,Gt.jsxs)("div",{className:"text-center mb-2",children:[(0,Gt.jsx)("img",{src:e.icon,alt:e.name,className:"w-14 h-14 mx-auto mb-1"}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:e.name}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:Na(e.price)})]}),(0,Gt.jsxs)("div",{className:"flex items-center justify-between space-x-1",children:[(0,Gt.jsx)("button",{onClick:()=>I(e.type,t-1),disabled:t<=0,className:"w-6 h-6 bg-red-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"\u2212"}),(0,Gt.jsxs)("div",{className:"text-center flex-1",children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-sm",children:t}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-xs",children:["/",e.available_quantity]})]}),(0,Gt.jsx)("button",{onClick:()=>I(e.type,t+1),disabled:t>=e.available_quantity,className:"w-6 h-6 bg-green-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"+"})]})]},e.type):null}))})]})]}),2===u&&(0,Gt.jsx)("div",{className:"py-4",children:(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Choose Your Move"}),(0,Gt.jsx)("div",{className:"text-green-400 font-rajdhani text-6xl mt-2 font-bold",children:y})]}),(0,Gt.jsx)("div",{className:"grid grid-cols-3 gap-3",children:T.map((e=>(0,Gt.jsxs)("button",{onClick:()=>w(e.id),className:"p-6 rounded-lg border-2 transition-all duration-300 hover:scale-105 ".concat(j===e.id?"border-accent-primary bg-accent-primary bg-opacity-20":"border-surface-sidebar hover:border-accent-primary border-opacity-50"),children:[(0,Gt.jsx)("img",{src:e.icon,alt:e.name,className:"w-24 h-24 mx-auto mb-10"}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg",children:e.name})]},e.id)))})]})})]}),(0,Gt.jsx)("div",{className:"p-4 border-t border-border-primary",children:(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[u>1&&(0,Gt.jsx)("button",{onClick:()=>{L||u>1&&(E(!0),h(u-1),setTimeout((()=>E(!1)),300))},disabled:m||L,className:"px-4 py-2 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 ".concat(L?"bg-gray-600 cursor-not-allowed":"bg-surface-sidebar hover:scale-105"),children:"Back"}),1===u&&(0,Gt.jsx)("button",{onClick:()=>{if(L)return;let e=!1;switch(u){case 1:e=(()=>{const e=parseFloat(p);if(isNaN(e)||e<1||e>A)return c("Bet amount must be between $".concat(1," and $").concat(A)),!1;if(0===Object.keys(g).length)return c("Please select at least one gem"),!1;if(Math.abs(y-e)>.01)return c("Selected gems total ($".concat(y,") must match bet amount ($").concat(e,"). Use auto-combination buttons or adjust manually.")),!1;const a=o(g);if(!a.valid)return c(a.error),!1;const s=.03*y,r=((null===t||void 0===t?void 0:t.virtual_balance)||0)-((null===t||void 0===t?void 0:t.frozen_balance)||0);return!(r<s)||(c("Insufficient balance for commission. Required: ".concat(ma(s),", Available: ").concat(ma(r))),!1)})();break;case 2:e=O()}e&&(E(!0),h(Math.min(2,u+1)),setTimeout((()=>E(!1)),300))},disabled:m||L,className:"flex-1 px-4 py-4 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 ".concat(L?"bg-gray-600 cursor-not-allowed":"bg-gradient-accent hover:scale-105"),children:"Next"}),2===u&&(0,Gt.jsx)("button",{onClick:async()=>{if(!C&&O()){x(!0),M(!0);try{const e=await fetch("".concat("https://income-bot-3.preview.emergentagent.com","/api/games/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({move:j,bet_gems:g})}),t=await e.json();if(e.ok){l("Bet created! ".concat(ma(.03*y)," (3%) frozen until game completion.")),await i(),null===s||void 0===s||s();oa().triggerLobbyRefresh(),console.log("\ud83c\udfae Bet created - triggering lobby refresh"),a()}else c(t.detail||"Failed to create bet"),M(!1)}catch(e){c("Network error. Please try again."),M(!1)}finally{x(!1)}}},disabled:m||C,className:"flex-1 px-4 py-4 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 ".concat(C?"bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-700 hover:scale-105"),children:m||C?"Creating...":"Create Bet"})]})})]})})},Ta=e=>{let{targetAmount:t,commissionAmount:a,selectedGems:s,onSelectedGemsChange:r,gemsData:n,loading:o,onStrategySelect:i,showError:l,strategyButtonsDisabled:c={small:!1,smart:!1,big:!1}}=e;const u=e=>{try{return"number"!==typeof e||isNaN(e)?"$0.00":"$".concat(e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))}catch(t){return console.error("Error formatting currency:",t),"$0.00"}},h=Object.entries(s).reduce(((e,t)=>{let[a,s]=t;const r=n.find((e=>e.type===a));return e+(r?r.price*s:0)}),0),m=(e,t)=>{const a=n.find((t=>t.type===e));if(!a)return;const o=a.available_quantity,i=Math.max(0,Math.min(o,t)),l=d({},s);i<=0?delete l[e]:l[e]=i,r(l)},x=e=>{try{const a=Ea(e,n,t);if(a.success){const t={};a.combination.forEach((e=>{t[e.type]=e.quantity})),r(t),i&&i(e)}else l(a.message)}catch(a){console.error("Error calculating gem combination:",a),l("Error calculating gem combination")}};return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Match Opponent's Bet"}),(0,Gt.jsx)("div",{className:"text-green-400 font-rajdhani text-6xl font-bold",children:t}),(0,Gt.jsxs)("div",{className:"text-blue-400 font-rajdhani text-lg",children:["Your Bet: ",h]}),a>0&&(0,Gt.jsxs)("div",{className:"text-orange-400 font-rajdhani text-sm",children:["Commission: ",u(a)]}),Math.abs(h-t)>.01&&(0,Gt.jsxs)("div",{className:"text-red-400 text-sm mt-1",children:["\u26a0\ufe0f Amount mismatch: ",Math.abs(h-t)]})]}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("h4",{className:"text-white font-rajdhani text-lg",children:"Auto Combination"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,Gt.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x("small")},disabled:o||c.small,className:"px-3 py-3 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-s ".concat(c.small?"bg-gray-600":"bg-red-600 hover:bg-red-700 hover:scale-105"),title:"\ud83d\udd34 Use more cheap gems (Ruby, Amber, then others)",children:o?(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mx-auto"}):"\ud83d\udd34 Small"}),(0,Gt.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x("smart")},disabled:o||c.smart,className:"px-3 py-3 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-s ".concat(c.smart?"bg-gray-600":"bg-green-600 hover:bg-green-700 hover:scale-105"),title:"\ud83d\udfe2 Balanced mid-range gems (60% mid, 30% low, 10% high)",children:o?(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mx-auto"}):"\ud83d\udfe2 Smart"}),(0,Gt.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x("big")},disabled:o||c.big,className:"px-3 py-3 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-s ".concat(c.big?"bg-gray-600":"bg-purple-600 hover:bg-purple-700 hover:scale-105"),title:"\ud83d\udfe3 Use fewer expensive gems (Magic, Sapphire, then others)",children:o?(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mx-auto"}):"\ud83d\udfe3 Big"})]})]}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("h5",{className:"text-white font-rajdhani text-lg",children:"Selected Gems"}),Object.keys(s).length>0?(0,Gt.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(s).map((e=>{let[t,a]=e;const s=n.find((e=>e.type===t));return s?d(d({},s),{},{quantity:a}):null})).filter(Boolean).sort(((e,t)=>e.price-t.price)).map((e=>{const t=e.quantity*e.price;return(0,Gt.jsxs)("div",{className:"flex items-center space-x-1 bg-surface-card rounded-lg px-3 py-2 border border-opacity-30",style:{borderColor:e.color},children:[(0,Gt.jsx)("img",{src:e.icon,alt:e.name,className:"w-5 h-5"}),(0,Gt.jsxs)("span",{className:"text-text-secondary text-xs font-rajdhani",children:["x",e.quantity]}),(0,Gt.jsxs)("span",{className:"text-green-400 text-xs font-rajdhani font-bold",children:["= ",u(t)]})]},e.type)}))}):(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm text-center py-2",children:["No gems selected. ",(0,Gt.jsx)("br",{})," Use Auto Combination or select manually below."]})]}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("h5",{className:"text-white font-rajdhani text-lg",children:"Your Inventory"}),(0,Gt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:n&&Array.isArray(n)?n.map((e=>{const t=e.available_quantity||0,a=s[e.type]||0;return!e.has_available&&a<=0?null:(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-4 border border-opacity-20 min-w-[140px]",style:{borderColor:e.color},children:[(0,Gt.jsxs)("div",{className:"text-center mb-2",children:[(0,Gt.jsx)("img",{src:e.icon,alt:e.name,className:"w-14 h-14 mx-auto mb-1"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:e.name}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:u(e.price)})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),m(e.type,Math.max(0,a-1))},disabled:a<=0,className:"w-6 h-6 bg-red-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"\u2212"}),(0,Gt.jsxs)("div",{className:"flex-1 text-center",children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-xs",children:a}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-xs",children:["/",t]})]}),(0,Gt.jsx)("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),m(e.type,a+1)},disabled:a>=t,className:"w-6 h-6 bg-green-600 text-white rounded text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:scale-110 transition-all",children:"+"})]})]},e.type)})):(0,Gt.jsx)("div",{className:"text-center text-text-secondary py-4 w-full",children:"Loading gems..."})})]})]})},Pa=e=>{var t;let{targetAmount:a,totalGemValue:s,selectedMove:r,onSelectedMoveChange:n}=e;const o=[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}];return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"text-white font-rajdhani text-xl mb-2",children:"Choose Your Move"}),(0,Gt.jsx)("div",{className:"text-green-400 font-rajdhani text-6xl font-bold",children:s})]}),(0,Gt.jsx)("div",{className:"grid grid-cols-3 gap-4",children:o.map((e=>(0,Gt.jsx)("button",{onClick:t=>{var a;t.preventDefault(),t.stopPropagation(),a=e.id,n&&n(a)},className:"p-6 rounded-lg border-2 transition-all duration-300 hover:scale-105 ".concat(r===e.id?"border-accent-primary bg-accent-primary bg-opacity-20":"border-border-primary hover:border-accent-primary"),children:(0,Gt.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,Gt.jsx)("img",{src:e.icon,alt:e.name,className:"w-24 h-24"}),(0,Gt.jsx)("span",{className:"text-white font-rajdhani font-bold",children:e.name})]})},e.id)))}),r&&(0,Gt.jsx)("div",{className:"text-center",children:(0,Gt.jsx)("div",{className:"inline-block bg-accent-primary bg-opacity-20 border border-accent-primary rounded-lg px-4 py-2",children:(0,Gt.jsxs)("span",{className:"text-accent-primary font-rajdhani font-bold",children:["Selected: ",null===(t=o.find((e=>e.id===r)))||void 0===t?void 0:t.name]})})}),(0,Gt.jsxs)("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-600 rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-blue-400 font-rajdhani font-bold mb-2",children:"\u26a1 Battle Rules"}),(0,Gt.jsxs)("ul",{className:"text-blue-300 text-sm space-y-1",children:[(0,Gt.jsx)("li",{children:"\u2022 Rock beats Scissors"}),(0,Gt.jsx)("li",{children:"\u2022 Paper beats Rock"}),(0,Gt.jsx)("li",{children:"\u2022 Scissors beats Paper"}),(0,Gt.jsx)("li",{children:"\u2022 Winner takes all gems"})]})]})]})},za=e=>{var t,a,s,n,o,i,l,c,d,u,h,m,x;let{battleResult:p,selectedMove:f,targetAmount:g,totalGemValue:b,commissionAmount:y,playerData:v,onClose:j}=e;const[w,N]=r.useState(30),[_,k]=r.useState(!0),[S,C]=r.useState(2);r.useEffect((()=>{k(!0),C(3);const e=setInterval((()=>{C((t=>t<=1?(clearInterval(e),k(!1),0):t-1))}),1e3);return()=>clearInterval(e)}),[]),r.useEffect((()=>{const e=setInterval((()=>{N((e=>e<=1?(j(),0):e-1))}),1e3);return()=>clearInterval(e)}),[j]);const M=r.useMemo((()=>[{id:"rock",name:"Rock",icon:"/Rock.svg"},{id:"paper",name:"Paper",icon:"/Paper.svg"},{id:"scissors",name:"Scissors",icon:"/Scissors.svg"}]),[]),{result:L="draw",opponentMove:E="rock",gameData:A=null}=p||{},T=r.useMemo((()=>{return t=E,(e=f)&&t?e===t?"draw":"rock"===e&&"scissors"===t||"scissors"===e&&"paper"===t||"paper"===e&&"rock"===t?"win":"lose":"draw";var e,t}),[f,E])!==(L||"draw"),P=null===v||void 0===v||null===(t=v.player)||void 0===t?void 0:t.role,z=T&&("ADMIN"===P||"SUPER_ADMIN"===P),I=(()=>{switch(L){case"win":return{title:"VICTORY!",color:"text-green-400",bgColor:"bg-green-900",borderColor:"border-green-600"};case"lose":return{title:"DEFEAT!",color:"text-red-400",bgColor:"bg-red-900",borderColor:"border-red-600"};default:return{title:"DRAW!",color:"text-yellow-400",bgColor:"bg-yellow-900",borderColor:"border-yellow-600"}}})();return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"text-center py-4",children:[(0,Gt.jsx)("h3",{className:"text-5xl font-russo mb-6 ".concat(I.color," animate-pulse"),style:{willChange:"transform"},children:z?"INCONSISTENT DATA":I.title}),z&&(0,Gt.jsx)("div",{className:"text-red-400 text-xs font-mono mt-2",children:"Inconsistent data detected (RPS vs result). Please contact support."}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm",children:["Auto-closing in ",w," seconds"]}),z&&(0,Gt.jsx)("div",{className:"mt-2 text-red-400 text-xs",children:"We detected a mismatch between computed RPS outcome and server result."})]}),(0,Gt.jsx)("div",{className:"".concat(I.bgColor," bg-opacity-10 border-2 ").concat(I.borderColor," rounded-xl p-6"),children:(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full border-4 ".concat(z?"border-red-500":"win"===L?"border-green-400":"lose"===L?"border-red-400":"border-yellow-400"," bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"),children:(0,Gt.jsx)("span",{className:"text-white font-russo text-xl",children:(null===v||void 0===v||null===(a=v.player)||void 0===a||null===(s=a.username)||void 0===s||null===(n=s.charAt(0))||void 0===n?void 0:n.toUpperCase())||"Y"})}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg mb-2",children:(null===v||void 0===v||null===(o=v.player)||void 0===o?void 0:o.username)||"You"}),(0,Gt.jsx)("div",{className:"text-sm font-bold ".concat("win"===L?"text-green-400":"lose"===L?"text-red-400":"text-yellow-400"),children:"win"===L?"WINNER":"lose"===L?"LOSER":"DRAW"}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("img",{src:null===(i=M.find((e=>e.id===f)))||void 0===i?void 0:i.icon,alt:f,className:"w-16 h-16 mx-auto mb-2",style:{willChange:"transform"}}),(0,Gt.jsx)("div",{className:"text-accent-primary font-rajdhani capitalize font-bold",children:null===(l=M.find((e=>e.id===f)))||void 0===l?void 0:l.name})]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-4xl font-russo text-white mb-2",children:"VS"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"Rock Paper Scissors"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full border-4 ".concat(z?"border-red-500":"lose"===L?"border-green-400":"win"===L?"border-red-400":"border-yellow-400"," bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center"),children:(0,Gt.jsx)("span",{className:"text-white font-russo text-xl",children:(null===v||void 0===v||null===(c=v.opponent)||void 0===c||null===(d=c.username)||void 0===d||null===(u=d.charAt(0))||void 0===u?void 0:u.toUpperCase())||"O"})}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-lg mb-2",children:(null===v||void 0===v||null===(h=v.opponent)||void 0===h?void 0:h.username)||"Opponent"}),(0,Gt.jsx)("div",{className:"text-sm font-bold ".concat("lose"===L?"text-green-400":"win"===L?"text-red-400":"text-yellow-400"),children:"lose"===L?"WINNER":"win"===L?"LOSER":"DRAW"}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("img",{src:null===(m=M.find((e=>e.id===E)))||void 0===m?void 0:m.icon,alt:E,className:"w-16 h-16 mx-auto mb-2",style:{willChange:"transform"}}),(0,Gt.jsx)("div",{className:"text-accent-primary font-rajdhani capitalize font-bold",children:null===(x=M.find((e=>e.id===E)))||void 0===x?void 0:x.name})]})]})]})}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-xl p-6 border border-border-primary",children:[(0,Gt.jsx)("h5",{className:"text-white font-rajdhani font-bold text-xl mb-4 text-center",children:"\ud83d\udcb0 Battle Summary"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,Gt.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Total Bet Amount:"}),(0,Gt.jsx)("span",{className:"text-white font-rajdhani font-bold text-lg",children:xa(b)})]}),y>0&&(0,Gt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,Gt.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Platform Commission:"}),(0,Gt.jsxs)("span",{className:"text-orange-400 font-rajdhani font-bold",children:["-",ma(y)]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-border-primary border-opacity-30",children:[(0,Gt.jsx)("span",{className:"text-text-secondary font-rajdhani",children:"Prize Pool:"}),(0,Gt.jsx)("span",{className:"text-green-400 font-rajdhani font-bold text-lg",children:xa(2*b-y)})]}),(0,Gt.jsxs)("div",{className:"pt-3 border-t-2 border-accent-primary border-opacity-30",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("span",{className:"text-white font-rajdhani font-bold text-lg",children:"Your Result:"}),(0,Gt.jsx)("span",{className:"font-rajdhani font-bold text-xl ".concat(I.color),children:"win"===L?"+".concat(xa(2*b-y)):"lose"===L?"-".concat(xa(b)):"\xb1".concat(xa(0))})]}),(0,Gt.jsx)("div",{className:"text-center mt-2",children:(0,Gt.jsx)("span",{className:"text-sm font-rajdhani ".concat(I.color),children:"win"===L?"You won all gems!":"lose"===L?"You lost your gems!":"All gems returned!"})})]})]}),A&&(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary text-center mt-4 pt-3 border-t border-border-primary border-opacity-20",children:["Game ID: ",A.id]})]}),(0,Gt.jsxs)("div",{className:"".concat(I.bgColor," bg-opacity-20 border ").concat(I.borderColor," rounded-lg p-4"),children:[(0,Gt.jsx)("div",{className:"".concat(I.color," font-rajdhani font-bold mb-2"),children:"win"===L?"\ud83c\udf89 Congratulations!":"lose"===L?"\ud83d\udc94 Better luck next time!":"\ud83e\udd1d Fair game!"}),(0,Gt.jsx)("div",{className:"text-white text-sm",children:"win"===L?"You won the battle and received all the gems!":"lose"===L?"You lost the battle. Your gems went to the opponent.":"It's a draw! All gems are returned to their original owners."})]}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),_||j&&j()},disabled:_,className:"w-full py-4 text-white font-rajdhani font-bold text-lg rounded-xl transition-all duration-300 ".concat(_?"opacity-60 cursor-not-allowed":"hover:scale-105"," ").concat("win"===L?"bg-gradient-to-r from-green-600 to-green-700":"lose"===L?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-yellow-600 to-yellow-700"),children:[_?"Please wait ".concat(S,"s..."):"win"===L?"\ud83c\udf89 Claim Victory!":"lose"===L?"\ud83d\udc94 Accept Defeat":"\ud83e\udd1d Continue Playing"," (OK)"]}),(0,Gt.jsxs)("div",{className:"text-center text-text-secondary text-sm",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsxs)("span",{children:["Window closes automatically in ",w," seconds"]})]}),(0,Gt.jsx)("div",{className:"mt-1",children:"Your balance and gems have been updated automatically"})]})]})]})},Ia=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{refreshInventory:a}=ca(),s=(0,r.useRef)(0),n=(0,r.useCallback)((async()=>{const r=Date.now();if(r-s.current<1e3)return t&&console.log("\ud83d\udd04 Data refresh throttled (too frequent)"),!0;s.current=r,t&&console.log("\ud83d\udd04 Starting centralized data refresh...");try{const s=[];return e&&s.push(Promise.resolve(e())),s.push(a()),await Promise.all(s),t&&console.log("\u2705 Centralized data refresh completed successfully"),!0}catch(n){return console.error("\u274c Error during centralized data refresh:",n),!1}}),[e,a,t]),o=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;await n(),setTimeout((async()=>{await n(),t&&console.log("\ud83d\udd04 Delayed data refresh completed")}),e)}),[n,t]);return{refreshAllData:n,refreshWithDelay:o}},Oa=e=>{let{bet:t,user:a,onClose:s,onUpdateUser:n}=e;const[o,i]=(0,r.useState)(!1);if(!t||!a||!s)return console.error("JoinBattleModal: Missing required props",{bet:t,user:a,onClose:s}),null;const l=(null===t||void 0===t?void 0:t.bet_amount)||0,c=(null===t||void 0===t?void 0:t.is_bot_game)||!1,d=c?0:.03*l,[u,h]=(0,r.useState)(1),[m,x]=(0,r.useState)(!1),[p,f]=(0,r.useState)(60),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[C,M]=(0,r.useState)(3),[L,E]=(0,r.useState)({}),[A,T]=(0,r.useState)(""),[P,z]=(0,r.useState)(null),[I,O]=(0,r.useState)(!1),[D,R]=(0,r.useState)(!1),[B,F]=(0,r.useState)(!1),W=(0,r.useRef)(null),[V,U]=(0,r.useState)(null),[H,q]=(0,r.useState)({small:!1,smart:!1,big:!1}),[G,$]=(0,r.useState)(!1),[Y,Q]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(3===u)return F(!0),W.current&&clearTimeout(W.current),W.current=setTimeout((()=>{F(!1)}),2e3),()=>{W.current&&clearTimeout(W.current)}}),[u]);const{gemsData:K=[],refreshInventory:X=()=>{}}=ca()||{},{showSuccess:J,showError:Z}=Qt()||{},{refreshAllData:ee,refreshWithDelay:te}=Ia(n,!1),ae=async(e,t)=>{console.log("\ud83c\udfaf Choosing move for active game:",{gameId:e,move:t});try{const a=await fetch("".concat("https://income-bot-3.preview.emergentagent.com","/api/games/").concat(e,"/choose-move"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({move:t})});if(!a.ok){const e=await a.json();throw new Error(e.detail||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0445\u043e\u0434\u0430")}const s=await a.json();return console.log("\ud83c\udfaf Choose move response:",s),s}catch(a){throw console.error("\ud83d\udea8 Choose move error:",a),a}},se=async()=>{if(Y)return;const e=await(async()=>{if(!A)return Z("Please select your move"),!1;if(0===Object.keys(L).length)return Z("Please select gems to match opponent's bet"),!1;await ee();const e=K,t=Object.entries(L).reduce(((t,a)=>{let[s,r]=a;const n=e.find((e=>e.type===s));return t+(n?n.price*r:0)}),0);if(Math.abs(t-l)>.01)return Z("Selected gems value ($".concat(t.toFixed(2),") must match opponent's bet ($").concat(l.toFixed(2),")")),!1;if(console.log("\ud83d\udc8e Skipping gem availability validation - gems already reserved for active game"),!c){const e=.03*l,t=((null===a||void 0===a?void 0:a.virtual_balance)||0)-((null===a||void 0===a?void 0:a.frozen_balance)||0);if(t<e)return Z("Insufficient balance for commission. Required: $".concat(e.toFixed(2),", Available: $").concat(t.toFixed(2))),!1}return!0})();if(e){if(x(!0),Q(!0),S(!0),M(3),await new Promise((e=>{let t=3;const a=setInterval((()=>{t<=1?(clearInterval(a),S(!1),e()):(t--,M(t))}),1e3)})),!A)return Z("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0434 \u043f\u0435\u0440\u0435\u0434 \u0441\u0442\u0430\u0440\u0442\u043e\u043c \u0431\u0438\u0442\u0432\u044b"),x(!1),void Q(!1);O(!0),h(3);try{const e=await ae(t.id,A);if(!e.game_id||void 0===e.winner_id)throw new Error("\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0431\u0438\u0442\u0432\u044b");{const t=e.winner_id===a.id?"win":e.winner_id?"lose":"draw";z({result:t,opponentMove:e.creator_move,gameData:e}),await ee();oa().triggerLobbyRefresh(),await te(800),J("Battle completed! ".concat("win"===t?"Victory!":"lose"===t?"Defeat!":"Draw!"))}}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0431\u0438\u0442\u0432\u044b:",s),Z(s.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0431\u0438\u0442\u0432\u044b"),h(2),Q(!1)}finally{O(!1),x(!1)}}},re=async()=>{D&&u<3&&await(async()=>{if(D)try{console.log("\ud83d\udeaa Leaving game:",t.id);const e=await fetch("".concat("https://income-bot-3.preview.emergentagent.com","/api/games/").concat(t.id,"/leave"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!e.ok){const t=await e.json();return void console.error("Error leaving game:",t)}const a=await e.json();console.log("\ud83d\udeaa Leave game response:",a),console.log("\ud83d\udd04 Starting immediate data refresh after leaving game..."),await ee(),oa().triggerLobbyRefresh(),console.log("\ud83d\udeaa Game left - triggering immediate lobby refresh"),await te(1500),J("Successfully left the game")}catch(e){console.error("\ud83d\udea8 Error leaving game:",e),await ee()}})(),"function"===typeof s&&s(o)};(0,r.useEffect)((()=>{if(u>=3)return;const e=setInterval((()=>{f((e=>{if(e<=1)return re(),0;const t=e-1;return 20!==t||g||(b(!0),w(!0),setTimeout((()=>w(!1)),300)),10!==t||y||(v(!0),w(!0),setTimeout((()=>w(!1)),300),_(!0)),t}))}),1e3);return()=>clearInterval(e)}),[u,D,g,y]);const ne=async e=>{if(!H[e]){x(!0),q({small:"small"===e,smart:"smart"===e,big:"big"===e}),U(e);try{await ee();const t=Ea(e,K,l);if(t.success){const a={};t.combination.forEach((e=>{a[e.type]=e.quantity})),E(a);const s={small:"Small",smart:"Smart",big:"Big"};J(t.message||"".concat(s[e]," strategy: exact combination for $").concat(l.toFixed(2)))}else Z(t.message||"Insufficient gems to create exact combination")}catch(t){console.error("Error with strategy selection:",t),Z(t.message||"Error with automatic gem selection")}finally{x(!1)}}},oe=(null===a||void 0===a?void 0:a.virtual_balance)||0,ie=(null===a||void 0===a?void 0:a.frozen_balance)||0,le=oe-ie;if(!c&&le<d)return(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg w-full max-w-md p-6",children:[(0,Gt.jsx)("h2",{className:"text-xl font-russo text-white mb-4",children:"\u26a0\ufe0f Insufficient Funds"}),(0,Gt.jsxs)("p",{className:"text-text-secondary mb-4",children:["You need at least $",d.toFixed(2)," for commission (3%) to join this bet."]}),(0,Gt.jsxs)("p",{className:"text-text-secondary mb-4",children:["Balance: $",oe.toFixed(2)," | Frozen: $",ie.toFixed(2)," | Available: $",le.toFixed(2)]}),(0,Gt.jsx)("button",{onClick:()=>s(o),className:"w-full py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Close"})]})});const ce=(0,r.useMemo)((()=>K.reduce(((e,t)=>e+t.quantity*t.price),0)),[K]);if(ce<l)return(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-lg w-full max-w-md p-6",children:[(0,Gt.jsx)("h2",{className:"text-xl font-russo text-white mb-4",children:"\u26a0\ufe0f Insufficient Gems"}),(0,Gt.jsxs)("p",{className:"text-text-secondary mb-4",children:["You don't have enough gems to match this bet amount of $",l.toFixed(2),"."]}),(0,Gt.jsxs)("p",{className:"text-text-secondary mb-4",children:["Your total gem value: $",ce.toFixed(2)]}),(0,Gt.jsx)("button",{onClick:()=>s(o),className:"w-full py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Close"})]})});const de=(0,r.useMemo)((()=>{const e=Object.entries(L).reduce(((e,t)=>{let[a,s]=t;const r=K.find((e=>e.type===a));return e+(r?r.price*s:0)}),0);switch(u){case 1:return Object.keys(L).length>0&&Math.abs(e-l)<=.01;case 2:return""!==A;default:return!1}}),[L,K,u,l,A]);return(0,r.useEffect)((()=>{const{body:e}=document,t=e.style.overflow,a=e.style.paddingRight,s=window.innerWidth-document.documentElement.clientWidth;return s>0&&(e.style.paddingRight="".concat(s,"px")),e.style.overflow="hidden",()=>{e.style.overflow=t,e.style.paddingRight=a}}),[]),(0,Gt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onWheel:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),children:[k&&(0,Gt.jsx)("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black bg-opacity-95 backdrop-blur-sm",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"countdown-number text-white font-russo text-9xl transform transition-all duration-500",style:{filter:"drop-shadow(0 0 30px rgba(255, 255, 255, 0.8))"},children:C},C),(0,Gt.jsx)("div",{className:"text-white font-rajdhani text-2xl mt-8 opacity-90 animate-pulse",children:"\u2694\ufe0f Starting Battle..."}),(0,Gt.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,Gt.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[(0,Gt.jsx)("div",{className:"w-96 h-96 border-2 border-white border-opacity-20 rounded-full animate-ping"}),(0,Gt.jsx)("div",{className:"absolute inset-4 border border-accent-primary border-opacity-40 rounded-full animate-pulse"})]})})]})}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),role:"dialog","aria-modal":"true",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-primary",children:[(0,Gt.jsx)("h2",{className:"text-white font-russo text-xl",children:"Join Battle"}),u<=2&&(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 ".concat(p<=10?"text-red-400":p<=20?"text-yellow-400":"text-text-secondary"),children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 ".concat(j&&p<=20?"animate-ping":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsxs)("span",{className:"font-rajdhani font-bold text-lg ".concat(N||j&&p<=10?"animate-pulse":""),children:[Math.floor(p/60),":",(p%60).toString().padStart(2,"0")]})]}),(0,Gt.jsx)("button",{type:"button",onClick:re,disabled:3===u&&B,className:"text-text-secondary transition-colors ".concat(3===u&&B?"opacity-50 cursor-not-allowed":"hover:text-white"),children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u<=2&&p<=15&&(0,Gt.jsx)("div",{className:"px-4 py-2 bg-red-900 bg-opacity-20 border-b border-red-600",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 text-red-400",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsxs)("span",{className:"text-sm font-rajdhani font-bold animate-pulse",children:["Warning: Only ",p," seconds remaining!"]})]})}),(0,Gt.jsx)("div",{className:"p-4 overflow-y-auto max-h-96",children:(()=>{var e;const n=(0,r.useMemo)((()=>Object.entries(L).reduce(((e,t)=>{let[a,s]=t;const r=K.find((e=>e.type===a));return e+(r?r.price*s:0)}),0)),[L,K]);switch(u){case 1:return(0,Gt.jsx)(Ta,{targetAmount:l,commissionAmount:d,selectedGems:L,onSelectedGemsChange:E,gemsData:K,loading:m,onStrategySelect:ne,showError:Z,strategyButtonsDisabled:H});case 2:return I?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani text-lg mb-3",children:"\u2694\ufe0f Starting Battle..."}),(0,Gt.jsx)("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm mt-3",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u2026"})]})}):(0,Gt.jsx)(Pa,{targetAmount:l,totalGemValue:n,selectedMove:A,onSelectedMoveChange:T});case 3:return I||!P?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani text-lg mb-3",children:"\u2694\ufe0f Starting Battle..."}),(0,Gt.jsx)("div",{className:"w-12 h-12 border-4 border-accent-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm mt-3",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u2026"})]})}):(0,Gt.jsx)(za,{battleResult:P,selectedMove:A,targetAmount:l,totalGemValue:n,commissionAmount:d,playerData:{player:a,opponent:(null===t||void 0===t?void 0:t.creator)||(null===P||void 0===P||null===(e=P.gameData)||void 0===e?void 0:e.creator)||{username:"Opponent"}},onClose:s});default:return(0,Gt.jsx)("div",{className:"p-4 text-white",children:"Unknown Step"})}})()}),1===u&&(0,Gt.jsx)("div",{className:"p-4 border-t border-border-primary",children:(0,Gt.jsx)("div",{className:"flex space-x-3",children:(0,Gt.jsx)("button",{type:"button",onClick:()=>{1===u?(async()=>{if(!G){x(!0),$(!0);try{console.log("\ud83c\udfae === JOINING GAME (STEP 1\u21922) ==="),console.log("\ud83c\udfae Joining game with gems:",{gameId:t.id,selectedGems:L,userId:a.id});const e=await fetch("".concat("https://income-bot-3.preview.emergentagent.com","/api/games/").concat(t.id,"/join"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({move:"rock",gems:L})});if(R(!0),!e.ok){const t=await e.json();throw new Error(t.detail||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043a \u0438\u0433\u0440\u0435")}const s=await e.json();if(console.log("\ud83c\udfae Join game response:",s),"ACTIVE"!==s.status)throw new Error("\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 API. \u041e\u0436\u0438\u0434\u0430\u043b\u0441\u044f \u0441\u0442\u0430\u0442\u0443\u0441 ACTIVE.");console.log("\ud83c\udfae Game is now ACTIVE - moving to step 2 for move selection"),i(!0),await ee(),oa().triggerLobbyRefresh(),console.log("\u2694\ufe0f Game status ACTIVE - triggering immediate lobby refresh"),await te(500),h(2)}catch(e){console.error("\ud83d\udea8 Join game error:",e),Z(e.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u043a \u0438\u0433\u0440\u0435"),R(!1),$(!1),await ee()}finally{x(!1)}}})():2===u?se():de&&h((e=>e+1))},disabled:m||!de||G,className:"flex-1 px-4 py-2 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 ".concat(G?"bg-gray-600 cursor-not-allowed":"bg-gradient-accent hover:scale-105"),children:G?"Joining...":"Next"})})}),2===u&&(0,Gt.jsx)("div",{className:"p-4 border-t border-border-primary",children:(0,Gt.jsx)("div",{className:"flex space-x-3",children:(0,Gt.jsx)("button",{type:"button",onClick:se,disabled:m||!de||Y,className:"flex-1 px-4 py-2 text-white font-rajdhani font-bold rounded-lg transition-all duration-300 disabled:opacity-50 ".concat(Y?"bg-gray-600 cursor-not-allowed":"bg-gradient-accent hover:scale-105"),children:m||Y?"Starting...":"Start Battle!"})})})]})]})},Da=()=>{(0,r.useEffect)((()=>{const e=()=>{qt.context&&"suspended"===qt.context.state&&qt.context.resume(),document.removeEventListener("click",e),document.removeEventListener("keydown",e)};return document.addEventListener("click",e),document.addEventListener("keydown",e),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",e)}}),[]);const e={createBet:(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return qt.playSound("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",e)}),[]),acceptBet:(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return qt.playSound("\u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438",e)}),[]),selectMove:(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return qt.playSound("\u0432\u044b\u0431\u043e\u0440_\u0445\u043e\u0434\u0430",e)}),[]),reveal:(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return qt.playSound("reveal",e)}),[]),victory:(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return qt.playSound("\u043f\u043e\u0431\u0435\u0434\u0430",e)}),[]),defeat:(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return qt.playSound("\u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435",e)}),[]),draw:(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return qt.playSound("\u043d\u0438\u0447\u044c\u044f",e)}),[])},t={buy:(0,r.useCallback)((()=>qt.playSound("\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430")),[]),sell:(0,r.useCallback)((()=>qt.playSound("\u043f\u0440\u043e\u0434\u0430\u0436\u0430_\u0433\u0435\u043c\u0430")),[]),gift:(0,r.useCallback)((()=>qt.playSound("\u043f\u043e\u0434\u0430\u0440\u043e\u043a_\u0433\u0435\u043c\u043e\u0432")),[])},a={hover:(0,r.useCallback)((()=>qt.playSound("hover")),[]),modalOpen:(0,r.useCallback)((()=>qt.playSound("\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430")),[]),modalClose:(0,r.useCallback)((()=>qt.playSound("\u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435_\u043c\u043e\u0434\u0430\u043b\u0430")),[]),notification:(0,r.useCallback)((()=>qt.playSound("\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435")),[]),error:(0,r.useCallback)((()=>qt.playSound("\u043e\u0448\u0438\u0431\u043a\u0430")),[]),click:(0,r.useCallback)((()=>qt.playSound("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438")),[])},s={timerExpire:(0,r.useCallback)((()=>qt.playSound("\u0442\u0430\u0439\u043c\u0435\u0440_reveal")),[]),reward:(0,r.useCallback)((()=>qt.playSound("\u043d\u0430\u0433\u0440\u0430\u0434\u0430")),[])};return{game:e,gem:t,ui:a,system:s,settings:{isEnabled:(0,r.useCallback)((()=>qt.enabled),[]),getVolume:(0,r.useCallback)((()=>qt.volume),[]),setEnabled:(0,r.useCallback)((e=>qt.updateSettings(e,qt.volume)),[]),setVolume:(0,r.useCallback)((e=>qt.updateSettings(qt.enabled,e)),[]),reloadSounds:(0,r.useCallback)((()=>qt.reloadSounds()),[])},playSound:{createBet:e.createBet,acceptBet:e.acceptBet,selectMove:e.selectMove,reveal:e.reveal,victory:e.victory,defeat:e.defeat,draw:e.draw,buyGem:t.buy,sellGem:t.sell,giftGem:t.gift,hover:a.hover,modalOpen:a.modalOpen,modalClose:a.modalClose,notification:a.notification,error:a.error,settings:a.click,timerExpire:s.timerExpire,reward:s.reward},playCoin:t.buy,playClick:a.click,playSuccess:e.victory,playModalClose:a.modalClose,playHover:a.hover}},Ra=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{ui:t}=Da();return e?{onMouseEnter:t.hover}:{}},Ba="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Fa=e=>{let{user:t,onUpdateUser:a,setCurrentView:s}=e;const{showSuccess:n,showError:o}=Qt(),{game:i,ui:l}=Da(),c=Ra(!0),u=(()=>{const{ui:e}=Da();return{onOpen:e.modalOpen,onClose:e.modalClose}})(),{gemsData:h}=ca(),[m,x]=(0,r.useState)({available:0,gems:0,total:0}),[p,f]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),[y,v]=(0,r.useState)([]),[j,w]=(0,r.useState)([]),[N,_]=(0,r.useState)([]),[k,S]=(0,r.useState)(!0),[C,M]=(0,r.useState)("live-players"),[L,E]=(0,r.useState)(!1),[A,T]=(0,r.useState)([]),[P,z]=(0,r.useState)({minAmount:"",maxAmount:""}),[I,O]=(0,r.useState)(null),[D,R]=(0,r.useState)(!1),[B,F]=(0,r.useState)({myBets:1,availableBets:1,ongoingBattles:1,availableBots:1,ongoingBotBattles:1});(0,r.useEffect)((()=>{U(),_a(null===t||void 0===t?void 0:t.role).then((()=>{wa(null===t||void 0===t?void 0:t.role).then(T)}));const e=setInterval(U,1e4),a=oa().registerRefreshCallback((()=>{U()}));return()=>{clearInterval(e),a()}}),[]);const W=(0,r.useCallback)((()=>{const e=h&&h.some((e=>e.available_quantity>0)),a=(h&&h.reduce(((e,t)=>e+t.available_quantity),0),((null===t||void 0===t?void 0:t.virtual_balance)||0)-((null===t||void 0===t?void 0:t.frozen_balance)||0)),s=a>0;let r="";if(e||s)if(e){if(!s){r="Need at least $".concat(.03.toFixed(2)," for commission (you have $").concat(a.toFixed(2)," available)")}}else r="Need at least 1 gem to create a bet (you have 0 gems)";else r="Need at least 1 gem (you have 0) and funds for commission (you have $".concat(a.toFixed(2)," available)");return{canCreate:e&&s,hasGems:e,hasBalance:s,tooltip:r}}),[h,t]),V=(0,r.useMemo)((()=>W()),[W]),U=async()=>{try{const a=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(a)},[r,n,o,i]=await Promise.all([Pt.get("".concat(Ba,"/economy/balance"),{headers:s}),Pt.get("".concat(Ba,"/games/available"),{headers:s}),Pt.get("".concat(Ba,"/games/my-bets"),{headers:s}),Pt.get("".concat(Ba,"/bots/active-games"),{headers:s})]);x({available:r.data.virtual_balance||0,gems:r.data.total_gem_value||0,total:r.data.total_value||0});const l=n.data||[];b(l.filter((e=>"WAITING"===e.status&&(e.creator_id!==(null===t||void 0===t?void 0:t.id)&&e.opponent_id!==(null===t||void 0===t?void 0:t.id)&&(!e.is_bot_game||!(!e.is_bot_game||!e.is_human_bot))))));const c=i.data||[];w(c.filter((e=>"WAITING"===e.status&&e.is_bot_game&&!e.is_human_bot&&e.creator_id!==(null===t||void 0===t?void 0:t.id)&&e.opponent_id!==(null===t||void 0===t?void 0:t.id))));const d=o.data||[],u=d.filter((e=>"WAITING"===e.status&&!0===e.is_creator));f(u);const h=d.filter((e=>("ACTIVE"===e.status||"REVEAL"===e.status)&&(!0===e.is_creator||!1===e.is_creator)&&(!e.is_bot_game||e.is_human_bot))),m=l.filter((e=>"ACTIVE"===e.status&&(e.creator_id===(null===t||void 0===t?void 0:t.id)||e.opponent_id===(null===t||void 0===t?void 0:t.id))&&(!e.is_bot_game||e.is_human_bot)));try{const e=localStorage.getItem("token");let t=[];t=((await Pt.get("".concat(Ba,"/games/active-human-bots"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).data||[]).filter((e=>{var t,a;return!(("Unknown"===(null===(t=e.creator_info)||void 0===t?void 0:t.username)||"Unknown"===(null===(a=e.opponent_info)||void 0===a?void 0:a.username))&&!e.is_human_bot)}));const a=[...h,...m,...t].filter(((e,t,a)=>t===a.findIndex((t=>(t.game_id||t.id)===(e.game_id||e.id)))));v(a)}catch(e){console.error("Error fetching Human-bot games:",e);const t=[...h,...m].filter(((e,t,a)=>t===a.findIndex((t=>(t.game_id||t.id)===(e.game_id||e.id)))));v(t)}try{const e=await Pt.get("".concat(Ba,"/bots/ongoing-games"),{headers:{Authorization:"Bearer ".concat(a)}});_(e.data||[])}catch(e){console.error("Error fetching ongoing bot battles:",e),_(d.filter((e=>("ACTIVE"===e.status||"REVEAL"===e.status)&&e.is_bot_game&&!e.is_human_bot)))}S(!1)}catch(e){console.error("Error fetching lobby data:",e),S(!1)}},H=async e=>{try{const t=localStorage.getItem("token"),a=await Pt.post("".concat(Ba,"/games/").concat(e.game_id||e.id,"/reserve"),{},{headers:{Authorization:"Bearer ".concat(t)}});if(a.data.success){b((t=>t.filter((t=>(t.game_id||t.id)!==(e.game_id||e.id))))),w((t=>t.filter((t=>(t.game_id||t.id)!==(e.game_id||e.id)))));const t=j.some((t=>(t.game_id||t.id)===(e.game_id||e.id)))||N.some((t=>(t.game_id||t.id)===(e.game_id||e.id))),s=d(d({},e),{},{is_bot_game:t,reserved_until:a.data.reserved_until});O(s),R(!0)}}catch(s){var t,a;null!==(t=s.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.detail?o(s.response.data.detail):o("Failed to reserve game")}},q=e=>{let{title:t,icon:a,count:s,children:r,color:n="text-blue-400"}=e;return(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("div",{className:n,children:a}),(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:t})]}),(0,Gt.jsx)("span",{className:"px-2 py-1 bg-accent-dark text-white text-xs rounded-full font-rajdhani",children:s})]}),r]})},G=e=>{let{currentPage:t,totalItems:a,onPageChange:s,section:r,itemsPerPage:n}=e;const o=Math.ceil(a/n);return o<=1?null:(0,Gt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[(0,Gt.jsx)("button",{onClick:()=>s(r,Math.max(1,t-1)),disabled:1===t,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50",children:"Previous"}),(0,Gt.jsxs)("span",{className:"font-roboto text-text-secondary",children:[t," of ",o]}),(0,Gt.jsx)("button",{onClick:()=>s(r,Math.min(o,t+1)),disabled:t===o,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50",children:"Next"})]})},$=(e,t)=>{F((a=>d(d({},a),{},{[e]:t})))},Y=async e=>{try{const t=localStorage.getItem("token"),s=await Pt.delete("".concat(Ba,"/games/").concat(e,"/cancel"),{headers:{Authorization:"Bearer ".concat(t)}});if(console.log("Cancel bet response:",s.data),s.data&&s.data.success){n("Bet cancelled successfully");oa().triggerLobbyRefresh(),console.log("\u274c Bet cancelled - triggering lobby refresh"),await U(),a&&a()}else console.error("Cancel bet failed - no success field:",s.data),o("Failed to cancel bet - unexpected response format")}catch(r){var t,s;console.error("Error cancelling bet:",r),console.error("Error response:",null===(t=r.response)||void 0===t?void 0:t.data);let e="Failed to cancel bet";if(null!==(s=r.response)&&void 0!==s&&s.data){const t=r.response.data;"string"===typeof t?e=t:t.detail?"string"===typeof t.detail?e=t.detail:Array.isArray(t.detail)&&(e=t.detail.map((e=>e.msg||e.message||"Validation error")).join(", ")):t.message?e=t.message:t.error&&(e=t.error)}else r.message&&(e=r.message);o(e),await U()}},Q=(e,t,a)=>{const s=(t-1)*a,r=s+a;return e.slice(s,r)},K=()=>{let e=g;if(P.minAmount){const t=parseFloat(P.minAmount);isNaN(t)||(e=e.filter((e=>(e.bet_amount||0)>=t)))}if(P.maxAmount){const t=parseFloat(P.maxAmount);isNaN(t)||(e=e.filter((e=>(e.bet_amount||0)<=t)))}return e},X=(0,r.useCallback)(((e,t)=>{z((a=>d(d({},a),{},{[e]:t}))),F((e=>d(d({},e),{},{availableBets:1})))}),[]),J=(0,r.useCallback)((e=>{X("minAmount",e.target.value)}),[X]),Z=(0,r.useCallback)((e=>{X("maxAmount",e.target.value)}),[X]),ee=(0,r.useCallback)((()=>{z({minAmount:"",maxAmount:""}),F((e=>d(d({},e),{},{availableBets:1})))}),[]),[te,ae]=(0,r.useState)(!1),se=(0,r.useRef)(null);if((0,r.useEffect)((()=>(k?se.current=setTimeout((()=>ae(!0)),1e3):(clearTimeout(se.current),ae(!1)),()=>clearTimeout(se.current))),[k]),k)return(0,Gt.jsx)("div",{className:"min-h-screen min-h-app bg-gradient-primary flex items-center justify-center",children:te?(0,Gt.jsx)(ga,{ariaLabel:"Loading Lobby"}):null});const re=()=>(0,Gt.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,Gt.jsxs)(q,{title:"My Bets",count:p.length,color:"text-green-400",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[Q(p,B.myBets,8).map((e=>(0,Gt.jsx)(Sa,{game:e,user:t,isMyBet:!0,onCancel:Y,onUpdateUser:()=>{U(),a&&a()}},e.game_id||e.id))),0===p.length&&(0,Gt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"You have no active bets"})]}),(0,Gt.jsx)(G,{currentPage:B.myBets,totalItems:p.length,onPageChange:$,section:"myBets",itemsPerPage:8})]}),(0,Gt.jsxs)(q,{title:"Available Bets",count:K().length,color:"text-blue-400",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),children:[(0,Gt.jsx)("div",{className:"mb-4 bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"\u041c\u0438\u043d. \u0441\u0443\u043c\u043c\u0430:"}),(0,Gt.jsx)("input",{type:"number",placeholder:"$0",value:P.minAmount,onChange:J,className:"w-20 px-2 py-1 bg-surface-card border border-accent-primary border-opacity-30 rounded text-white text-sm focus:outline-none focus:border-accent-primary",min:"0",step:"1"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"\u041c\u0430\u043a\u0441. \u0441\u0443\u043c\u043c\u0430:"}),(0,Gt.jsx)("input",{type:"number",placeholder:"$\u221e",value:P.maxAmount,onChange:Z,className:"w-20 px-2 py-1 bg-surface-card border border-accent-primary border-opacity-30 rounded text-white text-sm focus:outline-none focus:border-accent-primary",min:"0",step:"1"})]}),(P.minAmount||P.maxAmount)&&(0,Gt.jsx)("button",{onClick:ee,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded transition-colors",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),(0,Gt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e: ",K().length," \u0438\u0437 ",g.length," \u0441\u0442\u0430\u0432\u043e\u043a"]})]})}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",style:{willChange:"transform"},children:[Q(K(),B.availableBets,12).map((e=>(0,Gt.jsx)(Sa,{game:e,user:t,onOpenJoinBattle:H,onUpdateUser:()=>{U(),a&&a()}},e.game_id||e.id))),0===K().length&&g.length>0&&(0,Gt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"\u041d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c"}),0===g.length&&(0,Gt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No available bets"})]}),(0,Gt.jsx)(G,{currentPage:B.availableBets,totalItems:K().length,onPageChange:$,section:"availableBets",itemsPerPage:12})]}),(0,Gt.jsxs)(q,{title:"Ongoing Battles",count:y.length,color:"text-orange-400",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",style:{willChange:"transform"},children:[Q(y,B.ongoingBattles,8).map((e=>(0,Gt.jsx)(Sa,{game:e,isOngoing:!0},e.game_id||e.id))),0===y.length&&(0,Gt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No active battles"})]}),(0,Gt.jsx)(G,{currentPage:B.ongoingBattles,totalItems:y.length,onPageChange:$,section:"ongoingBattles",itemsPerPage:8})]})]}),ne=()=>(0,Gt.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,Gt.jsxs)(q,{title:"Available Bots",count:j.length,color:"text-cyan-400",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",style:{willChange:"transform"},children:[Q(j,B.availableBots,12).map((e=>(0,Gt.jsx)(Sa,{game:e,user:t,onOpenJoinBattle:H,onUpdateUser:()=>{U(),a&&a()},isBot:!0},e.game_id||e.id))),0===j.length&&(0,Gt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No available bots"})]}),(0,Gt.jsx)(G,{currentPage:B.availableBots,totalItems:j.length,onPageChange:$,section:"availableBots",itemsPerPage:12})]}),(0,Gt.jsxs)(q,{title:"Ongoing Bot Battles",count:N.length,color:"text-red-400",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",style:{willChange:"transform"},children:[Q(N,B.ongoingBotBattles,8).map((e=>(0,Gt.jsx)(Sa,{game:e,user:t,isOngoing:!0,isBot:!0,onUpdateUser:()=>{U(),a&&a()}},e.game_id||e.id))),0===N.length&&(0,Gt.jsx)("div",{className:"col-span-full text-text-secondary text-center py-8",children:"No ongoing bot battles"})]}),(0,Gt.jsx)(G,{currentPage:B.ongoingBotBattles,totalItems:N.length,onPageChange:$,section:"ongoingBotBattles",itemsPerPage:8})]})]});return(0,Gt.jsxs)("div",{className:"min-h-screen min-h-app bg-gradient-primary p-4 sm:p-6",children:[(0,Gt.jsxs)("div",{className:"text-center mb-8",children:[(0,Gt.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Game Lobby"}),(0,Gt.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Join battles, create bets, and dominate the arena"})]}),(0,Gt.jsx)(fa,{user:t}),(0,Gt.jsx)("div",{className:"text-center mb-8",children:(0,Gt.jsxs)("button",d(d({onClick:()=>{V.canCreate?(i.createBet(),u.onOpen(),E(!0)):V.hasGems?V.hasBalance||o("You have no funds to pay the commission \u2014 top up your balance and retry."):o("Your inventory is empty \u2014 please purchase gems.")},disabled:!V.canCreate},V.canCreate?c:{}),{},{className:"px-8 py-4 text-white font-rajdhani font-bold text-xl rounded-lg transition-all duration-300 shadow-lg ".concat(V.canCreate?"bg-gradient-to-r from-green-500 to-green-600 hover:scale-105 hover:from-green-400 hover:to-green-500 hover:shadow-green-500/50":"bg-gray-600 cursor-not-allowed opacity-50"),title:V.tooltip||"",children:[(0,Gt.jsx)("svg",{className:"w-6 h-6 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Bet"]}))}),(0,Gt.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,Gt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"live-players",label:"Live Players",icon:"\ud83d\udc65",count:g.length+p.length+y.length},{id:"bot-players",label:"Bot Players",icon:(0,Gt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"inline-block",children:[(0,Gt.jsx)("title",{children:"Bot 01 \u2014 Head + antenna"}),(0,Gt.jsx)("line",{x1:"12",y1:"4",x2:"12",y2:"7"}),(0,Gt.jsx)("circle",{cx:"12",cy:"3",r:"1"}),(0,Gt.jsx)("rect",{x:"5",y:"7",width:"14",height:"10",rx:"3"}),(0,Gt.jsx)("line",{x1:"3",y1:"12",x2:"5",y2:"12"}),(0,Gt.jsx)("line",{x1:"19",y1:"12",x2:"21",y2:"12"}),(0,Gt.jsx)("circle",{cx:"9.5",cy:"12",r:"1",fill:"currentColor",stroke:"none"}),(0,Gt.jsx)("circle",{cx:"14.5",cy:"12",r:"1",fill:"currentColor",stroke:"none"}),(0,Gt.jsx)("line",{x1:"8.5",y1:"15",x2:"15.5",y2:"15"})]}),count:j.length+N.length}].map((e=>(0,Gt.jsxs)("button",d(d({onClick:()=>{l.click(),M(e.id)}},c),{},{className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(C===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Gt.jsx)("span",{className:"mr-2",children:e.icon}),e.label,(0,Gt.jsx)("span",{className:"ml-2 px-2 py-1 bg-white/20 rounded-full text-xs",children:e.count})]}),e.id)))})}),(0,Gt.jsxs)("div",{children:["live-players"===C&&(0,Gt.jsx)(re,{}),"bot-players"===C&&(0,Gt.jsx)(ne,{})]}),L&&(0,Gt.jsx)(Aa,{user:t,onClose:()=>{u.onClose(),E(!1)},onUpdateUser:a}),D&&I&&(0,Gt.jsx)(Oa,{bet:{id:I.game_id||I.id,bet_amount:I.bet_amount,bet_gems:I.bet_gems,creator:I.creator,is_bot_game:I.is_bot_game},user:t,onClose:async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(u.onClose(),!e&&I&&I.reserved_until)try{const e=localStorage.getItem("token");await Pt.post("".concat(Ba,"/games/").concat(I.game_id||I.id,"/unreserve"),{},{headers:{Authorization:"Bearer ".concat(e)}})}catch(t){console.error("Failed to unreserve game:",t)}O(null),R(!1),U()},onUpdateUser:()=>{U(),a&&a()}})]})},Wa="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Va=e=>{var t;let{user:a,onUpdateUser:s}=e;const{getGemIconPath:n}=ca(),[o,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(1),[m,x]=(0,r.useState)(1),[p,f]=(0,r.useState)(0),[g,b]=(0,r.useState)({status:"all",dateRange:"all",result:"all",sortBy:"created_at",sortOrder:"desc"}),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(null),[N,_]=(0,r.useState)({totalGames:0,totalWon:0,totalLost:0,totalDraw:0,netProfit:0,totalWinnings:0,totalLosses:0,winRate:0}),k=10,S=(0,r.useCallback)((async()=>{c(!0);try{const a=localStorage.getItem("token"),s=new URLSearchParams({page:u.toString(),per_page:k.toString(),status_filter:g.status,date_filter:g.dateRange,result_filter:g.result,sort_by:g.sortBy,sort_order:g.sortOrder}),r=await Pt.get("".concat(Wa,"/games/my-bets-paginated?").concat(s.toString()),{headers:{Authorization:"Bearer ".concat(a)}});if(r.data.success){var e,t;i(r.data.games),f(r.data.pagination.total_count),x(r.data.pagination.total_pages);const s=r.data.stats,n=(null!==(e=null===(t=(await Pt.get("".concat(Wa,"/admin/profit/commission-settings"),{headers:{Authorization:"Bearer ".concat(a)}})).data)||void 0===t?void 0:t.bet_commission_rate)&&void 0!==e?e:3)/100,o=s.total_winnings*n,l=s.total_winnings-s.total_losses-o;_({totalGames:s.total_games,totalWon:s.total_won,totalLost:s.total_lost,totalDraw:s.total_draw,netProfit:l,totalWinnings:s.total_winnings,totalLosses:s.total_losses,winRate:s.total_games>0?s.total_won/s.total_games*100:0})}}catch(o){console.error("Error fetching my bets:",o);try{var a,s;const e=localStorage.getItem("token"),t=await Pt.get("".concat(Wa,"/games/my-bets"),{headers:{Authorization:"Bearer ".concat(e)}}),o=await Pt.get("".concat(Wa,"/games/history"),{headers:{Authorization:"Bearer ".concat(e)}}),l=t.data.filter((e=>"WAITING"===e.status||"ACTIVE"===e.status)),c=(null===(a=o.data)||void 0===a?void 0:a.games)||[];let d=[...l,...c];"all"!==g.status&&("COMPLETED"===g.status?(d=c,"all"!==g.result&&(d=d.filter((e=>e.result===g.result)))):d=l.filter((e=>e.status===g.status))),d.sort(((e,t)=>{let a,s;switch(g.sortBy){case"bet_amount":a=e.bet_amount,s=t.bet_amount;break;case"status":a=e.status,s=t.status;break;default:a=new Date(e.created_at),s=new Date(t.created_at)}return"desc"===g.sortOrder?a>s?-1:1:a>s?1:-1}));const h=(u-1)*k,m=h+k,p=d.slice(h,m);if(i(p),f(d.length),x(Math.ceil(d.length/k)),null!==(s=o.data)&&void 0!==s&&s.stats){var r,n;const t=o.data.stats,a=(null!==(r=null===(n=(await Pt.get("".concat(Wa,"/admin/profit/commission-settings"),{headers:{Authorization:"Bearer ".concat(e)}})).data)||void 0===n?void 0:n.bet_commission_rate)&&void 0!==r?r:3)/100,s=t.total_winnings*a,i=t.total_winnings-t.total_losses-s;_({totalGames:t.total_games,totalWon:t.total_won,totalLost:t.total_lost,totalDraw:t.total_draw,netProfit:i,totalWinnings:t.total_winnings,totalLosses:t.total_losses,winRate:t.total_games>0?t.total_won/t.total_games*100:0})}}catch(l){console.error("Error with fallback API:",l)}}finally{c(!1)}}),[g,u]);(0,r.useEffect)((()=>{S()}),[S]),(0,r.useEffect)((()=>{const e=setInterval((()=>{S()}),1e4);return()=>clearInterval(e)}),[S]);const C=async e=>{if(window.confirm("Are you sure you want to cancel this bet?"))try{const t=localStorage.getItem("token");await Pt.delete("".concat(Wa,"/games/").concat(e,"/cancel"),{headers:{Authorization:"Bearer ".concat(t)}}),S(),s&&s()}catch(t){console.error("Error canceling bet:",t),alert("Error canceling bet")}},M=e=>{console.log("Repeat bet:",e),alert("Repeat bet functionality will be implemented in future versions")},L=e=>{w(e),v(!0)},E=function(e){let t,a,s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"WAITING"===e?(t="bg-yellow-500",a="text-white",s="Waiting"):"ACTIVE"===e?(t="bg-blue-500",a="text-white",s="Active"):"COMPLETED"===e?"won"===r?(t="bg-green-500",a="text-white",s="Won"):"lost"===r?(t="bg-red-500",a="text-white",s="Lost"):(t="bg-gray-500",a="text-white",s="Draw"):(t="bg-gray-500",a="text-white",s=e),(0,Gt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t," ").concat(a),children:s})},A=e=>{if(!e||"object"!==typeof e)return(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"No gems"});const t=Object.entries(e).filter((e=>{let[t,a]=e;return a>0}));if(0===t.length)return(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"No gems"});const a=[];for(let s=0;s<3;s++){const e=[];for(let a=0;a<3;a++){const r=3*s+a;if(r<t.length){const[a,s]=t[r];e.push({gemType:a,quantity:s})}else e.push(null)}a.push(e)}return(0,Gt.jsx)("div",{className:"grid grid-cols-3 gap-1 max-w-24",children:a.flat().map(((e,t)=>(0,Gt.jsx)("div",{className:"flex items-center justify-center",children:e?(0,Gt.jsxs)("div",{className:"flex items-center space-x-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded px-1 py-0.5",children:[(0,Gt.jsx)("img",{src:n(e.gemType),alt:e.gemType,className:"w-3 h-3 object-contain",onError:t=>{t.target.style.display="none",t.target.nextSibling.textContent=e.quantity}}),(0,Gt.jsx)("span",{className:"text-xs text-white font-rajdhani font-bold",children:e.quantity})]}):(0,Gt.jsx)("div",{className:"w-3 h-3"})},t)))})},[T,P]=(0,r.useState)(!1),z=(0,r.useRef)(null);if((0,r.useEffect)((()=>(l&&0===o.length?z.current=setTimeout((()=>P(!0)),1e3):(clearTimeout(z.current),P(!1)),()=>clearTimeout(z.current))),[l,o.length]),l&&0===o.length)return(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:T?(0,Gt.jsx)(ga,{ariaLabel:"Loading My Bets"}):null});const I=e=>{let{title:t,value:a,icon:s,color:r}=e;return(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-lg mb-2 ".concat(r),children:s}),(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:t}),(0,Gt.jsx)("p",{className:"font-roboto text-2xl font-bold text-accent-primary",children:"number"===typeof a?a>=0?"$".concat(a.toFixed(2)):"-$".concat(Math.abs(a).toFixed(2)):a})]})},O=e=>{let{title:t,icon:a,children:s,color:r="text-blue-400"}=e;return(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("div",{className:r,children:a}),(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:t})]})}),s]})};return(0,Gt.jsxs)("div",{className:"p-6 min-h-screen",children:[(0,Gt.jsxs)("div",{className:"mb-6 max-w-7xl mx-auto",children:[(0,Gt.jsx)("h1",{className:"text-3xl font-russo text-white mb-4",children:"My Bets"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,Gt.jsx)(I,{title:"Total Games",value:N.totalGames,color:"bg-blue-600",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Gt.jsx)(I,{title:"Wins",value:"".concat(N.totalWon," (").concat(N.winRate.toFixed(1),"%)"),color:"bg-green-600",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsx)(I,{title:"Losses",value:N.totalLost,color:"bg-red-600",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsx)(I,{title:"Net Profit",value:N.netProfit,color:N.netProfit>=0?"bg-green-600":"bg-red-600",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]}),(0,Gt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Gt.jsx)(O,{title:"Filters and Sorting",color:"text-purple-400",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})}),children:(0,Gt.jsx)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Status"}),(0,Gt.jsxs)("select",{value:g.status,onChange:e=>{b((t=>d(d({},t),{},{status:e.target.value}))),h(1)},className:"w-full bg-surface-card border border-accent-primary border-opacity-30 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"all",children:"All"}),(0,Gt.jsx)("option",{value:"WAITING",children:"Waiting"}),(0,Gt.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Gt.jsx)("option",{value:"COMPLETED",children:"Completed"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Period"}),(0,Gt.jsxs)("select",{value:g.dateRange,onChange:e=>{b((t=>d(d({},t),{},{dateRange:e.target.value}))),h(1)},className:"w-full bg-surface-card border border-accent-primary border-opacity-30 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"all",children:"All Time"}),(0,Gt.jsx)("option",{value:"today",children:"Today"}),(0,Gt.jsx)("option",{value:"week",children:"This Week"}),(0,Gt.jsx)("option",{value:"month",children:"This Month"})]})]}),"COMPLETED"===g.status&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Result"}),(0,Gt.jsxs)("select",{value:g.result,onChange:e=>{b((t=>d(d({},t),{},{result:e.target.value}))),h(1)},className:"w-full bg-surface-card border border-accent-primary border-opacity-30 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"all",children:"All"}),(0,Gt.jsx)("option",{value:"won",children:"Wins"}),(0,Gt.jsx)("option",{value:"lost",children:"Losses"}),(0,Gt.jsx)("option",{value:"draw",children:"Draws"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Sort By"}),(0,Gt.jsxs)("select",{value:g.sortBy,onChange:e=>{b((t=>d(d({},t),{},{sortBy:e.target.value}))),h(1)},className:"w-full bg-surface-card border border-accent-primary border-opacity-30 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"created_at",children:"By Date"}),(0,Gt.jsx)("option",{value:"bet_amount",children:"By Amount"}),(0,Gt.jsx)("option",{value:"status",children:"By Status"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Order"}),(0,Gt.jsxs)("select",{value:g.sortOrder,onChange:e=>{b((t=>d(d({},t),{},{sortOrder:e.target.value}))),h(1)},className:"w-full bg-surface-card border border-accent-primary border-opacity-30 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"desc",children:"Descending"}),(0,Gt.jsx)("option",{value:"asc",children:"Ascending"})]})]})]})})}),(0,Gt.jsx)(O,{title:"My Bets",color:"text-green-400",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),children:0===o.length?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-text-secondary mb-4",children:"No bets found"}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"Try changing filters or create a new bet"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,Gt.jsx)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar border-b border-accent-primary border-opacity-30",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"text-left p-4 text-text-secondary font-rajdhani font-bold",children:"Date"}),(0,Gt.jsx)("th",{className:"text-left p-4 text-text-secondary font-rajdhani font-bold",children:"Opponent"}),(0,Gt.jsx)("th",{className:"text-left p-4 text-text-secondary font-rajdhani font-bold",children:"Bet Amount"}),(0,Gt.jsx)("th",{className:"text-left p-4 text-text-secondary font-rajdhani font-bold",children:"Gems"}),(0,Gt.jsx)("th",{className:"text-left p-4 text-text-secondary font-rajdhani font-bold",children:"Status"}),(0,Gt.jsx)("th",{className:"text-left p-4 text-text-secondary font-rajdhani font-bold",children:"Actions"})]})}),(0,Gt.jsx)("tbody",{children:o.map(((e,t)=>(0,Gt.jsxs)("tr",{className:"border-b border-accent-primary border-opacity-10 hover:bg-surface-sidebar/30",children:[(0,Gt.jsx)("td",{className:"p-4",children:(0,Gt.jsx)("div",{className:"text-white text-sm font-roboto",children:new Date(e.created_at).toLocaleString("en-US")})}),(0,Gt.jsx)("td",{className:"p-4",children:(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:e.opponent?e.opponent.username:e.opponent_username||"Waiting"})}),(0,Gt.jsx)("td",{className:"p-4",children:(0,Gt.jsxs)("div",{className:"text-accent-primary font-rajdhani font-bold text-lg",children:["$",e.bet_amount.toFixed(2)]})}),(0,Gt.jsx)("td",{className:"p-4",children:A(e.bet_gems)}),(0,Gt.jsx)("td",{className:"p-4",children:E(e.status,e.result)}),(0,Gt.jsx)("td",{className:"p-4",children:(0,Gt.jsxs)("div",{className:"flex space-x-2",children:["WAITING"===e.status&&e.is_creator&&(0,Gt.jsx)("button",{onClick:()=>C(e.game_id||e.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded font-rajdhani font-bold transition-colors",children:"Cancel"}),"COMPLETED"===e.status&&(0,Gt.jsx)("button",{onClick:()=>M(e),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded font-rajdhani font-bold transition-colors",children:"Repeat"}),(0,Gt.jsx)("button",{onClick:()=>L(e),className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 hover:border-opacity-50 text-white text-xs rounded font-rajdhani font-bold transition-colors",children:"Details"})]})})]},e.game_id||e.id||t)))})]})})}),(0,Gt.jsx)("div",{className:"md:hidden space-y-4",children:o.map(((e,t)=>(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:e.opponent?e.opponent.username:e.opponent_username||"Waiting"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm font-roboto",children:new Date(e.created_at).toLocaleString("en-US")})]}),E(e.status,e.result)]}),(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Gt.jsxs)("div",{className:"text-accent-primary font-rajdhani font-bold text-lg",children:["$",e.bet_amount.toFixed(2)]}),A(e.bet_gems)]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:["WAITING"===e.status&&e.is_creator&&(0,Gt.jsx)("button",{onClick:()=>C(e.game_id||e.id),className:"flex-1 px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm rounded font-rajdhani font-bold transition-colors",children:"Cancel"}),"COMPLETED"===e.status&&(0,Gt.jsx)("button",{onClick:()=>M(e),className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded font-rajdhani font-bold transition-colors",children:"Repeat"}),(0,Gt.jsx)("button",{onClick:()=>L(e),className:"flex-1 px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 hover:border-opacity-50 text-white text-sm rounded font-rajdhani font-bold transition-colors",children:"Details"})]})]},e.game_id||e.id||t)))}),m>1&&(0,Gt.jsxs)("div",{className:"mt-6 flex justify-between items-center",children:[(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm font-roboto",children:["Showing ",Math.min((u-1)*k+1,p),"-",Math.min(u*k,p)," of ",p]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>h((e=>Math.max(1,e-1))),disabled:1===u,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 disabled:cursor-not-allowed font-rajdhani font-bold",children:"Previous"}),(0,Gt.jsxs)("span",{className:"px-3 py-1 text-white font-rajdhani font-bold",children:[u," / ",m]}),(0,Gt.jsx)("button",{onClick:()=>h((e=>Math.min(m,e+1))),disabled:u===m,className:"px-3 py-1 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 disabled:cursor-not-allowed font-rajdhani font-bold",children:"Next"})]})]})]})})]}),y&&j&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg max-w-md w-full max-h-[80vh] overflow-y-auto",children:(0,Gt.jsxs)("div",{className:"p-6",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"text-xl font-russo text-white",children:"Bet Details"}),(0,Gt.jsx)("button",{onClick:()=>v(!1),className:"text-text-secondary hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Game ID"}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:j.game_id||j.id})]}),(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Opponent"}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:j.opponent?j.opponent.username:j.opponent_username||"Waiting"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Bet Amount"}),(0,Gt.jsxs)("div",{className:"text-accent-primary font-rajdhani font-bold text-lg",children:["$",j.bet_amount.toFixed(2)]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Selected Gems"}),(0,Gt.jsx)("div",{className:"mt-2",children:A(j.bet_gems)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Status"}),(0,Gt.jsx)("div",{className:"mt-2",children:E(j.status,j.result)})]}),"COMPLETED"===j.status&&j.my_move&&(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Your Move"}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:j.my_move})]}),(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Opponent Move"}),(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:j.opponent_move||"Unknown"})]})]}),"COMPLETED"===j.status&&void 0!==j.commission&&(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Commission"}),(0,Gt.jsxs)("div",{className:"text-text-secondary font-rajdhani font-bold",children:["$",(null!==(t=j.commission)&&void 0!==t?t:0).toFixed(2)]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Created"}),(0,Gt.jsx)("div",{className:"text-white text-sm font-roboto",children:new Date(j.created_at).toLocaleString("en-US")})]}),j.completed_at&&(0,Gt.jsxs)("div",{className:"bg-surface-dark border border-accent-primary border-opacity-20 rounded-lg p-3",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"Completed"}),(0,Gt.jsx)("div",{className:"text-white text-sm font-roboto",children:new Date(j.completed_at).toLocaleString("en-US")})]})]}),(0,Gt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Gt.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 hover:border-opacity-50 rounded text-white font-rajdhani font-bold transition-colors",children:"Close"})})]})})})]})},Ua=e=>{let{isOpen:t,onClose:a}=e;const[s,n]=(0,r.useState)(qt.volume),[o,i]=(0,r.useState)(qt.enabled),[l,c]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t&&(n(qt.volume),i(qt.enabled))}),[t]);const d=async e=>{o&&await qt.playSound(e)};if(!t)return null;const u=(h=s,o&&0!==h?h<=.3?"quiet":h<=.7?"normal":"loud":"off");var h;return(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-white",children:"\ud83d\udd0a \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0437\u0432\u0443\u043a\u0430"}),(0,Gt.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"text-white font-semibold mb-3",children:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c \u0437\u0432\u0443\u043a\u0430"}),(0,Gt.jsx)("div",{className:"space-y-2",children:[{value:"off",label:"\ud83d\udd07 \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e",description:"\u0411\u0435\u0437 \u0437\u0432\u0443\u043a\u0430"},{value:"quiet",label:"\ud83d\udd08 \u0422\u0438\u0445\u043e",description:"\u0414\u043b\u044f \u043a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0430\u0446\u0438\u0438"},{value:"normal",label:"\ud83d\udd09 \u041e\u0431\u044b\u0447\u043d\u043e",description:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c"},{value:"loud",label:"\ud83d\udd0a \u0413\u0440\u043e\u043c\u043a\u043e",description:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0433\u0440\u0443\u0436\u0435\u043d\u0438\u0435"}].map((e=>(0,Gt.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Gt.jsx)("input",{type:"radio",name:"volumeLevel",value:e.value,checked:u===e.value,onChange:()=>(e=>{const t=(e=>{switch(e){case"off":return 0;case"quiet":default:return.3;case"normal":return.5;case"loud":return 1}})(e),a="off"!==e;qt.updateSettings(a,t),n(t),i(a),a&&setTimeout((()=>qt.playSound("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438")),100)})(e.value),className:"w-4 h-4 text-accent-primary"}),(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsx)("div",{className:"text-white font-medium",children:e.label}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:e.description})]})]},e.value)))})]}),o&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"text-white font-semibold mb-3",children:"\u0422\u0435\u0441\u0442 \u0437\u0432\u0443\u043a\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,Gt.jsx)("button",{onClick:()=>d("\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u0441\u0442\u0430\u0432\u043a\u0438"),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"\ud83d\udc8e \u0421\u0442\u0430\u0432\u043a\u0430"}),(0,Gt.jsx)("button",{onClick:()=>d("\u043f\u043e\u0431\u0435\u0434\u0430"),className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:"\ud83c\udf89 \u041f\u043e\u0431\u0435\u0434\u0430"}),(0,Gt.jsx)("button",{onClick:()=>d("\u043f\u043e\u043a\u0443\u043f\u043a\u0430_\u0433\u0435\u043c\u0430"),className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors text-sm",children:"\ud83d\udcb0 \u041f\u043e\u043a\u0443\u043f\u043a\u0430"}),(0,Gt.jsx)("button",{onClick:()=>d("\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm",children:"\ud83d\udd14 \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"})]}),(0,Gt.jsx)("button",{onClick:async()=>{c(!0);try{await qt.reloadSounds(),console.log("Sounds reloaded successfully")}catch(e){console.error("Error reloading sounds:",e)}finally{c(!1)}},disabled:l,className:"w-full px-3 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm disabled:opacity-50",children:l?(0,Gt.jsx)(ga,{size:16,ariaLabel:"Reloading sounds"}):"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0437\u0432\u0443\u043a\u0438"})]}),(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm",children:[(0,Gt.jsxs)("p",{className:"mb-2",children:[(0,Gt.jsx)("strong",{children:"\ud83d\udca1 \u0421\u043e\u0432\u0435\u0442:"})," \u0417\u0432\u0443\u043a\u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u043b\u0443\u0447\u0448\u0435 \u043e\u0449\u0443\u0449\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438 \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0432\u0430\u0436\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f."]}),(0,Gt.jsx)("p",{className:"mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a\u043e \u0432\u0441\u0435\u043c \u0438\u0433\u0440\u0430\u043c."}),(0,Gt.jsxs)("p",{children:[(0,Gt.jsx)("strong",{children:"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430:"})," \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442 \u0437\u0432\u0443\u043a\u0438 \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438 \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b."]})]})})]}),(0,Gt.jsx)("div",{className:"flex justify-end mt-6",children:(0,Gt.jsx)("button",{onClick:a,className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/80 transition-colors font-medium",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})})]})})},Ha=e=>{let{user:t}=e;const[a,s]=(0,r.useState)(null),[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),{ui:u,settings:h}=Da(),m="https://income-bot-3.preview.emergentagent.com",x=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(m,"/api/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data)}catch(e){console.error("Error fetching balance:",e)}},p=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(m,"/api/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data||[])}catch(e){console.error("Error fetching gems:",e)}},f=async()=>{l(!0),await Promise.all([x(),p()]),l(!1)};(0,r.useEffect)((()=>{if(null!==t&&void 0!==t&&t.id){f();const e=oa().registerRefreshCallback((()=>{f()}));return()=>{e()}}}),[null===t||void 0===t?void 0:t.id]);const g=(()=>{if(!a)return null;const e=a.virtual_balance,t=a.frozen_balance,s=n.reduce(((e,t)=>e+t.quantity),0),r=n.reduce(((e,t)=>e+t.frozen_quantity),0),o=a.available_gem_value,i=a.total_gem_value-a.available_gem_value,l=e+t+a.total_gem_value;return{balance:{total:e+t,frozen:t,available:e},gems:{totalCount:s,totalValue:a.total_gem_value,frozenCount:r,frozenValue:i,availableValue:o},total:{value:l}}})(),b=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2});return i||!g?(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"}),(0,Gt.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"}),(0,Gt.jsx)("div",{className:"w-24 h-12 bg-gray-700 rounded animate-pulse"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"flex space-x-1 sm:space-x-2 md:space-x-2 w-full mx-auto px-2 sm:px-4 md:px-6",children:[(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-1 md:flex-shrink-0 shadow-sm",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1 md:block hidden",children:"Balance"}),(0,Gt.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-xl font-bold text-green-400 break-words whitespace-nowrap",children:["$",b(g.balance.total)]}),g.balance.frozen>0&&(0,Gt.jsxs)("div",{className:"text-xs text-orange-400 block md:block",children:["Frozen: $",b(g.balance.frozen)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary block md:block",children:["$",b(g.balance.available)]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-1 md:flex-shrink-0 shadow-sm",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1 md:block hidden",children:"Gems"}),(0,Gt.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-xl font-bold text-purple-400 break-words whitespace-nowrap",children:[b(g.gems.totalCount),"/",b(g.gems.totalValue)]}),g.gems.frozenCount>0&&(0,Gt.jsxs)("div",{className:"text-xs text-orange-400 block md:block",children:["Frozen: ",b(g.gems.frozenCount),"/",b(g.gems.frozenValue)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary block md:block",children:["$",b(g.gems.availableValue)]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-green-500/20 hover:border-green-500/40 transition-colors duration-200 min-w-0 flex-1 md:flex-shrink-0 shadow-sm",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xs md:text-sm font-semibold text-white mb-1 md:block hidden",children:"Total"}),(0,Gt.jsxs)("div",{className:"font-rajdhani text-xs sm:text-sm md:text-xl font-bold text-accent-primary break-words whitespace-nowrap",children:["$",b(g.total.value)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary block md:block",children:["$",(()=>{const e=g.balance.frozen+g.gems.frozenValue,t=g.total.value-e;return"".concat(b(t))})()]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 md:px-3 md:py-2 border border-blue-500/20 hover:border-blue-500/40 transition-colors duration-200 min-w-0 flex-shrink-0 shadow-sm hidden md:block",children:(0,Gt.jsxs)("button",{onClick:()=>{u.modalOpen(),d(!0)},onMouseEnter:()=>u.hover(),className:"text-center w-full h-full flex flex-col items-center justify-center",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0437\u0432\u0443\u043a\u0430",children:[(0,Gt.jsx)("div",{className:"text-lg mb-1",children:h.isEnabled()?"\ud83d\udd0a":"\ud83d\udd07"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary hidden md:block",children:"Sound"})]})})]}),(0,Gt.jsx)(Ua,{isOpen:c,onClose:()=>{u.modalClose(),d(!1)}})]})},qa=()=>{const{notificationSettings:e,updateNotificationSettings:t,loading:a}=Qt(),[s,n]=(0,r.useState)({bet_accepted:!0,match_results:!0,commission_freeze:!0,gem_gifts:!0,system_messages:!0,admin_notifications:!0}),[o,i]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),p=(0,r.useRef)(null),f=(0,r.useRef)(null);(0,r.useEffect)((()=>{e&&n(e)}),[e]),(0,r.useEffect)((()=>(a?p.current=setTimeout((()=>h(!0)),1e3):(clearTimeout(p.current),h(!1)),()=>clearTimeout(p.current))),[a]);return a?(0,Gt.jsx)("div",{className:"bg-surface-card p-6 rounded-lg",children:(0,Gt.jsx)("div",{className:"flex items-center space-x-2 mb-4",children:u?(0,Gt.jsx)(ga,{size:20,ariaLabel:"Loading notification settings"}):null})}):(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Gt.jsx)("h3",{className:"text-white text-xl font-rajdhani font-bold",children:"\ud83d\udd14 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"}),l&&(0,Gt.jsx)("div",{className:"text-sm px-3 py-1 rounded ".concat(l.includes("\u041e\u0448\u0438\u0431\u043a\u0430")?"bg-red-600 bg-opacity-20 text-red-400":"bg-green-600 bg-opacity-20 text-green-400"),children:l})]}),(0,Gt.jsx)("div",{className:"space-y-4",children:[{key:"bet_accepted",label:"\u041f\u0440\u0438\u043d\u044f\u0442\u0438\u0435 \u0441\u0442\u0430\u0432\u043e\u043a",emoji:"\ud83c\udfaf",description:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u0433\u0434\u0430 \u043a\u0442\u043e-\u0442\u043e \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0432\u0430\u0448\u0443 \u0441\u0442\u0430\u0432\u043a\u0443"},{key:"match_results",label:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043c\u0430\u0442\u0447\u0435\u0439",emoji:"\ud83c\udfc6",description:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u0431\u0435\u0434\u0430\u0445, \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445 \u0438 \u043d\u0438\u0447\u044c\u0438\u0445"},{key:"commission_freeze",label:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438",emoji:"\u2744\ufe0f",description:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0438 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438"},{key:"gem_gifts",label:"\u041f\u043e\u0434\u0430\u0440\u043a\u0438 \u0433\u0435\u043c\u043e\u0432",emoji:"\ud83d\udc8e",description:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u0433\u0435\u043c\u043e\u0432"},{key:"system_messages",label:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",emoji:"\ud83d\udce2",description:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0442\u0435\u0445\u0440\u0430\u0431\u043e\u0442\u044b, \u0432\u0430\u0436\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"},{key:"admin_notifications",label:"\u0410\u0434\u043c\u0438\u043d-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",emoji:"\ud83d\udee1\ufe0f",description:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0438 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f"}].map((e=>{let{key:a,label:r,emoji:l,description:u}=e;return(0,Gt.jsxs)("div",{className:"flex items-start justify-between p-4 bg-surface-sidebar bg-opacity-50 rounded-lg border border-gray-700",children:[(0,Gt.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[(0,Gt.jsx)("span",{className:"text-2xl mt-1",children:l}),(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsx)("h4",{className:"text-white font-roboto font-medium",children:r}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm mt-1",children:u})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center ml-4",children:[o&&m?(0,Gt.jsx)(ga,{size:16,ariaLabel:"Saving notification settings"}):null,(0,Gt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:s[a]||!1,onChange:e=>(async(e,a)=>{const r=d(d({},s),{},{[e]:a});n(r),i(!0),c(""),clearTimeout(f.current),f.current=setTimeout((()=>x(!0)),1e3);try{await t(r)?(c("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"),setTimeout((()=>c("")),3e3)):(c("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),setTimeout((()=>c("")),3e3))}catch(o){c("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),setTimeout((()=>c("")),3e3)}finally{i(!1),clearTimeout(f.current),x(!1)}})(a,e.target.checked),disabled:o,className:"sr-only peer"}),(0,Gt.jsx)("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent-primary peer-focus:ring-opacity-25 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary disabled:opacity-50"})]})]})]},a)}))}),(0,Gt.jsx)("div",{className:"mt-6 p-4 bg-surface-sidebar bg-opacity-30 rounded-lg border border-gray-700",children:(0,Gt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Gt.jsx)("span",{className:"text-lg",children:"\ud83d\udca1"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h5",{className:"text-white font-roboto font-medium mb-1",children:"\u041f\u0440\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0430\u0436\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u0438\u0433\u0440\u0435. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0442\u0438\u043f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439, \u0435\u0441\u043b\u0438 \u043e\u043d\u0438 \u0432\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u044b. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438."})]})]})})]})},Ga="".concat("https://income-bot-3.preview.emergentagent.com","/api"),$a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=new Date(e);return new Date(a.getTime()+36e5*t).toLocaleString()},Ya=e=>{let{user:t,onUpdateUser:a,setCurrentView:s,onOpenAdminPanel:n,onLogout:o}=e;const[i,l]=(0,r.useState)("overview"),[c,u]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)({username:"",gender:"male",timezone_offset:0}),[b,y]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)("");(0,r.useEffect)((()=>{t&&g({username:t.username||"",gender:t.gender||"male",timezone_offset:t.timezone_offset||0})}),[t.username,t.gender,t.timezone_offset]);const{showSuccess:_,showError:k,showSuccessRU:S,showErrorRU:C}=Qt(),M=async()=>{const e=parseFloat(c);if(!e||e<=0)return void alert("Please enter a valid amount");const s=t.daily_limit_max-t.daily_limit_used;if(e>s)alert("You can only add up to ".concat(ma(s).replace("$","$")," more today"));else{m(!0);try{const t=localStorage.getItem("token"),s=await Pt.post("".concat(Ga,"/auth/add-balance"),{amount:e},{headers:{Authorization:"Bearer ".concat(t)}});u("");oa().triggerLobbyRefresh(),console.log("\ud83d\udcb5 Added $".concat(e," balance - triggering lobby refresh")),a&&a(),_(s.data.message)}catch(o){var r,n;k((null===(r=o.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||"Error adding balance")}finally{m(!1)}}},L=(0,r.useCallback)((async()=>{if(!f.username.trim())return void k("Username cannot be empty");const e=Wt(f.username);if(e.isValid){y(!0);try{const e=localStorage.getItem("token");console.log("\ud83d\udd04 Updating profile with data:",f);const t=await Pt.put("".concat(Ga,"/auth/profile"),f,{headers:{Authorization:"Bearer ".concat(e)}});console.log("\u2705 Profile update response:",t.data),a&&a(),p(!1),S("\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")}catch(n){var t,s,r;console.error("\u274c Profile update error:",n),console.error("Error response:",null===(t=n.response)||void 0===t?void 0:t.data),C((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")}finally{y(!1)}}else k(e.errors[0])}),[f,a,k,S,C]),E=(0,r.useCallback)((()=>{g({username:t.username||"",gender:t.gender||"male",timezone_offset:t.timezone_offset||0}),p(!1)}),[t.username,t.gender,t.timezone_offset]),A=(0,r.useCallback)((e=>{Vt(e.target.value,(e=>g((t=>d(d({},t),{},{username:e})))),N)}),[]),T=(0,r.useCallback)((e=>{g((t=>d(d({},t),{},{gender:e.target.value})))}),[]),P=(0,r.useCallback)((e=>{g((t=>d(d({},t),{},{timezone_offset:parseInt(e.target.value)})))}),[]),z=()=>{j(!v);const e=document.createElement("textarea");e.value=t.id,document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{document.execCommand("copy"),S("ID \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430!")}catch(a){C("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID")}finally{document.body.removeChild(e)}},I=()=>{return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Gt.jsx)("div",{className:"w-20 h-20 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,Gt.jsx)("img",{src:x?"female"===f.gender?"/Women.svg":"/Men.svg":"female"===t.gender?"/Women.svg":"/Men.svg",alt:x?"female"===f.gender?"Female":"Male":"female"===t.gender?"Female":"Male",className:"w-22 h-22"})}),(0,Gt.jsxs)("div",{className:"flex-1",children:[x?(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"Username"}),(0,Gt.jsx)("input",{type:"text",value:f.username,onChange:A,className:"w-full px-3 py-2 bg-surface-sidebar border rounded-lg text-white font-rajdhani focus:outline-none ".concat(w?"border-red-500 focus:border-red-500":"border-accent-primary border-opacity-30 focus:border-accent-primary")}),w&&(0,Gt.jsx)("p",{className:"mt-1 text-xs text-red-400 font-roboto",children:w})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"Gender"}),(0,Gt.jsxs)("select",{value:f.gender,onChange:T,className:"w-full px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"male",children:"Male"}),(0,Gt.jsx)("option",{value:"female",children:"Female"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"Timezone Offset (UTC)"}),(0,Gt.jsx)("select",{value:f.timezone_offset,onChange:P,className:"w-full px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary",children:Array.from({length:25},((e,t)=>t-12)).map((e=>(0,Gt.jsxs)("option",{value:e,children:["UTC",e>=0?"+":"",e]},e)))})]})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white",children:t.username}),(0,Gt.jsx)("button",{onClick:()=>p(!0),className:"px-3 py-1 bg-accent-primary text-white rounded-lg text-sm font-rajdhani font-bold hover:bg-opacity-80 transition-colors",children:"Edit Profile"})]}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary mb-1",children:t.email})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,Gt.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-rajdhani font-bold ".concat("ADMIN"===t.role||"SUPER_ADMIN"===t.role?"bg-red-600 text-red-100":"bg-blue-600 text-blue-100"),children:t.role}),(0,Gt.jsx)("span",{className:"px-3 py-1 bg-green-600 text-green-100 rounded-full text-xs font-rajdhani font-bold",children:t.status})]}),(0,Gt.jsxs)("div",{className:"font-roboto text-text-secondary text-sm cursor-pointer hover:text-accent-primary transition-colors",onClick:z,title:"Click to show full ID and copy",children:["ID: ",v?t.id:(e=t.id,!e||e.length<6?e:"".concat(e.substring(0,3),"...").concat(e.substring(e.length-3)))]}),x&&(0,Gt.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,Gt.jsx)("button",{onClick:L,disabled:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-rajdhani font-bold hover:bg-green-700 transition-colors disabled:opacity-50",children:b?"Saving...":"Save"}),(0,Gt.jsx)("button",{onClick:E,disabled:b,className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-rajdhani font-bold hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-green-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Balance"}),(0,Gt.jsx)("p",{className:"font-roboto text-xl font-bold text-green-400",children:ma(t.virtual_balance||0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-blue-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Games Played"}),(0,Gt.jsx)("p",{className:"font-roboto text-xl font-bold text-blue-400",children:t.total_games_played||0})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-accent-primary/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-accent-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Games Won"}),(0,Gt.jsx)("p",{className:"font-roboto text-xl font-bold text-accent-primary",children:t.total_games_won||0})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-purple-600/20 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Win Rate"}),(0,Gt.jsxs)("p",{className:"font-roboto text-xl font-bold text-purple-400",children:[t.total_games_played>0?Math.round(t.total_games_won/t.total_games_played*100):0,"%"]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Account Information"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Member Since:"}),(0,Gt.jsx)("span",{className:"font-rajdhani text-white",children:$a(t.created_at,t.timezone_offset||0)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Last Login:"}),(0,Gt.jsx)("span",{className:"font-rajdhani text-white",children:t.last_login?$a(t.last_login,t.timezone_offset||0):"Never"})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Timezone:"}),(0,Gt.jsxs)("span",{className:"font-rajdhani text-white",children:["UTC",t.timezone_offset>=0?"+":"",t.timezone_offset||0]})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Gaming Statistics"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Total Wagered:"}),(0,Gt.jsx)("span",{className:"font-rajdhani text-white",children:ma(t.total_amount_wagered||0)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Total Won:"}),(0,Gt.jsx)("span",{className:"font-rajdhani text-green-400",children:ma(t.total_amount_won||0)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Net Profit:"}),(0,Gt.jsx)("span",{className:"font-rajdhani font-bold ".concat((t.total_amount_won||0)-(t.total_amount_wagered||0)>=0?"text-green-400":"text-red-400"),children:ma((t.total_amount_won||0)-(t.total_amount_wagered||0))})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Daily Limit Used:"}),(0,Gt.jsxs)("span",{className:"font-rajdhani text-white",children:[ma(t.daily_limit_used||0)," / ",ma(t.daily_limit_max||1e3)]})]})]})]})]})]});var e},O=()=>{const e=t.daily_limit_max-t.daily_limit_used,a=e>0;return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Balance Management"}),(0,Gt.jsxs)("div",{className:"mb-6 p-4 bg-surface-sidebar rounded-lg",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Daily Deposit Limit:"}),(0,Gt.jsx)("span",{className:"font-rajdhani text-white font-bold",children:ma(t.daily_limit_max)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Used Today:"}),(0,Gt.jsx)("span",{className:"font-rajdhani text-warning font-bold",children:ma(t.daily_limit_used)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"Remaining:"}),(0,Gt.jsx)("span",{className:"font-rajdhani font-bold ".concat(a?"text-green-400":"text-red-400"),children:ma(e)})]}),(0,Gt.jsx)("div",{className:"mt-3",children:(0,Gt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Gt.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,t.daily_limit_used/t.daily_limit_max*100),"%")}})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-2",children:"Add Virtual Dollars to Balance"}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("input",{type:"number",min:"1",max:e,value:c,onChange:e=>u(e.target.value),placeholder:"Enter amount",className:"flex-1 px-4 py-3 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani text-center focus:outline-none focus:border-accent-primary",disabled:!a}),(0,Gt.jsx)("button",{onClick:M,disabled:!a||h||!c,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(a&&!h&&c?"bg-gradient-accent text-white hover:scale-105 hover:shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:h?"ADDING...":"ADD BALANCE"})]})]}),!a&&(0,Gt.jsx)("p",{className:"font-roboto text-red-400 text-sm",children:"Daily limit reached. Limit resets at 00:00 server time."}),(0,Gt.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[100,500,e].map((e=>(0,Gt.jsx)("button",{onClick:()=>u(e.toString()),disabled:!a||e<=0,className:"py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 ".concat(a&&e>0?"bg-surface-sidebar border border-accent-primary border-opacity-30 text-white hover:bg-accent-primary hover:text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"),children:ma(e>0?e:0)},e)))})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-accent-secondary mb-4",children:"Other Settings"}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-center py-8",children:"Additional profile settings will be available in future updates."})]})]})};return(0,Gt.jsxs)("div",{className:"min-h-screen bg-gradient-primary",children:[(0,Gt.jsx)("div",{className:"md:hidden hidden sticky top-0 z-30 bg-surface-sidebar border-b border-border-primary p-4",children:(0,Gt.jsx)(Ha,{user:t})}),(0,Gt.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,Gt.jsxs)("div",{className:"text-center mb-8",children:[(0,Gt.jsx)("h1",{className:"font-russo text-2xl sm:text-3xl md:text-6xl text-accent-primary mb-4",children:"Profile"}),(0,Gt.jsx)("p",{className:"font-roboto text-base sm:text-lg md:text-xl text-text-secondary px-4",children:"Manage your account and view your gaming statistics"})]}),(0,Gt.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,Gt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"overview",label:"Overview",icon:"\ud83d\udc64"},{id:"settings",label:"Settings",icon:"\u2699\ufe0f"},{id:"notifications",label:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",icon:"\ud83d\udd14"}].map((e=>(0,Gt.jsxs)("button",{onClick:()=>l(e.id),className:"flex-1 py-3 px-4 rounded-lg font-rajdhani font-bold transition-all duration-300 ".concat(i===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Gt.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id)))})}),(0,Gt.jsxs)("div",{className:"max-w-6xl mx-auto",children:["overview"===i&&(0,Gt.jsx)(I,{}),"settings"===i&&(0,Gt.jsx)(O,{}),"notifications"===i&&(0,Gt.jsx)(qa,{})]})]})]})},Qa="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Ka=e=>{let{user:t,onUpdateUser:a}=e;const{showSuccess:s,showError:n}=Qt(),{getGemIconPath:o,refreshInventory:i}=ca(),{gem:l,ui:c,system:u}=Da(),h=Ra(!0),[m,x]=(0,r.useState)([]),[p,f]=(0,r.useState)(null),[g,b]=(0,r.useState)(!0),[y,v]=(0,r.useState)(null),[j,w]=(0,r.useState)({}),[N,_]=(0,r.useState)(!1),k=(0,r.useRef)(null);(0,r.useEffect)((()=>{S(),C()}),[]),(0,r.useEffect)((()=>(g?k.current=setTimeout((()=>_(!0)),1e3):(clearTimeout(k.current),_(!1)),()=>clearTimeout(k.current))),[g]);const S=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Qa,"/gems/definitions"),{headers:{Authorization:"Bearer ".concat(e)}});x(t.data)}catch(e){console.error("Error fetching gems:",e)}},C=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Qa,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});f(t.data),b(!1)}catch(e){console.error("Error fetching balance:",e),b(!1)}},M=(e,t,a)=>{const s=p?Math.floor(p.virtual_balance/a):0,r=parseInt(t)||0,n=Math.max(1,Math.min(s,r));w((t=>d(d({},t),{},{[e]:n})))},L=async e=>{const t=j[e]||1;v(e);try{const r=localStorage.getItem("token");await Pt.post("".concat(Qa,"/gems/buy?gem_type=").concat(e,"&quantity=").concat(t),{},{headers:{Authorization:"Bearer ".concat(r)}});l.buy(),s("Successfully purchased ".concat(t," ").concat(e," gem").concat(t>1?"s":"","!")),await C(),await i();oa().triggerLobbyRefresh(),console.log("\ud83d\udc8e Bought ".concat(t," ").concat(e," gems - triggering lobby refresh")),a&&a()}catch(d){var r,o;c.error();const e=(null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.detail)||"Error buying gems. Please try again.";n(e)}finally{v(null)}};return g?(0,Gt.jsx)("div",{className:"min-h-screen min-h-app bg-gradient-primary flex items-center justify-center",children:N?(0,Gt.jsx)(ga,{ariaLabel:"Loading Shop"}):null}):(0,Gt.jsxs)("div",{className:"min-h-screen min-h-app bg-gradient-primary p-8",children:[(0,Gt.jsxs)("div",{className:"text-center mb-8",children:[(0,Gt.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"Gem Shop"}),(0,Gt.jsx)("p",{className:"font-roboto text-xl text-text-secondary",children:"Purchase NFT Gems with Virtual Dollars"})]}),(0,Gt.jsx)(fa,{user:t}),(0,Gt.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:m.map(((e,t)=>{const a=j[e.type]||1,s=e.price*a,r=p&&p.virtual_balance>=s;return(0,Gt.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl group cursor-pointer",style:{backgroundColor:"#081730",border:"1px solid ".concat(e.color),boxShadow:"0 0 20px ".concat(e.color,"40")},onMouseEnter:t=>{t.currentTarget.style.border="2px solid #23d364",t.currentTarget.style.boxShadow="0 0 30px #23d36440, 0 0 20px ".concat(e.color,"60")},onMouseLeave:t=>{t.currentTarget.style.border="1px solid ".concat(e.color),t.currentTarget.style.boxShadow="0 0 20px ".concat(e.color,"40")},children:[(0,Gt.jsx)("div",{className:"flex justify-center mb-4",children:(0,Gt.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative transition-all duration-300 group-hover:scale-110",children:[(0,Gt.jsx)("div",{className:"absolute inset-0 animate-pulse transition-all duration-300 group-hover:scale-125",style:{background:"radial-gradient(circle, ".concat(e.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,Gt.jsx)("img",{src:o(e.type),alt:e.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10 transition-all duration-300 group-hover:scale-110 group-hover:brightness-125",style:{filter:"drop-shadow(0 0 10px ".concat(e.color,"40)")}})]})}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-white mb-2 transition-all duration-300 group-hover:text-green-400",children:e.name}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm mb-3",children:e.rarity}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("span",{className:"font-rajdhani text-2xl font-bold text-green-400",children:ma(e.price)}),(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("label",{className:"font-roboto text-text-secondary text-sm block mb-2",children:"Quantity:"}),(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>M(e.type,a-1,e.price),disabled:a<=1,className:"w-8 h-8 rounded-lg font-rajdhani font-bold text-lg transition-all duration-200 ".concat(a>1?"bg-surface-sidebar border border-accent-primary border-opacity-30 text-white hover:bg-surface-hover hover:border-opacity-60":"bg-surface-sidebar border border-gray-700 text-gray-600 cursor-not-allowed"),children:"-"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:p?Math.floor(p.virtual_balance/e.price):0,value:a,onChange:t=>M(e.type,t.target.value,e.price),onBlur:t=>{const a=p?Math.floor(p.virtual_balance/e.price):0,s=parseInt(t.target.value)||1;s>a?M(e.type,a,e.price):s<1&&M(e.type,1,e.price)},className:"w-20 px-3 py-2 bg-surface-sidebar border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani text-center"}),(0,Gt.jsx)("button",{onClick:()=>M(e.type,a+1,e.price),disabled:!p||a>=Math.floor(p.virtual_balance/e.price),className:"w-8 h-8 rounded-lg font-rajdhani font-bold text-lg transition-all duration-200 ".concat(p&&a<Math.floor(p.virtual_balance/e.price)?"bg-surface-sidebar border border-accent-primary border-opacity-30 text-white hover:bg-surface-hover hover:border-opacity-60":"bg-surface-sidebar border border-gray-700 text-gray-600 cursor-not-allowed"),children:"+"})]}),p&&a>=Math.floor(p.virtual_balance/e.price)&&(0,Gt.jsx)("p",{className:"text-xs text-warning mt-1",children:"Max affordable quantity"})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Total: "}),(0,Gt.jsx)("span",{className:"font-rajdhani text-xl font-bold ".concat(r?"text-green-400":"text-red-400"),children:ma(s)})]}),(0,Gt.jsx)("button",d(d({onClick:()=>L(e.type),disabled:!r||y===e.type},h),{},{className:"w-full py-3 px-6 rounded-lg font-rajdhani font-bold text-lg transition-all duration-300 uppercase tracking-wider ".concat(r&&y!==e.type?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(r?e.color:"#666"),color:r?e.color:"#666",boxShadow:r?"0 0 15px ".concat(e.color,"30"):"none"},children:y===e.type?"BUYING...":"BUY"}))]})]},t)}))})})]})},Xa="https://income-bot-3.preview.emergentagent.com/api",Ja=e=>{let{isOpen:t,onClose:a,gemType:s,quantity:n,gemPrice:o,senderName:i,senderEmail:l,onGiftSuccess:c}=e;const{showSuccess:d,showError:u}=Qt(),[h,m]=(0,r.useState)(""),[x,p]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[v,j]=(0,r.useState)(null),w=o*n,{gift_commission_rate:N}=(()=>{const[e,t]=r.useState({bet_commission_rate:3,gift_commission_rate:3});return r.useEffect((()=>{(async()=>{try{const e=localStorage.getItem("token"),a=await Pt.get("".concat(Xa,"/admin/profit/commission-settings"),{headers:{Authorization:"Bearer ".concat(e)}});a.data&&t(a.data)}catch(e){}})()}),[]),e})(),_=w*((null!==N&&void 0!==N?N:3)/100),k=w;(0,r.useEffect)((()=>{v&&clearTimeout(v);const e=setTimeout((()=>{(async e=>{if(e.trim()){g(!0);try{const t=localStorage.getItem("token"),a=await Pt.get("".concat(Xa,"/users/search?query=").concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}});a.data&&a.data.length>0?p(a.data[0]):p(null)}catch(t){console.error("Error searching recipient:",t),p(null)}finally{g(!1)}}else p(null)})(h)}),500);return j(e),()=>{e&&clearTimeout(e)}}),[h]);return(0,r.useEffect)((()=>{if(!t)return;const{body:e}=document,a=e.style.overflow,s=e.style.paddingRight,r=window.innerWidth-document.documentElement.clientWidth;return r>0&&(e.style.paddingRight="".concat(r,"px")),e.style.overflow="hidden",()=>{e.style.overflow=a||"unset",e.style.paddingRight=s||""}}),[t]),t?(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onWheel:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full",role:"dialog","aria-modal":"true",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-accent-primary",children:"\ud83c\udf81 Gift Confirmation"}),(0,Gt.jsx)("button",{onClick:a,className:"text-text-secondary hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"mb-4 p-3 bg-surface-sidebar rounded-lg",children:[(0,Gt.jsx)("div",{className:"text-sm text-text-secondary mb-1",children:"From:"}),(0,Gt.jsxs)("div",{className:"text-white font-rajdhani font-semibold",children:[i," (",l,")"]})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"To (email or username):"}),(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Enter recipient's email or username...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:border-accent-primary focus:outline-none"}),f&&(0,Gt.jsx)("div",{className:"absolute right-3 top-2.5",children:(0,Gt.jsx)("div",{className:"w-4 h-4 border-2 border-accent-primary border-t-transparent rounded-full animate-spin"})})]}),x&&(0,Gt.jsx)("div",{className:"mt-2 p-3 bg-green-900 bg-opacity-20 border border-green-500 border-opacity-30 rounded-lg",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-green-400 font-medium",children:x.username}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:x.email})]})]})}),h&&!x&&!f&&(0,Gt.jsx)("div",{className:"mt-2 p-3 bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,Gt.jsx)("div",{className:"text-red-400 text-sm",children:"User not found"})]})})]}),(0,Gt.jsxs)("div",{className:"mb-6 p-4 bg-surface-sidebar rounded-lg",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"Gift Details:"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"Gem:"}),(0,Gt.jsxs)("span",{className:"text-white font-medium",children:[n,"x ",s]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"Value:"}),(0,Gt.jsx)("span",{className:"text-white font-medium",children:xa(w)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsxs)("span",{className:"text-text-secondary",children:["Commission (",(null!==N&&void 0!==N?N:3).toFixed(1),"%):"]}),(0,Gt.jsxs)("span",{className:"text-orange-400 font-medium",children:["-",ma(_)]})]}),(0,Gt.jsx)("div",{className:"border-t border-border-primary pt-2 mt-2",children:(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"Recipient will receive:"}),(0,Gt.jsxs)("span",{className:"text-green-400 font-bold",children:[n,"x ",s," (",xa(k),")"]})]})})]})]}),(0,Gt.jsx)("div",{className:"mb-6 p-3 bg-yellow-900 bg-opacity-20 border border-yellow-500 border-opacity-30 rounded-lg",children:(0,Gt.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsxs)("div",{className:"text-yellow-400 text-sm",children:[(0,Gt.jsx)("div",{className:"font-medium mb-1",children:"Warning!"}),(0,Gt.jsx)("div",{children:"This action cannot be undone. Make sure you've entered the correct recipient."})]})]})}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:a,className:"flex-1 px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-text-secondary hover:text-white hover:border-accent-primary transition-colors font-rajdhani font-medium",children:"Cancel"}),(0,Gt.jsx)("button",{onClick:async()=>{if(x)if(x.email!==l){y(!0);try{const e=localStorage.getItem("token");await Pt.post("".concat(Xa,"/gems/gift?recipient_email=").concat(x.email,"&gem_type=").concat(s,"&quantity=").concat(n),{},{headers:{Authorization:"Bearer ".concat(e)}});d("You sent a gift to ".concat(x.username,". A commission of ").concat(ma(_)," has been deducted from your balance."));oa().triggerLobbyRefresh(),c&&c(),a()}catch(r){var e,t;u((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Error sending gift")}finally{y(!1)}}else u("Cannot send a gift to yourself");else u("Please select a valid recipient")},disabled:!x||b,className:"flex-1 px-4 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(x&&!b?"bg-accent-primary hover:bg-accent-primary/80 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:b?(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Gt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,Gt.jsx)("span",{children:"Sending..."})]}):"Confirm Gift"})]})]})}):null},Za="".concat("https://income-bot-3.preview.emergentagent.com","/api"),es=e=>{let{user:t,onUpdateUser:a}=e;const{getGemIconPath:s}=ca(),{showSuccess:n,showError:o}=Qt(),[i,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(null),[h,m]=(0,r.useState)(!0),[x,p]=(0,r.useState)(null),[f,g]=(0,r.useState)({}),[b,y]=(0,r.useState)(null),[v,j]=(0,r.useState)(!1),w=(0,r.useRef)(null),[N,_]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null);(0,r.useEffect)((()=>{C(),M();const e=setInterval((()=>{M(),C()}),1e4);return()=>clearInterval(e)}),[]),(0,r.useEffect)((()=>(h?w.current=setTimeout((()=>j(!0)),1e3):(clearTimeout(w.current),j(!1)),()=>clearTimeout(w.current))),[h]);const C=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Za,"/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching inventory:",e)}},M=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Za,"/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data),m(!1)}catch(e){console.error("Error fetching balance:",e),m(!1)}},L=(e,t,a)=>{const s=parseInt(t)||0,r=Math.max(1,Math.min(a,s));g((t=>d(d({},t),{},{[e]:r})))},E=(()=>{if(!c)return null;const e=c.virtual_balance,t=c.frozen_balance,a=i.reduce(((e,t)=>e+t.quantity),0),s=i.reduce(((e,t)=>e+t.frozen_quantity),0),r=c.available_gem_value,n=c.total_gem_value-c.available_gem_value,o=e+t+c.total_gem_value;return{balance:{total:e+t,frozen:t,available:e},gems:{totalCount:a,totalValue:c.total_gem_value,frozenCount:s,frozenValue:n,availableValue:r},total:{value:o}}})(),A=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),T=e=>{let{id:t,tooltip:a,children:s}=e;const[n,o]=(0,r.useState)({top:0,left:0}),i=e=>{const a=e.currentTarget.getBoundingClientRect();o({top:a.top-10,left:a.left+a.width/2-140}),y(t)};return(0,Gt.jsxs)("div",{className:"relative",children:[s,(0,Gt.jsx)("button",{onMouseEnter:i,onMouseLeave:()=>y(null),onClick:i,className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-gray-600 text-white text-xs flex items-center justify-center hover:bg-gray-500 transition-colors z-20",children:"i"}),b===t&&(0,Gt.jsxs)("div",{className:"fixed w-64 bg-slate-800 text-white text-sm rounded-lg p-3 shadow-xl border border-slate-700 z-[99999]",style:{top:"".concat(n.top,"px"),left:"".concat(n.left,"px"),maxWidth:"280px",transform:"translateY(-100%)"},children:[(0,Gt.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-slate-800"}),a]})]})};return h?(0,Gt.jsx)("div",{className:"min-h-screen min-h-app bg-gradient-primary flex items-center justify-center",children:v?(0,Gt.jsx)(ga,{ariaLabel:"Loading Inventory"}):null}):(0,Gt.jsxs)("div",{className:"min-h-screen min-h-app bg-gradient-primary p-8",children:[(0,Gt.jsxs)("div",{className:"text-center mb-8",children:[(0,Gt.jsx)("h1",{className:"font-russo text-4xl md:text-6xl text-accent-primary mb-4",children:"My Inventory"}),(0,Gt.jsx)("p",{className:"font-roboto text-xl text-text-secondary mb-8",children:"Manage Your NFT Gem Collection"}),E&&(0,Gt.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 md:gap-6 min-w-0 overflow-x-auto",children:[(0,Gt.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-green-500 transition-colors duration-200",children:(0,Gt.jsx)(T,{id:"balance",tooltip:"Your virtual dollar balance. Shows total balance, frozen funds (reserved for active bets), and available amount for new bets.",children:(0,Gt.jsxs)("div",{className:"text-center pt-2",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Balance"}),(0,Gt.jsx)("div",{className:"mb-1 md:mb-2",children:(0,Gt.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-green-400 break-words",children:["$",A(E.balance.total)]})}),E.balance.frozen>0&&(0,Gt.jsxs)("div",{className:"text-xs text-orange-400 mb-1",children:["Frozen: $",A(E.balance.frozen)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["Available: $",A(E.balance.available)]})]})})}),(0,Gt.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-purple-500 transition-colors duration-200",children:(0,Gt.jsx)(T,{id:"gems",tooltip:"Your gem collection. Gems are used to create and accept bets. Higher value gems allow for larger bets.",children:(0,Gt.jsxs)("div",{className:"text-center pt-2",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Gems"}),(0,Gt.jsx)("div",{className:"mb-1 md:mb-2",children:(0,Gt.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-purple-400 break-words",children:[A(E.gems.totalCount),"/",A(E.gems.totalValue)]})}),E.gems.frozenCount>0&&(0,Gt.jsxs)("div",{className:"text-xs text-orange-400 mb-1",children:["Frozen: ",A(E.gems.frozenCount)," / $",A(E.gems.frozenValue)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["Available: $",A(E.gems.availableValue)]})]})})}),(0,Gt.jsx)("div",{className:"relative bg-surface-card rounded-lg p-3 md:p-4 border border-border-primary min-w-0 flex-shrink-0 hover:border-accent-primary transition-colors duration-200",children:(0,Gt.jsx)(T,{id:"total",tooltip:"Your total estimated value including both balance and gems.",children:(0,Gt.jsxs)("div",{className:"text-center pt-2",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-sm md:text-lg font-semibold text-white mb-2 md:mb-3",children:"Total"}),(0,Gt.jsx)("div",{className:"mb-1 md:mb-2",children:(0,Gt.jsxs)("div",{className:"font-rajdhani text-lg md:text-2xl font-bold text-accent-primary break-words",children:["$",A(E.total.value)]})}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:(()=>{const e=E.balance.frozen+E.gems.frozenValue,t=E.total.value-e;return e>0?"".concat(A(t)," available"):"All available"})()})]})})})]})})]}),(0,Gt.jsx)("div",{className:"max-w-7xl mx-auto",children:0===i.length?(0,Gt.jsxs)("div",{className:"text-center py-16",children:[(0,Gt.jsx)("h3",{className:"font-russo text-2xl text-text-secondary mb-4",children:"No Gems Yet"}),(0,Gt.jsx)("p",{className:"font-roboto text-text-muted",children:"Visit the Shop to buy your first gems!"})]}):(0,Gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:i.map(((e,t)=>{const r=f[e.type]||1,l=e.quantity-e.frozen_quantity,c=e.price*r;return(0,Gt.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl group",style:{backgroundColor:"#081730",border:"1px solid ".concat(e.color),boxShadow:"0 0 20px ".concat(e.color,"40")},children:[(0,Gt.jsx)("div",{className:"flex justify-center mb-4",children:(0,Gt.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative transition-all duration-300 group-hover:scale-110",children:[(0,Gt.jsx)("div",{className:"absolute inset-0 animate-pulse transition-all duration-300 group-hover:scale-125",style:{background:"radial-gradient(circle, ".concat(e.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,Gt.jsx)("img",{src:s(e.type),alt:e.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10 transition-all duration-300 group-hover:scale-110 group-hover:brightness-125",style:{filter:"drop-shadow(0 0 10px ".concat(e.color,"40)")}})]})}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-white mb-2",children:e.name}),(0,Gt.jsxs)("div",{className:"mb-3",children:[(0,Gt.jsx)("span",{className:"font-rajdhani text-lg text-white",children:e.quantity}),(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" owned"}),e.frozen_quantity>0&&(0,Gt.jsxs)("div",{className:"font-roboto text-warning text-sm font-bold",children:[e.frozen_quantity," frozen in bets"]})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsxs)("span",{className:"font-rajdhani text-xl font-bold text-green-400",children:["$",e.price]}),(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("label",{className:"font-roboto text-text-secondary text-xs block mb-2",children:"Quantity to sell/gift:"}),(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>L(e.type,r-1,l),disabled:0===l||r<=1,className:"w-8 h-8 rounded-lg font-rajdhani font-bold text-lg transition-all duration-200 ".concat(l>0&&r>1?"bg-surface-sidebar border border-border-primary text-white hover:bg-surface-hover hover:border-accent-primary":"bg-surface-sidebar border border-gray-700 text-gray-600 cursor-not-allowed"),children:"-"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:l,value:r,onChange:t=>L(e.type,t.target.value,l),onBlur:t=>{const a=parseInt(t.target.value)||1;a>l?L(e.type,l,l):a<1&&L(e.type,1,l)},className:"w-20 px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-rajdhani text-center text-sm",disabled:0===l}),(0,Gt.jsx)("button",{onClick:()=>L(e.type,r+1,l),disabled:0===l||r>=l,className:"w-8 h-8 rounded-lg font-rajdhani font-bold text-lg transition-all duration-200 ".concat(l>0&&r<l?"bg-surface-sidebar border border-border-primary text-white hover:bg-surface-hover hover:border-accent-primary":"bg-surface-sidebar border border-gray-700 text-gray-600 cursor-not-allowed"),children:"+"})]})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Value: "}),(0,Gt.jsx)("span",{className:"font-rajdhani text-lg font-bold text-green-400",children:xa(c)})]}),(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("button",{onClick:()=>(async e=>{const t=i.find((t=>t.type===e)),s=f[e]||1,r=t.quantity-t.frozen_quantity,l=Math.min(s,r);if(0!==r){if(s>r)return L(e,r,r),void o("Only ".concat(r," gems available. Quantity adjusted."));p(e);try{const s=localStorage.getItem("token"),r=(await Pt.post("".concat(Za,"/gems/sell?gem_type=").concat(e,"&quantity=").concat(l),{},{headers:{Authorization:"Bearer ".concat(s)}}),xa(t.price*l)),o="Ruby"===e?"Rubies":"Emerald"===e?"Emeralds":"Sapphire"===e?"Sapphires":"Aquamarine"===e?"Aquamarines":"Topaz"===e?"Topazes":"Amber"===e?"Ambers":"Magic"===e?"Magic gems":"".concat(e,"s"),i=1===l?e:o;n("\u2705 You sold ".concat(l," ").concat(i," for $").concat(r)),await C(),await M(),oa().triggerLobbyRefresh(),console.log("\ud83d\udcb0 Sold ".concat(l," ").concat(e," gems - triggering lobby refresh")),a&&a()}catch(u){var c,d;o((null===(c=u.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.detail)||"Error selling gems")}finally{p(null)}}else o("No available gems to sell")})(e.type),disabled:0===l||x===e.type,className:"w-full py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 uppercase tracking-wider ".concat(l>0&&x!==e.type?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(l>0?"#ff6b35":"#666"),color:l>0?"#ff6b35":"#666"},children:x===e.type?"SELLING...":"SELL"}),(0,Gt.jsx)("button",{onClick:()=>(e=>{const t=i.find((t=>t.type===e)),a=f[e]||1,s=t.quantity-t.frozen_quantity,r=Math.min(a,s);0!==s?(a>s&&L(e,s,s),S({gemType:e,quantity:r,gemPrice:t.price,availableQuantity:s}),_(!0)):o("No available gems to gift")})(e.type),disabled:0===l,className:"w-full py-2 px-4 rounded-lg font-rajdhani font-bold text-sm transition-all duration-300 uppercase tracking-wider ".concat(l>0?"text-white hover:scale-105":"text-gray-500 cursor-not-allowed"),style:{backgroundColor:"transparent",border:"1px solid ".concat(l>0?"#23d364":"#666"),color:l>0?"#23d364":"#666"},children:"GIFT"})]})]})]},t)}))})}),(0,Gt.jsx)(Ja,{isOpen:N,onClose:()=>_(!1),gemType:null===k||void 0===k?void 0:k.gemType,quantity:null===k||void 0===k?void 0:k.quantity,gemPrice:null===k||void 0===k?void 0:k.gemPrice,senderName:null===t||void 0===t?void 0:t.username,senderEmail:null===t||void 0===t?void 0:t.email,onGiftSuccess:async()=>{await C(),await M(),a&&a()}})]})},ts=("".concat("https://income-bot-3.preview.emergentagent.com","/api"),"".concat("https://income-bot-3.preview.emergentagent.com","/api")),as=e=>{let{user:t}=e;const[a,s]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[i,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)(1),[u,h]=(0,r.useState)("all"),[m,x]=(0,r.useState)({total_games:0,total_won:0,total_lost:0,total_draw:0,total_winnings:0,total_losses:0});(0,r.useEffect)((()=>{p()}),[i,u]);const p=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(ts,"/games/history"),{headers:{Authorization:"Bearer ".concat(e)},params:{status:"all"!==i?i:void 0,date_filter:"all"!==u?u:void 0}});s(t.data.games||[]),x(t.data.stats||m),o(!1)}catch(e){console.error("Error fetching game history:",e),s(f()),x(g()),o(!1)}},f=()=>{const e=[],t=["GemMaster2024","DiamondKing","CrystalQueen","RubyHunter","EmeraldWin","SapphireBot","TopazTitan","GemCollector","JewelBot","PreciousPlayer"],a=["rock","paper","scissors"],s=["won","lost","draw"],r=["Ruby","Emerald","Sapphire","Diamond","Topaz","Amber","Magic"];for(let n=0;n<50;n++){const o=s[Math.floor(Math.random()*s.length)],i=Math.floor(1e3*Math.random())+100,l=Math.random()<.3;e.push({id:"game_".concat(n+1),opponent_username:t[Math.floor(Math.random()*t.length)],opponent_id:"opponent_".concat(n+1),is_bot_game:l,my_move:a[Math.floor(Math.random()*a.length)],opponent_move:a[Math.floor(Math.random()*a.length)],bet_amount:i,bet_gems:{[r[Math.floor(Math.random()*r.length)]]:Math.floor(5*Math.random())+1},status:"COMPLETED",result:o,winnings:"won"===o?1.97*i:0,created_at:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),completed_at:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),game_duration:Math.floor(300*Math.random())+30})}return e.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)))},g=()=>{const e=Math.floor(50*.55),t=Math.floor(20);return{total_games:50,total_won:e,total_lost:t,total_draw:50-e-t,total_winnings:Math.floor(5e4*Math.random())+1e4,total_losses:Math.floor(3e4*Math.random())+5e3}},b=()=>{let e=a;return"all"!==i&&(e=e.filter((e=>e.result===i))),e},y=e=>{switch(e){case"rock":return"\ud83e\udea8";case"paper":return"\ud83d\udcc4";case"scissors":return"\u2702\ufe0f";default:return"\u2753"}},v=e=>{switch(e){case"won":return"text-green-400";case"lost":return"text-red-400";case"draw":return"text-yellow-400";default:return"text-gray-400"}},j=e=>{switch(e){case"won":return"WON";case"lost":return"LOST";case"draw":return"DRAW";default:return"UNKNOWN"}},w=e=>{if(e<60)return"".concat(e,"s");const t=Math.floor(e/60),a=e%60;return"".concat(t,"m ").concat(a,"s")},[N,_]=(0,r.useState)(!1),k=(0,r.useRef)(null);if((0,r.useEffect)((()=>(n?k.current=setTimeout((()=>_(!0)),1e3):(clearTimeout(k.current),_(!1)),()=>clearTimeout(k.current))),[n]),n)return(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:N?(0,Gt.jsx)(ga,{ariaLabel:"Loading History"}):null});const S=b(),C=(()=>{const e=b(),t=10*(c-1),a=t+10;return e.slice(t,a)})(),M=Math.ceil(S.length/10);return(0,Gt.jsxs)("div",{className:"min-h-screen bg-gradient-primary p-4 sm:p-6",children:[(0,Gt.jsxs)("div",{className:"text-center mb-8",children:[(0,Gt.jsx)("h1",{className:"font-russo text-3xl sm:text-4xl md:text-6xl text-accent-primary mb-4",children:"Game History"}),(0,Gt.jsx)("p",{className:"font-roboto text-lg sm:text-xl text-text-secondary",children:"Review your past battles and track your progress"})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8 max-w-6xl mx-auto",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Total Games"}),(0,Gt.jsx)("p",{className:"font-roboto text-2xl font-bold text-accent-primary",children:m.total_games})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Won"}),(0,Gt.jsx)("p",{className:"font-roboto text-2xl font-bold text-green-400",children:m.total_won})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Lost"}),(0,Gt.jsx)("p",{className:"font-roboto text-2xl font-bold text-red-400",children:m.total_lost})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Draw"}),(0,Gt.jsx)("p",{className:"font-roboto text-2xl font-bold text-yellow-400",children:m.total_draw})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Win Rate"}),(0,Gt.jsxs)("p",{className:"font-roboto text-2xl font-bold text-purple-400",children:[m.total_games>0?Math.round(m.total_won/m.total_games*100):0,"%"]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani font-bold text-lg text-white",children:"Net Profit"}),(0,Gt.jsxs)("p",{className:"font-roboto text-2xl font-bold ".concat(m.total_winnings-m.total_losses>=0?"text-green-400":"text-red-400"),children:["$",(m.total_winnings-m.total_losses).toLocaleString()]})]})]}),(0,Gt.jsx)("div",{className:"max-w-6xl mx-auto mb-8",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"all",label:"All Games",icon:"\ud83c\udfae"},{id:"won",label:"Won",icon:"\ud83c\udfc6"},{id:"lost",label:"Lost",icon:"\ud83d\udc94"},{id:"draw",label:"Draw",icon:"\ud83e\udd1d"}].map((e=>(0,Gt.jsxs)("button",{onClick:()=>{l(e.id),d(1)},className:"flex-1 py-2 px-3 rounded-lg font-rajdhani font-bold transition-all duration-300 text-sm ".concat(i===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Gt.jsx)("span",{className:"mr-1",children:e.icon}),e.label]},e.id)))}),(0,Gt.jsx)("div",{className:"flex space-x-1 bg-surface-sidebar rounded-lg p-1",children:[{id:"all",label:"All Time"},{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"}].map((e=>(0,Gt.jsx)("button",{onClick:()=>{h(e.id),d(1)},className:"flex-1 py-2 px-3 rounded-lg font-rajdhani font-bold transition-all duration-300 text-sm ".concat(u===e.id?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:e.label},e.id)))})]})}),(0,Gt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[C.length>0?(0,Gt.jsx)("div",{className:"space-y-4",children:C.map((e=>{var t,a;return(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-center",children:[(0,Gt.jsxs)("div",{className:"lg:col-span-2",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"font-russo font-bold text-lg ".concat(v(e.result)),children:j(e.result)}),(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:e.is_bot_game?"\ud83e\udd16":"\ud83d\udc64"})]}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Gt.jsx)("div",{className:"lg:col-span-3",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-full flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"font-russo text-white text-sm",children:e.opponent_username.charAt(0).toUpperCase()})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:e.opponent_username}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:e.is_bot_game?"Bot Player":"Human Player"})]})]})}),(0,Gt.jsx)("div",{className:"lg:col-span-2",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-2xl",children:y(e.my_move)}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"You"})]}),(0,Gt.jsx)("div",{className:"text-center",children:(0,Gt.jsx)("div",{className:"text-xl text-text-secondary",children:"VS"})}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-2xl",children:y(e.opponent_move)}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"Them"})]})]})}),(0,Gt.jsx)("div",{className:"lg:col-span-3",children:(0,Gt.jsxs)("div",{className:"space-y-1",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Bet:"}),(0,Gt.jsxs)("span",{className:"font-rajdhani text-white font-bold",children:["$",e.bet_amount]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Gems:"}),(0,Gt.jsx)("span",{className:"font-rajdhani text-accent-primary text-xs",children:(a=e.bet_gems,a&&"object"===typeof a?Object.entries(a).map((e=>{let[t,a]=e;return"".concat(t,": ").concat(a)})).join(", "):"No gems")})]}),"won"===e.result&&(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:"Won:"}),(0,Gt.jsxs)("span",{className:"font-rajdhani text-green-400 font-bold",children:["+$",(null===(t=e.winnings)||void 0===t?void 0:t.toLocaleString())||0]})]})]})}),(0,Gt.jsx)("div",{className:"lg:col-span-2",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("p",{className:"font-rajdhani text-white font-bold",children:w(e.game_duration)}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-xs",children:"Duration"})]})})]})},e.game_id||e.id)}))}):(0,Gt.jsxs)("div",{className:"text-center py-16",children:[(0,Gt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdc"}),(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-accent-secondary mb-2",children:"No Games Found"}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary",children:"all"===i?"You haven't played any games yet. Start your first battle!":"No ".concat(i," games found for the selected filters.")})]}),M>1&&(0,Gt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,Gt.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Previous"}),(0,Gt.jsx)("div",{className:"flex space-x-1",children:[...Array(Math.min(M,5))].map(((e,t)=>{const a=c<=3?t+1:c-2+t;return a>M?null:(0,Gt.jsx)("button",{onClick:()=>d(a),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(c===a?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white"),children:a},a)}))}),(0,Gt.jsx)("button",{onClick:()=>d(Math.min(M,c+1)),disabled:c===M,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white disabled:opacity-50 transition-colors",children:"Next"})]})]})]})},ss=e=>{let{currentPage:t=1,totalPages:a=1,onPageChange:s,itemsPerPage:r=10,totalItems:n=0,className:o="",showPageNumbers:i=!0,maxPageNumbers:l=5}=e;if(a<=1)return null;const c=e=>{e>=1&&e<=a&&s(e)},d=(()=>{const e=[],s=Math.floor(l/2);let r=Math.max(1,t-s),n=Math.min(a,r+l-1);n-r+1<l&&(r=Math.max(1,n-l+1));for(let t=r;t<=n;t++)e.push(t);return e})(),u=(t-1)*r+1,h=Math.min(t*r,n);return(0,Gt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 ".concat(o),children:[(0,Gt.jsxs)("div",{className:"text-sm text-text-secondary font-rajdhani",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e ",u,"-",h," \u0438\u0437 ",n," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[t>1&&(0,Gt.jsx)("button",{onClick:()=>c(1),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 transition-colors font-rajdhani",title:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",children:"\u27e8\u27e8"}),(0,Gt.jsx)("button",{onClick:()=>c(t-1),disabled:1===t,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-rajdhani",children:"\u27e8 \u041d\u0430\u0437\u0430\u0434"}),i&&(0,Gt.jsx)("div",{className:"flex items-center space-x-1",children:d.map((e=>(0,Gt.jsx)("button",{onClick:()=>c(e),className:"px-3 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(e===t?"bg-accent-primary text-white":"bg-surface-card border border-accent-primary border-opacity-30 text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20"),children:e},e)))}),!i&&a>1&&(0,Gt.jsx)("select",{value:t,onChange:e=>c(parseInt(e.target.value)),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-white font-rajdhani focus:outline-none focus:border-accent-primary",children:Array.from({length:a},((e,t)=>t+1)).map((e=>(0,Gt.jsxs)("option",{value:e,children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",e]},e)))}),(0,Gt.jsx)("button",{onClick:()=>c(t+1),disabled:t===a,className:"px-4 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-rajdhani",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u27e9"}),t<a&&(0,Gt.jsx)("button",{onClick:()=>c(a),className:"px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:bg-accent-primary hover:bg-opacity-20 transition-colors font-rajdhani",title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",children:"\u27e9\u27e9"})]})]})},rs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[a,s]=(0,r.useState)(e),[n,o]=(0,r.useState)(1),[i,l]=(0,r.useState)(0);return(0,r.useEffect)((()=>{a>n&&n>0&&s(1)}),[t,n,a]),{currentPage:a,totalPages:n,totalItems:i,itemsPerPage:t,handlePageChange:e=>{e>=1&&e<=n&&s(e)},updatePagination:e=>{const r=Math.max(1,Math.ceil(e/t));l(e),o(r),a>r&&s(r)},resetPagination:()=>{s(1),o(1),l(0)},getPaginationParams:()=>({page:a,limit:t,offset:(a-1)*t}),isFirstPage:1===a,isLastPage:a===n,hasNextPage:a<n,hasPrevPage:a>1,startIndex:(a-1)*t,endIndex:Math.min(a*t,i)}},ns="".concat("https://income-bot-3.preview.emergentagent.com","/api"),os=e=>{let{user:t}=e;const{showSuccessRU:a,showErrorRU:s,showWarningRU:n}=Qt(),[o,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,h]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[y,v]=(0,r.useState)("asc"),[j,w]=(0,r.useState)(""),[N,_]=(0,r.useState)(""),[k,S]=(0,r.useState)(""),[C,M]=(0,r.useState)(""),[L,E]=(0,r.useState)(null),[A,T]=(0,r.useState)(new Date),[P,z]=(0,r.useState)(new Set),[I,O]=(0,r.useState)(!1),[D,R]=(0,r.useState)(!1),[B,F]=(0,r.useState)(!1),W=rs(1,20),[V,U]=(0,r.useState)(!1),[H,q]=(0,r.useState)(!1),[G,$]=(0,r.useState)(!1),[Y,Q]=(0,r.useState)(!1),[K,X]=(0,r.useState)(!1),[J,Z]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(!1),[ae,se]=(0,r.useState)(!1),[re,ne]=(0,r.useState)(!1),[oe,ie]=(0,r.useState)(!1),[le,ce]=(0,r.useState)(null),[de,ue]=(0,r.useState)(null),[he,me]=(0,r.useState)(!1),[xe,pe]=(0,r.useState)(!1),[fe,ge]=(0,r.useState)(!1),[be,ye]=(0,r.useState)(!1),[ve,je]=(0,r.useState)(null),[we,Ne]=(0,r.useState)(""),[_e,ke]=(0,r.useState)(""),[Se,Ce]=(0,r.useState)(""),[Me,Le]=(0,r.useState)({username:"",email:"",password:"",confirm_password:"",role:"USER",virtual_balance:1e3,daily_limit_max:1e3,gender:"male",status:"ACTIVE",ban_reason:""}),[Ee,Ae]=(0,r.useState)(!1),[Te,Pe]=(0,r.useState)(""),[ze,Ie]=(0,r.useState)(""),[Oe,De]=(0,r.useState)({username:"",email:"",password:"",confirm_password:"",role:"",gender:"male",virtual_balance:0,daily_limit_max:1e3,status:"ACTIVE",ban_reason:""}),[Re,Be]=(0,r.useState)(!1),[Fe,We]=(0,r.useState)([]),[Ve,Ue]=(0,r.useState)([]),[He,qe]=(0,r.useState)({}),[Ge,$e]=(0,r.useState)("");(0,r.useEffect)((()=>{const e=localStorage.getItem("userManagementFilters");if(e)try{const t=JSON.parse(e);h(t.searchTerm||""),x(t.statusFilter||""),f(t.roleFilter||""),b(t.sortBy||""),v(t.sortOrder||"asc"),w(t.balanceMin||""),_(t.balanceMax||""),S(t.totalMin||""),M(t.totalMax||"")}catch(t){console.error("Error loading saved filters:",t)}}),[]),(0,r.useEffect)((()=>{const e={searchTerm:u,statusFilter:m,roleFilter:p,sortBy:g,sortOrder:y,balanceMin:j,balanceMax:N,totalMin:k,totalMax:C};localStorage.setItem("userManagementFilters",JSON.stringify(e))}),[u,m,p,g,y,j,N,k,C]),(0,r.useEffect)((()=>{const e=setTimeout((()=>{$e(u)}),500);return()=>clearTimeout(e)}),[u]),(0,r.useEffect)((()=>{Ye()}),[W.currentPage,Ge,m,p,g,y,j,N,k,C]),(0,r.useEffect)((()=>{const e=setInterval((()=>{T(new Date)}),1e3);return()=>clearInterval(e)}),[]);const Ye=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=new URLSearchParams({page:W.currentPage.toString(),limit:W.itemsPerPage.toString()});Ge&&t.append("search",Ge),m&&t.append("status",m),p&&t.append("role",p),g&&t.append("sort_by",g),y&&t.append("sort_order",y),j&&t.append("balance_min",j),N&&t.append("balance_max",N),k&&t.append("total_min",k),C&&t.append("total_max",C);const a=await Pt.get("".concat(ns,"/admin/users?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});let s=a.data.users||[];g||(s=s.sort(((e,t)=>{const a={SUPER_ADMIN:1,ADMIN:2,USER:3,HUMAN_BOT:4,REGULAR_BOT:5},s=a[e.user_type]||a[e.role]||5,r=a[t.user_type]||a[t.role]||5;return s===r?e.username.localeCompare(t.username):s-r}))),i(s),W.updatePagination(a.data.total||0),c(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:",e),c(!1)}},Qe=async e=>{try{var t,a,r,n,o,i,l,c;const s=localStorage.getItem("token"),[d,u,h]=await Promise.all([Pt.get("".concat(ns,"/admin/users/").concat(e,"/gems"),{headers:{Authorization:"Bearer ".concat(s)}}),Pt.get("".concat(ns,"/admin/users/").concat(e,"/bets"),{headers:{Authorization:"Bearer ".concat(s)}}),Pt.get("".concat(ns,"/admin/users/").concat(e,"/stats"),{headers:{Authorization:"Bearer ".concat(s)}})]);We(d.data.gems||[]),Ue(u.data.active_bets||[]),qe({total_games:(null===(t=h.data.game_stats)||void 0===t?void 0:t.total_games)||0,games_won:(null===(a=h.data.game_stats)||void 0===a?void 0:a.games_won)||0,games_lost:(null===(r=h.data.game_stats)||void 0===r?void 0:r.games_lost)||0,games_draw:(null===(n=h.data.game_stats)||void 0===n?void 0:n.games_draw)||0,win_rate:(null===(o=h.data.game_stats)||void 0===o?void 0:o.win_rate)||0,profit:(null===(i=h.data.financial_stats)||void 0===i?void 0:i.total_profit)||0,gifts_sent:(null===(l=h.data.financial_stats)||void 0===l?void 0:l.gifts_sent)||0,gifts_received:(null===(c=h.data.financial_stats)||void 0===c?void 0:c.gifts_received)||0,ip_history:h.data.ip_history||[]})}catch(d){console.error("Error fetching user details:",d),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}},Ke=e=>Jt(e,(null===t||void 0===t?void 0:t.timezone_offset)||0),Xe=e=>Xt(e,(null===t||void 0===t?void 0:t.timezone_offset)||0),Je=e=>{let t;t="HUMAN_BOT"===e.user_type||"REGULAR_BOT"===e.user_type?e.bot_status:e.online_status;const a={ONLINE:{color:"bg-green-500",text:"\u041e\u043d\u043b\u0430\u0439\u043d"},OFFLINE:{color:"bg-gray-500",text:"\u041e\u0444\u043b\u0430\u0439\u043d"},BANNED:{color:"bg-red-500",text:"BANNED"}}[t]||{color:"bg-gray-500",text:t};return(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(a.color),children:a.text})},Ze=e=>{if("HUMAN_BOT"===e.user_type)return(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold bg-orange-600",children:"Human-\u0431\u043e\u0442"});if("REGULAR_BOT"===e.user_type)return(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold bg-indigo-600",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0431\u043e\u0442"});const t={USER:{color:"bg-blue-600",text:"\u0418\u0433\u0440\u043e\u043a"},ADMIN:{color:"bg-purple-600",text:"\u0410\u0434\u043c\u0438\u043d"},SUPER_ADMIN:{color:"bg-red-600",text:"\u0421\u0443\u043f\u0435\u0440-\u0430\u0434\u043c\u0438\u043d"}}[e.role]||{color:"bg-gray-600",text:e.role};return(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},et=e=>{const t=[],a=e.total_games_played||0,s=e.total_games_won||0,r=a>0?s/a*100:0;return a>=10&&r>80&&t.push({type:"high_winrate",message:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u0432\u0438\u043d\u0440\u0435\u0439\u0442: ".concat(r.toFixed(1),"% \u0437\u0430 ").concat(a," \u0438\u0433\u0440")}),t},[tt,at]=(0,r.useState)({}),st=async e=>{if(!tt[e]){const t=await(async e=>{try{const t=localStorage.getItem("token"),a=await Pt.get("".concat(ns,"/admin/users/").concat(e,"/gems"),{headers:{Authorization:"Bearer ".concat(t)}});return a.data.gems&&a.data.gems.length>0?a.data.gems.map((e=>"".concat(e.type," x").concat(e.quantity))).join(", "):"\u041d\u0435\u0442 \u0433\u0435\u043c\u043e\u0432"}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0433\u0435\u043c\u0430\u0445:",t),"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"}})(e);at((a=>d(d({},a),{},{[e]:t})))}},rt=(0,r.useCallback)((e=>{const t=e.target.value;h(t),u!==t&&t.length>0&&W.handlePageChange(1)}),[u,W]),nt=e=>{x(e),W.handlePageChange(1)},ot=()=>{W.handlePageChange(1)},it=()=>{W.handlePageChange(1)},lt=e=>{g===e?v("desc"===y?"asc":"desc"):(b(e),v("desc")),W.handlePageChange(1)},ct=e=>g!==e?(0,Gt.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"opacity-50",children:[(0,Gt.jsx)("path",{d:"M6 2L8 4H4L6 2Z"}),(0,Gt.jsx)("path",{d:"M6 10L8 8H4L6 10Z"})]}):"desc"===y?(0,Gt.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"text-accent-primary",children:(0,Gt.jsx)("path",{d:"M6 10L2 6H10L6 10Z"})}):(0,Gt.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",className:"text-accent-primary",children:(0,Gt.jsx)("path",{d:"M6 2L10 6H2L6 2Z"})}),dt=async()=>{if(we.trim())try{const e=localStorage.getItem("token"),t={reason:we,duration:_e||void 0};await Pt.post("".concat(ns,"/admin/users/").concat(L.id,"/ban"),t,{headers:{Authorization:"Bearer ".concat(e)}}),q(!1),Ye(),a("User has been banned")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u0430\u043d\u0430:",e),s("Error banning user")}else n("Please specify a ban reason")},ut=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.post("".concat(ns,"/admin/users/").concat(L.id,"/bets/cleanup-stuck"),{},{headers:{Authorization:"Bearer ".concat(e)}});a("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await Qe(L.id)}catch(r){var e,t;console.error("Error cleaning up stuck bets:",r);const a=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";s(a)}},ht=async()=>{if(ve)try{const e=localStorage.getItem("token");await Pt.delete("".concat(ns,"/admin/users/").concat(ve.id),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:"Deleted by admin"}}),ge(!1),je(null),Ye(),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0434\u0430\u043b\u0435\u043d")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",e),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}},mt=()=>{z(new Set),O(!1),R(!1)},xt=async()=>{F(!0);const e=Array.from(P);let t=0,r=0;try{const s=localStorage.getItem("token");for(const a of e)try{await Pt.delete("".concat(ns,"/admin/users/").concat(a),{headers:{Authorization:"Bearer ".concat(s)},data:{reason:"Bulk delete by admin"}}),t++}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(a,":"),o),r++}a("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e ".concat(t," \u0438\u0437 ").concat(P.size," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),r>0&&n("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(r," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),ye(!1),mt(),Ye()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",o),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438")}finally{F(!1)}},pt=()=>(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u26a0\ufe0f \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("button",{onClick:()=>{ge(!1),je(null)},className:"text-gray-400 hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"mb-6",children:[(0,Gt.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg p-4 mb-4",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-red-400 text-sm font-rajdhani font-bold",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u041d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"}),(0,Gt.jsx)("div",{className:"text-red-300 text-xs",children:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430"})]})]})}),(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsxs)("p",{className:"text-text-secondary",children:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",(0,Gt.jsx)("span",{className:"text-white font-bold font-rajdhani",children:null===ve||void 0===ve?void 0:ve.username})]}),(0,Gt.jsxs)("p",{className:"text-text-secondary",children:["Email: ",(0,Gt.jsx)("span",{className:"text-accent-primary",children:null===ve||void 0===ve?void 0:ve.email})]}),(0,Gt.jsxs)("p",{className:"text-text-secondary",children:["\u0420\u043e\u043b\u044c: ",(0,Gt.jsx)("span",{className:"text-white",children:null===ve||void 0===ve?void 0:ve.role})]})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsxs)("button",{onClick:ht,className:"flex-1 py-3 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gt.jsx)("span",{children:"\u0414\u0430, \u0443\u0434\u0430\u043b\u0438\u0442\u044c"})]}),(0,Gt.jsxs)("button",{onClick:()=>{ge(!1),je(null)},className:"flex-1 py-3 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,Gt.jsx)("span",{children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),ft=()=>(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-30 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u26a0\ufe0f \u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),(0,Gt.jsx)("button",{onClick:()=>ye(!1),className:"text-gray-400 hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"mb-6",children:[(0,Gt.jsx)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg p-4 mb-4",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-red-400 text-sm font-rajdhani font-bold",children:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435! \u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),(0,Gt.jsx)("div",{className:"text-red-300 text-xs",children:"\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430"})]})]})}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:"}),(0,Gt.jsx)("span",{className:"text-red-400 font-rajdhani font-bold text-lg",children:P.size})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3 max-h-32 overflow-y-auto",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0434\u0430\u043b\u044f\u0435\u043c\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:"}),(0,Gt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[o.filter((e=>P.has(e.id))).slice(0,10).map(((e,t)=>(0,Gt.jsx)("span",{className:"px-2 py-1 bg-red-900 bg-opacity-30 text-red-300 text-xs rounded font-rajdhani",children:e.username},e.id))),P.size>10&&(0,Gt.jsxs)("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 text-xs rounded font-rajdhani",children:["+",P.size-10," \u0435\u0449\u0451"]})]})]})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:xt,disabled:B,className:"flex-1 py-3 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:B?(0,Gt.jsx)(Gt.Fragment,{children:(0,Gt.jsx)(ga,{size:16,ariaLabel:"Bulk deleting"})}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gt.jsx)("span",{children:"\u0414\u0430, \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435\u0445"})]})}),(0,Gt.jsxs)("button",{onClick:()=>ye(!1),disabled:B,className:"flex-1 py-3 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,Gt.jsx)("span",{children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),gt=()=>(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Gt.jsx)("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsxs)("p",{className:"text-text-secondary",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,Gt.jsx)("span",{className:"text-white font-bold",children:null===L||void 0===L?void 0:L.username})]}),(0,Gt.jsxs)("p",{className:"text-text-secondary",children:["Email: ",(0,Gt.jsx)("span",{className:"text-white",children:null===L||void 0===L?void 0:L.email})]})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u0430\u043d\u0430 *"}),(0,Gt.jsx)("textarea",{value:we,onChange:e=>Ne(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u0430\u043d\u0430...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3",required:!0})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-1",children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Gt.jsxs)("select",{value:_e,onChange:e=>ke(e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Gt.jsx)("option",{value:"",children:"\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0439 \u0431\u0430\u043d"}),(0,Gt.jsx)("option",{value:"1hour",children:"1 \u0447\u0430\u0441"}),(0,Gt.jsx)("option",{value:"1day",children:"1 \u0434\u0435\u043d\u044c"}),(0,Gt.jsx)("option",{value:"1week",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),(0,Gt.jsx)("option",{value:"1month",children:"1 \u043c\u0435\u0441\u044f\u0446"})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Gt.jsx)("button",{onClick:dt,className:"flex-1 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 transition-colors",children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c"}),(0,Gt.jsx)("button",{onClick:()=>q(!1),className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),bt=()=>{const[e,t]=(0,r.useState)(""),[o,i]=(0,r.useState)(null),[l,c]=(0,r.useState)(1),[d,u]=(0,r.useState)(""),[h,m]=(0,r.useState)("increase"),[x,p]=(0,r.useState)(""),f=async(e,a)=>{t(e),i(a),c(1),u(""),p(""),m("increase")};return(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\ud83d\udc8e \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438 - ",null===L||void 0===L?void 0:L.username]}),(0,Gt.jsx)("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[0===Fe.length?(0,Gt.jsx)("p",{className:"text-text-secondary text-center py-4",children:"\u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0433\u0435\u043c\u043e\u0432"}):Fe.map(((e,t)=>(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-accent flex items-center justify-center",children:"\ud83d\udc8e"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold",children:e.type}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm",children:["\u0412\u0441\u0435\u0433\u043e: ",e.quantity," \u0448\u0442 | \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ",e.quantity-(e.frozen_quantity||0)," \u0448\u0442 | \u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: ",e.frozen_quantity||0," \u0448\u0442"]}),(0,Gt.jsxs)("div",{className:"text-accent-primary text-sm",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: $",(e.quantity*e.price).toFixed(2)]})]})]})}),(0,Gt.jsxs)("div",{className:"flex space-x-2 mt-2 flex-wrap",children:[(0,Gt.jsx)("button",{onClick:()=>f("modify",e),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 mb-1",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e"}),(0,Gt.jsx)("button",{onClick:()=>f("freeze",e),className:"px-3 py-1 bg-orange-600 text-white text-xs rounded hover:bg-orange-700 mb-1",disabled:e.quantity-(e.frozen_quantity||0)<=0,children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c"}),(0,Gt.jsx)("button",{onClick:()=>f("unfreeze",e),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 mb-1",disabled:(e.frozen_quantity||0)<=0,children:"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c"}),(0,Gt.jsx)("button",{onClick:()=>f("delete",e),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 mb-1",disabled:e.quantity-(e.frozen_quantity||0)<=0,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},t))),e&&o&&(0,Gt.jsxs)("div",{className:"mt-4 bg-surface-sidebar rounded-lg p-4 border border-accent-primary border-opacity-30",children:[(0,Gt.jsxs)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:["freeze"===e&&"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0433\u0435\u043c\u044b","unfreeze"===e&&"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0433\u0435\u043c\u044b","delete"===e&&"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0435\u043c\u044b","modify"===e&&"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u0435\u043c\u043e\u0432"]}),(0,Gt.jsxs)("p",{className:"text-text-secondary text-sm mb-3",children:["\u0413\u0435\u043c: ",o.type," |","freeze"===e&&" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ".concat(o.quantity-(o.frozen_quantity||0)," \u0448\u0442"),"unfreeze"===e&&" \u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: ".concat(o.frozen_quantity||0," \u0448\u0442"),"delete"===e&&" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e: ".concat(o.quantity-(o.frozen_quantity||0)," \u0448\u0442"),"modify"===e&&" \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(o.quantity," \u0448\u0442")]}),(0,Gt.jsxs)("div",{className:"space-y-3",children:["modify"===e&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435:"}),(0,Gt.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white",children:[(0,Gt.jsx)("option",{value:"increase",children:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,Gt.jsx)("option",{value:"decrease",children:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"freeze"===e?o.quantity-(o.frozen_quantity||0):"unfreeze"===e?o.frozen_quantity||0:"delete"===e?o.quantity-(o.frozen_quantity||0):"modify"===e&&"decrease"===h?o.quantity:999999,value:l,onChange:e=>c(parseInt(e.target.value)||1),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,Gt.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f...",className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white"})]}),"modify"===e&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e:"}),(0,Gt.jsx)("textarea",{value:x,onChange:e=>p(e.target.value),placeholder:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432...",className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white",rows:"2"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("button",{onClick:async()=>{if(!o||!l||l<=0)n("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e");else try{if("freeze"===e){const e=o.quantity-(o.frozen_quantity||0);if(l>e)return void n("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438");await(async(e,t,r)=>{try{const s=localStorage.getItem("token");await Pt.post("".concat(ns,"/admin/users/").concat(L.id,"/gems/freeze"),{gem_type:e,quantity:t,reason:r||"Admin action"},{headers:{Authorization:"Bearer ".concat(s)}}),a("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e")),await Qe(L.id)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432:",n),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0433\u0435\u043c\u043e\u0432")}})(o.type,l,d)}else if("unfreeze"===e){if(l>(o.frozen_quantity||0))return void n("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0438");await(async(e,t,r)=>{try{const s=localStorage.getItem("token");await Pt.post("".concat(ns,"/admin/users/").concat(L.id,"/gems/unfreeze"),{gem_type:e,quantity:t,reason:r||"Admin action"},{headers:{Authorization:"Bearer ".concat(s)}}),a("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e")),await Qe(L.id)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432:",n),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0433\u0435\u043c\u043e\u0432")}})(o.type,l,d)}else if("delete"===e){const e=o.quantity-(o.frozen_quantity||0);if(l>e)return void n("\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0433\u0435\u043c\u044b. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u044c\u0442\u0435 \u0438\u0445.");await(async(e,t,r)=>{try{const s=localStorage.getItem("token");await Pt.delete("".concat(ns,"/admin/users/").concat(L.id,"/gems/").concat(e,"?quantity=").concat(t,"&reason=").concat(encodeURIComponent(r||"Admin action")),{headers:{Authorization:"Bearer ".concat(s)}}),a("".concat(t," ").concat(e," \u0433\u0435\u043c\u043e\u0432 \u0443\u0434\u0430\u043b\u0435\u043d\u043e")),await Qe(L.id)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432:",n),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432")}})(o.type,l,d)}else if("modify"===e){const e="increase"===h?l:-l;if("decrease"===h&&l>o.quantity)return void n("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0433\u0435\u043c\u043e\u0432 \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f");await(async(e,t,r,n)=>{try{const s=localStorage.getItem("token");await Pt.post("".concat(ns,"/admin/users/").concat(L.id,"/gems/modify"),{gem_type:e,change:t,reason:r||"Admin action",notification:n},{headers:{Authorization:"Bearer ".concat(s)}});const o=t>0?"\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e":"\u0443\u0434\u0430\u043b\u0435\u043d\u043e";a("".concat(Math.abs(t)," ").concat(e," \u0433\u0435\u043c\u043e\u0432 ").concat(o)),await Qe(L.id),Ye()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432:",o),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0433\u0435\u043c\u043e\u0432")}})(o.type,e,d,x)}t(""),i(null)}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0441 \u0433\u0435\u043c\u0430\u043c\u0438:",r)}},className:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-secondary font-rajdhani font-bold",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),(0,Gt.jsx)("button",{onClick:()=>{t(""),i(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]}),(0,Gt.jsxs)("div",{className:"mt-6 border-t border-border-primary pt-4",children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-rajdhani mb-2",children:"\u041e\u0431\u0449\u0435\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0443 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,Gt.jsx)("textarea",{value:Se,onChange:e=>Ce(e.target.value),placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043e\u0431\u0449\u0435\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u0445...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",rows:"3"})]})]})]})})},yt=()=>{const e=e=>{const t={WAITING:{color:"bg-yellow-600",text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"},ACTIVE:{color:"bg-blue-600",text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f"},REVEAL:{color:"bg-purple-600",text:"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435"},COMPLETED:{color:"bg-green-600",text:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"},CANCELLED:{color:"bg-red-600",text:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"}}[e]||{color:"bg-gray-600",text:e};return(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},r=e=>"WAITING"===e.status,n=e=>{const a=new Date(e.created_at),s=(null===t||void 0===t?void 0:t.timezone_offset)||0,r=new Date(a.getTime()+36e5*s);return(new Date-r)/36e5>24&&["WAITING","ACTIVE","REVEAL"].includes(e.status)},o=Ve.some((e=>n(e)));return(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\ud83c\udfaf \u0421\u0442\u0430\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - ",null===L||void 0===L?void 0:L.username]}),(0,Gt.jsx)("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&(0,Gt.jsx)("div",{className:"mb-4 p-3 bg-yellow-900 border border-yellow-600 rounded-lg",children:(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-yellow-400 font-rajdhani font-bold text-sm",children:"\u26a0\ufe0f \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("div",{className:"text-yellow-300 text-xs",children:"\u0421\u0442\u0430\u0432\u043a\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u043b\u0435\u0435 24 \u0447\u0430\u0441\u043e\u0432"})]}),(0,Gt.jsx)("button",{onClick:ut,className:"px-4 py-2 bg-orange-600 text-white text-sm rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:"\ud83e\uddf9 \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435"})]})}),(0,Gt.jsx)("div",{className:"space-y-3",children:0===Ve.length?(0,Gt.jsx)("p",{className:"text-text-secondary text-center py-4",children:"\u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"}):Ve.map(((o,i)=>(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4 border-l-4 ".concat(n(o)?"border-yellow-500":"WAITING"===o.status?"border-blue-500":"ACTIVE"===o.status?"border-green-500":"border-gray-500"),children:(0,Gt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Gt.jsxs)("div",{className:"text-white font-rajdhani font-bold text-lg",children:["$",o.amount]}),e(o.status),o.is_creator&&(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-600 text-white font-rajdhani",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),n(o)&&(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-600 text-white font-rajdhani",children:"\u23f0 \u0417\u0430\u0432\u0438\u0441\u043b\u0430"})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"ID:"})," ",o.id]}),(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430:"})," ",Xe(o.created_at)]}),o.opponent&&(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"})," ",o.opponent]}),(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:"})," ",(()=>{const e=new Date(o.created_at),a=(null===t||void 0===t?void 0:t.timezone_offset)||0,s=new Date(e.getTime()+36e5*a),r=Math.floor((A-s)/1e3),n=Math.max(0,r),i=Math.floor(n/3600),l=Math.floor(n%3600/60),c=n%60;return"".concat(i.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"))})()]})]}),o.gems&&Object.keys(o.gems).length>0&&(0,Gt.jsxs)("div",{className:"mt-2",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0421\u0442\u0430\u0432\u043a\u0430:"}),(0,Gt.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(o.gems).map((e=>{let[t,a]=e;return a>0&&(0,Gt.jsxs)("span",{className:"px-2 py-1 bg-accent-primary bg-opacity-20 text-accent-primary text-xs rounded font-rajdhani",children:[t,": ",a]},t)}))})]})]}),(0,Gt.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[r(o)&&(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),s=await Pt.post("".concat(ns,"/admin/users/").concat(L.id,"/bets/").concat(e,"/cancel"),{},{headers:{Authorization:"Bearer ".concat(t)}});a(s.data.message),await Qe(L.id)}catch(n){var t,r;console.error("Error cancelling bet:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";s(e)}})(o.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 font-rajdhani font-bold transition-colors",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443",children:"\ud83d\udeab \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),!r(o)&&(0,Gt.jsx)("span",{className:"px-3 py-1 bg-gray-600 text-gray-300 text-xs rounded font-rajdhani text-center",children:"\u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})},i)))}),Ve.length>0&&(0,Gt.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-primary",children:[(0,Gt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a:"}),(0,Gt.jsx)("span",{className:"text-white font-rajdhani font-bold",children:Ve.length})]}),(0,Gt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c:"}),(0,Gt.jsx)("span",{className:"text-green-400 font-rajdhani font-bold",children:Ve.filter((e=>r(e))).length})]}),o&&(0,Gt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Gt.jsx)("span",{className:"text-yellow-400",children:"\u0417\u0430\u0432\u0438\u0441\u0448\u0438\u0445:"}),(0,Gt.jsx)("span",{className:"text-yellow-400 font-rajdhani font-bold",children:Ve.filter((e=>n(e))).length})]})]})]})})},vt=()=>(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-2xl font-bold text-white",children:["\u2139\ufe0f \u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 - ",null===L||void 0===L?void 0:L.username]}),(0,Gt.jsx)("button",{onClick:()=>pe(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438\u0433\u0440"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440:"}),(0,Gt.jsx)("span",{className:"text-white",children:He.total_games||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-green-400",children:"\u041f\u043e\u0431\u0435\u0434:"}),(0,Gt.jsx)("span",{className:"text-green-400",children:He.games_won||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-red-400",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439:"}),(0,Gt.jsx)("span",{className:"text-red-400",children:He.games_lost||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-gray-400",children:"\u041d\u0438\u0447\u044c\u0438\u0445:"}),(0,Gt.jsx)("span",{className:"text-gray-400",children:He.games_draw||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"Win Rate:"}),(0,Gt.jsxs)("span",{className:"text-accent-primary",children:[He.win_rate||0,"%"]})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udcb0 \u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"}),(0,Gt.jsxs)("span",{className:"".concat((He.profit||0)>=0?"text-green-400":"text-red-400"),children:["$",(He.profit||0).toFixed(2)]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e:"}),(0,Gt.jsx)("span",{className:"text-white",children:He.gifts_sent||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e:"}),(0,Gt.jsx)("span",{className:"text-white",children:He.gifts_received||0})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83d\udd52 \u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f:"}),(0,Gt.jsx)("span",{className:"text-white",children:Xe(null===L||void 0===L?void 0:L.created_at)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0432\u0438\u0437\u0438\u0442:"}),(0,Gt.jsx)("span",{className:"text-yellow-400",children:Xe((null===L||void 0===L?void 0:L.last_login)||(null===L||void 0===L?void 0:L.created_at))})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-accent-primary mb-3",children:"\ud83c\udf10 IP \u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),(0,Gt.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:(He.ip_history||["192.168.1.1","10.0.0.1"]).map(((e,t)=>(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:[e," ",0===t&&(0,Gt.jsx)("span",{className:"text-accent-primary",children:"(\u0442\u0435\u043a\u0443\u0449\u0438\u0439)"})]},t)))})]})]}),(0,Gt.jsx)("div",{className:"mt-6 flex justify-center",children:(0,Gt.jsx)("button",{className:"px-6 py-2 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:opacity-90",children:"\ud83d\udce4 \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439"})})]})});return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"}),(0,Gt.jsxs)("p",{className:"font-roboto text-text-secondary",children:["\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",o.length," \u0438\u0437 \u043c\u043d\u043e\u0433\u0438\u0445"]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>ne(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-rajdhani font-bold transition-colors",children:"\u2795 \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Gt.jsx)("button",{onClick:()=>se(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-rajdhani font-bold transition-colors",children:"\ud83d\udd13 \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0432\u0441\u044e \u0437\u0430\u0432\u0438\u0441\u0448\u0443\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e"}),(0,Gt.jsx)("button",{onClick:()=>X(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\ud83d\udcb0 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441\u044b"}),(0,Gt.jsx)("div",{className:"flex space-x-2",children:["","ONLINE","OFFLINE","BANNED","EMAIL_PENDING"].map((e=>(0,Gt.jsx)("button",{onClick:()=>nt(e),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-colors ".concat(m===e?"bg-accent-primary text-white":"bg-surface-card text-text-secondary hover:text-white"),children:e?"ONLINE"===e?"\u041e\u043d\u043b\u0430\u0439\u043d":"OFFLINE"===e?"\u041e\u0444\u043b\u0430\u0439\u043d":"BANNED"===e?"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u044b":"EMAIL_PENDING"===e?"\u041e\u0436\u0438\u0434\u0430\u044e\u0442 \u043f\u043e\u0434\u0442\u0432.":e:"\u0412\u0441\u0435"},e)))})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-4",children:[(0,Gt.jsx)("div",{className:"flex-1",children:(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("svg",{className:"absolute left-3 top-3 w-5 h-5 text-text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,Gt.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 email...",value:u,onChange:rt,className:"w-full pl-10 pr-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]})}),(0,Gt.jsx)("button",{onClick:Ye,className:"px-6 py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:"\u0420\u043e\u043b\u044c"}),(0,Gt.jsxs)("select",{value:p,onChange:e=>{return t=e.target.value,f(t),void W.handlePageChange(1);var t},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",children:[(0,Gt.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u0440\u043e\u043b\u0438"}),(0,Gt.jsx)("option",{value:"USER",children:"\u0418\u0433\u0440\u043e\u043a"}),(0,Gt.jsx)("option",{value:"ADMIN",children:"\u0410\u0434\u043c\u0438\u043d"}),(0,Gt.jsx)("option",{value:"SUPER_ADMIN",children:"\u0421\u0443\u043f\u0435\u0440-\u0430\u0434\u043c\u0438\u043d"}),(0,Gt.jsx)("option",{value:"HUMAN_BOT",children:"Human-\u0431\u043e\u0442"}),(0,Gt.jsx)("option",{value:"REGULAR_BOT",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0431\u043e\u0442"})]})]}),(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsxs)("select",{value:m,onChange:e=>nt(e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",children:[(0,Gt.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b"}),(0,Gt.jsx)("option",{value:"ONLINE",children:"\u041e\u043d\u043b\u0430\u0439\u043d"}),(0,Gt.jsx)("option",{value:"OFFLINE",children:"\u041e\u0444\u043b\u0430\u0439\u043d"}),(0,Gt.jsx)("option",{value:"BANNED",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"}),(0,Gt.jsx)("option",{value:"EMAIL_PENDING",children:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0442\u0432."})]})]}),(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,Gt.jsx)("button",{onClick:()=>{h(""),x(""),f(""),b(""),v("asc"),w(""),_(""),S(""),M(""),W.handlePageChange(1)},className:"w-full px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]})]}),(0,Gt.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0430\u043b\u0430\u043d\u0441"}),(0,Gt.jsx)("input",{type:"number",placeholder:"0",value:j,onChange:e=>w(e.target.value),onBlur:ot,className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary"})]}),(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0430\u043b\u0430\u043d\u0441"}),(0,Gt.jsx)("input",{type:"number",placeholder:"\u221e",value:N,onChange:e=>_(e.target.value),onBlur:ot,className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 TOTAL"}),(0,Gt.jsx)("input",{type:"number",placeholder:"0",value:k,onChange:e=>S(e.target.value),onBlur:it,className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary"})]}),(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 TOTAL"}),(0,Gt.jsx)("input",{type:"number",placeholder:"\u221e",value:C,onChange:e=>M(e.target.value),onBlur:it,className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary"})]})]})]}),D&&(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 mb-4",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("span",{className:"text-text-secondary font-roboto",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",(0,Gt.jsx)("span",{className:"font-bold",children:P.size})]}),(0,Gt.jsx)("button",{onClick:mt,className:"text-text-secondary hover:text-white transition-colors",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"})]}),(0,Gt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Gt.jsx)("button",{onClick:()=>{if(0===P.size)return;if("SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role))return void s("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b");const e=o.filter((e=>P.has(e.id))).filter((e=>"ADMIN"===e.role||"SUPER_ADMIN"===e.role));e.length>0?s("\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432: ".concat(e.map((e=>e.username)).join(", "))):ye(!0)},disabled:B,className:"px-4 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:B?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445"})})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:l?(0,Gt.jsx)("div",{className:"p-8 text-center",children:(0,Gt.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439..."})}):(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:(0,Gt.jsx)("input",{type:"checkbox",checked:I,onChange:()=>{if(I)z(new Set),R(!1);else{const e=new Set(o.map((e=>e.id)));z(e),R(!0)}O(!I)},className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Gt.jsx)("th",{onClick:()=>lt("name"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("name")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("online_status"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u041e\u043d\u043b\u0430\u0439\u043d \u0441\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("online_status")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("role"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0420\u043e\u043b\u044c"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("role")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("balance"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("balance")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("total"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"TOTAL"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("total")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("gems"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0413\u0435\u043c\u044b"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("gems")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("bets"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0421\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("bets")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("games"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0418\u0413\u0420\u042b"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("games")})]})}),(0,Gt.jsx)("th",{onClick:()=>lt("registration_date"),className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-main transition-colors",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0420\u0435\u0433 / \u041f\u043e\u0441. \u0432\u0438\u0437\u0438\u0442"}),(0,Gt.jsx)("span",{className:"text-accent-primary",children:ct("registration_date")})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:o.map((e=>{const r=et(e),n=e.total_games_played||0,o=e.total_games_won||0,i=e.total_games_lost||n-o-(e.total_games_draw||0),l=e.total_games_draw||0;return(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar transition-colors",children:[(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("input",{type:"checkbox",checked:P.has(e.id),onChange:()=>(e=>{const t=new Set(P);t.has(e)?t.delete(e):t.add(e),z(t),R(t.size>0)})(e.id),className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("female"===e.gender?"bg-pink-600":"bg-blue-600"),children:"female"===e.gender?"\ud83d\udc69":"\ud83d\udc68"}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("div",{className:"font-rajdhani font-bold text-white",children:e.username}),(0,Gt.jsx)("div",{className:"font-roboto text-text-secondary text-sm",children:e.email})]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:Je(e)}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:Ze(e)}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsx)("div",{className:"font-rajdhani font-bold text-accent-primary",children:ma(e.virtual_balance||0)})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsx)("div",{className:"font-rajdhani font-bold text-green-400",children:ma(e.total_balance||0)})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsxs)("div",{className:"relative group",children:[(0,Gt.jsxs)("button",{onClick:()=>(async e=>{E(e),await Qe(e.id),$(!0)})(e),onMouseEnter:()=>st(e.id),className:"text-accent-primary hover:text-accent-secondary underline text-sm",title:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0433\u0435\u043c\u0430\u043c\u0438",children:[e.total_gems||0," \u0448\u0442 / $",(e.total_gems_value||0).toFixed(2)]}),(0,Gt.jsxs)("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-gray-900 border border-gray-600 rounded-lg p-2 text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[(0,Gt.jsx)("div",{className:"font-bold mb-1",children:"\u0420\u0430\u0437\u0431\u0438\u0432\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0430\u043c:"}),(0,Gt.jsx)("div",{children:tt[e.id]||"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsxs)("button",{onClick:()=>(async e=>{E(e),await Qe(e.id),Q(!0)})(e),className:"text-blue-400 hover:text-blue-300 underline text-sm",title:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:[e.active_bets_count||0," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"]})}),(0,Gt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Gt.jsxs)("div",{className:"text-white font-roboto text-sm",children:[(0,Gt.jsx)("span",{className:"text-green-400",children:o}),"/",(0,Gt.jsx)("span",{className:"text-red-400",children:i}),"/",(0,Gt.jsx)("span",{className:"text-gray-400",children:l})]}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u0431\u0434 / \u041f\u0440\u0436 / \u041d\u0447\u044f"})]}),(0,Gt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:Ke(e.created_at)}),(0,Gt.jsx)("div",{className:"text-yellow-400 text-xs",children:Ke(e.last_login||e.created_at)})]}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsxs)("div",{className:"relative group",children:[(0,Gt.jsx)("button",{onClick:()=>(async(e,t)=>{try{const s=localStorage.getItem("token"),r=0===et(e).length;await Pt.post("".concat(ns,"/admin/users/").concat(e.id,"/flag-suspicious"),{is_suspicious:r,reason:t||"Admin action"},{headers:{Authorization:"Bearer ".concat(s)}}),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(r?"\u043e\u0442\u043c\u0435\u0447\u0435\u043d \u043a\u0430\u043a \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439":"\u0441\u043d\u044f\u0442\u0430 \u043c\u0435\u0442\u043a\u0430 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438")),Ye()}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:",r),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}})(e,"Admin manual flag"),className:"p-1 text-white rounded hover:opacity-80 ".concat(r.length>0?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700 opacity-50"),title:r.length>0?"\u0421\u043d\u044f\u0442\u044c \u0444\u043b\u0430\u0433 \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438":"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"})})}),r.length>0&&(0,Gt.jsx)("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-red-900 border border-red-500 rounded-lg p-2 text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",children:r.map(((e,t)=>(0,Gt.jsx)("div",{children:e.message},t)))})]}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{E(e),await Qe(e.id),pe(!0)})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0438\u0433\u0440\u043e\u043a\u0435",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsx)("button",{onClick:()=>{return E(t=e),De({username:t.username||"",email:t.email||"",password:"",confirm_password:"",role:t.role||"USER",gender:t.gender||"male",virtual_balance:t.virtual_balance||1e3,daily_limit_max:t.daily_limit_max||1e3,status:t.status||"ACTIVE",ban_reason:t.ban_reason||""}),Ie(""),void U(!0);var t},className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),"BANNED"===e.status?(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Pt.post("".concat(ns,"/admin/users/").concat(e,"/unban"),{},{headers:{Authorization:"Bearer ".concat(t)}}),Ye(),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0440\u0430\u0437\u0431\u0430\u043d\u0435\u043d")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0431\u0430\u043d\u0430:",t),s("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u0431\u0430\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}})(e.id),className:"p-1 bg-green-600 text-white rounded hover:bg-green-700",title:"\u0420\u0430\u0437\u0431\u0430\u043d\u0438\u0442\u044c",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}):(0,Gt.jsx)("button",{onClick:()=>(e=>{E(e),Ne(""),ke(""),q(!0)})(e),className:"p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700",title:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})})}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{ce(e.id);const t=localStorage.getItem("token"),s=await Pt.post("".concat(ns,"/admin/users/").concat(e.id,"/reset-bets"),{},{headers:{Authorization:"Bearer ".concat(t)}});a("".concat(s.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(s.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await Ye()}catch(n){var t,r;console.error("Error resetting user bets:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";s(e)}finally{ce(null)}})(e),disabled:le===e.id,className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:le===e.id?(0,Gt.jsx)(ga,{size:12,ariaLabel:"Resetting bets"}):(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{ue(e.id);const t=localStorage.getItem("token"),s=await Pt.post("".concat(ns,"/admin/users/").concat(e.id,"/reset-balance"),{},{headers:{Authorization:"Bearer ".concat(t)}});a("".concat(s.data.message,". \u0411\u0430\u043b\u0430\u043d\u0441: $").concat(s.data.new_balance)),await Ye()}catch(n){var t,r;console.error("Error resetting user balance:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";s(e)}finally{ue(null)}})(e),disabled:de===e.id,className:"p-1 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",title:"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:de===e.id?(0,Gt.jsx)(ga,{size:12,ariaLabel:"Resetting balance"}):(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Gt.jsx)("button",{onClick:()=>(e=>{"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role)?(je(e),ge(!0)):s("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b")})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]})})}),(0,Gt.jsx)(ss,{currentPage:W.currentPage,totalPages:W.totalPages,onPageChange:W.handlePageChange,itemsPerPage:W.itemsPerPage,totalItems:W.totalItems,className:"mt-6"}),fe&&(0,Gt.jsx)(pt,{}),be&&(0,Gt.jsx)(ft,{}),H&&(0,Gt.jsx)(gt,{}),G&&(0,Gt.jsx)(bt,{}),Y&&(0,Gt.jsx)(yt,{}),xe&&(0,Gt.jsx)(vt,{}),K&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\udcb0 \u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b"}),(0,Gt.jsx)("button",{onClick:()=>X(!1),disabled:oe,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Gt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Gt.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,Gt.jsx)("div",{children:"\u2022 \u0412\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u0441\u0442\u0430\u043d\u0443\u0442 \u0440\u0430\u0432\u043d\u044b\u043c\u0438 \u043d\u0443\u043b\u044e"}),(0,Gt.jsx)("div",{children:"\u2022 \u0412\u0441\u0435 \u0433\u0435\u043c\u044b \u0431\u0443\u0434\u0443\u0442 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b"}),(0,Gt.jsx)("div",{children:"\u2022 \u0412\u0441\u0435 \u0438\u0433\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b"}),(0,Gt.jsx)("div",{children:"\u2022 \u0411\u0443\u0434\u0443\u0442 \u0437\u0430\u0442\u0440\u043e\u043d\u0443\u0442\u044b \u0412\u0421\u0415 \u0438\u0433\u0440\u043e\u043a\u0438"})]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b?"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0434\u0430\u043d\u044b \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>X(!1),disabled:oe,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{ie(!0);const e=localStorage.getItem("token"),t=await Pt.post("".concat(ns,"/admin/users/reset-all-balances"),{},{headers:{Authorization:"Bearer ".concat(e)}});a("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_users_processed," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),X(!1),await Ye()}catch(r){var e,t;console.error("Error resetting all balances:",r);const a=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0432\u0441\u0435\u0445 \u0431\u0430\u043b\u0430\u043d\u0441\u043e\u0432";s(a)}finally{ie(!1)}},disabled:oe,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:oe?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)(ga,{size:16,ariaLabel:"Resetting balances"}),"\u0421\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u043c..."]}):"\u041e\u0431\u043d\u0443\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u044b"})]})]})]})}),ae&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-blue-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-blue-400",children:"\ud83d\udd13 \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0443\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e"}),(0,Gt.jsx)("button",{onClick:()=>se(!1),disabled:he,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-blue-900 border border-blue-600 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"text-blue-400 text-sm mb-2",children:["\u2139\ufe0f ",(0,Gt.jsx)("strong",{children:"\u0418\u041d\u0424\u041e\u0420\u041c\u0410\u0426\u0418\u042f"})]}),(0,Gt.jsxs)("div",{className:"text-blue-300 text-sm space-y-1",children:[(0,Gt.jsx)("div",{children:"\u2022 \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0438\u0437 \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,Gt.jsx)("div",{children:"\u2022 \u041f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0438\u0437 frozen_balance \u0432 virtual_balance"}),(0,Gt.jsx)("div",{children:"\u2022 \u0417\u0430\u0442\u0440\u0430\u0433\u0438\u0432\u0430\u0435\u0442 \u0438\u0433\u0440\u044b \u0432 \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u0445 WAITING, ACTIVE, TIMEOUT"}),(0,Gt.jsx)("div",{children:"\u2022 \u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0431\u043e\u0442\u043e\u0432)"})]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0432\u0441\u044e \u0437\u0430\u0432\u0438\u0441\u0448\u0443\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e?"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u042d\u0442\u043e \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f - \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>se(!1),disabled:he,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{me(!0);const e=localStorage.getItem("token"),t=await Pt.post("".concat(ns,"/admin/users/unfreeze-stuck-commission"),{},{headers:{Authorization:"Bearer ".concat(e)}});if(t.data.success){const{message:e,total_amount_unfrozen:s,total_users_affected:r}=t.data;a("".concat(e,". \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e: $").concat(s," \u0434\u043b\u044f ").concat(r," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),se(!1),await Ye()}}catch(r){var e,t;console.error("Error unfreezing stuck commission:",r);const a=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0435\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438";s(a)}finally{me(!1)}},disabled:he,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:he?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)(ga,{size:16,ariaLabel:"Unfreezing commission"}),"\u0420\u0430\u0437\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u043c..."]}):"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e"})]})]})]})}),re&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-white",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Gt.jsx)("button",{onClick:()=>{ne(!1),Pe("")},className:"text-text-secondary hover:text-white",disabled:Ee,children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f *"}),(0,Gt.jsx)("input",{type:"text",value:Me.username,onChange:e=>{Vt(e.target.value,(e=>Le((t=>d(d({},t),{},{username:e})))),Pe)},className:"w-full px-3 py-2 bg-surface-sidebar border rounded-lg text-white font-roboto focus:outline-none focus:ring-2 ".concat(Te?"border-red-500 focus:ring-red-500":"border-border-primary focus:ring-accent-primary"),placeholder:"user123",disabled:Ee}),Te?(0,Gt.jsx)("p",{className:"text-xs text-red-400 mt-1",children:Te}):(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u0414\u043b\u0438\u043d\u0430: 3-15 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432. \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b: \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0430, \u0446\u0438\u0444\u0440\u044b, \u0434\u0435\u0444\u0438\u0441, \u043f\u043e\u0434\u0447\u0451\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435, \u0442\u043e\u0447\u043a\u0430, \u043f\u0440\u043e\u0431\u0435\u043b\u044b"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Email *"}),(0,Gt.jsx)("input",{type:"email",value:Me.email,onChange:e=>Le((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"user@example.com",disabled:Ee})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u0430\u0440\u043e\u043b\u044c *"}),(0,Gt.jsx)("input",{type:"password",value:Me.password,onChange:e=>Le((t=>d(d({},t),{},{password:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",disabled:Ee,minLength:"8"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f *"}),(0,Gt.jsx)("input",{type:"password",value:Me.confirm_password,onChange:e=>Le((t=>d(d({},t),{},{confirm_password:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",disabled:Ee,minLength:"8"})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0420\u043e\u043b\u044c"}),(0,Gt.jsxs)("select",{value:Me.role,onChange:e=>Le((t=>d(d({},t),{},{role:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:Ee||"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role),children:[(0,Gt.jsx)("option",{value:"USER",children:"USER"}),(0,Gt.jsx)("option",{value:"MODERATOR",children:"MODERATOR"}),(0,Gt.jsx)("option",{value:"ADMIN",children:"ADMIN"}),"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role)&&(0,Gt.jsx)("option",{value:"SUPER_ADMIN",children:"SUPER_ADMIN"})]}),"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)&&(0,Gt.jsx)("p",{className:"text-xs text-yellow-400 mt-1",children:"\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043b\u044e\u0431\u044b\u0435 \u0440\u043e\u043b\u0438"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u043b"}),(0,Gt.jsxs)("select",{value:Me.gender,onChange:e=>Le((t=>d(d({},t),{},{gender:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:Ee,children:[(0,Gt.jsx)("option",{value:"male",children:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430"}),(0,Gt.jsx)("option",{value:"female",children:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430"})]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0435\u043c\u043e-\u0431\u0430\u043b\u0430\u043d\u0441 ($)"}),(0,Gt.jsx)("input",{type:"number",value:Me.virtual_balance,onChange:e=>Le((t=>d(d({},t),{},{virtual_balance:Math.max(1,Math.min(1e4,parseInt(e.target.value)||1e3))}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"1",max:"10000",disabled:Ee}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 1 \u0434\u043e 10000"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0414\u043d\u0435\u0432\u043d\u043e\u0439 \u043b\u0438\u043c\u0438\u0442 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f ($)"}),(0,Gt.jsx)("input",{type:"number",value:Me.daily_limit_max,onChange:e=>Le((t=>d(d({},t),{},{daily_limit_max:Math.max(1,Math.min(1e4,parseInt(e.target.value)||1e3))}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"1",max:"10000",disabled:Ee}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 1 \u0434\u043e 10000"})]})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsxs)("select",{value:Me.status,onChange:e=>Le((t=>d(d({},t),{},{status:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:Ee,children:[(0,Gt.jsx)("option",{value:"ACTIVE",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"}),(0,Gt.jsx)("option",{value:"BANNED",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"})]})]}),"BANNED"===Me.status&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 *"}),(0,Gt.jsx)("textarea",{value:Me.ban_reason,onChange:e=>Le((t=>d(d({},t),{},{ban_reason:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary resize-none",rows:"3",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438...",disabled:Ee})]})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Gt.jsx)("button",{onClick:async e=>{try{if(!Me.username.trim())return void s("\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e");const e=Wt(Me.username);if(!e.isValid)return void s(e.errors[0]);if(!Me.email.trim())return void alert("Email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e");if(Me.password.length<8)return void alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");if(Me.password!==Me.confirm_password)return void alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");if("BANNED"===Me.status&&!Me.ban_reason.trim())return void alert('\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u043f\u0440\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0435 "\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"');if("SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)&&"SUPER_ADMIN"===Me.role)return void s("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0440\u043e\u043b\u044c SUPER_ADMIN");Ae(!0);const a=await fetch("".concat("https://income-bot-3.preview.emergentagent.com","/api/admin/users"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(Me)});if(!a.ok){const e=await a.json();throw new Error(e.detail||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}await a.json();window.addNotification?window.addNotification("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d","success"):alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"),Le({username:"",email:"",password:"",confirm_password:"",role:"USER",virtual_balance:1e3,daily_limit_max:1e3,gender:"male",status:"ACTIVE",ban_reason:""}),ne(!1),await Ye()}catch(a){console.error("Error creating user:",a);let e="\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";e=a.message.includes("Email already exists")?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 email.":a.message.includes("Username already exists")?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f.":a.message.includes("Passwords do not match")?"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430.":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ".concat(a.message),window.addNotification?window.addNotification(e,"error"):alert(e)}finally{Ae(!1)}},disabled:Ee,className:"flex-1 py-2 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:bg-opacity-80 transition-colors disabled:opacity-50",children:Ee?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)(ga,{size:16,ariaLabel:"Creating user"}),"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435..."]}):"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Gt.jsx)("button",{onClick:()=>{ne(!1),Pe("")},disabled:Ee,className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),V&&L&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gt.jsxs)("h3",{className:"font-russo text-xl text-white",children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",null===L||void 0===L?void 0:L.username]}),(0,Gt.jsx)("button",{onClick:()=>{U(!1),E(null),Ie("")},className:"text-text-secondary hover:text-white",disabled:Re,children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f *"}),(0,Gt.jsx)("input",{type:"text",value:Oe.username,onChange:e=>{Vt(e.target.value,(e=>De((t=>d(d({},t),{},{username:e})))),Ie)},className:"w-full px-3 py-2 bg-surface-sidebar border rounded-lg text-white font-roboto focus:outline-none focus:ring-2 ".concat(ze?"border-red-500 focus:ring-red-500":"border-border-primary focus:ring-accent-primary"),placeholder:"user123",disabled:Re}),ze?(0,Gt.jsx)("p",{className:"text-xs text-red-400 mt-1",children:ze}):(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u0414\u043b\u0438\u043d\u0430: 3-15 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432. \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b: \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0430, \u0446\u0438\u0444\u0440\u044b, \u0434\u0435\u0444\u0438\u0441, \u043f\u043e\u0434\u0447\u0451\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435, \u0442\u043e\u0447\u043a\u0430, \u043f\u0440\u043e\u0431\u0435\u043b\u044b"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Email *"}),(0,Gt.jsx)("input",{type:"email",value:Oe.email,onChange:e=>De((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"user@example.com",disabled:Re})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),(0,Gt.jsx)("input",{type:"password",value:Oe.password,onChange:e=>De((t=>d(d({},t),{},{password:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",disabled:Re,minLength:"8"}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),(0,Gt.jsx)("input",{type:"password",value:Oe.confirm_password,onChange:e=>De((t=>d(d({},t),{},{confirm_password:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",disabled:Re,minLength:"8"})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0420\u043e\u043b\u044c"}),(0,Gt.jsxs)("select",{value:Oe.role,onChange:e=>De((t=>d(d({},t),{},{role:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:Re||"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role),children:[(0,Gt.jsx)("option",{value:"USER",children:"USER"}),(0,Gt.jsx)("option",{value:"MODERATOR",children:"MODERATOR"}),(0,Gt.jsx)("option",{value:"ADMIN",children:"ADMIN"}),"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role)&&(0,Gt.jsx)("option",{value:"SUPER_ADMIN",children:"SUPER_ADMIN"})]}),"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)&&(0,Gt.jsx)("p",{className:"text-xs text-yellow-400 mt-1",children:"\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043b\u044e\u0431\u044b\u0435 \u0440\u043e\u043b\u0438"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u043b"}),(0,Gt.jsxs)("select",{value:Oe.gender,onChange:e=>De((t=>d(d({},t),{},{gender:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:Re,children:[(0,Gt.jsx)("option",{value:"male",children:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430"}),(0,Gt.jsx)("option",{value:"female",children:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430"})]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0414\u0435\u043c\u043e-\u0431\u0430\u043b\u0430\u043d\u0441 ($)"}),(0,Gt.jsx)("input",{type:"number",value:Oe.virtual_balance,onChange:e=>De((t=>d(d({},t),{},{virtual_balance:Math.max(1,Math.min(1e4,parseInt(e.target.value)||1e3))}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"1",max:"10000",disabled:Re}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 1 \u0434\u043e 10000"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0414\u043d\u0435\u0432\u043d\u043e\u0439 \u043b\u0438\u043c\u0438\u0442 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f ($)"}),(0,Gt.jsx)("input",{type:"number",value:Oe.daily_limit_max,onChange:e=>De((t=>d(d({},t),{},{daily_limit_max:Math.max(1,Math.min(1e4,parseInt(e.target.value)||1e3))}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"1",max:"10000",disabled:Re}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 1 \u0434\u043e 10000"})]})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsxs)("select",{value:Oe.status,onChange:e=>De((t=>d(d({},t),{},{status:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:Re,children:[(0,Gt.jsx)("option",{value:"ACTIVE",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"}),(0,Gt.jsx)("option",{value:"BANNED",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"}),(0,Gt.jsx)("option",{value:"EMAIL_PENDING",children:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"})]})]}),"BANNED"===Oe.status&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 *"}),(0,Gt.jsx)("textarea",{value:Oe.ban_reason,onChange:e=>De((t=>d(d({},t),{},{ban_reason:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary resize-none",rows:"3",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438...",disabled:Re})]})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Gt.jsx)("button",{onClick:async()=>{try{if(Be(!0),!L||!L.id)return void s("\u041e\u0448\u0438\u0431\u043a\u0430: \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d");if(!Oe.username.trim())return void s("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");if(!Oe.email.trim())return void s("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email");if(Oe.username&&Oe.username.trim()){const e=Wt(Oe.username);if(!e.isValid)return void s(e.errors[0])}if(Oe.password||Oe.confirm_password){if(Oe.password!==Oe.confirm_password)return void s("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");if(Oe.password.length<8)return void s("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}if("BANNED"===Oe.status&&!Oe.ban_reason.trim())return void s('\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u043f\u0440\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0435 "\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"');if("SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)&&"SUPER_ADMIN"===Oe.role)return void s("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0440\u043e\u043b\u044c SUPER_ADMIN");const e={username:Oe.username.trim(),email:Oe.email.trim(),role:Oe.role,gender:Oe.gender,virtual_balance:Number(Oe.virtual_balance),daily_limit_max:Number(Oe.daily_limit_max),status:Oe.status};Oe.password&&Oe.password.trim()&&(e.password=Oe.password.trim()),"BANNED"===Oe.status&&Oe.ban_reason.trim()&&(e.ban_reason=Oe.ban_reason.trim()),console.log("Sending update data:",e);const r=localStorage.getItem("token");await Pt.put("".concat(ns,"/admin/users/").concat(L.id),e,{headers:{Authorization:"Bearer ".concat(r)}}),a("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),U(!1),E(null),Ie(""),Ye()}catch(u){var e,r,n,o,i,l,c,d;console.error("Error updating user:",u),console.error("Error response:",null===(e=u.response)||void 0===e?void 0:e.data),console.error("Error status:",null===(r=u.response)||void 0===r?void 0:r.status);let t="\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";null!==(n=u.response)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.detail?t=u.response.data.detail:400===(null===(i=u.response)||void 0===i?void 0:i.status)?t="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f":403===(null===(l=u.response)||void 0===l?void 0:l.status)?t="\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f":404===(null===(c=u.response)||void 0===c?void 0:c.status)?t="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d":409===(null===(d=u.response)||void 0===d?void 0:d.status)?t="Email \u0438\u043b\u0438 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442":u.message&&(t="\u0421\u0435\u0442\u0435\u0432\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(u.message)),s(t)}finally{Be(!1)}},disabled:Re,className:"flex-1 py-2 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:bg-opacity-80 transition-colors disabled:opacity-50",children:Re?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)(ga,{size:16,ariaLabel:"Saving user"}),"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."]}):"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("button",{onClick:()=>{U(!1),E(null),Ie("")},disabled:Re,className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})]})};function is(e){return e+.5|0}const ls=(e,t,a)=>Math.max(Math.min(e,a),t);function cs(e){return ls(is(2.55*e),0,255)}function ds(e){return ls(is(255*e),0,255)}function us(e){return ls(is(e/2.55)/100,0,1)}function hs(e){return ls(is(100*e),0,100)}const ms={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xs=[..."0123456789ABCDEF"],ps=e=>xs[15&e],fs=e=>xs[(240&e)>>4]+xs[15&e],gs=e=>(240&e)>>4===(15&e);function bs(e){var t=(e=>gs(e.r)&&gs(e.g)&&gs(e.b)&&gs(e.a))(e)?ps:fs;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const ys=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vs(e,t,a){const s=t*Math.min(a,1-a),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return a-s*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function js(e,t,a){const s=function(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(s+e/60)%6;return a-a*t*Math.max(Math.min(r,4-r,1),0)};return[s(5),s(3),s(1)]}function ws(e,t,a){const s=vs(e,1,.5);let r;for(t+a>1&&(r=1/(t+a),t*=r,a*=r),r=0;r<3;r++)s[r]*=1-t-a,s[r]+=t;return s}function Ns(e){const t=e.r/255,a=e.g/255,s=e.b/255,r=Math.max(t,a,s),n=Math.min(t,a,s),o=(r+n)/2;let i,l,c;return r!==n&&(c=r-n,l=o>.5?c/(2-r-n):c/(r+n),i=function(e,t,a,s,r){return e===r?(t-a)/s+(t<a?6:0):t===r?(a-e)/s+2:(e-t)/s+4}(t,a,s,c,r),i=60*i+.5),[0|i,l||0,o]}function _s(e,t,a,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,s)).map(ds)}function ks(e,t,a){return _s(vs,e,t,a)}function Ss(e){return(e%360+360)%360}function Cs(e){const t=ys.exec(e);let a,s=255;if(!t)return;t[5]!==a&&(s=t[6]?cs(+t[5]):ds(+t[5]));const r=Ss(+t[2]),n=+t[3]/100,o=+t[4]/100;return a="hwb"===t[1]?function(e,t,a){return _s(ws,e,t,a)}(r,n,o):"hsv"===t[1]?function(e,t,a){return _s(js,e,t,a)}(r,n,o):ks(r,n,o),{r:a[0],g:a[1],b:a[2],a:s}}const Ms={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ls={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Es;function As(e){Es||(Es=function(){const e={},t=Object.keys(Ls),a=Object.keys(Ms);let s,r,n,o,i;for(s=0;s<t.length;s++){for(o=i=t[s],r=0;r<a.length;r++)n=a[r],i=i.replace(n,Ms[n]);n=parseInt(Ls[o],16),e[i]=[n>>16&255,n>>8&255,255&n]}return e}(),Es.transparent=[0,0,0,0]);const t=Es[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Ts=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ps=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,zs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Is(e,t,a){if(e){let s=Ns(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*a,0===t?360:1)),s=ks(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Os(e,t){return e?Object.assign(t||{},e):e}function Ds(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ds(e[3]))):(t=Os(e,{r:0,g:0,b:0,a:1})).a=ds(t.a),t}function Rs(e){return"r"===e.charAt(0)?function(e){const t=Ts.exec(e);let a,s,r,n=255;if(t){if(t[7]!==a){const e=+t[7];n=t[8]?cs(e):ls(255*e,0,255)}return a=+t[1],s=+t[3],r=+t[5],a=255&(t[2]?cs(a):ls(a,0,255)),s=255&(t[4]?cs(s):ls(s,0,255)),r=255&(t[6]?cs(r):ls(r,0,255)),{r:a,g:s,b:r,a:n}}}(e):Cs(e)}class Bs{constructor(e){if(e instanceof Bs)return e;const t=typeof e;let a;"object"===t?a=Ds(e):"string"===t&&(a=function(e){var t,a=e.length;return"#"===e[0]&&(4===a||5===a?t={r:255&17*ms[e[1]],g:255&17*ms[e[2]],b:255&17*ms[e[3]],a:5===a?17*ms[e[4]]:255}:7!==a&&9!==a||(t={r:ms[e[1]]<<4|ms[e[2]],g:ms[e[3]]<<4|ms[e[4]],b:ms[e[5]]<<4|ms[e[6]],a:9===a?ms[e[7]]<<4|ms[e[8]]:255})),t}(e)||As(e)||Rs(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=Os(this._rgb);return e&&(e.a=us(e.a)),e}set rgb(e){this._rgb=Ds(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(us(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?bs(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ns(e),a=t[0],s=hs(t[1]),r=hs(t[2]);return e.a<255?"hsla(".concat(a,", ").concat(s,"%, ").concat(r,"%, ").concat(us(e.a),")"):"hsl(".concat(a,", ").concat(s,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const a=this.rgb,s=e.rgb;let r;const n=t===r?.5:t,o=2*n-1,i=a.a-s.a,l=((o*i===-1?o:(o+i)/(1+o*i))+1)/2;r=1-l,a.r=255&l*a.r+r*s.r+.5,a.g=255&l*a.g+r*s.g+.5,a.b=255&l*a.b+r*s.b+.5,a.a=n*a.a+(1-n)*s.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,a){const s=zs(us(e.r)),r=zs(us(e.g)),n=zs(us(e.b));return{r:ds(Ps(s+a*(zs(us(t.r))-s))),g:ds(Ps(r+a*(zs(us(t.g))-r))),b:ds(Ps(n+a*(zs(us(t.b))-n))),a:e.a+a*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Bs(this.rgb)}alpha(e){return this._rgb.a=ds(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=is(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Is(this._rgb,2,e),this}darken(e){return Is(this._rgb,2,-e),this}saturate(e){return Is(this._rgb,1,e),this}desaturate(e){return Is(this._rgb,1,-e),this}rotate(e){return function(e,t){var a=Ns(e);a[0]=Ss(a[0]+t),a=ks(a),e.r=a[0],e.g=a[1],e.b=a[2]}(this._rgb,e),this}}function Fs(){}const Ws=(()=>{let e=0;return()=>e++})();function Vs(e){return null===e||void 0===e}function Us(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Hs(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function qs(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Gs(e,t){return qs(e)?e:t}function $s(e,t){return"undefined"===typeof e?t:e}const Ys=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Qs(e,t,a){if(e&&"function"===typeof e.call)return e.apply(a,t)}function Ks(e,t,a,s){let r,n,o;if(Us(e))if(n=e.length,s)for(r=n-1;r>=0;r--)t.call(a,e[r],r);else for(r=0;r<n;r++)t.call(a,e[r],r);else if(Hs(e))for(o=Object.keys(e),n=o.length,r=0;r<n;r++)t.call(a,e[o[r]],o[r])}function Xs(e,t){let a,s,r,n;if(!e||!t||e.length!==t.length)return!1;for(a=0,s=e.length;a<s;++a)if(r=e[a],n=t[a],r.datasetIndex!==n.datasetIndex||r.index!==n.index)return!1;return!0}function Js(e){if(Us(e))return e.map(Js);if(Hs(e)){const t=Object.create(null),a=Object.keys(e),s=a.length;let r=0;for(;r<s;++r)t[a[r]]=Js(e[a[r]]);return t}return e}function Zs(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function er(e,t,a,s){if(!Zs(e))return;const r=t[e],n=a[e];Hs(r)&&Hs(n)?tr(r,n,s):t[e]=Js(n)}function tr(e,t,a){const s=Us(t)?t:[t],r=s.length;if(!Hs(e))return e;const n=(a=a||{}).merger||er;let o;for(let i=0;i<r;++i){if(o=s[i],!Hs(o))continue;const t=Object.keys(o);for(let s=0,r=t.length;s<r;++s)n(t[s],e,o,a)}return e}function ar(e,t){return tr(e,t,{merger:sr})}function sr(e,t,a){if(!Zs(e))return;const s=t[e],r=a[e];Hs(s)&&Hs(r)?ar(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Js(r))}const rr={"":e=>e,x:e=>e.x,y:e=>e.y};function nr(e,t){const a=rr[t]||(rr[t]=function(e){const t=function(e){const t=e.split("."),a=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(a.push(s),s="");return a}(e);return e=>{for(const a of t){if(""===a)break;e=e&&e[a]}return e}}(t));return a(e)}function or(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ir=e=>"undefined"!==typeof e,lr=e=>"function"===typeof e,cr=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0};const dr=Math.PI,ur=2*dr,hr=ur+dr,mr=Number.POSITIVE_INFINITY,xr=dr/180,pr=dr/2,fr=dr/4,gr=2*dr/3,br=Math.log10,yr=Math.sign;function vr(e,t,a){return Math.abs(e-t)<a}function jr(e){const t=Math.round(e);e=vr(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(br(e))),s=e/a;return(s<=1?1:s<=2?2:s<=5?5:10)*a}function wr(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Nr(e,t,a){let s,r,n;for(s=0,r=e.length;s<r;s++)n=e[s][a],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function _r(e){return e*(dr/180)}function kr(e){return e*(180/dr)}function Sr(e){if(!qs(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function Cr(e,t){const a=t.x-e.x,s=t.y-e.y,r=Math.sqrt(a*a+s*s);let n=Math.atan2(s,a);return n<-.5*dr&&(n+=ur),{angle:n,distance:r}}function Mr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Lr(e,t){return(e-t+hr)%ur-dr}function Er(e){return(e%ur+ur)%ur}function Ar(e,t,a,s){const r=Er(e),n=Er(t),o=Er(a),i=Er(n-r),l=Er(o-r),c=Er(r-n),d=Er(r-o);return r===n||r===o||s&&n===o||i>l&&c<d}function Tr(e,t,a){return Math.max(t,Math.min(a,e))}function Pr(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,a)-s&&e<=Math.max(t,a)+s}function zr(e,t,a){a=a||(a=>e[a]<t);let s,r=e.length-1,n=0;for(;r-n>1;)s=n+r>>1,a(s)?n=s:r=s;return{lo:n,hi:r}}const Ir=(e,t,a,s)=>zr(e,a,s?s=>{const r=e[s][t];return r<a||r===a&&e[s+1][t]===a}:s=>e[s][t]<a),Or=(e,t,a)=>zr(e,a,(s=>e[s][t]>=a));const Dr=["push","pop","shift","splice","unshift"];function Rr(e,t){const a=e._chartjs;if(!a)return;const s=a.listeners,r=s.indexOf(t);-1!==r&&s.splice(r,1),s.length>0||(Dr.forEach((t=>{delete e[t]})),delete e._chartjs)}function Br(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Fr="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Wr(e,t){let a=[],s=!1;return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];a=n,s||(s=!0,Fr.call(window,(()=>{s=!1,e.apply(t,a)})))}}const Vr=e=>"start"===e?"left":"end"===e?"right":"center",Ur=(e,t,a)=>"start"===e?t:"end"===e?a:(t+a)/2;function Hr(e,t,a){const s=t.length;let r=0,n=s;if(e._sorted){const{iScale:o,vScale:i,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:u,max:h,minDefined:m,maxDefined:x}=o.getUserBounds();if(m){if(r=Math.min(Ir(l,d,u).lo,a?s:Ir(t,d,o.getPixelForValue(u)).lo),c){const e=l.slice(0,r+1).reverse().findIndex((e=>!Vs(e[i.axis])));r-=Math.max(0,e)}r=Tr(r,0,s-1)}if(x){let e=Math.max(Ir(l,o.axis,h,!0).hi+1,a?0:Ir(t,d,o.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!Vs(e[i.axis])));e+=Math.max(0,t)}n=Tr(e,r,s)-r}else n=s-r}return{start:r,count:n}}function qr(e){const{xScale:t,yScale:a,_scaleRanges:s}=e,r={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!s)return e._scaleRanges=r,!0;const n=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==a.min||s.ymax!==a.max;return Object.assign(s,r),n}const Gr=e=>0===e||1===e,$r=(e,t,a)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ur/a),Yr=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*ur/a)+1,Qr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*pr),easeOutSine:e=>Math.sin(e*pr),easeInOutSine:e=>-.5*(Math.cos(dr*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Gr(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Gr(e)?e:$r(e,.075,.3),easeOutElastic:e=>Gr(e)?e:Yr(e,.075,.3),easeInOutElastic(e){const t=.1125;return Gr(e)?e:e<.5?.5*$r(2*e,t,.45):.5+.5*Yr(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Qr.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375},easeInOutBounce:e=>e<.5?.5*Qr.easeInBounce(2*e):.5*Qr.easeOutBounce(2*e-1)+.5};function Kr(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Xr(e){return Kr(e)?e:new Bs(e)}function Jr(e){return Kr(e)?e:new Bs(e).saturate(.5).darken(.1).hexString()}const Zr=["x","y","borderWidth","radius","tension"],en=["color","borderColor","backgroundColor"];const tn=new Map;function an(e,t,a){return function(e,t){t=t||{};const a=e+JSON.stringify(t);let s=tn.get(a);return s||(s=new Intl.NumberFormat(e,t),tn.set(a,s)),s}(t,a).format(e)}const sn={values:e=>Us(e)?e:""+e,numeric(e,t,a){if(0===e)return"0";const s=this.chart.options.locale;let r,n=e;if(a.length>1){const t=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),n=function(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e));return a}(e,a)}const o=br(Math.abs(n)),i=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:i,maximumFractionDigits:i};return Object.assign(l,this.options.ticks.format),an(e,s,l)},logarithmic(e,t,a){if(0===e)return"0";const s=a[t].significand||e/Math.pow(10,Math.floor(br(e)));return[1,2,3,5,10,15].includes(s)||t>.8*a.length?sn.numeric.call(this,e,t,a):""}};var rn={formatters:sn};const nn=Object.create(null),on=Object.create(null);function ln(e,t){if(!t)return e;const a=t.split(".");for(let s=0,r=a.length;s<r;++s){const t=a[s];e=e[t]||(e[t]=Object.create(null))}return e}function cn(e,t,a){return"string"===typeof t?tr(ln(e,t),a):tr(ln(e,""),t)}class dn{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Jr(t.backgroundColor),this.hoverBorderColor=(e,t)=>Jr(t.borderColor),this.hoverColor=(e,t)=>Jr(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return cn(this,e,t)}get(e){return ln(this,e)}describe(e,t){return cn(on,e,t)}override(e,t){return cn(nn,e,t)}route(e,t,a,s){const r=ln(this,e),n=ln(this,a),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=n[s];return Hs(e)?Object.assign({},t,e):$s(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var un=new dn({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:en},numbers:{type:"number",properties:Zr}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function hn(e,t,a,s,r){let n=t[r];return n||(n=t[r]=e.measureText(r).width,a.push(r)),n>s&&(s=n),s}function mn(e,t,a,s){let r=(s=s||{}).data=s.data||{},n=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(r=s.data={},n=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const i=a.length;let l,c,d,u,h;for(l=0;l<i;l++)if(u=a[l],void 0===u||null===u||Us(u)){if(Us(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||Us(h)||(o=hn(e,r,n,o,h))}else o=hn(e,r,n,o,u);e.restore();const m=n.length/2;if(m>a.length){for(l=0;l<m;l++)delete r[n[l]];n.splice(0,m)}return o}function xn(e,t,a){const s=e.currentDevicePixelRatio,r=0!==a?Math.max(a/2,.5):0;return Math.round((t-r)*s)/s+r}function pn(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function fn(e,t,a,s){gn(e,t,a,s,null)}function gn(e,t,a,s,r){let n,o,i,l,c,d,u,h;const m=t.pointStyle,x=t.rotation,p=t.radius;let f=(x||0)*xr;if(m&&"object"===typeof m&&(n=m.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return e.save(),e.translate(a,s),e.rotate(f),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),m){default:r?e.ellipse(a,s,r/2,p,0,0,ur):e.arc(a,s,p,0,ur),e.closePath();break;case"triangle":d=r?r/2:p,e.moveTo(a+Math.sin(f)*d,s-Math.cos(f)*p),f+=gr,e.lineTo(a+Math.sin(f)*d,s-Math.cos(f)*p),f+=gr,e.lineTo(a+Math.sin(f)*d,s-Math.cos(f)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,o=Math.cos(f+fr)*l,u=Math.cos(f+fr)*(r?r/2-c:l),i=Math.sin(f+fr)*l,h=Math.sin(f+fr)*(r?r/2-c:l),e.arc(a-u,s-i,c,f-dr,f-pr),e.arc(a+h,s-o,c,f-pr,f),e.arc(a+u,s+i,c,f,f+pr),e.arc(a-h,s+o,c,f+pr,f+dr),e.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*p,d=r?r/2:l,e.rect(a-d,s-l,2*d,2*l);break}f+=fr;case"rectRot":u=Math.cos(f)*(r?r/2:p),o=Math.cos(f)*p,i=Math.sin(f)*p,h=Math.sin(f)*(r?r/2:p),e.moveTo(a-u,s-i),e.lineTo(a+h,s-o),e.lineTo(a+u,s+i),e.lineTo(a-h,s+o),e.closePath();break;case"crossRot":f+=fr;case"cross":u=Math.cos(f)*(r?r/2:p),o=Math.cos(f)*p,i=Math.sin(f)*p,h=Math.sin(f)*(r?r/2:p),e.moveTo(a-u,s-i),e.lineTo(a+u,s+i),e.moveTo(a+h,s-o),e.lineTo(a-h,s+o);break;case"star":u=Math.cos(f)*(r?r/2:p),o=Math.cos(f)*p,i=Math.sin(f)*p,h=Math.sin(f)*(r?r/2:p),e.moveTo(a-u,s-i),e.lineTo(a+u,s+i),e.moveTo(a+h,s-o),e.lineTo(a-h,s+o),f+=fr,u=Math.cos(f)*(r?r/2:p),o=Math.cos(f)*p,i=Math.sin(f)*p,h=Math.sin(f)*(r?r/2:p),e.moveTo(a-u,s-i),e.lineTo(a+u,s+i),e.moveTo(a+h,s-o),e.lineTo(a-h,s+o);break;case"line":o=r?r/2:Math.cos(f)*p,i=Math.sin(f)*p,e.moveTo(a-o,s-i),e.lineTo(a+o,s+i);break;case"dash":e.moveTo(a,s),e.lineTo(a+Math.cos(f)*(r?r/2:p),s+Math.sin(f)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function bn(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function yn(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function vn(e){e.restore()}function jn(e,t,a,s,r){if(!t)return e.lineTo(a.x,a.y);if("middle"===r){const s=(t.x+a.x)/2;e.lineTo(s,t.y),e.lineTo(s,a.y)}else"after"===r!==!!s?e.lineTo(t.x,a.y):e.lineTo(a.x,t.y);e.lineTo(a.x,a.y)}function wn(e,t,a,s){if(!t)return e.lineTo(a.x,a.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?a.cp2x:a.cp1x,s?a.cp2y:a.cp1y,a.x,a.y)}function Nn(e,t,a,s,r){if(r.strikethrough||r.underline){const n=e.measureText(s),o=t-n.actualBoundingBoxLeft,i=t+n.actualBoundingBoxRight,l=a-n.actualBoundingBoxAscent,c=a+n.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,d),e.lineTo(i,d),e.stroke()}}function _n(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function kn(e,t,a,s,r){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Us(t)?t:[t],i=n.strokeWidth>0&&""!==n.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Vs(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,n),l=0;l<o.length;++l)c=o[l],n.backdrop&&_n(e,n.backdrop),i&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),Vs(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(c,a,s,n.maxWidth)),e.fillText(c,a,s,n.maxWidth),Nn(e,a,s,c,n),s+=Number(r.lineHeight);e.restore()}function Sn(e,t){const{x:a,y:s,w:r,h:n,radius:o}=t;e.arc(a+o.topLeft,s+o.topLeft,o.topLeft,1.5*dr,dr,!0),e.lineTo(a,s+n-o.bottomLeft),e.arc(a+o.bottomLeft,s+n-o.bottomLeft,o.bottomLeft,dr,pr,!0),e.lineTo(a+r-o.bottomRight,s+n),e.arc(a+r-o.bottomRight,s+n-o.bottomRight,o.bottomRight,pr,0,!0),e.lineTo(a+r,s+o.topRight),e.arc(a+r-o.topRight,s+o.topRight,o.topRight,0,-pr,!0),e.lineTo(a+o.topLeft,s)}const Cn=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Mn=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ln(e,t){const a=(""+e).match(Cn);if(!a||"normal"===a[1])return 1.2*t;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100}return t*e}function En(e,t){const a={},s=Hs(t),r=s?Object.keys(t):t,n=Hs(e)?s?a=>$s(e[a],e[t[a]]):t=>e[t]:()=>e;for(const o of r)a[o]=+n(o)||0;return a}function An(e){return En(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Tn(e){return En(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Pn(e){const t=An(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function zn(e,t){e=e||{},t=t||un.font;let a=$s(e.size,t.size);"string"===typeof a&&(a=parseInt(a,10));let s=$s(e.style,t.style);s&&!(""+s).match(Mn)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:$s(e.family,t.family),lineHeight:Ln($s(e.lineHeight,t.lineHeight),a),size:a,style:s,weight:$s(e.weight,t.weight),string:""};return r.string=function(e){return!e||Vs(e.size)||Vs(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function In(e,t,a,s){let r,n,o,i=!0;for(r=0,n=e.length;r<n;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),i=!1),void 0!==a&&Us(o)&&(o=o[a%o.length],i=!1),void 0!==o))return s&&!i&&(s.cacheable=!1),o}function On(e,t){return Object.assign(Object.create(e),t)}function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof a&&(a=Yn("_fallback",e));const n={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:a,_getTarget:s,override:s=>Dn([s,...e],t,r,a)};return new Proxy(n,{deleteProperty:(t,a)=>(delete t[a],delete t._keys,delete e[0][a],!0),get:(a,s)=>Vn(a,s,(()=>function(e,t,a,s){let r;for(const n of t)if(r=Yn(Fn(n,e),a),"undefined"!==typeof r)return Wn(e,r)?Gn(a,s,e,r):r}(s,t,e,a))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Qn(e).includes(t),ownKeys:e=>Qn(e),set(e,t,a){const r=e._storage||(e._storage=s());return e[t]=r[t]=a,delete e._keys,!0}})}function Rn(e,t,a,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:Bn(e,s),setContext:t=>Rn(e,t,a,s),override:r=>Rn(e.override(r),t,a,s)};return new Proxy(r,{deleteProperty:(t,a)=>(delete t[a],delete e[a],!0),get:(e,t,a)=>Vn(e,t,(()=>function(e,t,a){const{_proxy:s,_context:r,_subProxy:n,_descriptors:o}=e;let i=s[t];lr(i)&&o.isScriptable(t)&&(i=function(e,t,a,s){const{_proxy:r,_context:n,_subProxy:o,_stack:i}=a;if(i.has(e))throw new Error("Recursion detected: "+Array.from(i).join("->")+"->"+e);i.add(e);let l=t(n,o||s);i.delete(e),Wn(e,l)&&(l=Gn(r._scopes,r,e,l));return l}(t,i,e,a));Us(i)&&i.length&&(i=function(e,t,a,s){const{_proxy:r,_context:n,_subProxy:o,_descriptors:i}=a;if("undefined"!==typeof n.index&&s(e))return t[n.index%t.length];if(Hs(t[0])){const a=t,s=r._scopes.filter((e=>e!==a));t=[];for(const l of a){const a=Gn(s,r,e,l);t.push(Rn(a,n,o&&o[e],i))}}return t}(t,i,e,o.isIndexable));Wn(t,i)&&(i=Rn(i,r,n&&n[t],o));return i}(e,t,a))),getOwnPropertyDescriptor:(t,a)=>t._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,a)=>Reflect.has(e,a),ownKeys:()=>Reflect.ownKeys(e),set:(t,a,s)=>(e[a]=s,delete t[a],!0)})}function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:a=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:a,indexable:s,isScriptable:lr(a)?a:()=>a,isIndexable:lr(s)?s:()=>s}}const Fn=(e,t)=>e?e+or(t):t,Wn=(e,t)=>Hs(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Vn(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const s=a();return e[t]=s,s}function Un(e,t,a){return lr(e)?e(t,a):e}const Hn=(e,t)=>!0===e?t:"string"===typeof e?nr(t,e):void 0;function qn(e,t,a,s,r){for(const n of t){const t=Hn(a,n);if(t){e.add(t);const n=Un(t._fallback,a,r);if("undefined"!==typeof n&&n!==a&&n!==s)return n}else if(!1===t&&"undefined"!==typeof s&&a!==s)return null}return!1}function Gn(e,t,a,s){const r=t._rootScopes,n=Un(t._fallback,a,s),o=[...e,...r],i=new Set;i.add(s);let l=$n(i,o,a,n||a,s);return null!==l&&(("undefined"===typeof n||n===a||(l=$n(i,o,n,l,s),null!==l))&&Dn(Array.from(i),[""],r,n,(()=>function(e,t,a){const s=e._getTarget();t in s||(s[t]={});const r=s[t];if(Us(r)&&Hs(a))return a;return r||{}}(t,a,s))))}function $n(e,t,a,s,r){for(;a;)a=qn(e,t,a,s,r);return a}function Yn(e,t){for(const a of t){if(!a)continue;const t=a[e];if("undefined"!==typeof t)return t}}function Qn(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const a of e)for(const e of Object.keys(a).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Kn(e,t,a,s){const{iScale:r}=e,{key:n="r"}=this._parsing,o=new Array(s);let i,l,c,d;for(i=0,l=s;i<l;++i)c=i+a,d=t[c],o[i]={r:r.parse(nr(d,n),c)};return o}const Xn=Number.EPSILON||1e-14,Jn=(e,t)=>t<e.length&&!e[t].skip&&e[t],Zn=e=>"x"===e?"y":"x";function eo(e,t,a,s){const r=e.skip?t:e,n=t,o=a.skip?t:a,i=Mr(n,r),l=Mr(o,n);let c=i/(i+l),d=l/(i+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=s*c,h=s*d;return{previous:{x:n.x-u*(o.x-r.x),y:n.y-u*(o.y-r.y)},next:{x:n.x+h*(o.x-r.x),y:n.y+h*(o.y-r.y)}}}function to(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const a=Zn(t),s=e.length,r=Array(s).fill(0),n=Array(s);let o,i,l,c=Jn(e,0);for(o=0;o<s;++o)if(i=l,l=c,c=Jn(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[a]-l[a])/e:0}n[o]=i?c?yr(r[o-1])!==yr(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,a){const s=e.length;let r,n,o,i,l,c=Jn(e,0);for(let d=0;d<s-1;++d)l=c,c=Jn(e,d+1),l&&c&&(vr(t[d],0,Xn)?a[d]=a[d+1]=0:(r=a[d]/t[d],n=a[d+1]/t[d],i=Math.pow(r,2)+Math.pow(n,2),i<=9||(o=3/Math.sqrt(i),a[d]=r*o*t[d],a[d+1]=n*o*t[d])))}(e,r,n),function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const s=Zn(a),r=e.length;let n,o,i,l=Jn(e,0);for(let c=0;c<r;++c){if(o=i,i=l,l=Jn(e,c+1),!i)continue;const r=i[a],d=i[s];o&&(n=(r-o[a])/3,i["cp1".concat(a)]=r-n,i["cp1".concat(s)]=d-n*t[c]),l&&(n=(l[a]-r)/3,i["cp2".concat(a)]=r+n,i["cp2".concat(s)]=d+n*t[c])}}(e,n,t)}function ao(e,t,a){return Math.max(Math.min(e,a),t)}function so(e,t,a,s,r){let n,o,i,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)to(e,r);else{let a=s?e[e.length-1]:e[0];for(n=0,o=e.length;n<o;++n)i=e[n],l=eo(a,i,e[Math.min(n+1,o-(s?0:1))%o],t.tension),i.cp1x=l.previous.x,i.cp1y=l.previous.y,i.cp2x=l.next.x,i.cp2y=l.next.y,a=i}t.capBezierPoints&&function(e,t){let a,s,r,n,o,i=bn(e[0],t);for(a=0,s=e.length;a<s;++a)o=n,n=i,i=a<s-1&&bn(e[a+1],t),n&&(r=e[a],o&&(r.cp1x=ao(r.cp1x,t.left,t.right),r.cp1y=ao(r.cp1y,t.top,t.bottom)),i&&(r.cp2x=ao(r.cp2x,t.left,t.right),r.cp2y=ao(r.cp2y,t.top,t.bottom)))}(e,a)}function ro(){return"undefined"!==typeof window&&"undefined"!==typeof document}function no(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function oo(e,t,a){let s;return"string"===typeof e?(s=parseInt(e,10),-1!==e.indexOf("%")&&(s=s/100*t.parentNode[a])):s=e,s}const io=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const lo=["top","right","bottom","left"];function co(e,t,a){const s={};a=a?"-"+a:"";for(let r=0;r<4;r++){const n=lo[r];s[n]=parseFloat(e[t+"-"+n+a])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function uo(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:s}=t,r=io(a),n="border-box"===r.boxSizing,o=co(r,"padding"),i=co(r,"border","width"),{x:l,y:c,box:d}=function(e,t){const a=e.touches,s=a&&a.length?a[0]:e,{offsetX:r,offsetY:n}=s;let o,i,l=!1;if(((e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot))(r,n,e.target))o=r,i=n;else{const e=t.getBoundingClientRect();o=s.clientX-e.left,i=s.clientY-e.top,l=!0}return{x:o,y:i,box:l}}(e,a),u=o.left+(d&&i.left),h=o.top+(d&&i.top);let{width:m,height:x}=t;return n&&(m-=o.width+i.width,x-=o.height+i.height),{x:Math.round((l-u)/m*a.width/s),y:Math.round((c-h)/x*a.height/s)}}const ho=e=>Math.round(10*e)/10;function mo(e,t,a,s){const r=io(e),n=co(r,"margin"),o=oo(r.maxWidth,e,"clientWidth")||mr,i=oo(r.maxHeight,e,"clientHeight")||mr,l=function(e,t,a){let s,r;if(void 0===t||void 0===a){const n=e&&no(e);if(n){const e=n.getBoundingClientRect(),o=io(n),i=co(o,"border","width"),l=co(o,"padding");t=e.width-l.width-i.width,a=e.height-l.height-i.height,s=oo(o.maxWidth,n,"clientWidth"),r=oo(o.maxHeight,n,"clientHeight")}else t=e.clientWidth,a=e.clientHeight}return{width:t,height:a,maxWidth:s||mr,maxHeight:r||mr}}(e,t,a);let{width:c,height:d}=l;if("content-box"===r.boxSizing){const e=co(r,"border","width"),t=co(r,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-n.width),d=Math.max(0,s?c/s:d-n.height),c=ho(Math.min(c,o,l.maxWidth)),d=ho(Math.min(d,i,l.maxHeight)),c&&!d&&(d=ho(c/2));return(void 0!==t||void 0!==a)&&s&&l.height&&d>l.height&&(d=l.height,c=ho(Math.floor(d*s))),{width:c,height:d}}function xo(e,t,a){const s=t||1,r=Math.floor(e.height*s),n=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(a||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==s||o.height!==r||o.width!==n)&&(e.currentDevicePixelRatio=s,o.height=r,o.width=n,e.ctx.setTransform(s,0,0,s,0,0),!0)}const po=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ro()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function fo(e,t){const a=function(e,t){return io(e).getPropertyValue(t)}(e,t),s=a&&a.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function go(e,t,a,s){return{x:e.x+a*(t.x-e.x),y:e.y+a*(t.y-e.y)}}function bo(e,t,a,s){return{x:e.x+a*(t.x-e.x),y:"middle"===s?a<.5?e.y:t.y:"after"===s?a<1?e.y:t.y:a>0?t.y:e.y}}function yo(e,t,a,s){const r={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},o=go(e,r,a),i=go(r,n,a),l=go(n,t,a),c=go(o,i,a),d=go(i,l,a);return go(c,d,a)}function vo(e,t,a){return e?function(e,t){return{x:a=>e+e+t-a,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,a):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function jo(e,t){let a,s;"ltr"!==t&&"rtl"!==t||(a=e.canvas.style,s=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=s)}function wo(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function No(e){return"angle"===e?{between:Ar,compare:Lr,normalize:Er}:{between:Pr,compare:(e,t)=>e-t,normalize:e=>e}}function _o(e){let{start:t,end:a,count:s,loop:r,style:n}=e;return{start:t%s,end:a%s,loop:r&&(a-t+1)%s===0,style:n}}function ko(e,t,a){if(!a)return[e];const{property:s,start:r,end:n}=a,o=t.length,{compare:i,between:l,normalize:c}=No(s),{start:d,end:u,loop:h,style:m}=function(e,t,a){const{property:s,start:r,end:n}=a,{between:o,normalize:i}=No(s),l=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=l,h+=l,c=0,d=l;c<d&&o(i(t[u%l][s]),r,n);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:m,style:e.style}}(e,t,a),x=[];let p,f,g,b=!1,y=null;const v=()=>b||l(r,g,p)&&0!==i(r,g),j=()=>!b||0===i(n,p)||l(n,g,p);for(let w=d,N=d;w<=u;++w)f=t[w%o],f.skip||(p=c(f[s]),p!==g&&(b=l(p,r,n),null===y&&v()&&(y=0===i(p,r)?w:N),null!==y&&j()&&(x.push(_o({start:y,end:w,loop:h,count:o,style:m})),y=null),N=w,g=p));return null!==y&&x.push(_o({start:y,end:u,loop:h,count:o,style:m})),x}function So(e,t){const a=[],s=e.segments;for(let r=0;r<s.length;r++){const n=ko(s[r],e.points,t);n.length&&a.push(...n)}return a}function Co(e,t,a,s){return s&&s.setContext&&a?function(e,t,a,s){const r=e._chart.getContext(),n=Mo(e.options),{_datasetIndex:o,options:{spanGaps:i}}=e,l=a.length,c=[];let d=n,u=t[0].start,h=u;function m(e,t,s,r){const n=i?-1:1;if(e!==t){for(e+=l;a[e%l].skip;)e-=n;for(;a[t%l].skip;)t+=n;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:s,style:r}),d=r,u=t%l)}}for(const x of t){u=i?u:x.start;let e,t=a[u%l];for(h=u+1;h<=x.end;h++){const n=a[h%l];e=Mo(s.setContext(On(r,{type:"segment",p0:t,p1:n,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Lo(e,d)&&m(u,h-1,x.loop,d),t=n,d=e}u<h-1&&m(u,h-1,x.loop,d)}return c}(e,t,a,s):t}function Mo(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Lo(e,t){if(!t)return!1;const a=[],s=function(e,t){return Kr(t)?(a.includes(t)||a.push(t),a.indexOf(t)):t};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function Eo(e,t,a){return e.options.clip?e[a]:t[a]}function Ao(e,t){const a=t._clip;if(a.disabled)return!1;const s=function(e,t){const{xScale:a,yScale:s}=e;return a&&s?{left:Eo(a,t,"left"),right:Eo(a,t,"right"),top:Eo(s,t,"top"),bottom:Eo(s,t,"bottom")}:t}(t,e.chartArea);return{left:!1===a.left?0:s.left-(!0===a.left?0:a.left),right:!1===a.right?e.width:s.right+(!0===a.right?0:a.right),top:!1===a.top?0:s.top-(!0===a.top?0:a.top),bottom:!1===a.bottom?e.height:s.bottom+(!0===a.bottom?0:a.bottom)}}class To{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,s){const r=t.listeners[s],n=t.duration;r.forEach((s=>s({chart:e,initial:t.initial,numSteps:n,currentStep:Math.min(a-t.start,n)})))}_refresh(){this._request||(this._running=!0,this._request=Fr.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((a,s)=>{if(!a.running||!a.items.length)return;const r=a.items;let n,o=r.length-1,i=!1;for(;o>=0;--o)n=r[o],n._active?(n._total>a.duration&&(a.duration=n._total),n.tick(e),i=!0):(r[o]=r[r.length-1],r.pop());i&&(s.draw(),this._notify(s,a,e,"progress")),r.length||(a.running=!1,this._notify(s,a,e,"complete"),a.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const a=t.items;let s=a.length-1;for(;s>=0;--s)a[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Po=new To;const zo="transparent",Io={boolean:(e,t,a)=>a>.5?t:e,color(e,t,a){const s=Xr(e||zo),r=s.valid&&Xr(t||zo);return r&&r.valid?r.mix(s,a).hexString():t},number:(e,t,a)=>e+(t-e)*a};class Oo{constructor(e,t,a,s){const r=t[a];s=In([e.to,s,r,e.from]);const n=In([e.from,r,s]);this._active=!0,this._fn=e.fn||Io[e.type||typeof n],this._easing=Qr[e.easing]||Qr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=n,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);const s=this._target[this._prop],r=a-this._start,n=this._duration-r;this._start=a,this._duration=Math.floor(Math.max(n,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=In([e.to,t,s,e.from]),this._from=In([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,a=this._duration,s=this._prop,r=this._from,n=this._loop,o=this._to;let i;if(this._active=r!==o&&(n||t<a),!this._active)return this._target[s]=o,void this._notify(!0);t<0?this._target[s]=r:(i=t/a%2,i=n&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[s]=this._fn(r,o,i))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,a)=>{e.push({res:t,rej:a})}))}_notify(e){const t=e?"res":"rej",a=this._promises||[];for(let s=0;s<a.length;s++)a[s][t]()}}class Do{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Hs(e))return;const t=Object.keys(un.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach((s=>{const r=e[s];if(!Hs(r))return;const n={};for(const e of t)n[e]=r[e];(Us(r.properties)&&r.properties||[s]).forEach((e=>{e!==s&&a.has(e)||a.set(e,n)}))}))}_animateOptions(e,t){const a=t.options,s=function(e,t){if(!t)return;let a=e.options;if(!a)return void(e.options=t);a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}}));return a}(e,a);if(!s)return[];const r=this._createAnimations(s,a);return a.$shared&&function(e,t){const a=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const t=e[s[r]];t&&t.active()&&a.push(t.wait())}return Promise.all(a)}(e.options.$animations,a).then((()=>{e.options=a}),(()=>{})),r}_createAnimations(e,t){const a=this._properties,s=[],r=e.$animations||(e.$animations={}),n=Object.keys(t),o=Date.now();let i;for(i=n.length-1;i>=0;--i){const l=n[i];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(e,t));continue}const c=t[l];let d=r[l];const u=a.get(l);if(d){if(u&&d.active()){d.update(u,c,o);continue}d.cancel()}u&&u.duration?(r[l]=d=new Oo(u,e,l,c),s.push(d)):e[l]=c}return s}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const a=this._createAnimations(e,t);return a.length?(Po.add(this._chart,a),!0):void 0}}function Ro(e,t){const a=e&&e.options||{},s=a.reverse,r=void 0===a.min?t:0,n=void 0===a.max?t:0;return{start:s?n:r,end:s?r:n}}function Bo(e,t){const a=[],s=e._getSortedDatasetMetas(t);let r,n;for(r=0,n=s.length;r<n;++r)a.push(s[r].index);return a}function Fo(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,n="single"===s.mode;let o,i,l,c;if(null===t)return;let d=!1;for(o=0,i=r.length;o<i;++o){if(l=+r[o],l===a){if(d=!0,s.all)continue;break}c=e.values[l],qs(c)&&(n||0===t||yr(t)===yr(c))&&(t+=c)}return d||s.all?t:0}function Wo(e,t){const a=e&&e.options.stacked;return a||void 0===a&&void 0!==t.stack}function Vo(e,t,a){const s=e[t]||(e[t]={});return s[a]||(s[a]={})}function Uo(e,t,a,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const t=e[r.index];if(a&&t>0||!a&&t<0)return r.index}return null}function Ho(e,t){const{chart:a,_cachedMeta:s}=e,r=a._stacks||(a._stacks={}),{iScale:n,vScale:o,index:i}=s,l=n.axis,c=o.axis,d=function(e,t,a){return"".concat(e.id,".").concat(t.id,".").concat(a.stack||a.type)}(n,o,s),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[l]:a,[c]:n}=e;h=(e._stacks||(e._stacks={}))[c]=Vo(r,d,a),h[i]=n,h._top=Uo(h,o,!0,s.type),h._bottom=Uo(h,o,!1,s.type);(h._visualValues||(h._visualValues={}))[i]=n}}function qo(e,t){const a=e.scales;return Object.keys(a).filter((e=>a[e].axis===t)).shift()}function Go(e,t){const a=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[s]||void 0===t[s][a])return;delete t[s][a],void 0!==t[s]._visualValues&&void 0!==t[s]._visualValues[a]&&delete t[s]._visualValues[a]}}}const $o=e=>"reset"===e||"none"===e,Yo=(e,t)=>t?e:Object.assign({},e);class Qo{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wo(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Go(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,a=this.getDataset(),s=(e,t,a,s)=>"x"===e?t:"r"===e?s:a,r=t.xAxisID=$s(a.xAxisID,qo(e,"x")),n=t.yAxisID=$s(a.yAxisID,qo(e,"y")),o=t.rAxisID=$s(a.rAxisID,qo(e,"r")),i=t.indexAxis,l=t.iAxisID=s(i,r,n,o),c=t.vAxisID=s(i,n,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(n),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rr(this._data,this),e._stacked&&Go(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(Hs(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:a,vScale:s}=t,r="x"===a.axis?"x":"y",n="x"===s.axis?"x":"y",o=Object.keys(e),i=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],i[l]={[r]:d,[n]:e[d]};return i}(t,e)}else if(a!==t){if(a){Rr(a,this);const e=this._cachedMeta;Go(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(s=t)._chartjs?s._chartjs.listeners.push(r):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Dr.forEach((e=>{const t="_onData"+or(e),a=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const o=a.apply(this,r);return s._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...r)})),o}})})))),this._syncList=[],this._data=t}var s,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,a=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=Wo(t.vScale,t),t.stack!==a.stack&&(s=!0,Go(t),t.stack=a.stack),this._resyncElements(e),(s||r!==t._stacked)&&(Ho(this,t._parsed),t._stacked=Wo(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:a,_data:s}=this,{iScale:r,_stacked:n}=a,o=r.axis;let i,l,c,d=0===e&&t===s.length||a._sorted,u=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=s,a._sorted=!0,c=s;else{c=Us(s[e])?this.parseArrayData(a,s,e,t):Hs(s[e])?this.parseObjectData(a,s,e,t):this.parsePrimitiveData(a,s,e,t);const r=()=>null===l[o]||u&&l[o]<u[o];for(i=0;i<t;++i)a._parsed[i+e]=l=c[i],d&&(r()&&(d=!1),u=l);a._sorted=d}n&&Ho(this,c)}parsePrimitiveData(e,t,a,s){const{iScale:r,vScale:n}=e,o=r.axis,i=n.axis,l=r.getLabels(),c=r===n,d=new Array(s);let u,h,m;for(u=0,h=s;u<h;++u)m=u+a,d[u]={[o]:c||r.parse(l[m],m),[i]:n.parse(t[m],m)};return d}parseArrayData(e,t,a,s){const{xScale:r,yScale:n}=e,o=new Array(s);let i,l,c,d;for(i=0,l=s;i<l;++i)c=i+a,d=t[c],o[i]={x:r.parse(d[0],c),y:n.parse(d[1],c)};return o}parseObjectData(e,t,a,s){const{xScale:r,yScale:n}=e,{xAxisKey:o="x",yAxisKey:i="y"}=this._parsing,l=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+a,h=t[u],l[c]={x:r.parse(nr(h,o),u),y:n.parse(nr(h,i),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){const s=this.chart,r=this._cachedMeta,n=t[e.axis];return Fo({keys:Bo(s,!0),values:t._stacks[e.axis]._visualValues},n,r.index,{mode:a})}updateRangeFromParsed(e,t,a,s){const r=a[t.axis];let n=null===r?NaN:r;const o=s&&a._stacks[t.axis];s&&o&&(s.values=o,n=Fo(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,n),e.max=Math.max(e.max,n)}getMinMax(e,t){const a=this._cachedMeta,s=a._parsed,r=a._sorted&&e===a.iScale,n=s.length,o=this._getOtherScale(e),i=((e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:Bo(a,!0),values:null})(t,a,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:a,minDefined:s,maxDefined:r}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?a:Number.POSITIVE_INFINITY}}(o);let u,h;function m(){h=s[u];const t=h[o.axis];return!qs(h[e.axis])||c>t||d<t}for(u=0;u<n&&(m()||(this.updateRangeFromParsed(l,e,h,i),!r));++u);if(r)for(u=n-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(l,e,h,i);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,a=[];let s,r,n;for(s=0,r=t.length;s<r;++s)n=t[s][e.axis],qs(n)&&a.push(n);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,a=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:a?""+a.getLabelForValue(r[a.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,a,s,r;return Hs(e)?(t=e.top,a=e.right,s=e.bottom,r=e.left):t=a=s=r=e,{top:t,right:a,bottom:s,left:r,disabled:!1===e}}($s(this.options.clip,function(e,t,a){if(!1===a)return!1;const s=Ro(e,a),r=Ro(t,a);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,a=this._cachedMeta,s=a.data||[],r=t.chartArea,n=[],o=this._drawStart||0,i=this._drawCount||s.length-o,l=this.options.drawActiveElementsOnTop;let c;for(a.dataset&&a.dataset.draw(e,r,o,i),c=o;c<o+i;++c){const t=s[c];t.hidden||(t.active&&l?n.push(t):t.draw(e,r))}for(c=0;c<n.length;++c)n[c].draw(e,r)}getStyle(e,t){const a=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,a){return On(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return On(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=a,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2?arguments[2]:void 0;const s="active"===t,r=this._cachedDataOpts,n=e+"-"+t,o=r[n],i=this.enableOptionSharing&&ir(a);if(o)return Yo(o,i);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=s?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(un.elements[e]),m=l.resolveNamedOptions(u,h,(()=>this.getContext(a,s,t)),d);return m.$shared&&(m.$shared=i,r[n]=Object.freeze(Yo(m,i))),m}_resolveAnimations(e,t,a){const s=this.chart,r=this._cachedDataOpts,n="animation-".concat(t),o=r[n];if(o)return o;let i;if(!1!==s.options.animation){const s=this.chart.config,r=s.datasetAnimationScopeKeys(this._type,t),n=s.getOptionScopes(this.getDataset(),r);i=s.createResolver(n,this.getContext(e,a,t))}const l=new Do(s,i&&i.animations);return i&&i._cacheable&&(r[n]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||$o(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const a=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(a),n=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,a),{sharedOptions:r,includeOptions:n}}updateElement(e,t,a,s){$o(s)?Object.assign(e,a):this._resolveAnimations(t,s).update(e,a)}updateSharedOptions(e,t,a){e&&!$o(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,a,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,a=this._cachedMeta.data;for(const[o,i,l]of this._syncList)this[o](i,l);this._syncList=[];const s=a.length,r=t.length,n=Math.min(r,s);n&&this.parse(0,n),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=this._cachedMeta,r=s.data,n=e+t;let o;const i=e=>{for(e.length+=t,o=e.length-1;o>=n;o--)e[o]=e[o-t]};for(i(r),o=e;o<n;++o)r[o]=new this.dataElementType;this._parsing&&i(s._parsed),this.parse(e,t),a&&this.updateElements(r,e,t,"reset")}updateElements(e,t,a,s){}_removeElements(e,t){const a=this._cachedMeta;if(this._parsing){const s=a._parsed.splice(e,t);a._stacked&&Go(a,s)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,a,s]=e;this[t](a,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ko(e){const t=e.iScale,a=function(e,t){if(!e._cache.$bar){const a=e.getMatchingVisibleMetas(t);let s=[];for(let t=0,r=a.length;t<r;t++)s=s.concat(a[t].controller.getAllParsedValues(e));e._cache.$bar=Br(s.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let s,r,n,o,i=t._length;const l=()=>{32767!==n&&-32768!==n&&(ir(o)&&(i=Math.min(i,Math.abs(n-o)||i)),o=n)};for(s=0,r=a.length;s<r;++s)n=t.getPixelForValue(a[s]),l();for(o=void 0,s=0,r=t.ticks.length;s<r;++s)n=t.getPixelForTick(s),l();return i}function Xo(e,t,a,s){return Us(e)?function(e,t,a,s){const r=a.parse(e[0],s),n=a.parse(e[1],s),o=Math.min(r,n),i=Math.max(r,n);let l=o,c=i;Math.abs(o)>Math.abs(i)&&(l=i,c=o),t[a.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:n,min:o,max:i}}(e,t,a,s):t[a.axis]=a.parse(e,s),t}function Jo(e,t,a,s){const r=e.iScale,n=e.vScale,o=r.getLabels(),i=r===n,l=[];let c,d,u,h;for(c=a,d=a+s;c<d;++c)h=t[c],u={},u[r.axis]=i||r.parse(o[c],c),l.push(Xo(h,u,n,c));return l}function Zo(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ei(e,t,a,s){let r=t.borderSkipped;const n={};if(!r)return void(e.borderSkipped=n);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:i,reverse:l,top:c,bottom:d}=function(e){let t,a,s,r,n;return e.horizontal?(t=e.base>e.x,a="left",s="right"):(t=e.base<e.y,a="bottom",s="top"),t?(r="end",n="start"):(r="start",n="end"),{start:a,end:s,reverse:t,top:r,bottom:n}}(e);"middle"===r&&a&&(e.enableBorderRadius=!0,(a._top||0)===s?r=c:(a._bottom||0)===s?r=d:(n[ti(d,o,i,l)]=!0,r=c)),n[ti(r,o,i,l)]=!0,e.borderSkipped=n}function ti(e,t,a,s){var r,n,o;return s?(o=a,e=ai(e=(r=e)===(n=t)?o:r===o?n:r,a,t)):e=ai(e,t,a),e}function ai(e,t,a){return"start"===e?t:"end"===e?a:e}function si(e,t,a){let{inflateAmount:s}=t;e.inflateAmount="auto"===s?1===a?.33:0:s}l(Qo,"defaults",{}),l(Qo,"datasetElementType",null),l(Qo,"dataElementType",null);class ri extends Qo{parsePrimitiveData(e,t,a,s){return Jo(e,t,a,s)}parseArrayData(e,t,a,s){return Jo(e,t,a,s)}parseObjectData(e,t,a,s){const{iScale:r,vScale:n}=e,{xAxisKey:o="x",yAxisKey:i="y"}=this._parsing,l="x"===r.axis?o:i,c="x"===n.axis?o:i,d=[];let u,h,m,x;for(u=a,h=a+s;u<h;++u)x=t[u],m={},m[r.axis]=r.parse(nr(x,l),u),d.push(Xo(nr(x,c),m,n,u));return d}updateRangeFromParsed(e,t,a,s){super.updateRangeFromParsed(e,t,a,s);const r=a._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:a,vScale:s}=t,r=this.getParsed(e),n=r._custom,o=Zo(n)?"["+n.start+", "+n.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+a.getLabelForValue(r[a.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,s){const r="reset"===s,{index:n,_cachedMeta:{vScale:o}}=this,i=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,s);for(let h=t;h<t+a;h++){const t=this.getParsed(h),a=r||Vs(t[o.axis])?{base:i,head:i}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),x=(t._stacks||{})[o.axis],p={horizontal:l,base:a.base,enableBorderRadius:!x||Zo(t._custom)||n===x._top||n===x._bottom,x:l?a.head:m.center,y:l?m.center:a.head,height:l?m.size:Math.abs(a.size),width:l?Math.abs(a.size):m.size};u&&(p.options=d||this.resolveDataElementOptions(h,e[h].active?"active":s));const f=p.options||e[h].options;ei(p,f,x,n),si(p,f,c.ratio),this.updateElement(e[h],h,p,s)}}_getStacks(e,t){const{iScale:a}=this._cachedMeta,s=a.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=a.options.stacked,n=[],o=this._cachedMeta.controller.getParsed(t),i=o&&o[a.axis],l=e=>{const t=e._parsed.find((e=>e[a.axis]===i)),s=t&&t[e.vScale.axis];if(Vs(s)||isNaN(s))return!0};for(const c of s)if((void 0===t||!l(c))&&((!1===r||-1===n.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&n.push(c.stack),c.index===e))break;return n.length||n.push(void 0),n}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter((a=>e[a].axis===t)).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[$s("x"===this.chart.options.indexAxis?a.xAxisID:a.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,a){const s=this._getStacks(e,a),r=void 0!==t?s.indexOf(t):-1;return-1===r?s.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,a=t.iScale,s=[];let r,n;for(r=0,n=t.data.length;r<n;++r)s.push(a.getPixelForValue(this.getParsed(r)[a.axis],r));const o=e.barThickness;return{min:o||Ko(t),pixels:s,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:a,index:s},options:{base:r,minBarLength:n}}=this,o=r||0,i=this.getParsed(e),l=i._custom,c=Zo(l);let d,u,h=i[t.axis],m=0,x=a?this.applyStack(t,i,a):h;x!==h&&(m=x-h,x=h),c&&(h=l.barStart,x=l.barEnd-l.barStart,0!==h&&yr(h)!==yr(l.barEnd)&&(m=0),m+=h);const p=Vs(r)||c?m:r;let f=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+x):f,u=d-f,Math.abs(u)<n){u=function(e,t,a){return 0!==e?yr(e):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}(u,t,o)*n,h===o&&(f-=u/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),m=Math.max(e,r);f=Math.max(Math.min(f,m),l),d=f+u,a&&!c&&(i._stacks[t.axis]._visualValues[s]=t.getValueForPixel(d)-t.getValueForPixel(f))}if(f===t.getPixelForValue(o)){const e=yr(u)*t.getLineWidthForValue(o)/2;f+=e,u-=e}return{size:u,base:f,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const a=t.scale,s=this.options,r=s.skipNull,n=$s(s.maxBarThickness,1/0);let o,i;const l=this._getAxisCount();if(t.grouped){const a=r?this._getStackCount(e):t.stackCount,c="flex"===s.barThickness?function(e,t,a,s){const r=t.pixels,n=r[e];let o=e>0?r[e-1]:null,i=e<r.length-1?r[e+1]:null;const l=a.categoryPercentage;null===o&&(o=n-(null===i?t.end-t.start:i-n)),null===i&&(i=n+n-o);const c=n-(n-Math.min(o,i))/2*l;return{chunk:Math.abs(i-o)/2*l/s,ratio:a.barPercentage,start:c}}(e,t,s,a*l):function(e,t,a,s){const r=a.barThickness;let n,o;return Vs(r)?(n=t.min*a.categoryPercentage,o=a.barPercentage):(n=r*s,o=1),{chunk:n/s,ratio:o,start:t.pixels[e]-n/2}}(e,t,s,a*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf($s(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+u;o=c.start+c.chunk*h+c.chunk/2,i=Math.min(n,c.chunk*c.ratio)}else o=a.getPixelForValue(this.getParsed(e)[a.axis],e),i=Math.min(n,t.min*t.ratio);return{base:o-i/2,head:o+i/2,center:o,size:i}}draw(){const e=this._cachedMeta,t=e.vScale,a=e.data,s=a.length;let r=0;for(;r<s;++r)null===this.getParsed(r)[t.axis]||a[r].hidden||a[r].draw(this._ctx)}}l(ri,"id","bar"),l(ri,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),l(ri,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ni extends Qo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,a,s){const r=super.parsePrimitiveData(e,t,a,s);for(let n=0;n<r.length;n++)r[n]._custom=this.resolveDataElementOptions(n+a).radius;return r}parseArrayData(e,t,a,s){const r=super.parseArrayData(e,t,a,s);for(let n=0;n<r.length;n++){const e=t[a+n];r[n]._custom=$s(e[2],this.resolveDataElementOptions(n+a).radius)}return r}parseObjectData(e,t,a,s){const r=super.parseObjectData(e,t,a,s);for(let n=0;n<r.length;n++){const e=t[a+n];r[n]._custom=$s(e&&e.r&&+e.r,this.resolveDataElementOptions(n+a).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let a=e.length-1;a>=0;--a)t=Math.max(t,e[a].size(this.resolveDataElementOptions(a))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:s,yScale:r}=t,n=this.getParsed(e),o=s.getLabelForValue(n.x),i=r.getLabelForValue(n.y),l=n._custom;return{label:a[e]||"",value:"("+o+", "+i+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,a,s){const r="reset"===s,{iScale:n,vScale:o}=this._cachedMeta,{sharedOptions:i,includeOptions:l}=this._getSharedOptions(t,s),c=n.axis,d=o.axis;for(let u=t;u<t+a;u++){const t=e[u],a=!r&&this.getParsed(u),h={},m=h[c]=r?n.getPixelForDecimal(.5):n.getPixelForValue(a[c]),x=h[d]=r?o.getBasePixel():o.getPixelForValue(a[d]);h.skip=isNaN(m)||isNaN(x),l&&(h.options=i||this.resolveDataElementOptions(u,t.active?"active":s),r&&(h.options.radius=0)),this.updateElement(t,u,h,s)}}resolveDataElementOptions(e,t){const a=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return"active"!==t&&(s.radius=0),s.radius+=$s(a&&a._custom,r),s}}l(ni,"id","bubble"),l(ni,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),l(ni,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class oi extends Qo{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const a=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=a;else{let r,n,o=e=>+a[e];if(Hs(a[e])){const{key:e="value"}=this._parsing;o=t=>+nr(a[t],e)}for(r=e,n=e+t;r<n;++r)s._parsed[r]=o(r)}}_getRotation(){return _r(this.options.rotation-90)}_getCircumference(){return _r(this.options.circumference)}_getRotationExtents(){let e=ur,t=-ur;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const s=this.chart.getDatasetMeta(a).controller,r=s._getRotation(),n=s._getCircumference();e=Math.min(e,r),t=Math.max(t,r+n)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:a}=t,s=this._cachedMeta,r=s.data,n=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(a.width,a.height)-n)/2,0),i=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:x,offsetX:p,offsetY:f}=function(e,t,a){let s=1,r=1,n=0,o=0;if(t<ur){const i=e,l=i+t,c=Math.cos(i),d=Math.sin(i),u=Math.cos(l),h=Math.sin(l),m=(e,t,s)=>Ar(e,i,l,!0)?1:Math.max(t,t*a,s,s*a),x=(e,t,s)=>Ar(e,i,l,!0)?-1:Math.min(t,t*a,s,s*a),p=m(0,c,u),f=m(pr,d,h),g=x(dr,c,u),b=x(dr+pr,d,h);s=(p-g)/2,r=(f-b)/2,n=-(p+g)/2,o=-(f+b)/2}return{ratioX:s,ratioY:r,offsetX:n,offsetY:o}}(h,u,i),g=(a.width-n)/m,b=(a.height-n)/x,y=Math.max(Math.min(g,b)/2,0),v=Ys(this.options.radius,y),j=(v-Math.max(v*i,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=f*v,s.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const a=this.options,s=this._cachedMeta,r=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/ur)}updateElements(e,t,a,s){const r="reset"===s,n=this.chart,o=n.chartArea,i=n.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,d=r&&i.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:x}=this._getSharedOptions(t,s);let p,f=this._getRotation();for(p=0;p<t;++p)f+=this._circumference(p,r);for(p=t;p<t+a;++p){const t=this._circumference(p,r),a=e[p],n={x:l+this.offsetX,y:c+this.offsetY,startAngle:f,endAngle:f+t,circumference:t,outerRadius:h,innerRadius:u};x&&(n.options=m||this.resolveDataElementOptions(p,a.active?"active":s)),f+=t,this.updateElement(a,p,n,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a,s=0;for(a=0;a<t.length;a++){const r=e._parsed[a];null===r||isNaN(r)||!this.chart.getDataVisibility(a)||t[a].hidden||(s+=Math.abs(r))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ur*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,s=a.data.labels||[],r=an(t._parsed[e],a.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const a=this.chart;let s,r,n,o,i;if(!e)for(s=0,r=a.data.datasets.length;s<r;++s)if(a.isDatasetVisible(s)){n=a.getDatasetMeta(s),e=n.data,o=n.controller;break}if(!e)return 0;for(s=0,r=e.length;s<r;++s)i=o.resolveDataElementOptions(s),"inner"!==i.borderAlign&&(t=Math.max(t,i.borderWidth||0,i.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,s=e.length;a<s;++a){const e=this.resolveDataElementOptions(a);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max($s(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}l(oi,"id","doughnut"),l(oi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),l(oi,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),l(oi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:a,color:s}}=e.legend.options;return t.labels.map(((t,r)=>{const n=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:s,lineWidth:n.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}}});class ii extends Qo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:a,data:s=[],_dataset:r}=t,n=this.chart._animationsDisabled;let{start:o,count:i}=Hr(t,s,n);this._drawStart=o,this._drawCount=i,qr(t)&&(o=0,i=s.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!r._decimated,a.points=s;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:l},e),this.updateElements(s,o,i,e)}updateElements(e,t,a,s){const r="reset"===s,{iScale:n,vScale:o,_stacked:i,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,s),u=n.axis,h=o.axis,{spanGaps:m,segment:x}=this.options,p=wr(m)?m:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||r||"none"===s,g=t+a,b=e.length;let y=t>0&&this.getParsed(t-1);for(let v=0;v<b;++v){const a=e[v],m=f?a:{};if(v<t||v>=g){m.skip=!0;continue}const b=this.getParsed(v),j=Vs(b[h]),w=m[u]=n.getPixelForValue(b[u],v),N=m[h]=r||j?o.getBasePixel():o.getPixelForValue(i?this.applyStack(o,b,i):b[h],v);m.skip=isNaN(w)||isNaN(N)||j,m.stop=v>0&&Math.abs(b[u]-y[u])>p,x&&(m.parsed=b,m.raw=l.data[v]),d&&(m.options=c||this.resolveDataElementOptions(v,a.active?"active":s)),f||this.updateElement(a,v,m,s),y=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,a=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return a;const r=s[0].size(this.resolveDataElementOptions(0)),n=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(a,r,n)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}l(ii,"id","line"),l(ii,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),l(ii,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class li extends Qo{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,a=this.chart,s=a.data.labels||[],r=an(t._parsed[e].r,a.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,t,a,s){return Kn.bind(this)(e,t,a,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,a=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(s/2,0),n=(r-Math.max(a.cutoutPercentage?r/100*a.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-n*this.index,this.innerRadius=this.outerRadius-n}updateElements(e,t,a,s){const r="reset"===s,n=this.chart,o=n.options.animation,i=this._cachedMeta.rScale,l=i.xCenter,c=i.yCenter,d=i.getIndexAngle(0)-.5*dr;let u,h=d;const m=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,s,m);for(u=t;u<t+a;u++){const t=e[u];let a=h,x=h+this._computeAngle(u,s,m),p=n.getDataVisibility(u)?i.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=x,r&&(o.animateScale&&(p=0),o.animateRotate&&(a=x=d));const f={x:l,y:c,innerRadius:0,outerRadius:p,startAngle:a,endAngle:x,options:this.resolveDataElementOptions(u,t.active?"active":s)};this.updateElement(t,u,f,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&t++})),t}_computeAngle(e,t,a){return this.chart.getDataVisibility(e)?_r(this.resolveDataElementOptions(e,t).angle||a):0}}l(li,"id","polarArea"),l(li,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),l(li,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:a,color:s}}=e.legend.options;return t.labels.map(((t,r)=>{const n=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:s,lineWidth:n.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ci extends oi{}l(ci,"id","pie"),l(ci,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class di extends Qo{getLabelAndValue(e){const t=this._cachedMeta.vScale,a=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(a[t.axis])}}parseObjectData(e,t,a,s){return Kn.bind(this)(e,t,a,s)}update(e){const t=this._cachedMeta,a=t.dataset,s=t.data||[],r=t.iScale.getLabels();if(a.points=s,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const n={_loop:!0,_fullLoop:r.length===s.length,options:t};this.updateElement(a,void 0,n,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,a,s){const r=this._cachedMeta.rScale,n="reset"===s;for(let o=t;o<t+a;o++){const t=e[o],a=this.resolveDataElementOptions(o,t.active?"active":s),i=r.getPointPositionForValue(o,this.getParsed(o).r),l=n?r.xCenter:i.x,c=n?r.yCenter:i.y,d={x:l,y:c,angle:i.angle,skip:isNaN(l)||isNaN(c),options:a};this.updateElement(t,o,d,s)}}}l(di,"id","radar"),l(di,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),l(di,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ui extends Qo{getLabelAndValue(e){const t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:s,yScale:r}=t,n=this.getParsed(e),o=s.getLabelForValue(n.x),i=r.getLabelForValue(n.y);return{label:a[e]||"",value:"("+o+", "+i+")"}}update(e){const t=this._cachedMeta,{data:a=[]}=t,s=this.chart._animationsDisabled;let{start:r,count:n}=Hr(t,a,s);if(this._drawStart=r,this._drawCount=n,qr(t)&&(r=0,n=a.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:n}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!n._decimated,r.points=a;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(a,r,n,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,a,s){const r="reset"===s,{iScale:n,vScale:o,_stacked:i,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,s),d=this.getSharedOptions(c),u=this.includeOptions(s,d),h=n.axis,m=o.axis,{spanGaps:x,segment:p}=this.options,f=wr(x)?x:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===s;let b=t>0&&this.getParsed(t-1);for(let y=t;y<t+a;++y){const t=e[y],a=this.getParsed(y),c=g?t:{},x=Vs(a[m]),v=c[h]=n.getPixelForValue(a[h],y),j=c[m]=r||x?o.getBasePixel():o.getPixelForValue(i?this.applyStack(o,a,i):a[m],y);c.skip=isNaN(v)||isNaN(j)||x,c.stop=y>0&&Math.abs(a[h]-b[h])>f,p&&(c.parsed=a,c.raw=l.data[y]),u&&(c.options=d||this.resolveDataElementOptions(y,t.active?"active":s)),g||this.updateElement(t,y,c,s),b=a}this.updateSharedOptions(d,s,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let a=t.length-1;a>=0;--a)e=Math.max(e,t[a].size(this.resolveDataElementOptions(a))/2);return e>0&&e}const a=e.dataset,s=a.options&&a.options.borderWidth||0;if(!t.length)return s;const r=t[0].size(this.resolveDataElementOptions(0)),n=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,r,n)/2}}l(ui,"id","scatter"),l(ui,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),l(ui,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function hi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mi{static override(e){Object.assign(mi.prototype,e)}constructor(e){l(this,"options",void 0),this.options=e||{}}init(){}formats(){return hi()}parse(){return hi()}format(){return hi()}add(){return hi()}diff(){return hi()}startOf(){return hi()}endOf(){return hi()}}var xi=mi;function pi(e,t,a,s){const{controller:r,data:n,_sorted:o}=e,i=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(i&&t===i.axis&&"r"!==t&&o&&n.length){const o=i._reversePixels?Or:Ir;if(!s){const s=o(n,t,a);if(l){const{vScale:t}=r._cachedMeta,{_parsed:a}=e,n=a.slice(0,s.lo+1).reverse().findIndex((e=>!Vs(e[t.axis])));s.lo-=Math.max(0,n);const o=a.slice(s.hi).findIndex((e=>!Vs(e[t.axis])));s.hi+=Math.max(0,o)}return s}if(r._sharedOptions){const e=n[0],s="function"===typeof e.getRange&&e.getRange(t);if(s){const e=o(n,t,a-s),r=o(n,t,a+s);return{lo:e.lo,hi:r.hi}}}}return{lo:0,hi:n.length-1}}function fi(e,t,a,s,r){const n=e.getSortedVisibleDatasetMetas(),o=a[t];for(let i=0,l=n.length;i<l;++i){const{index:e,data:a}=n[i],{lo:l,hi:c}=pi(n[i],t,o,r);for(let t=l;t<=c;++t){const r=a[t];r.skip||s(r,e,t)}}}function gi(e,t,a,s,r){const n=[];if(!r&&!e.isPointInArea(t))return n;return fi(e,a,t,(function(a,o,i){(r||bn(a,e.chartArea,0))&&a.inRange(t.x,t.y,s)&&n.push({element:a,datasetIndex:o,index:i})}),!0),n}function bi(e,t,a,s,r,n){let o=[];const i=function(e){const t=-1!==e.indexOf("x"),a=-1!==e.indexOf("y");return function(e,s){const r=t?Math.abs(e.x-s.x):0,n=a?Math.abs(e.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))}}(a);let l=Number.POSITIVE_INFINITY;return fi(e,a,t,(function(a,c,d){const u=a.inRange(t.x,t.y,r);if(s&&!u)return;const h=a.getCenterPoint(r);if(!(!!n||e.isPointInArea(h))&&!u)return;const m=i(t,h);m<l?(o=[{element:a,datasetIndex:c,index:d}],l=m):m===l&&o.push({element:a,datasetIndex:c,index:d})})),o}function yi(e,t,a,s,r,n){return n||e.isPointInArea(t)?"r"!==a||s?bi(e,t,a,s,r,n):function(e,t,a,s){let r=[];return fi(e,a,t,(function(e,a,n){const{startAngle:o,endAngle:i}=e.getProps(["startAngle","endAngle"],s),{angle:l}=Cr(e,{x:t.x,y:t.y});Ar(l,o,i)&&r.push({element:e,datasetIndex:a,index:n})})),r}(e,t,a,r):[]}function vi(e,t,a,s,r){const n=[],o="x"===a?"inXRange":"inYRange";let i=!1;return fi(e,a,t,((e,s,l)=>{e[o]&&e[o](t[a],r)&&(n.push({element:e,datasetIndex:s,index:l}),i=i||e.inRange(t.x,t.y,r))})),s&&!i?[]:n}var ji={evaluateInteractionItems:fi,modes:{index(e,t,a,s){const r=uo(t,e),n=a.axis||"x",o=a.includeInvisible||!1,i=a.intersect?gi(e,r,n,s,o):yi(e,r,n,!1,s,o),l=[];return i.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=i[0].index,a=e.data[t];a&&!a.skip&&l.push({element:a,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,a,s){const r=uo(t,e),n=a.axis||"xy",o=a.includeInvisible||!1;let i=a.intersect?gi(e,r,n,s,o):yi(e,r,n,!1,s,o);if(i.length>0){const t=i[0].datasetIndex,a=e.getDatasetMeta(t).data;i=[];for(let e=0;e<a.length;++e)i.push({element:a[e],datasetIndex:t,index:e})}return i},point:(e,t,a,s)=>gi(e,uo(t,e),a.axis||"xy",s,a.includeInvisible||!1),nearest(e,t,a,s){const r=uo(t,e),n=a.axis||"xy",o=a.includeInvisible||!1;return yi(e,r,n,a.intersect,s,o)},x:(e,t,a,s)=>vi(e,uo(t,e),"x",a.intersect,s),y:(e,t,a,s)=>vi(e,uo(t,e),"y",a.intersect,s)}};const wi=["left","top","right","bottom"];function Ni(e,t){return e.filter((e=>e.pos===t))}function _i(e,t){return e.filter((e=>-1===wi.indexOf(e.pos)&&e.box.axis===t))}function ki(e,t){return e.sort(((e,a)=>{const s=t?a:e,r=t?e:a;return s.weight===r.weight?s.index-r.index:s.weight-r.weight}))}function Si(e,t){const a=function(e){const t={};for(const a of e){const{stack:e,pos:s,stackWeight:r}=a;if(!e||!wi.includes(s))continue;const n=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=r}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let n,o,i;for(n=0,o=e.length;n<o;++n){i=e[n];const{fullSize:o}=i.box,l=a[i.stack],c=l&&i.stackWeight/l.weight;i.horizontal?(i.width=c?c*s:o&&t.availableWidth,i.height=r):(i.width=s,i.height=c?c*r:o&&t.availableHeight)}return a}function Ci(e,t,a,s){return Math.max(e[a],t[a])+Math.max(e[s],t[s])}function Mi(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Li(e,t,a,s){const{pos:r,box:n}=a,o=e.maxPadding;if(!Hs(r)){a.size&&(e[r]-=a.size);const t=s[a.stack]||{size:0,count:1};t.size=Math.max(t.size,a.horizontal?n.height:n.width),a.size=t.size/t.count,e[r]+=a.size}n.getPadding&&Mi(o,n.getPadding());const i=Math.max(0,t.outerWidth-Ci(o,e,"left","right")),l=Math.max(0,t.outerHeight-Ci(o,e,"top","bottom")),c=i!==e.w,d=l!==e.h;return e.w=i,e.h=l,a.horizontal?{same:c,other:d}:{same:d,other:c}}function Ei(e,t){const a=t.maxPadding;function s(e){const s={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{s[e]=Math.max(t[e],a[e])})),s}return s(e?["left","right"]:["top","bottom"])}function Ai(e,t,a,s){const r=[];let n,o,i,l,c,d;for(n=0,o=e.length,c=0;n<o;++n){i=e[n],l=i.box,l.update(i.width||t.w,i.height||t.h,Ei(i.horizontal,t));const{same:o,other:u}=Li(t,a,i,s);c|=o&&r.length,d=d||u,l.fullSize||r.push(i)}return c&&Ai(r,t,a,s)||d}function Ti(e,t,a,s,r){e.top=a,e.left=t,e.right=t+s,e.bottom=a+r,e.width=s,e.height=r}function Pi(e,t,a,s){const r=a.padding;let{x:n,y:o}=t;for(const i of e){const e=i.box,l=s[i.stack]||{count:1,placed:0,weight:1},c=i.stackWeight/l.weight||1;if(i.horizontal){const s=t.w*c,n=l.size||e.height;ir(l.start)&&(o=l.start),e.fullSize?Ti(e,r.left,o,a.outerWidth-r.right-r.left,n):Ti(e,t.left+l.placed,o,s,n),l.start=o,l.placed+=s,o=e.bottom}else{const s=t.h*c,o=l.size||e.width;ir(l.start)&&(n=l.start),e.fullSize?Ti(e,n,r.top,o,a.outerHeight-r.bottom-r.top):Ti(e,n,t.top+l.placed,o,s),l.start=n,l.placed+=s,n=e.right}}t.x=n,t.y=o}var zi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;-1!==a&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,s){if(!e)return;const r=Pn(e.options.layout.padding),n=Math.max(t-r.width,0),o=Math.max(a-r.height,0),i=function(e){const t=function(e){const t=[];let a,s,r,n,o,i;for(a=0,s=(e||[]).length;a<s;++a)r=e[a],({position:n,options:{stack:o,stackWeight:i=1}}=r),t.push({index:a,box:r,pos:n,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&n+o,stackWeight:i});return t}(e),a=ki(t.filter((e=>e.box.fullSize)),!0),s=ki(Ni(t,"left"),!0),r=ki(Ni(t,"right")),n=ki(Ni(t,"top"),!0),o=ki(Ni(t,"bottom")),i=_i(t,"x"),l=_i(t,"y");return{fullSize:a,leftAndTop:s.concat(n),rightAndBottom:r.concat(l).concat(o).concat(i),chartArea:Ni(t,"chartArea"),vertical:s.concat(r).concat(l),horizontal:n.concat(o).concat(i)}}(e.boxes),l=i.vertical,c=i.horizontal;Ks(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:a,padding:r,availableWidth:n,availableHeight:o,vBoxMaxWidth:n/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},r);Mi(h,Pn(s));const m=Object.assign({maxPadding:h,w:n,h:o,x:r.left,y:r.top},r),x=Si(l.concat(c),u);Ai(i.fullSize,m,u,x),Ai(l,m,u,x),Ai(c,m,u,x)&&Ai(l,m,u,x),function(e){const t=e.maxPadding;function a(a){const s=Math.max(t[a]-e[a],0);return e[a]+=s,s}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}(m),Pi(i.leftAndTop,m,u,x),m.x+=m.w,m.y+=m.h,Pi(i.rightAndBottom,m,u,x),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ks(i.chartArea,(t=>{const a=t.box;Object.assign(a,e.chartArea),a.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})}))}};class Ii{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,s){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):a)}}isAttached(e){return!0}updateConfig(e){}}class Oi extends Ii{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Di="$chartjs",Ri={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bi=e=>null===e||""===e;const Fi=!!po&&{passive:!0};function Wi(e,t,a){e&&e.canvas&&e.canvas.removeEventListener(t,a,Fi)}function Vi(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function Ui(e,t,a){const s=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const a of e)t=t||Vi(a.addedNodes,s),t=t&&!Vi(a.removedNodes,s);t&&a()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Hi(e,t,a){const s=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const a of e)t=t||Vi(a.removedNodes,s),t=t&&!Vi(a.addedNodes,s);t&&a()}));return r.observe(document,{childList:!0,subtree:!0}),r}const qi=new Map;let Gi=0;function $i(){const e=window.devicePixelRatio;e!==Gi&&(Gi=e,qi.forEach(((t,a)=>{a.currentDevicePixelRatio!==e&&t()})))}function Yi(e,t,a){const s=e.canvas,r=s&&no(s);if(!r)return;const n=Wr(((e,t)=>{const s=r.clientWidth;a(e,t),s<r.clientWidth&&a()}),window),o=new ResizeObserver((e=>{const t=e[0],a=t.contentRect.width,s=t.contentRect.height;0===a&&0===s||n(a,s)}));return o.observe(r),function(e,t){qi.size||window.addEventListener("resize",$i),qi.set(e,t)}(e,n),o}function Qi(e,t,a){a&&a.disconnect(),"resize"===t&&function(e){qi.delete(e),qi.size||window.removeEventListener("resize",$i)}(e)}function Ki(e,t,a){const s=e.canvas,r=Wr((t=>{null!==e.ctx&&a(function(e,t){const a=Ri[e.type]||e.type,{x:s,y:r}=uo(e,t);return{type:a,chart:t,native:e,x:void 0!==s?s:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,a){e&&e.addEventListener(t,a,Fi)}(s,t,r),r}class Xi extends Ii{acquireContext(e,t){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(function(e,t){const a=e.style,s=e.getAttribute("height"),r=e.getAttribute("width");if(e[Di]={initial:{height:s,width:r,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",Bi(r)){const t=fo(e,"width");void 0!==t&&(e.width=t)}if(Bi(s))if(""===e.style.height)e.height=e.width/(t||2);else{const t=fo(e,"height");void 0!==t&&(e.height=t)}}(e,t),a):null}releaseContext(e){const t=e.canvas;if(!t[Di])return!1;const a=t[Di].initial;["height","width"].forEach((e=>{const s=a[e];Vs(s)?t.removeAttribute(e):t.setAttribute(e,s)}));const s=a.style||{};return Object.keys(s).forEach((e=>{t.style[e]=s[e]})),t.width=t.width,delete t[Di],!0}addEventListener(e,t,a){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),r={attach:Ui,detach:Hi,resize:Yi}[t]||Ki;s[t]=r(e,t,a)}removeEventListener(e,t){const a=e.$proxies||(e.$proxies={}),s=a[t];if(!s)return;({attach:Qi,detach:Qi,resize:Qi}[t]||Wi)(e,t,s),a[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,s){return mo(e,t,a,s)}isAttached(e){const t=e&&no(e);return!(!t||!t.isConnected)}}class Ji{constructor(){l(this,"x",void 0),l(this,"y",void 0),l(this,"active",!1),l(this,"options",void 0),l(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return wr(this.x)&&wr(this.y)}getProps(e,t){const a=this.$animations;if(!t||!a)return this;const s={};return e.forEach((e=>{s[e]=a[e]&&a[e].active()?a[e]._to:this[e]})),s}}function Zi(e,t){const a=e.options.ticks,s=function(e){const t=e.options.offset,a=e._tickSize(),s=e._length/a+(t?0:1),r=e._maxLength/a;return Math.floor(Math.min(s,r))}(e),r=Math.min(a.maxTicksLimit||s,s),n=a.major.enabled?function(e){const t=[];let a,s;for(a=0,s=e.length;a<s;a++)e[a].major&&t.push(a);return t}(t):[],o=n.length,i=n[0],l=n[o-1],c=[];if(o>r)return function(e,t,a,s){let r,n=0,o=a[0];for(s=Math.ceil(s),r=0;r<e.length;r++)r===o&&(t.push(e[r]),n++,o=a[n*s])}(t,c,n,o/r),c;const d=function(e,t,a){const s=function(e){const t=e.length;let a,s;if(t<2)return!1;for(s=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==s)return!1;return s}(e),r=t.length/a;if(!s)return Math.max(r,1);const n=function(e){const t=[],a=Math.sqrt(e);let s;for(s=1;s<a;s++)e%s===0&&(t.push(s),t.push(e/s));return a===(0|a)&&t.push(a),t.sort(((e,t)=>e-t)).pop(),t}(s);for(let o=0,i=n.length-1;o<i;o++){const e=n[o];if(e>r)return e}return Math.max(r,1)}(n,t,r);if(o>0){let e,a;const s=o>1?Math.round((l-i)/(o-1)):null;for(el(t,c,d,Vs(s)?0:i-s,i),e=0,a=o-1;e<a;e++)el(t,c,d,n[e],n[e+1]);return el(t,c,d,l,Vs(s)?t.length:l+s),c}return el(t,c,d),c}function el(e,t,a,s,r){const n=$s(s,0),o=Math.min($s(r,e.length),e.length);let i,l,c,d=0;for(a=Math.ceil(a),r&&(i=r-s,a=i/Math.floor(i/a)),c=n;c<0;)d++,c=Math.round(n+d*a);for(l=Math.max(n,0);l<o;l++)l===c&&(t.push(e[l]),d++,c=Math.round(n+d*a))}l(Ji,"defaults",{}),l(Ji,"defaultRoutes",void 0);const tl=(e,t,a)=>"top"===t||"left"===t?e[t]+a:e[t]-a,al=(e,t)=>Math.min(t||e,e);function sl(e,t){const a=[],s=e.length/t,r=e.length;let n=0;for(;n<r;n+=s)a.push(e[Math.floor(n)]);return a}function rl(e,t,a){const s=e.ticks.length,r=Math.min(t,s-1),n=e._startPixel,o=e._endPixel,i=1e-6;let l,c=e.getPixelForTick(r);if(!(a&&(l=1===s?Math.max(c-n,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<n-i||c>o+i)))return c}function nl(e){return e.drawTicks?e.tickLength:0}function ol(e,t){if(!e.display)return 0;const a=zn(e.font,t),s=Pn(e.padding);return(Us(e.text)?e.text.length:1)*a.lineHeight+s.height}function il(e,t,a){let s=Vr(e);return(a&&"right"!==t||!a&&"right"===t)&&(s=(e=>"left"===e?"right":"right"===e?"left":e)(s)),s}class ll extends Ji{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:s}=this;return e=Gs(e,Number.POSITIVE_INFINITY),t=Gs(t,Number.NEGATIVE_INFINITY),a=Gs(a,Number.POSITIVE_INFINITY),s=Gs(s,Number.NEGATIVE_INFINITY),{min:Gs(e,a),max:Gs(t,s),minDefined:qs(e),maxDefined:qs(t)}}getMinMax(e){let t,{min:a,max:s,minDefined:r,maxDefined:n}=this.getUserBounds();if(r&&n)return{min:a,max:s};const o=this.getMatchingVisibleMetas();for(let i=0,l=o.length;i<l;++i)t=o[i].controller.getMinMax(this,e),r||(a=Math.min(a,t.min)),n||(s=Math.max(s,t.max));return a=n&&a>s?s:a,s=r&&a>s?a:s,{min:Gs(a,Gs(s,a)),max:Gs(s,Gs(a,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Qs(this.options.beforeUpdate,[this])}update(e,t,a){const{beginAtZero:s,grace:r,ticks:n}=this.options,o=n.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,a){const{min:s,max:r}=e,n=Ys(t,(r-s)/2),o=(e,t)=>a&&0===e?0:e+t;return{min:o(s,-Math.abs(n)),max:o(r,n)}}(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const i=o<this.ticks.length;this._convertTicksToLabels(i?sl(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=Zi(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,a=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,a=!a),this._startPixel=e,this._endPixel=t,this._reversePixels=a,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Qs(this.options.afterUpdate,[this])}beforeSetDimensions(){Qs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Qs(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Qs(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Qs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let a,s,r;for(a=0,s=e.length;a<s;a++)r=e[a],r.label=Qs(t.callback,[r.value,a,e],this)}afterTickToLabelConversion(){Qs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Qs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,a=al(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let n,o,i,l=s;if(!this._isVisible()||!t.display||s>=r||a<=1||!this.isHorizontal())return void(this.labelRotation=s);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Tr(this.chart.width-d,0,this.maxWidth);n=e.offset?this.maxWidth/a:h/(a-1),d+6>n&&(n=h/(a-(e.offset?.5:1)),o=this.maxHeight-nl(e.grid)-t.padding-ol(e.title,this.chart.options.font),i=Math.sqrt(d*d+u*u),l=kr(Math.min(Math.asin(Tr((c.highest.height+6)/n,-1,1)),Math.asin(Tr(o/i,-1,1))-Math.asin(Tr(u/i,-1,1)))),l=Math.max(s,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Qs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Qs(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:a,title:s,grid:r}}=this,n=this._isVisible(),o=this.isHorizontal();if(n){const n=ol(s,t.options.font);if(o?(e.width=this.maxWidth,e.height=nl(r)+n):(e.height=this.maxHeight,e.width=nl(r)+n),a.display&&this.ticks.length){const{first:t,last:s,widest:r,highest:n}=this._getLabelSizes(),i=2*a.padding,l=_r(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(o){const t=a.mirror?0:d*r.width+c*n.height;e.height=Math.min(this.maxHeight,e.height+t+i)}else{const t=a.mirror?0:c*r.width+d*n.height;e.width=Math.min(this.maxWidth,e.width+t+i)}this._calculatePadding(t,s,d,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,s){const{ticks:{align:r,padding:n},position:o}=this.options,i=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;i?l?(d=s*e.width,u=a*t.height):(d=a*e.height,u=s*t.width):"start"===r?u=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-o+n)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-c+n)*this.width/(this.width-c),0)}else{let a=t.height/2,s=e.height/2;"start"===r?(a=0,s=e.height):"end"===r&&(a=t.height,s=0),this.paddingTop=a+n,this.paddingBottom=s+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Qs(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,a=e.length;t<a;t++)Vs(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let a=this.ticks;t<a.length&&(a=sl(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,a){const{ctx:s,_longestTextCache:r}=this,n=[],o=[],i=Math.floor(t/al(t,a));let l,c,d,u,h,m,x,p,f,g,b,y=0,v=0;for(l=0;l<t;l+=i){if(u=e[l].label,h=this._resolveTickFontOptions(l),s.font=m=h.string,x=r[m]=r[m]||{data:{},gc:[]},p=h.lineHeight,f=g=0,Vs(u)||Us(u)){if(Us(u))for(c=0,d=u.length;c<d;++c)b=u[c],Vs(b)||Us(b)||(f=hn(s,x.data,x.gc,f,b),g+=p)}else f=hn(s,x.data,x.gc,f,u),g=p;n.push(f),o.push(g),y=Math.max(f,y),v=Math.max(g,v)}!function(e,t){Ks(e,(e=>{const a=e.gc,s=a.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[a[r]];a.splice(0,s)}}))}(r,t);const j=n.indexOf(y),w=o.indexOf(v),N=e=>({width:n[e]||0,height:o[e]||0});return{first:N(0),last:N(t-1),widest:N(j),highest:N(w),widths:n,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Tr(this._alignToPixels?xn(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const a=t[e];return a.$context||(a.$context=function(e,t,a){return On(e,{tick:a,index:t,type:"tick"})}(this.getContext(),e,a))}return this.$context||(this.$context=On(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=_r(this.labelRotation),a=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),n=e.autoSkipPadding||0,o=r?r.widest.width+n:0,i=r?r.highest.height+n:0;return this.isHorizontal()?i*a>o*s?o/a:i/s:i*s<o*a?i/a:o/s}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,a=this.chart,s=this.options,{grid:r,position:n,border:o}=s,i=r.offset,l=this.isHorizontal(),c=this.ticks.length+(i?1:0),d=nl(r),u=[],h=o.setContext(this.getContext()),m=h.display?h.width:0,x=m/2,p=function(e){return xn(a,e,m)};let f,g,b,y,v,j,w,N,_,k,S,C;if("top"===n)f=p(this.bottom),j=this.bottom-d,N=f-x,k=p(e.top)+x,C=e.bottom;else if("bottom"===n)f=p(this.top),k=e.top,C=p(e.bottom)-x,j=f+x,N=this.top+d;else if("left"===n)f=p(this.right),v=this.right-d,w=f-x,_=p(e.left)+x,S=e.right;else if("right"===n)f=p(this.left),_=e.left,S=p(e.right)-x,v=f+x,w=this.left+d;else if("x"===t){if("center"===n)f=p((e.top+e.bottom)/2+.5);else if(Hs(n)){const e=Object.keys(n)[0],t=n[e];f=p(this.chart.scales[e].getPixelForValue(t))}k=e.top,C=e.bottom,j=f+x,N=j+d}else if("y"===t){if("center"===n)f=p((e.left+e.right)/2);else if(Hs(n)){const e=Object.keys(n)[0],t=n[e];f=p(this.chart.scales[e].getPixelForValue(t))}v=f-x,w=v-d,_=e.left,S=e.right}const M=$s(s.ticks.maxTicksLimit,c),L=Math.max(1,Math.ceil(c/M));for(g=0;g<c;g+=L){const e=this.getContext(g),t=r.setContext(e),s=o.setContext(e),n=t.lineWidth,c=t.color,d=s.dash||[],h=s.dashOffset,m=t.tickWidth,x=t.tickColor,p=t.tickBorderDash||[],f=t.tickBorderDashOffset;b=rl(this,g,i),void 0!==b&&(y=xn(a,b,n),l?v=w=_=S=y:j=N=k=C=y,u.push({tx1:v,ty1:j,tx2:w,ty2:N,x1:_,y1:k,x2:S,y2:C,width:n,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:x,tickBorderDash:p,tickBorderDashOffset:f}))}return this._ticksLength=c,this._borderValue=f,u}_computeLabelItems(e){const t=this.axis,a=this.options,{position:s,ticks:r}=a,n=this.isHorizontal(),o=this.ticks,{align:i,crossAlign:l,padding:c,mirror:d}=r,u=nl(a.grid),h=u+c,m=d?-c:h,x=-_r(this.labelRotation),p=[];let f,g,b,y,v,j,w,N,_,k,S,C,M="middle";if("top"===s)j=this.bottom-m,w=this._getXAxisLabelAlignment();else if("bottom"===s)j=this.top+m,w=this._getXAxisLabelAlignment();else if("left"===s){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("right"===s){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("x"===t){if("center"===s)j=(e.top+e.bottom)/2+h;else if(Hs(s)){const e=Object.keys(s)[0],t=s[e];j=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)v=(e.left+e.right)/2-h;else if(Hs(s)){const e=Object.keys(s)[0],t=s[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===i?M="top":"end"===i&&(M="bottom"));const L=this._getLabelSizes();for(f=0,g=o.length;f<g;++f){b=o[f],y=b.label;const e=r.setContext(this.getContext(f));N=this.getPixelForTick(f)+r.labelOffset,_=this._resolveTickFontOptions(f),k=_.lineHeight,S=Us(y)?y.length:1;const t=S/2,a=e.color,i=e.textStrokeColor,c=e.textStrokeWidth;let u,h=w;if(n?(v=N,"inner"===w&&(h=f===g-1?this.options.reverse?"left":"right":0===f?this.options.reverse?"right":"left":"center"),C="top"===s?"near"===l||0!==x?-S*k+k/2:"center"===l?-L.highest.height/2-t*k+k:-L.highest.height+k/2:"near"===l||0!==x?k/2:"center"===l?L.highest.height/2-t*k:L.highest.height-S*k,d&&(C*=-1),0===x||e.showLabelBackdrop||(v+=k/2*Math.sin(x))):(j=N,C=(1-S)*k/2),e.showLabelBackdrop){const t=Pn(e.backdropPadding),a=L.heights[f],s=L.widths[f];let r=C-t.top,n=0-t.left;switch(M){case"middle":r-=a/2;break;case"bottom":r-=a}switch(w){case"center":n-=s/2;break;case"right":n-=s;break;case"inner":f===g-1?n-=s:f>0&&(n-=s/2)}u={left:n,top:r,width:s+t.width,height:a+t.height,color:e.backdropColor}}p.push({label:y,font:_,textOffset:C,options:{rotation:x,color:a,strokeColor:i,strokeWidth:c,textAlign:h,textBaseline:M,translation:[v,j],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-_r(this.labelRotation))return"top"===e?"left":"right";let a="center";return"start"===t.align?a="left":"end"===t.align?a="right":"inner"===t.align&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:a,mirror:s,padding:r}}=this.options,n=e+r,o=this._getLabelSizes().widest.width;let i,l;return"left"===t?s?(l=this.right+r,"near"===a?i="left":"center"===a?(i="center",l+=o/2):(i="right",l+=o)):(l=this.right-n,"near"===a?i="right":"center"===a?(i="center",l-=o/2):(i="left",l=this.left)):"right"===t?s?(l=this.left+r,"near"===a?i="right":"center"===a?(i="center",l-=o/2):(i="left",l-=o)):(l=this.left+n,"near"===a?i="left":"center"===a?(i="center",l+=o/2):(i="right",l=this.right)):i="right",{textAlign:i,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:a,top:s,width:r,height:n}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,s,r,n),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex((t=>t.value===e));if(a>=0){return t.setContext(this.getContext(a)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,a=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,n;const o=(e,t,s)=>{s.width&&s.color&&(a.save(),a.lineWidth=s.width,a.strokeStyle=s.color,a.setLineDash(s.borderDash||[]),a.lineDashOffset=s.borderDashOffset,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.restore())};if(t.display)for(r=0,n=s.length;r<n;++r){const e=s[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:a,grid:s}}=this,r=a.setContext(this.getContext()),n=a.display?r.width:0;if(!n)return;const o=s.setContext(this.getContext(0)).lineWidth,i=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=xn(e,this.left,n)-n/2,c=xn(e,this.right,o)+o/2,d=u=i):(d=xn(e,this.top,n)-n/2,u=xn(e,this.bottom,o)+o/2,l=c=i),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,a=this._computeLabelArea();a&&yn(t,a);const s=this.getLabelItems(e);for(const r of s){const e=r.options,a=r.font;kn(t,r.label,0,r.textOffset,a,e)}a&&vn(t)}drawTitle(){const{ctx:e,options:{position:t,title:a,reverse:s}}=this;if(!a.display)return;const r=zn(a.font),n=Pn(a.padding),o=a.align;let i=r.lineHeight/2;"bottom"===t||"center"===t||Hs(t)?(i+=n.bottom,Us(a.text)&&(i+=r.lineHeight*(a.text.length-1))):i+=n.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,a,s){const{top:r,left:n,bottom:o,right:i,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,m,x=0;const p=o-r,f=i-n;if(e.isHorizontal()){if(h=Ur(s,n,i),Hs(a)){const e=Object.keys(a)[0],s=a[e];m=d[e].getPixelForValue(s)+p-t}else m="center"===a?(c.bottom+c.top)/2+p-t:tl(e,a,t);u=i-n}else{if(Hs(a)){const e=Object.keys(a)[0],s=a[e];h=d[e].getPixelForValue(s)-f+t}else h="center"===a?(c.left+c.right)/2-f+t:tl(e,a,t);m=Ur(s,o,r),x="left"===a?-pr:pr}return{titleX:h,titleY:m,maxWidth:u,rotation:x}}(this,i,t,o);kn(e,a.text,0,0,r,{color:a.color,maxWidth:d,rotation:u,textAlign:il(o,t,s),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,a=$s(e.grid&&e.grid.z,-1),s=$s(e.border&&e.border.z,0);return this._isVisible()&&this.draw===ll.prototype.draw?[{z:a,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",s=[];let r,n;for(r=0,n=t.length;r<n;++r){const n=t[r];n[a]!==this.id||e&&n.type!==e||s.push(n)}return s}_resolveTickFontOptions(e){return zn(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cl{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let a;(function(e){return"id"in e&&"defaults"in e})(t)&&(a=this.register(t));const s=this.items,r=e.id,n=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,function(e,t,a){const s=tr(Object.create(null),[a?un.get(a):{},un.get(t),e.defaults]);un.set(t,s),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((a=>{const s=a.split("."),r=s.pop(),n=[e].concat(s).join("."),o=t[a].split("."),i=o.pop(),l=o.join(".");un.route(n,r,l,i)}))}(t,e.defaultRoutes);e.descriptors&&un.describe(t,e.descriptors)}(e,n,a),this.override&&un.override(e.id,e.overrides)),n}get(e){return this.items[e]}unregister(e){const t=this.items,a=e.id,s=this.scope;a in t&&delete t[a],s&&a in un[s]&&(delete un[s][a],this.override&&delete nn[a])}}class dl{constructor(){this.controllers=new cl(Qo,"datasets",!0),this.elements=new cl(Ji,"elements"),this.plugins=new cl(Object,"plugins"),this.scales=new cl(ll,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this._each("unregister",t,this.scales)}_each(e,t,a){[...t].forEach((t=>{const s=a||this._getRegistryForType(t);a||s.isForType(t)||s===this.plugins&&t.id?this._exec(e,s,t):Ks(t,(t=>{const s=a||this._getRegistryForType(t);this._exec(e,s,t)}))}))}_exec(e,t,a){const s=or(e);Qs(a["before"+s],[],a),t[e](a),Qs(a["after"+s],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){const s=t.get(e);if(void 0===s)throw new Error('"'+e+'" is not a registered '+a+".");return s}}var ul=new dl;class hl{constructor(){this._init=[]}notify(e,t,a,s){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),n=this._notify(r,e,t,a);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),n}_notify(e,t,a,s){s=s||{};for(const r of e){const e=r.plugin;if(!1===Qs(e[a],[t,s,r.options],e)&&s.cancelable)return!1}return!0}invalidate(){Vs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const a=e&&e.config,s=$s(a.options&&a.options.plugins,{}),r=function(e){const t={},a=[],s=Object.keys(ul.plugins.items);for(let n=0;n<s.length;n++)a.push(ul.getPlugin(s[n]));const r=e.plugins||[];for(let n=0;n<r.length;n++){const e=r[n];-1===a.indexOf(e)&&(a.push(e),t[e.id]=!0)}return{plugins:a,localIds:t}}(a);return!1!==s||t?function(e,t,a,s){let{plugins:r,localIds:n}=t;const o=[],i=e.getContext();for(const l of r){const t=l.id,r=ml(a[t],s);null!==r&&o.push({plugin:l,options:xl(e.config,{plugin:l,local:n[t]},r,i)})}return o}(e,r,s,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],a=this._cache,s=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(s(t,a),e,"stop"),this._notify(s(a,t),e,"start")}}function ml(e,t){return t||!1!==e?!0===e?{}:e:null}function xl(e,t,a,s){let{plugin:r,local:n}=t;const o=e.pluginScopeKeys(r),i=e.getOptionScopes(a,o);return n&&r.defaults&&i.push(r.defaults),e.createResolver(i,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pl(e,t){const a=un.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function fl(e){if("x"===e||"y"===e||"r"===e)return e}function gl(e){if(fl(e))return e;for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];for(const n of a){const t=n.axis||("top"===(r=n.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.length>1&&fl(e[0].toLowerCase());if(t)return t}var r;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function bl(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function yl(e,t){const a=nn[e.type]||{scales:{}},s=t.scales||{},r=pl(e.type,t),n=Object.create(null);return Object.keys(s).forEach((t=>{const o=s[t];if(!Hs(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const i=gl(t,o,function(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(a.length)return bl(e,"x",a[0])||bl(e,"y",a[0])}return{}}(t,e),un.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(i,r),c=a.scales||{};n[t]=ar(Object.create(null),[{axis:i},o,c[i],c[l]])})),e.data.datasets.forEach((a=>{const r=a.type||e.type,o=a.indexAxis||pl(r,t),i=(nn[r]||{}).scales||{};Object.keys(i).forEach((e=>{const t=function(e,t){let a=e;return"_index_"===e?a=t:"_value_"===e&&(a="x"===t?"y":"x"),a}(e,o),r=a[t+"AxisID"]||t;n[r]=n[r]||Object.create(null),ar(n[r],[{axis:t},s[r],i[e]])}))})),Object.keys(n).forEach((e=>{const t=n[e];ar(t,[un.scales[t.type],un.scale])})),n}function vl(e){const t=e.options||(e.options={});t.plugins=$s(t.plugins,{}),t.scales=yl(e,t)}function jl(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const wl=new Map,Nl=new Set;function _l(e,t){let a=wl.get(e);return a||(a=t(),wl.set(e,a),Nl.add(a)),a}const kl=(e,t,a)=>{const s=nr(t,a);void 0!==s&&e.add(s)};class Sl{constructor(e){this._config=function(e){return(e=e||{}).data=jl(e.data),vl(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jl(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vl(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return _l(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return _l("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return _l("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,a=this.type;return _l("".concat(a,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const a=this._scopeCache;let s=a.get(e);return s&&!t||(s=new Map,a.set(e,s)),s}getOptionScopes(e,t,a){const{options:s,type:r}=this,n=this._cachedScopes(e,a),o=n.get(t);if(o)return o;const i=new Set;t.forEach((t=>{e&&(i.add(e),t.forEach((t=>kl(i,e,t)))),t.forEach((e=>kl(i,s,e))),t.forEach((e=>kl(i,nn[r]||{},e))),t.forEach((e=>kl(i,un,e))),t.forEach((e=>kl(i,on,e)))}));const l=Array.from(i);return 0===l.length&&l.push(Object.create(null)),Nl.has(t)&&n.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,nn[t]||{},un.datasets[t]||{},{type:t},un,on]}resolveNamedOptions(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:n,subPrefixes:o}=Cl(this._resolverCache,e,s);let i=n;if(function(e,t){const{isScriptable:a,isIndexable:s}=Bn(e);for(const r of t){const t=a(r),n=s(r),o=(n||t)&&e[r];if(t&&(lr(o)||Ml(o))||n&&Us(o))return!0}return!1}(n,t)){r.$shared=!1;i=Rn(n,a=lr(a)?a():a,this.createResolver(e,a,o))}for(const l of t)r[l]=i[l];return r}createResolver(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],s=arguments.length>3?arguments[3]:void 0;const{resolver:r}=Cl(this._resolverCache,e,a);return Hs(t)?Rn(r,t,void 0,s):r}}function Cl(e,t,a){let s=e.get(t);s||(s=new Map,e.set(t,s));const r=a.join();let n=s.get(r);if(!n){n={resolver:Dn(t,a),subPrefixes:a.filter((e=>!e.toLowerCase().includes("hover")))},s.set(r,n)}return n}const Ml=e=>Hs(e)&&Object.getOwnPropertyNames(e).some((t=>lr(e[t])));const Ll=["top","bottom","left","right","chartArea"];function El(e,t){return"top"===e||"bottom"===e||-1===Ll.indexOf(e)&&"x"===t}function Al(e,t){return function(a,s){return a[e]===s[e]?a[t]-s[t]:a[e]-s[e]}}function Tl(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),Qs(a&&a.onComplete,[e],t)}function Pl(e){const t=e.chart,a=t.options.animation;Qs(a&&a.onProgress,[e],t)}function zl(e){return ro()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Il={},Ol=e=>{const t=zl(e);return Object.values(Il).filter((e=>e.canvas===t)).pop()};function Dl(e,t,a){const s=Object.keys(e);for(const r of s){const s=+r;if(s>=t){const n=e[r];delete e[r],(a>0||s>t)&&(e[s+a]=n)}}}class Rl{static register(){ul.add(...arguments),Bl()}static unregister(){ul.remove(...arguments),Bl()}constructor(e,t){const a=this.config=new Sl(t),s=zl(e),r=Ol(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const n=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||function(e){return!ro()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Oi:Xi}(s)),this.platform.updateConfig(a);const o=this.platform.acquireContext(s,n.aspectRatio),i=o&&o.canvas,l=i&&i.height,c=i&&i.width;this.id=Ws(),this.ctx=o,this.canvas=i,this.width=c,this.height=l,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let a;return function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return t?(clearTimeout(a),a=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),n.resizeDelay||0),this._dataChanges=[],Il[this.id]=this,o&&i?(Po.listen(this,"complete",Tl),Po.listen(this,"progress",Pl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:s,_aspectRatio:r}=this;return Vs(e)?t&&r?r:s?a/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ul}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pn(this.canvas,this.ctx),this}stop(){return Po.stop(this),this}resize(e,t){Po.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const a=this.options,s=this.canvas,r=a.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(s,e,t,r),o=a.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,xo(this,o,!0)&&(this.notifyPlugins("resize",{size:n}),Qs(a.onResize,[this,n],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){Ks(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,a=this.scales,s=Object.keys(a).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const a=t[e],s=gl(e,a),r="r"===s,n="x"===s;return{options:a,dposition:r?"chartArea":n?"bottom":"left",dtype:r?"radialLinear":n?"category":"linear"}})))),Ks(r,(t=>{const r=t.options,n=r.id,o=gl(n,r),i=$s(r.type,t.dtype);void 0!==r.position&&El(r.position,o)===El(t.dposition)||(r.position=t.dposition),s[n]=!0;let l=null;if(n in a&&a[n].type===i)l=a[n];else{l=new(ul.getScale(i))({id:n,type:i,ctx:this.ctx,chart:this}),a[l.id]=l}l.init(r,e)})),Ks(s,((e,t)=>{e||delete a[t]})),Ks(a,(e=>{zi.configure(this,e,e.options),zi.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort(((e,t)=>e.index-t.index)),a>t){for(let e=t;e<a;++e)this._destroyDatasetMeta(e);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(Al("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,a)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(a)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let a,s;for(this._removeUnreferencedMetasets(),a=0,s=t.length;a<s;a++){const s=t[a];let r=this.getDatasetMeta(a);const n=s.type||this.config.type;if(r.type&&r.type!==n&&(this._destroyDatasetMeta(a),r=this.getDatasetMeta(a)),r.type=n,r.indexAxis=s.indexAxis||pl(n,this.options),r.order=s.order||0,r.index=a,r.label=""+s.label,r.visible=this.isDatasetVisible(a),r.controller)r.controller.updateIndex(a),r.controller.linkScales();else{const t=ul.getController(n),{datasetElementType:s,dataElementType:o}=un.datasets[n];Object.assign(t,{dataElementType:ul.getElement(o),datasetElementType:s&&ul.getElement(s)}),r.controller=new t(this,a),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Ks(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!s&&-1===r.indexOf(e);e.buildOrUpdateElements(t),n=Math.max(+e.getMaxOverflow(),n)}n=this._minPadding=a.layout.autoPadding?n:0,this._updateLayout(n),s||Ks(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Al("z","_idx"));const{_active:o,_lastEvent:i}=this;i?this._eventHandler(i,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Ks(this.scales,(e=>{zi.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);cr(t,a)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:a,start:s,count:r}of t){Dl(e,s,"_removeElements"===a?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,a=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),s=a(0);for(let r=1;r<t;r++)if(!cr(s,a(r)))return;return Array.from(s).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;zi.update(this,this.width,this.height,e);const t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],Ks(this.boxes,(e=>{a&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,lr(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const a=this.getDatasetMeta(e),s={meta:a,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(a.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Po.has(this)?this.attached&&!Po.running(this)&&Po.start(this):(this.draw(),Tl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,a=[];let s,r;for(s=0,r=t.length;s<r;++s){const r=t[s];e&&!r.visible||a.push(r)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,a={meta:e,index:e.index,cancelable:!0},s=Ao(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(s&&yn(t,s),e.controller.draw(),s&&vn(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return bn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,s){const r=ji.modes[t];return"function"===typeof r?r(this,e,a,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],a=this._metasets;let s=a.filter((e=>e&&e._dataset===t)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(s)),s}getContext(){return this.$context||(this.$context=On(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const a=this.getDatasetMeta(e);return"boolean"===typeof a.hidden?!a.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){const s=a?"show":"hide",r=this.getDatasetMeta(e),n=r.controller._resolveAnimations(void 0,s);ir(t)?(r.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),n.update(r,{visible:a}),this.update((t=>t.datasetIndex===e?s:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Po.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pn(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Il[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,a=(a,s)=>{t.addEventListener(this,a,s),e[a]=s},s=(e,t,a)=>{e.offsetX=t,e.offsetY=a,this._eventHandler(e)};Ks(this.options.events,(e=>a(e,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,a=(a,s)=>{t.addEventListener(this,a,s),e[a]=s},s=(a,s)=>{e[a]&&(t.removeEventListener(this,a,s),delete e[a])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let n;const o=()=>{s("attach",o),this.attached=!0,this.resize(),a("resize",r),a("detach",n)};n=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),a("attach",o)},t.isAttached(this.canvas)?o():n()}unbindEvents(){Ks(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Ks(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){const s=a?"set":"remove";let r,n,o,i;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),o=0,i=e.length;o<i;++o){n=e[o];const t=n&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[s+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],a=e.map((e=>{let{datasetIndex:t,index:a}=e;const s=this.getDatasetMeta(t);if(!s)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:s.data[a],index:a}}));!Xs(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,a){const s=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),n=r(t,e),o=a?e:r(e,t);n.length&&this.updateHoverStyle(n,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,t){const a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",a,s))return;const r=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,s),(r||a.changed)&&this.render(),this}_handleEvent(e,t,a){const{_active:s=[],options:r}=this,n=t,o=this._getActiveElements(e,s,a,n),i=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,a,s){return a&&"mouseout"!==e.type?s?t:e:null}(e,this._lastEvent,a,i);a&&(this._lastEvent=null,Qs(r.onHover,[e,o,this],this),i&&Qs(r.onClick,[e,o,this],this));const c=!Xs(o,s);return(c||t)&&(this._active=o,this._updateHoverStyles(o,s,t)),this._lastEvent=l,c}_getActiveElements(e,t,a,s){if("mouseout"===e.type)return[];if(!a)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}function Bl(){return Ks(Rl.instances,(e=>e._plugins.invalidate()))}function Fl(e,t,a,s){const r=En(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const n=(a-t)/2,o=Math.min(n,s*t/2),i=e=>{const t=(a-Math.min(n,e))*s/2;return Tr(e,0,Math.min(n,t))};return{outerStart:i(r.outerStart),outerEnd:i(r.outerEnd),innerStart:Tr(r.innerStart,0,o),innerEnd:Tr(r.innerEnd,0,o)}}function Wl(e,t,a,s){return{x:a+e*Math.cos(t),y:s+e*Math.sin(t)}}function Vl(e,t,a,s,r,n){const{x:o,y:i,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+s+a-c,0),h=d>0?d+s+a+c:0;let m=0;const x=r-l;if(s){const e=((d>0?d-s:0)+(u>0?u-s:0))/2;m=(x-(0!==e?x*e/(e+s):x))/2}const p=(x-Math.max(.001,x*u-a/dr)/u)/2,f=l+p+m,g=r-p-m,{outerStart:b,outerEnd:y,innerStart:v,innerEnd:j}=Fl(t,h,u,g-f),w=u-b,N=u-y,_=f+b/w,k=g-y/N,S=h+v,C=h+j,M=f+v/S,L=g-j/C;if(e.beginPath(),n){const t=(_+k)/2;if(e.arc(o,i,u,_,t),e.arc(o,i,u,t,k),y>0){const t=Wl(N,k,o,i);e.arc(t.x,t.y,y,k,g+pr)}const a=Wl(C,g,o,i);if(e.lineTo(a.x,a.y),j>0){const t=Wl(C,L,o,i);e.arc(t.x,t.y,j,g+pr,L+Math.PI)}const s=(g-j/h+(f+v/h))/2;if(e.arc(o,i,h,g-j/h,s,!0),e.arc(o,i,h,s,f+v/h,!0),v>0){const t=Wl(S,M,o,i);e.arc(t.x,t.y,v,M+Math.PI,f-pr)}const r=Wl(w,f,o,i);if(e.lineTo(r.x,r.y),b>0){const t=Wl(w,_,o,i);e.arc(t.x,t.y,b,f-pr,_)}}else{e.moveTo(o,i);const t=Math.cos(_)*u+o,a=Math.sin(_)*u+i;e.lineTo(t,a);const s=Math.cos(k)*u+o,r=Math.sin(k)*u+i;e.lineTo(s,r)}e.closePath()}function Ul(e,t,a,s,r){const{fullCircles:n,startAngle:o,circumference:i,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=l,x="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,x?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(n){Vl(e,t,a,s,p,r);for(let t=0;t<n;++t)e.stroke();isNaN(i)||(p=o+(i%ur||ur))}x&&function(e,t,a){const{startAngle:s,pixelMargin:r,x:n,y:o,outerRadius:i,innerRadius:l}=t;let c=r/i;e.beginPath(),e.arc(n,o,i,s-c,a+c),l>r?(c=r/l,e.arc(n,o,l,a+c,s-c,!0)):e.arc(n,o,r,a+pr,s-pr),e.closePath(),e.clip()}(e,t,p),l.selfJoin&&p-o>=dr&&0===m&&"miter"!==d&&function(e,t,a){const{startAngle:s,x:r,y:n,outerRadius:o,innerRadius:i,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/o,Er(s-a));if(e.beginPath(),e.arc(r,n,o-c/2,s+u/2,a-u/2),i>0){const t=Math.min(c/i,Er(s-a));e.arc(r,n,i+c/2,a-t/2,s+t/2,!0)}else{const t=Math.min(c/2,o*Er(s-a));if("round"===d)e.arc(r,n,t,a-dr/2,s+dr/2,!0);else if("bevel"===d){const o=2*t*t,i=-o*Math.cos(a+dr/2)+r,l=-o*Math.sin(a+dr/2)+n,c=o*Math.cos(s+dr/2)+r,d=o*Math.sin(s+dr/2)+n;e.lineTo(i,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,p),n||(Vl(e,t,a,s,p,r),e.stroke())}l(Rl,"defaults",un),l(Rl,"instances",Il),l(Rl,"overrides",nn),l(Rl,"registry",ul),l(Rl,"version","4.5.0"),l(Rl,"getChart",Ol);class Hl extends Ji{constructor(e){super(),l(this,"circumference",void 0),l(this,"endAngle",void 0),l(this,"fullCircles",void 0),l(this,"innerRadius",void 0),l(this,"outerRadius",void 0),l(this,"pixelMargin",void 0),l(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,a){const s=this.getProps(["x","y"],a),{angle:r,distance:n}=Cr(s,{x:e,y:t}),{startAngle:o,endAngle:i,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),u=(this.options.spacing+this.options.borderWidth)/2,h=$s(d,i-o),m=Ar(r,o,i)&&o!==i,x=h>=ur||m,p=Pr(n,l+u,c+u);return x&&p}getCenterPoint(e){const{x:t,y:a,startAngle:s,endAngle:r,innerRadius:n,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:i,spacing:l}=this.options,c=(s+r)/2,d=(n+o+l+i)/2;return{x:t+Math.cos(c)*d,y:a+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:a}=this,s=(t.offset||0)/4,r=(t.spacing||0)/2,n=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=a>ur?Math.floor(a/ur):0,0===a||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*s,Math.sin(o)*s);const i=s*(1-Math.sin(Math.min(dr,a||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,a,s,r){const{fullCircles:n,startAngle:o,circumference:i}=t;let l=t.endAngle;if(n){Vl(e,t,a,s,l,r);for(let t=0;t<n;++t)e.fill();isNaN(i)||(l=o+(i%ur||ur))}Vl(e,t,a,s,l,r),e.fill()}(e,this,i,r,n),Ul(e,this,i,r,n),e.restore()}}function ql(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=$s(a.borderCapStyle,t.borderCapStyle),e.setLineDash($s(a.borderDash,t.borderDash)),e.lineDashOffset=$s(a.borderDashOffset,t.borderDashOffset),e.lineJoin=$s(a.borderJoinStyle,t.borderJoinStyle),e.lineWidth=$s(a.borderWidth,t.borderWidth),e.strokeStyle=$s(a.borderColor,t.borderColor)}function Gl(e,t,a){e.lineTo(a.x,a.y)}function $l(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length,{start:r=0,end:n=s-1}=a,{start:o,end:i}=t,l=Math.max(r,o),c=Math.min(n,i),d=r<o&&n<o||r>i&&n>i;return{count:s,start:l,loop:t.loop,ilen:c<l&&!d?s+c-l:c-l}}function Yl(e,t,a,s){const{points:r,options:n}=t,{count:o,start:i,loop:l,ilen:c}=$l(r,a,s),d=function(e){return e.stepped?jn:e.tension||"monotone"===e.cubicInterpolationMode?wn:Gl}(n);let u,h,m,{move:x=!0,reverse:p}=s||{};for(u=0;u<=c;++u)h=r[(i+(p?c-u:u))%o],h.skip||(x?(e.moveTo(h.x,h.y),x=!1):d(e,m,h,p,n.stepped),m=h);return l&&(h=r[(i+(p?c:0))%o],d(e,m,h,p,n.stepped)),!!l}function Ql(e,t,a,s){const r=t.points,{count:n,start:o,ilen:i}=$l(r,a,s),{move:l=!0,reverse:c}=s||{};let d,u,h,m,x,p,f=0,g=0;const b=e=>(o+(c?i-e:e))%n,y=()=>{m!==x&&(e.lineTo(f,x),e.lineTo(f,m),e.lineTo(f,p))};for(l&&(u=r[b(0)],e.moveTo(u.x,u.y)),d=0;d<=i;++d){if(u=r[b(d)],u.skip)continue;const t=u.x,a=u.y,s=0|t;s===h?(a<m?m=a:a>x&&(x=a),f=(g*f+t)/++g):(y(),e.lineTo(t,a),h=s,g=0,m=x=a),p=a}y()}function Kl(e){const t=e.options,a=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!a?Ql:Yl}l(Hl,"id","arc"),l(Hl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),l(Hl,"defaultRoutes",{backgroundColor:"backgroundColor"}),l(Hl,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Xl="function"===typeof Path2D;function Jl(e,t,a,s){Xl&&!t.options.segment?function(e,t,a,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,a,s)&&r.closePath()),ql(e,t.options),e.stroke(r)}(e,t,a,s):function(e,t,a,s){const{segments:r,options:n}=t,o=Kl(t);for(const i of r)ql(e,n,i.style),e.beginPath(),o(e,t,i,{start:a,end:a+s-1})&&e.closePath(),e.stroke()}(e,t,a,s)}class Zl extends Ji{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const a=this.options;if((a.tension||"monotone"===a.cubicInterpolationMode)&&!a.stepped&&!this._pointsUpdated){const s=a.spanGaps?this._loop:this._fullLoop;so(this._points,a,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const a=e.points,s=e.options.spanGaps,r=a.length;if(!r)return[];const n=!!e._loop,{start:o,end:i}=function(e,t,a,s){let r=0,n=t-1;if(a&&!s)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,a&&(n+=r);n>r&&e[n%t].skip;)n--;return n%=t,{start:r,end:n}}(a,r,n,s);return Co(e,!0===s?[{start:o,end:i,loop:n}]:function(e,t,a,s){const r=e.length,n=[];let o,i=t,l=e[t];for(o=t+1;o<=a;++o){const a=e[o%r];a.skip||a.stop?l.skip||(s=!1,n.push({start:t%r,end:(o-1)%r,loop:s}),t=i=a.stop?o:null):(i=o,l.skip&&(t=o)),l=a}return null!==i&&n.push({start:t%r,end:i%r,loop:s}),n}(a,o,i<o?i+r:i,!!e._fullLoop&&0===o&&i===r-1),a,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,a=e.length;return a&&t[e[a-1].end]}interpolate(e,t){const a=this.options,s=e[t],r=this.points,n=So(this,{property:t,start:s,end:s});if(!n.length)return;const o=[],i=function(e){return e.stepped?bo:e.tension||"monotone"===e.cubicInterpolationMode?yo:go}(a);let l,c;for(l=0,c=n.length;l<c;++l){const{start:c,end:d}=n[l],u=r[c],h=r[d];if(u===h){o.push(u);continue}const m=i(u,h,Math.abs((s-u[t])/(h[t]-u[t])),a.stepped);m[t]=e[t],o.push(m)}return 1===o.length?o[0]:o}pathSegment(e,t,a){return Kl(this)(e,this,t,a)}path(e,t,a){const s=this.segments,r=Kl(this);let n=this._loop;t=t||0,a=a||this.points.length-t;for(const o of s)n&=r(e,this,o,{start:t,end:t+a-1});return!!n}draw(e,t,a,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Jl(e,this,a,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ec(e,t,a,s){const r=e.options,{[a]:n}=e.getProps([a],s);return Math.abs(t-n)<r.radius+r.hitRadius}l(Zl,"id","line"),l(Zl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),l(Zl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),l(Zl,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class tc extends Ji{constructor(e){super(),l(this,"parsed",void 0),l(this,"skip",void 0),l(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,a){const s=this.options,{x:r,y:n}=this.getProps(["x","y"],a);return Math.pow(e-r,2)+Math.pow(t-n,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return ec(this,e,"x",t)}inYRange(e,t){return ec(this,e,"y",t)}getCenterPoint(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const a=this.options;this.skip||a.radius<.1||!bn(this,t,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,fn(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ac(e,t){const{x:a,y:s,base:r,width:n,height:o}=e.getProps(["x","y","base","width","height"],t);let i,l,c,d,u;return e.horizontal?(u=o/2,i=Math.min(a,r),l=Math.max(a,r),c=s-u,d=s+u):(u=n/2,i=a-u,l=a+u,c=Math.min(s,r),d=Math.max(s,r)),{left:i,top:c,right:l,bottom:d}}function sc(e,t,a,s){return e?0:Tr(t,a,s)}function rc(e){const t=ac(e),a=t.right-t.left,s=t.bottom-t.top,r=function(e,t,a){const s=e.options.borderWidth,r=e.borderSkipped,n=An(s);return{t:sc(r.top,n.top,0,a),r:sc(r.right,n.right,0,t),b:sc(r.bottom,n.bottom,0,a),l:sc(r.left,n.left,0,t)}}(e,a/2,s/2),n=function(e,t,a){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,n=Tn(r),o=Math.min(t,a),i=e.borderSkipped,l=s||Hs(r);return{topLeft:sc(!l||i.top||i.left,n.topLeft,0,o),topRight:sc(!l||i.top||i.right,n.topRight,0,o),bottomLeft:sc(!l||i.bottom||i.left,n.bottomLeft,0,o),bottomRight:sc(!l||i.bottom||i.right,n.bottomRight,0,o)}}(e,a/2,s/2);return{outer:{x:t.left,y:t.top,w:a,h:s,radius:n},inner:{x:t.left+r.l,y:t.top+r.t,w:a-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,n.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(r.b,r.r))}}}}function nc(e,t,a,s){const r=null===t,n=null===a,o=e&&!(r&&n)&&ac(e,s);return o&&(r||Pr(t,o.left,o.right))&&(n||Pr(a,o.top,o.bottom))}function oc(e,t){e.rect(t.x,t.y,t.w,t.h)}function ic(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.x!==a.x?-t:0,r=e.y!==a.y?-t:0,n=(e.x+e.w!==a.x+a.w?t:0)-s,o=(e.y+e.h!==a.y+a.h?t:0)-r;return{x:e.x+s,y:e.y+r,w:e.w+n,h:e.h+o,radius:e.radius}}l(tc,"id","point"),l(tc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),l(tc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class lc extends Ji{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:a,backgroundColor:s}}=this,{inner:r,outer:n}=rc(this),o=(i=n.radius).topLeft||i.topRight||i.bottomLeft||i.bottomRight?Sn:oc;var i;e.save(),n.w===r.w&&n.h===r.h||(e.beginPath(),o(e,ic(n,t,r)),e.clip(),o(e,ic(r,-t,n)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),o(e,ic(r,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,a){return nc(this,e,t,a)}inXRange(e,t){return nc(this,e,null,t)}inYRange(e,t){return nc(this,null,e,t)}getCenterPoint(e){const{x:t,y:a,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+s)/2:t,y:r?a:(a+s)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}l(lc,"id","bar"),l(lc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),l(lc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cc(e,t,a,s){if(s)return;let r=t[e],n=a[e];return"angle"===e&&(r=Er(r),n=Er(n)),{property:e,start:r,end:n}}function dc(e,t,a){for(;t>e;t--){const e=a[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function uc(e,t,a,s){return e&&t?s(e[a],t[a]):e?e[a]:t?t[a]:0}function hc(e,t){let a=[],s=!1;return Us(e)?(s=!0,a=e):a=function(e,t){const{x:a=null,y:s=null}=e||{},r=t.points,n=[];return t.segments.forEach((e=>{let{start:t,end:o}=e;o=dc(t,o,r);const i=r[t],l=r[o];null!==s?(n.push({x:i.x,y:s}),n.push({x:l.x,y:s})):null!==a&&(n.push({x:a,y:i.y}),n.push({x:a,y:l.y}))})),n}(e,t),a.length?new Zl({points:a,options:{tension:0},_loop:s,_fullLoop:s}):null}function mc(e){return e&&!1!==e.fill}function xc(e,t,a){let s=e[t].fill;const r=[t];let n;if(!a)return s;for(;!1!==s&&-1===r.indexOf(s);){if(!qs(s))return s;if(n=e[s],!n)return!1;if(n.visible)return s;r.push(s),s=n.fill}return!1}function pc(e,t,a){const s=function(e){const t=e.options,a=t.fill;let s=$s(a&&a.target,a);void 0===s&&(s=!!t.backgroundColor);if(!1===s||null===s)return!1;if(!0===s)return"origin";return s}(e);if(Hs(s))return!isNaN(s.value)&&s;let r=parseFloat(s);return qs(r)&&Math.floor(r)===r?function(e,t,a,s){"-"!==e&&"+"!==e||(a=t+a);if(a===t||a<0||a>=s)return!1;return a}(s[0],t,r,a):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function fc(e,t,a){const s=[];for(let r=0;r<a.length;r++){const n=a[r],{first:o,last:i,point:l}=gc(n,t,"x");if(!(!l||o&&i))if(o)s.unshift(l);else if(e.push(l),!i)break}e.push(...s)}function gc(e,t,a){const s=e.interpolate(t,a);if(!s)return{};const r=s[a],n=e.segments,o=e.points;let i=!1,l=!1;for(let c=0;c<n.length;c++){const e=n[c],t=o[e.start][a],s=o[e.end][a];if(Pr(r,t,s)){i=r===t,l=r===s;break}}return{first:i,last:l,point:s}}class bc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,a){const{x:s,y:r,radius:n}=this;return t=t||{start:0,end:ur},e.arc(s,r,n,t.end,t.start,!0),!a.bounds}interpolate(e){const{x:t,y:a,radius:s}=this,r=e.angle;return{x:t+Math.cos(r)*s,y:a+Math.sin(r)*s,angle:r}}}function yc(e){const{chart:t,fill:a,line:s}=e;if(qs(a))return function(e,t){const a=e.getDatasetMeta(t),s=a&&e.isDatasetVisible(t);return s?a.dataset:null}(t,a);if("stack"===a)return function(e){const{scale:t,index:a,line:s}=e,r=[],n=s.segments,o=s.points,i=function(e,t){const a=[],s=e.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const e=s[r];if(e.index===t)break;e.hidden||a.unshift(e.dataset)}return a}(t,a);i.push(hc({x:null,y:t.bottom},s));for(let l=0;l<n.length;l++){const e=n[l];for(let t=e.start;t<=e.end;t++)fc(r,o[t],i)}return new Zl({points:r,options:{}})}(e);if("shape"===a)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:a}=e,s=t.options,r=t.getLabels().length,n=s.reverse?t.max:t.min,o=function(e,t,a){let s;return s="start"===e?a:"end"===e?t.options.reverse?t.min:t.max:Hs(e)?e.value:t.getBaseValue(),s}(a,t,n),i=[];if(s.grid.circular){const e=t.getPointPositionForValue(0,n);return new bc({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)i.push(t.getPointPositionForValue(l,o));return i}(e);return function(e){const{scale:t={},fill:a}=e,s=function(e,t){let a=null;return"start"===e?a=t.bottom:"end"===e?a=t.top:Hs(e)?a=t.getPixelForValue(e.value):t.getBasePixel&&(a=t.getBasePixel()),a}(a,t);if(qs(s)){const e=t.isHorizontal();return{x:e?s:null,y:e?null:s}}return null}(e)}(e);return r instanceof bc?r:hc(r,s)}function vc(e,t,a){const s=yc(t),{chart:r,index:n,line:o,scale:i,axis:l}=t,c=o.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:m=u}=d||{},x=r.getDatasetMeta(n),p=Ao(r,x);s&&o.points.length&&(yn(e,a),function(e,t){const{line:a,target:s,above:r,below:n,area:o,scale:i,clip:l}=t,c=a._loop?"angle":t.axis;e.save();let d=n;n!==r&&("x"===c?(jc(e,s,o.top),Nc(e,{line:a,target:s,color:r,scale:i,property:c,clip:l}),e.restore(),e.save(),jc(e,s,o.bottom)):"y"===c&&(wc(e,s,o.left),Nc(e,{line:a,target:s,color:n,scale:i,property:c,clip:l}),e.restore(),e.save(),wc(e,s,o.right),d=r));Nc(e,{line:a,target:s,color:d,scale:i,property:c,clip:l}),e.restore()}(e,{line:o,target:s,above:h,below:m,area:a,scale:i,axis:l,clip:p}),vn(e))}function jc(e,t,a){const{segments:s,points:r}=t;let n=!0,o=!1;e.beginPath();for(const i of s){const{start:s,end:l}=i,c=r[s],d=r[dc(s,l,r)];n?(e.moveTo(c.x,c.y),n=!1):(e.lineTo(c.x,a),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,i,{move:o}),o?e.closePath():e.lineTo(d.x,a)}e.lineTo(t.first().x,a),e.closePath(),e.clip()}function wc(e,t,a){const{segments:s,points:r}=t;let n=!0,o=!1;e.beginPath();for(const i of s){const{start:s,end:l}=i,c=r[s],d=r[dc(s,l,r)];n?(e.moveTo(c.x,c.y),n=!1):(e.lineTo(a,c.y),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,i,{move:o}),o?e.closePath():e.lineTo(a,d.y)}e.lineTo(a,t.first().y),e.closePath(),e.clip()}function Nc(e,t){const{line:a,target:s,property:r,color:n,scale:o,clip:i}=t,l=function(e,t,a){const s=e.segments,r=e.points,n=t.points,o=[];for(const i of s){let{start:e,end:s}=i;s=dc(e,s,r);const l=cc(a,r[e],r[s],i.loop);if(!t.segments){o.push({source:i,target:l,start:r[e],end:r[s]});continue}const c=So(t,l);for(const t of c){const e=cc(a,n[t.start],n[t.end],t.loop),s=ko(i,r,e);for(const r of s)o.push({source:r,target:t,start:{[a]:uc(l,e,"start",Math.max)},end:{[a]:uc(l,e,"end",Math.min)}})}}return o}(a,s,r);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=n}={}}=c,l=!0!==s;e.save(),e.fillStyle=t,_c(e,o,i,l&&cc(r,u,h)),e.beginPath();const m=!!a.pathSegment(e,c);let x;if(l){m?e.closePath():kc(e,s,h,r);const t=!!s.pathSegment(e,d,{move:m,reverse:!0});x=m&&t,x||kc(e,s,u,r)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function _c(e,t,a,s){const r=t.chart.chartArea,{property:n,start:o,end:i}=s||{};if("x"===n||"y"===n){let t,s,l,c;"x"===n?(t=o,s=r.top,l=i,c=r.bottom):(t=r.left,s=o,l=r.right,c=i),e.beginPath(),a&&(t=Math.max(t,a.left),l=Math.min(l,a.right),s=Math.max(s,a.top),c=Math.min(c,a.bottom)),e.rect(t,s,l-t,c-s),e.clip()}}function kc(e,t,a,s){const r=t.interpolate(a,s);r&&e.lineTo(r.x,r.y)}var Sc={id:"filler",afterDatasetsUpdate(e,t,a){const s=(e.data.datasets||[]).length,r=[];let n,o,i,l;for(o=0;o<s;++o)n=e.getDatasetMeta(o),i=n.dataset,l=null,i&&i.options&&i instanceof Zl&&(l={visible:e.isDatasetVisible(o),index:o,fill:pc(i,o,s),chart:e,axis:n.controller.options.indexAxis,scale:n.vScale,line:i}),n.$filler=l,r.push(l);for(o=0;o<s;++o)l=r[o],l&&!1!==l.fill&&(l.fill=xc(r,o,a.propagate))},beforeDraw(e,t,a){const s="beforeDraw"===a.drawTime,r=e.getSortedVisibleDatasetMetas(),n=e.chartArea;for(let o=r.length-1;o>=0;--o){const t=r[o].$filler;t&&(t.line.updateControlPoints(n,t.axis),s&&t.fill&&vc(e.ctx,t,n))}},beforeDatasetsDraw(e,t,a){if("beforeDatasetsDraw"!==a.drawTime)return;const s=e.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const t=s[r].$filler;mc(t)&&vc(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,a){const s=t.meta.$filler;mc(s)&&"beforeDatasetDraw"===a.drawTime&&vc(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Cc=(e,t)=>{let{boxHeight:a=t,boxWidth:s=t}=e;return e.usePointStyle&&(a=Math.min(a,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:a,itemHeight:Math.max(t,a)}};class Mc extends Ji{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Qs(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,a)=>e.sort(t,a,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const a=e.labels,s=zn(a.font),r=s.size,n=this._computeTitleHeight(),{boxWidth:o,itemHeight:i}=Cc(a,r);let l,c;t.font=s.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(n,r,o,i)+10):(c=this.maxHeight,l=this._fitCols(n,s,o,i)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,s){const{ctx:r,maxWidth:n,options:{labels:{padding:o}}}=this,i=this.legendHitBoxes=[],l=this.lineWidths=[0],c=s+o;let d=e;r.textAlign="left",r.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,m)=>{const x=a+t/2+r.measureText(e.text).width;(0===m||l[l.length-1]+x+2*o>n)&&(d+=c,l[l.length-(m>0?0:1)]=0,h+=c,u++),i[m]={left:0,top:h,row:u,width:x,height:s},l[l.length-1]+=x+o})),d}_fitCols(e,t,a,s){const{ctx:r,maxHeight:n,options:{labels:{padding:o}}}=this,i=this.legendHitBoxes=[],l=this.columnSizes=[],c=n-e;let d=o,u=0,h=0,m=0,x=0;return this.legendItems.forEach(((e,n)=>{const{itemWidth:p,itemHeight:f}=function(e,t,a,s,r){const n=function(e,t,a,s){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+a.size/2+s.measureText(r).width}(s,e,t,a),o=function(e,t,a){let s=e;"string"!==typeof t.text&&(s=Lc(t,a));return s}(r,s,t.lineHeight);return{itemWidth:n,itemHeight:o}}(a,t,r,e,s);n>0&&h+f+2*o>c&&(d+=u+o,l.push({width:u,height:h}),m+=u+o,x++,u=h=0),i[n]={left:m,top:h,col:x,width:p,height:f},u=Math.max(u,p),h+=f+o})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:s},rtl:r}}=this,n=vo(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=Ur(a,this.left+s,this.right-this.lineWidths[r]);for(const i of t)r!==i.row&&(r=i.row,o=Ur(a,this.left+s,this.right-this.lineWidths[r])),i.top+=this.top+e+s,i.left=n.leftForLtr(n.x(o),i.width),o+=i.width+s}else{let r=0,o=Ur(a,this.top+e+s,this.bottom-this.columnSizes[r].height);for(const i of t)i.col!==r&&(r=i.col,o=Ur(a,this.top+e+s,this.bottom-this.columnSizes[r].height)),i.top=o,i.left+=this.left+s,i.left=n.leftForLtr(n.x(i.left),i.width),o+=i.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;yn(e,this),this._draw(),vn(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:a,ctx:s}=this,{align:r,labels:n}=e,o=un.color,i=vo(e.rtl,this.left,this.width),l=zn(n.font),{padding:c}=n,d=l.size,u=d/2;let h;this.drawTitle(),s.textAlign=i.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=l.string;const{boxWidth:m,boxHeight:x,itemHeight:p}=Cc(n,d),f=this.isHorizontal(),g=this._computeTitleHeight();h=f?{x:Ur(r,this.left+c,this.right-a[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:Ur(r,this.top+g+c,this.bottom-t[0].height),line:0},jo(this.ctx,e.textDirection);const b=p+c;this.legendItems.forEach(((y,v)=>{s.strokeStyle=y.fontColor,s.fillStyle=y.fontColor;const j=s.measureText(y.text).width,w=i.textAlign(y.textAlign||(y.textAlign=n.textAlign)),N=m+u+j;let _=h.x,k=h.y;i.setWidth(this.width),f?v>0&&_+N+c>this.right&&(k=h.y+=b,h.line++,_=h.x=Ur(r,this.left+c,this.right-a[h.line])):v>0&&k+b>this.bottom&&(_=h.x=_+t[h.line].width+c,h.line++,k=h.y=Ur(r,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,a){if(isNaN(m)||m<=0||isNaN(x)||x<0)return;s.save();const r=$s(a.lineWidth,1);if(s.fillStyle=$s(a.fillStyle,o),s.lineCap=$s(a.lineCap,"butt"),s.lineDashOffset=$s(a.lineDashOffset,0),s.lineJoin=$s(a.lineJoin,"miter"),s.lineWidth=r,s.strokeStyle=$s(a.strokeStyle,o),s.setLineDash($s(a.lineDash,[])),n.usePointStyle){const o={radius:x*Math.SQRT2/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:r},l=i.xPlus(e,m/2);gn(s,o,l,t+u,n.pointStyleWidth&&m)}else{const n=t+Math.max((d-x)/2,0),o=i.leftForLtr(e,m),l=Tn(a.borderRadius);s.beginPath(),Object.values(l).some((e=>0!==e))?Sn(s,{x:o,y:n,w:m,h:x,radius:l}):s.rect(o,n,m,x),s.fill(),0!==r&&s.stroke()}s.restore()}(i.x(_),k,y),_=((e,t,a,s)=>e===(s?"left":"right")?a:"center"===e?(t+a)/2:t)(w,_+m+u,f?_+N:this.right,e.rtl),function(e,t,a){kn(s,a.text,e,t+p/2,l,{strikethrough:a.hidden,textAlign:i.textAlign(a.textAlign)})}(i.x(_),k,y),f)h.x+=N+c;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=Lc(y,e)+c}else h.y+=b})),wo(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,a=zn(t.font),s=Pn(t.padding);if(!t.display)return;const r=vo(e.rtl,this.left,this.width),n=this.ctx,o=t.position,i=a.size/2,l=s.top+i;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Ur(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Ur(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Ur(o,d,d+u);n.textAlign=r.textAlign(Vr(o)),n.textBaseline="middle",n.strokeStyle=t.color,n.fillStyle=t.color,n.font=a.string,kn(n,t.text,h,c,a)}_computeTitleHeight(){const e=this.options.title,t=zn(e.font),a=Pn(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,s,r;if(Pr(e,this.left,this.right)&&Pr(t,this.top,this.bottom))for(r=this.legendHitBoxes,a=0;a<r.length;++a)if(s=r[a],Pr(e,s.left,s.left+s.width)&&Pr(t,s.top,s.top+s.height))return this.legendItems[a];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const a=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,o=(r=a,null!==(s=n)&&null!==r&&s.datasetIndex===r.datasetIndex&&s.index===r.index);n&&!o&&Qs(t.onLeave,[e,n,this],this),this._hoveredItem=a,a&&!o&&Qs(t.onHover,[e,a,this],this)}else a&&Qs(t.onClick,[e,a,this],this);var s,r}}function Lc(e,t){return t*(e.text?e.text.length:0)}var Ec={id:"legend",_element:Mc,start(e,t,a){const s=e.legend=new Mc({ctx:e.ctx,options:a,chart:e});zi.configure(e,s,a),zi.addBox(e,s)},stop(e){zi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const s=e.legend;zi.configure(e,s,a),s.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const s=t.datasetIndex,r=a.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:s,textAlign:r,color:n,useBorderRadius:o,borderRadius:i}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(a?0:void 0),c=Pn(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:n,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(i||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ac extends Ji{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const a=this.options;if(this.left=0,this.top=0,!a.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const s=Us(a.text)?a.text.length:1;this._padding=Pn(a.padding);const r=s*zn(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:a,bottom:s,right:r,options:n}=this,o=n.align;let i,l,c,d=0;return this.isHorizontal()?(l=Ur(o,a,r),c=t+e,i=r-a):("left"===n.position?(l=a+e,c=Ur(o,s,t),d=-.5*dr):(l=r-e,c=Ur(o,t,s),d=.5*dr),i=s-t),{titleX:l,titleY:c,maxWidth:i,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const a=zn(t.font),s=a.lineHeight/2+this._padding.top,{titleX:r,titleY:n,maxWidth:o,rotation:i}=this._drawArgs(s);kn(e,t.text,0,0,a,{color:t.color,maxWidth:o,rotation:i,textAlign:Vr(t.align),textBaseline:"middle",translation:[r,n]})}}var Tc={id:"title",_element:Ac,start(e,t,a){!function(e,t){const a=new Ac({ctx:e.ctx,options:t,chart:e});zi.configure(e,a,t),zi.addBox(e,a),e.titleBlock=a}(e,a)},stop(e){const t=e.titleBlock;zi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const s=e.titleBlock;zi.configure(e,s,a),s.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Pc={average(e){if(!e.length)return!1;let t,a,s=new Set,r=0,n=0;for(t=0,a=e.length;t<a;++t){const a=e[t].element;if(a&&a.hasValue()){const e=a.tooltipPosition();s.add(e.x),r+=e.y,++n}}if(0===n||0===s.size)return!1;return{x:[...s].reduce(((e,t)=>e+t))/s.size,y:r/n}},nearest(e,t){if(!e.length)return!1;let a,s,r,n=t.x,o=t.y,i=Number.POSITIVE_INFINITY;for(a=0,s=e.length;a<s;++a){const s=e[a].element;if(s&&s.hasValue()){const e=Mr(t,s.getCenterPoint());e<i&&(i=e,r=s)}}if(r){const e=r.tooltipPosition();n=e.x,o=e.y}return{x:n,y:o}}};function zc(e,t){return t&&(Us(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ic(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Oc(e,t){const{element:a,datasetIndex:s,index:r}=t,n=e.getDatasetMeta(s).controller,{label:o,value:i}=n.getLabelAndValue(r);return{chart:e,label:o,parsed:n.getParsed(r),raw:e.data.datasets[s].data[r],formattedValue:i,dataset:n.getDataset(),dataIndex:r,datasetIndex:s,element:a}}function Dc(e,t){const a=e.chart.ctx,{body:s,footer:r,title:n}=e,{boxWidth:o,boxHeight:i}=t,l=zn(t.bodyFont),c=zn(t.titleFont),d=zn(t.footerFont),u=n.length,h=r.length,m=s.length,x=Pn(t.padding);let p=x.height,f=0,g=s.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){p+=m*(t.displayColors?Math.max(i,l.lineHeight):l.lineHeight)+(g-m)*l.lineHeight+(g-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const y=function(e){f=Math.max(f,a.measureText(e).width+b)};return a.save(),a.font=c.string,Ks(e.title,y),a.font=l.string,Ks(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?o+2+t.boxPadding:0,Ks(s,(e=>{Ks(e.before,y),Ks(e.lines,y),Ks(e.after,y)})),b=0,a.font=d.string,Ks(e.footer,y),a.restore(),f+=x.width,{width:f,height:p}}function Rc(e,t,a,s){const{x:r,width:n}=a,{width:o,chartArea:{left:i,right:l}}=e;let c="center";return"center"===s?c=r<=(i+l)/2?"left":"right":r<=n/2?c="left":r>=o-n/2&&(c="right"),function(e,t,a,s){const{x:r,width:n}=s,o=a.caretSize+a.caretPadding;return"left"===e&&r+n+o>t.width||"right"===e&&r-n-o<0||void 0}(c,e,t,a)&&(c="center"),c}function Bc(e,t,a){const s=a.yAlign||t.yAlign||function(e,t){const{y:a,height:s}=t;return a<s/2?"top":a>e.height-s/2?"bottom":"center"}(e,a);return{xAlign:a.xAlign||t.xAlign||Rc(e,t,a,s),yAlign:s}}function Fc(e,t,a,s){const{caretSize:r,caretPadding:n,cornerRadius:o}=e,{xAlign:i,yAlign:l}=a,c=r+n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Tn(o);let x=function(e,t){let{x:a,width:s}=e;return"right"===t?a-=s:"center"===t&&(a-=s/2),a}(t,i);const p=function(e,t,a){let{y:s,height:r}=e;return"top"===t?s+=a:s-="bottom"===t?r+a:r/2,s}(t,l,c);return"center"===l?"left"===i?x+=c:"right"===i&&(x-=c):"left"===i?x-=Math.max(d,h)+r:"right"===i&&(x+=Math.max(u,m)+r),{x:Tr(x,0,s.width-t.width),y:Tr(p,0,s.height-t.height)}}function Wc(e,t,a){const s=Pn(a.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-s.right:e.x+s.left}function Vc(e){return zc([],Ic(e))}function Uc(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const Hc={beforeTitle:Fs,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,s=a?a.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return a[t.dataIndex]}return""},afterTitle:Fs,beforeBody:Fs,beforeLabel:Fs,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return Vs(a)||(t+=a),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Fs,afterBody:Fs,beforeFooter:Fs,footer:Fs,afterFooter:Fs};function qc(e,t,a,s){const r=e[t].call(a,s);return"undefined"===typeof r?Hc[t].call(a,s):r}class Gc extends Ji{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,a=this.options.setContext(this.getContext()),s=a.enabled&&t.options.animation&&a.animations,r=new Do(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,a=this._tooltipItems,On(e,{tooltip:t,tooltipItems:a,type:"tooltip"})));var e,t,a}getTitle(e,t){const{callbacks:a}=t,s=qc(a,"beforeTitle",this,e),r=qc(a,"title",this,e),n=qc(a,"afterTitle",this,e);let o=[];return o=zc(o,Ic(s)),o=zc(o,Ic(r)),o=zc(o,Ic(n)),o}getBeforeBody(e,t){return Vc(qc(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:a}=t,s=[];return Ks(e,(e=>{const t={before:[],lines:[],after:[]},r=Uc(a,e);zc(t.before,Ic(qc(r,"beforeLabel",this,e))),zc(t.lines,qc(r,"label",this,e)),zc(t.after,Ic(qc(r,"afterLabel",this,e))),s.push(t)})),s}getAfterBody(e,t){return Vc(qc(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:a}=t,s=qc(a,"beforeFooter",this,e),r=qc(a,"footer",this,e),n=qc(a,"afterFooter",this,e);let o=[];return o=zc(o,Ic(s)),o=zc(o,Ic(r)),o=zc(o,Ic(n)),o}_createItems(e){const t=this._active,a=this.chart.data,s=[],r=[],n=[];let o,i,l=[];for(o=0,i=t.length;o<i;++o)l.push(Oc(this.chart,t[o]));return e.filter&&(l=l.filter(((t,s,r)=>e.filter(t,s,r,a)))),e.itemSort&&(l=l.sort(((t,s)=>e.itemSort(t,s,a)))),Ks(l,(t=>{const a=Uc(e.callbacks,t);s.push(qc(a,"labelColor",this,t)),r.push(qc(a,"labelPointStyle",this,t)),n.push(qc(a,"labelTextColor",this,t))})),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=n,this.dataPoints=l,l}update(e,t){const a=this.options.setContext(this.getContext()),s=this._active;let r,n=[];if(s.length){const e=Pc[a.position].call(this,s,this._eventPosition);n=this._createItems(a),this.title=this.getTitle(n,a),this.beforeBody=this.getBeforeBody(n,a),this.body=this.getBody(n,a),this.afterBody=this.getAfterBody(n,a),this.footer=this.getFooter(n,a);const t=this._size=Dc(this,a),o=Object.assign({},e,t),i=Bc(this.chart,a,o),l=Fc(a,o,i,this.chart);this.xAlign=i.xAlign,this.yAlign=i.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=n,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,s){const r=this.getCaretPosition(e,a,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,a){const{xAlign:s,yAlign:r}=this,{caretSize:n,cornerRadius:o}=a,{topLeft:i,topRight:l,bottomLeft:c,bottomRight:d}=Tn(o),{x:u,y:h}=e,{width:m,height:x}=t;let p,f,g,b,y,v;return"center"===r?(y=h+x/2,"left"===s?(p=u,f=p-n,b=y+n,v=y-n):(p=u+m,f=p+n,b=y-n,v=y+n),g=p):(f="left"===s?u+Math.max(i,c)+n:"right"===s?u+m-Math.max(l,d)-n:this.caretX,"top"===r?(b=h,y=b-n,p=f-n,g=f+n):(b=h+x,y=b+n,p=f+n,g=f-n),v=b),{x1:p,x2:f,x3:g,y1:b,y2:y,y3:v}}drawTitle(e,t,a){const s=this.title,r=s.length;let n,o,i;if(r){const l=vo(a.rtl,this.x,this.width);for(e.x=Wc(this,a.titleAlign,a),t.textAlign=l.textAlign(a.titleAlign),t.textBaseline="middle",n=zn(a.titleFont),o=a.titleSpacing,t.fillStyle=a.titleColor,t.font=n.string,i=0;i<r;++i)t.fillText(s[i],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+o,i+1===r&&(e.y+=a.titleMarginBottom-o)}}_drawColorBox(e,t,a,s,r){const n=this.labelColors[a],o=this.labelPointStyles[a],{boxHeight:i,boxWidth:l}=r,c=zn(r.bodyFont),d=Wc(this,"left",r),u=s.x(d),h=i<c.lineHeight?(c.lineHeight-i)/2:0,m=t.y+h;if(r.usePointStyle){const t={radius:Math.min(l,i)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},a=s.leftForLtr(u,l)+l/2,c=m+i/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,fn(e,t,a,c),e.strokeStyle=n.borderColor,e.fillStyle=n.backgroundColor,fn(e,t,a,c)}else{e.lineWidth=Hs(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,e.strokeStyle=n.borderColor,e.setLineDash(n.borderDash||[]),e.lineDashOffset=n.borderDashOffset||0;const t=s.leftForLtr(u,l),a=s.leftForLtr(s.xPlus(u,1),l-2),o=Tn(n.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Sn(e,{x:t,y:m,w:l,h:i,radius:o}),e.fill(),e.stroke(),e.fillStyle=n.backgroundColor,e.beginPath(),Sn(e,{x:a,y:m+1,w:l-2,h:i-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,m,l,i),e.strokeRect(t,m,l,i),e.fillStyle=n.backgroundColor,e.fillRect(a,m+1,l-2,i-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){const{body:s}=this,{bodySpacing:r,bodyAlign:n,displayColors:o,boxHeight:i,boxWidth:l,boxPadding:c}=a,d=zn(a.bodyFont);let u=d.lineHeight,h=0;const m=vo(a.rtl,this.x,this.width),x=function(a){t.fillText(a,m.x(e.x+h),e.y+u/2),e.y+=u+r},p=m.textAlign(n);let f,g,b,y,v,j,w;for(t.textAlign=n,t.textBaseline="middle",t.font=d.string,e.x=Wc(this,p,a),t.fillStyle=a.bodyColor,Ks(this.beforeBody,x),h=o&&"right"!==p?"center"===n?l/2+c:l+2+c:0,y=0,j=s.length;y<j;++y){for(f=s[y],g=this.labelTextColors[y],t.fillStyle=g,Ks(f.before,x),b=f.lines,o&&b.length&&(this._drawColorBox(t,e,y,m,a),u=Math.max(d.lineHeight,i)),v=0,w=b.length;v<w;++v)x(b[v]),u=d.lineHeight;Ks(f.after,x)}h=0,u=d.lineHeight,Ks(this.afterBody,x),e.y-=r}drawFooter(e,t,a){const s=this.footer,r=s.length;let n,o;if(r){const i=vo(a.rtl,this.x,this.width);for(e.x=Wc(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=i.textAlign(a.footerAlign),t.textBaseline="middle",n=zn(a.footerFont),t.fillStyle=a.footerColor,t.font=n.string,o=0;o<r;++o)t.fillText(s[o],i.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+a.footerSpacing}}drawBackground(e,t,a,s){const{xAlign:r,yAlign:n}=this,{x:o,y:i}=e,{width:l,height:c}=a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Tn(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(o+d,i),"top"===n&&this.drawCaret(e,t,a,s),t.lineTo(o+l-u,i),t.quadraticCurveTo(o+l,i,o+l,i+u),"center"===n&&"right"===r&&this.drawCaret(e,t,a,s),t.lineTo(o+l,i+c-m),t.quadraticCurveTo(o+l,i+c,o+l-m,i+c),"bottom"===n&&this.drawCaret(e,t,a,s),t.lineTo(o+h,i+c),t.quadraticCurveTo(o,i+c,o,i+c-h),"center"===n&&"left"===r&&this.drawCaret(e,t,a,s),t.lineTo(o,i+d),t.quadraticCurveTo(o,i,o+d,i),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,a=this.$animations,s=a&&a.x,r=a&&a.y;if(s||r){const a=Pc[e.position].call(this,this._active,this._eventPosition);if(!a)return;const n=this._size=Dc(this,e),o=Object.assign({},a,this._size),i=Bc(t,e,o),l=Fc(e,o,i,t);s._to===l.x&&r._to===l.y||(this.xAlign=i.xAlign,this.yAlign=i.yAlign,this.width=n.width,this.height=n.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const n=Pn(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=a,this.drawBackground(r,e,s,t),jo(e,t.textDirection),r.y+=n.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),wo(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const a=this._active,s=e.map((e=>{let{datasetIndex:t,index:a}=e;const s=this.chart.getDatasetMeta(t);if(!s)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:s.data[a],index:a}})),r=!Xs(a,s),n=this._positionChanged(s,t);(r||n)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],n=this._getActiveElements(e,r,t,a),o=this._positionChanged(n,e),i=t||!Xs(n,r)||o;return i&&(this._active=n,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),i}_getActiveElements(e,t,a,s){const r=this.options;if("mouseout"===e.type)return[];if(!s)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const n=this.chart.getElementsAtEventForMode(e,r.mode,r,a);return r.reverse&&n.reverse(),n}_positionChanged(e,t){const{caretX:a,caretY:s,options:r}=this,n=Pc[r.position].call(this,e,t);return!1!==n&&(a!==n.x||s!==n.y)}}l(Gc,"positioners",Pc);var $c={id:"tooltip",_element:Gc,positioners:Pc,afterInit(e,t,a){a&&(e.tooltip=new Gc({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",d(d({},a),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Hc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Yc(e,t,a,s){const r=e.indexOf(t);if(-1===r)return((e,t,a,s)=>("string"===typeof t?(a=e.push(t)-1,s.unshift({index:a,label:t})):isNaN(t)&&(a=null),a))(e,t,a,s);return r!==e.lastIndexOf(t)?a:r}function Qc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Kc extends ll{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:a,label:s}of t)e[a]===s&&e.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Vs(e))return null;const a=this.getLabels();return((e,t)=>null===e?null:Tr(Math.round(e),0,t))(t=isFinite(t)&&a[t]===e?t:Yc(a,e,$s(t,e),this._addedLabels),a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:a,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(a=0),t||(s=this.getLabels().length-1)),this.min=a,this.max=s}buildTicks(){const e=this.min,t=this.max,a=this.options.offset,s=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let n=e;n<=t;n++)s.push({value:n});return s}getLabelForValue(e){return Qc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Xc(e,t){const a=[],{bounds:s,step:r,min:n,max:o,precision:i,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=r||1,m=c-1,{min:x,max:p}=t,f=!Vs(n),g=!Vs(o),b=!Vs(l),y=(p-x)/(d+1);let v,j,w,N,_=jr((p-x)/m/h)*h;if(_<1e-14&&!f&&!g)return[{value:x},{value:p}];N=Math.ceil(p/_)-Math.floor(x/_),N>m&&(_=jr(N*_/m/h)*h),Vs(i)||(v=Math.pow(10,i),_=Math.ceil(_*v)/v),"ticks"===s?(j=Math.floor(x/_)*_,w=Math.ceil(p/_)*_):(j=x,w=p),f&&g&&r&&function(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}((o-n)/r,_/1e3)?(N=Math.round(Math.min((o-n)/_,c)),_=(o-n)/N,j=n,w=o):b?(j=f?n:j,w=g?o:w,N=l-1,_=(w-j)/N):(N=(w-j)/_,N=vr(N,Math.round(N),_/1e3)?Math.round(N):Math.ceil(N));const k=Math.max(Sr(_),Sr(j));v=Math.pow(10,Vs(i)?k:i),j=Math.round(j*v)/v,w=Math.round(w*v)/v;let S=0;for(f&&(u&&j!==n?(a.push({value:n}),j<n&&S++,vr(Math.round((j+S*_)*v)/v,n,Jc(n,y,e))&&S++):j<n&&S++);S<N;++S){const e=Math.round((j+S*_)*v)/v;if(g&&e>o)break;a.push({value:e})}return g&&u&&w!==o?a.length&&vr(a[a.length-1].value,o,Jc(o,y,e))?a[a.length-1].value=o:a.push({value:o}):g&&w!==o||a.push({value:w}),a}function Jc(e,t,a){let{horizontal:s,minRotation:r}=a;const n=_r(r),o=(s?Math.sin(n):Math.cos(n))||.001,i=.75*t*(""+e).length;return Math.min(t/o,i)}l(Kc,"id","category"),l(Kc,"defaults",{ticks:{callback:Qc}});class Zc extends ll{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Vs(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:s,max:r}=this;const n=e=>s=t?s:e,o=e=>r=a?r:e;if(e){const e=yr(s),t=yr(r);e<0&&t<0?o(0):e>0&&t>0&&n(0)}if(s===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||n(s-t)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:a,stepSize:s}=e;return s?(t=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(s," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),a=a||11),a&&(t=Math.min(a,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const s=Xc({maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Nr(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const s=(a-t)/Math.max(e.length-1,1)/2;t-=s,a+=s}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return an(e,this.chart.options.locale,this.options.ticks.format)}}class ed extends Zc{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qs(e)?e:0,this.max=qs(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,a=_r(this.options.ticks.minRotation),s=(e?Math.sin(a):Math.cos(a))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}l(ed,"id","linear"),l(ed,"defaults",{ticks:{callback:rn.formatters.numeric}});const td=e=>Math.floor(br(e)),ad=(e,t)=>Math.pow(10,td(e)+t);function sd(e){return 1===e/Math.pow(10,td(e))}function rd(e,t,a){const s=Math.pow(10,a),r=Math.floor(e/s);return Math.ceil(t/s)-r}function nd(e,t){let{min:a,max:s}=t;a=Gs(e.min,a);const r=[],n=td(a);let o=function(e,t){let a=td(t-e);for(;rd(e,t,a)>10;)a++;for(;rd(e,t,a)<10;)a--;return Math.min(a,td(e))}(a,s),i=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=n>o?Math.pow(10,n):0,d=Math.round((a-c)*i)/i,u=Math.floor((a-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,o)),m=Gs(e.min,Math.round((c+u+h*Math.pow(10,o))*i)/i);for(;m<s;)r.push({value:m,major:sd(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,i=o>=0?1:i),m=Math.round((c+u+h*Math.pow(10,o))*i)/i;const x=Gs(e.max,m);return r.push({value:x,major:sd(x),significand:h}),r}class od extends ll{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const a=Zc.prototype.parse.apply(this,[e,t]);if(0!==a)return qs(a)&&a>0?a:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=qs(e)?Math.max(0,e):null,this.max=qs(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!qs(this._userMin)&&(this.min=e===ad(this.min,0)?ad(this.min,-1):ad(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let a=this.min,s=this.max;const r=t=>a=e?a:t,n=e=>s=t?s:e;a===s&&(a<=0?(r(1),n(10)):(r(ad(a,-1)),n(ad(s,1)))),a<=0&&r(ad(s,-1)),s<=0&&n(ad(a,1)),this.min=a,this.max=s}buildTicks(){const e=this.options,t=nd({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Nr(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":an(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=br(e),this._valueRange=br(this.max)-br(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(br(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function id(e){const t=e.ticks;if(t.display&&e.display){const e=Pn(t.backdropPadding);return $s(t.font&&t.font.size,un.font.size)+e.height}return 0}function ld(e,t,a,s,r){return e===s||e===r?{start:t-a/2,end:t+a/2}:e<s||e>r?{start:t-a,end:t}:{start:t,end:t+a}}function cd(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},t),s=[],r=[],n=e._pointLabels.length,o=e.options.pointLabels,i=o.centerPointLabels?dr/n:0;for(let u=0;u<n;u++){const n=o.setContext(e.getPointLabelContext(u));r[u]=n.padding;const h=e.getPointPosition(u,e.drawingArea+r[u],i),m=zn(n.font),x=(l=e.ctx,c=m,d=Us(d=e._pointLabels[u])?d:[d],{w:mn(l,c.string,d),h:d.length*c.lineHeight});s[u]=x;const p=Er(e.getIndexAngle(u)+i),f=Math.round(kr(p));dd(a,t,p,ld(f,h.x,x.w,0,180),ld(f,h.y,x.h,90,270))}var l,c,d;e.setCenterPoint(t.l-a.l,a.r-t.r,t.t-a.t,a.b-t.b),e._pointLabelItems=function(e,t,a){const s=[],r=e._pointLabels.length,n=e.options,{centerPointLabels:o,display:i}=n.pointLabels,l={extra:id(n)/2,additionalAngle:o?dr/r:0};let c;for(let d=0;d<r;d++){l.padding=a[d],l.size=t[d];const r=ud(e,d,l);s.push(r),"auto"===i&&(r.visible=hd(r,c),r.visible&&(c=r))}return s}(e,s,r)}function dd(e,t,a,s,r){const n=Math.abs(Math.sin(a)),o=Math.abs(Math.cos(a));let i=0,l=0;s.start<t.l?(i=(t.l-s.start)/n,e.l=Math.min(e.l,t.l-i)):s.end>t.r&&(i=(s.end-t.r)/n,e.r=Math.max(e.r,t.r+i)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function ud(e,t,a){const s=e.drawingArea,{extra:r,additionalAngle:n,padding:o,size:i}=a,l=e.getPointPosition(t,s+r+o,n),c=Math.round(kr(Er(l.angle+pr))),d=function(e,t,a){90===a||270===a?e-=t/2:(a>270||a<90)&&(e-=t);return e}(l.y,i.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,a){"right"===a?e-=t:"center"===a&&(e-=t/2);return e}(l.x,i.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+i.w,bottom:d+i.h}}function hd(e,t){if(!t)return!0;const{left:a,top:s,right:r,bottom:n}=e;return!(bn({x:a,y:s},t)||bn({x:a,y:n},t)||bn({x:r,y:s},t)||bn({x:r,y:n},t))}function md(e,t,a){const{left:s,top:r,right:n,bottom:o}=a,{backdropColor:i}=t;if(!Vs(i)){const a=Tn(t.borderRadius),l=Pn(t.backdropPadding);e.fillStyle=i;const c=s-l.left,d=r-l.top,u=n-s+l.width,h=o-r+l.height;Object.values(a).some((e=>0!==e))?(e.beginPath(),Sn(e,{x:c,y:d,w:u,h:h,radius:a}),e.fill()):e.fillRect(c,d,u,h)}}function xd(e,t,a,s){const{ctx:r}=e;if(a)r.arc(e.xCenter,e.yCenter,t,0,ur);else{let a=e.getPointPosition(0,t);r.moveTo(a.x,a.y);for(let n=1;n<s;n++)a=e.getPointPosition(n,t),r.lineTo(a.x,a.y)}}l(od,"id","logarithmic"),l(od,"defaults",{ticks:{callback:rn.formatters.logarithmic,major:{enabled:!0}}});class pd extends Zc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Pn(id(this.options)/2),t=this.width=this.maxWidth-e.width,a=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+a/2+e.top),this.drawingArea=Math.floor(Math.min(t,a)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=qs(e)&&!isNaN(e)?e:0,this.max=qs(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/id(this.options))}generateTickLabels(e){Zc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const a=Qs(this.options.pointLabels.callback,[e,t],this);return a||0===a?a:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?cd(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,a,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((a-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,a,s))}getIndexAngle(e){return Er(e*(ur/(this._pointLabels.length||1))+_r(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Vs(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Vs(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const a=t[e];return function(e,t,a){return On(e,{label:a,index:t,type:"pointLabel"})}(this.getContext(),e,a)}}getPointPosition(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=this.getIndexAngle(e)-pr+a;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:a,right:s,bottom:r}=this._pointLabelItems[e];return{left:t,top:a,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const a=this.ctx;a.save(),a.beginPath(),xd(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),a.closePath(),a.fillStyle=e,a.fill(),a.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:a,grid:s,border:r}=t,n=this._pointLabels.length;let o,i,l;if(t.pointLabels.display&&function(e,t){const{ctx:a,options:{pointLabels:s}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const n=s.setContext(e.getPointLabelContext(r));md(a,n,t);const o=zn(n.font),{x:i,y:l,textAlign:c}=t;kn(a,e._pointLabels[r],i,l+o.lineHeight/2,o,{color:n.color,textAlign:c,textBaseline:"middle"})}}(this,n),s.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){i=this.getDistanceFromCenterForValue(e.value);const a=this.getContext(t),o=s.setContext(a),l=r.setContext(a);!function(e,t,a,s,r){const n=e.ctx,o=t.circular,{color:i,lineWidth:l}=t;!o&&!s||!i||!l||a<0||(n.save(),n.strokeStyle=i,n.lineWidth=l,n.setLineDash(r.dash||[]),n.lineDashOffset=r.dashOffset,n.beginPath(),xd(e,a,o,s),n.closePath(),n.stroke(),n.restore())}(this,o,i,n,l)}})),a.display){for(e.save(),o=n-1;o>=0;o--){const s=a.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:n}=s;n&&r&&(e.lineWidth=n,e.strokeStyle=r,e.setLineDash(s.borderDash),e.lineDashOffset=s.borderDashOffset,i=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,i),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,a=t.ticks;if(!a.display)return;const s=this.getIndexAngle(0);let r,n;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((s,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const i=a.setContext(this.getContext(o)),l=zn(i.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),i.showLabelBackdrop){e.font=l.string,n=e.measureText(s.label).width,e.fillStyle=i.backdropColor;const t=Pn(i.backdropPadding);e.fillRect(-n/2-t.left,-r-l.size/2-t.top,n+t.width,l.size+t.height)}kn(e,s.label,0,-r,l,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth})})),e.restore()}drawTitle(){}}l(pd,"id","radialLinear"),l(pd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),l(pd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),l(pd,"descriptors",{angleLines:{_fallback:"grid"}});const fd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gd=Object.keys(fd);function bd(e,t){return e-t}function yd(e,t){if(Vs(t))return null;const a=e._adapter,{parser:s,round:r,isoWeekday:n}=e._parseOpts;let o=t;return"function"===typeof s&&(o=s(o)),qs(o)||(o="string"===typeof s?a.parse(o,s):a.parse(o)),null===o?null:(r&&(o="week"!==r||!wr(n)&&!0!==n?a.startOf(o,r):a.startOf(o,"isoWeek",n)),+o)}function vd(e,t,a,s){const r=gd.length;for(let n=gd.indexOf(e);n<r-1;++n){const e=fd[gd[n]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((a-t)/(r*e.size))<=s)return gd[n]}return gd[r-1]}function jd(e,t,a){if(a){if(a.length){const{lo:s,hi:r}=zr(a,t);e[a[s]>=t?a[s]:a[r]]=!0}}else e[t]=!0}function wd(e,t,a){const s=[],r={},n=t.length;let o,i;for(o=0;o<n;++o)i=t[o],r[i]=o,s.push({value:i,major:!1});return 0!==n&&a?function(e,t,a,s){const r=e._adapter,n=+r.startOf(t[0].value,s),o=t[t.length-1].value;let i,l;for(i=n;i<=o;i=+r.add(i,1,s))l=a[i],l>=0&&(t[l].major=!0);return t}(e,s,r,a):s}class Nd extends ll{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=e.time||(e.time={}),s=this._adapter=new xi(e.adapters.date);s.init(t),ar(a.displayFormats,s.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:yd(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,a=e.time.unit||"day";let{min:s,max:r,minDefined:n,maxDefined:o}=this.getUserBounds();function i(e){n||isNaN(e.min)||(s=Math.min(s,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}n&&o||(i(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||i(this.getMinMax(!1))),s=qs(s)&&!isNaN(s)?s:+t.startOf(Date.now(),a),r=qs(r)&&!isNaN(r)?r:+t.endOf(Date.now(),a)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],a=e[e.length-1]),{min:t,max:a}}buildTicks(){const e=this.options,t=e.time,a=e.ticks,s="labels"===a.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,n=function(e,t,a){let s=0,r=e.length;for(;s<r&&e[s]<t;)s++;for(;r>s&&e[r-1]>a;)r--;return s>0||r<e.length?e.slice(s,r):e}(s,r,this.max);return this._unit=t.unit||(a.autoSkip?vd(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,a,s,r){for(let n=gd.length-1;n>=gd.indexOf(a);n--){const a=gd[n];if(fd[a].common&&e._adapter.diff(r,s,a)>=t-1)return a}return gd[a?gd.indexOf(a):0]}(this,n.length,t.minUnit,this.min,this.max)),this._majorUnit=a.major.enabled&&"year"!==this._unit?function(e){for(let t=gd.indexOf(e)+1,a=gd.length;t<a;++t)if(fd[gd[t]].common)return gd[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&n.reverse(),wd(this,n,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=0,r=0;this.options.offset&&a.length&&(e=this.getDecimalForValue(a[0]),s=1===a.length?1-e:(this.getDecimalForValue(a[1])-e)/2,t=this.getDecimalForValue(a[a.length-1]),r=1===a.length?t:(t-this.getDecimalForValue(a[a.length-2]))/2);const n=a.length<3?.5:.25;s=Tr(s,0,n),r=Tr(r,0,n),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const e=this._adapter,t=this.min,a=this.max,s=this.options,r=s.time,n=r.unit||vd(r.minUnit,t,a,this._getLabelCapacity(t)),o=$s(s.ticks.stepSize,1),i="week"===n&&r.isoWeekday,l=wr(i)||!0===i,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",i)),h=+e.startOf(h,l?"day":n),e.diff(a,t,n)>1e5*o)throw new Error(t+" and "+a+" are too far apart with stepSize of "+o+" "+n);const m="data"===s.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<a;d=+e.add(d,o,n),u++)jd(c,d,m);return d!==a&&"ticks"!==s.bounds&&1!==u||jd(c,d,m),Object.keys(c).sort(bd).map((e=>+e))}getLabelForValue(e){const t=this._adapter,a=this.options.time;return a.tooltipFormat?t.format(e,a.tooltipFormat):t.format(e,a.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,s=this._unit,r=t||a[s];return this._adapter.format(e,r)}_tickFormatFunction(e,t,a,s){const r=this.options,n=r.ticks.callback;if(n)return Qs(n,[e,t,a],this);const o=r.time.displayFormats,i=this._unit,l=this._majorUnit,c=i&&o[i],d=l&&o[l],u=a[t],h=l&&d&&u&&u.major;return this._adapter.format(e,s||(h?d:c))}generateTickLabels(e){let t,a,s;for(t=0,a=e.length;t<a;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+a)*t.factor)}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,a=this.ctx.measureText(e).width,s=_r(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),n=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:a*r+o*n,h:a*n+o*r}}_getLabelCapacity(e){const t=this.options.time,a=t.displayFormats,s=a[t.unit]||a.millisecond,r=this._tickFormatFunction(e,0,wd(this,[e],this._majorUnit),s),n=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/n.w:this.height/n.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,a=this._cache.data||[];if(a.length)return a;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,t=s.length;e<t;++e)a=a.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}getLabelTimestamps(){const e=this._cache.labels||[];let t,a;if(e.length)return e;const s=this.getLabels();for(t=0,a=s.length;t<a;++t)e.push(yd(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Br(e.sort(bd))}}function _d(e,t,a){let s,r,n,o,i=0,l=e.length-1;a?(t>=e[i].pos&&t<=e[l].pos&&({lo:i,hi:l}=Ir(e,"pos",t)),({pos:s,time:n}=e[i]),({pos:r,time:o}=e[l])):(t>=e[i].time&&t<=e[l].time&&({lo:i,hi:l}=Ir(e,"time",t)),({time:s,pos:n}=e[i]),({time:r,pos:o}=e[l]));const c=r-s;return c?n+(o-n)*(t-s)/c:n}l(Nd,"id","time"),l(Nd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class kd extends Nd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=_d(t,this.min),this._tableRange=_d(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:a}=this,s=[],r=[];let n,o,i,l,c;for(n=0,o=e.length;n<o;++n)l=e[n],l>=t&&l<=a&&s.push(l);if(s.length<2)return[{time:t,pos:0},{time:a,pos:1}];for(n=0,o=s.length;n<o;++n)c=s[n+1],i=s[n-1],l=s[n],Math.round((c+i)/2)!==l&&r.push({time:l,pos:n/(o-1)});return r}_generate(){const e=this.min,t=this.max;let a=super.getDataTimestamps();return a.includes(e)&&a.length||a.splice(0,0,e),a.includes(t)&&1!==a.length||a.push(t),a.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),a=this.getLabelTimestamps();return e=t.length&&a.length?this.normalize(t.concat(a)):t.length?t:a,e=this._cache.all=e,e}getDecimalForValue(e){return(_d(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return _d(this._table,a*this._tableRange+this._minPos,!0)}}l(kd,"id","timeseries"),l(kd,"defaults",Nd.defaults);const Sd=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],Cd="label";function Md(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Ld(e,t){e.labels=t}function Ed(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cd;const s=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[a]===t[a]));return r&&t.data&&!s.includes(r)?(s.push(r),Object.assign(r,t),r):d({},t)}))}function Ad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cd;const a={labels:[],datasets:[]};return Ld(a,e.labels),Ed(a,e.datasets,t),a}function Td(e,t){const{height:a=150,width:s=300,redraw:n=!1,datasetIdKey:o,type:i,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:m}=e,x=function(e,t){if(null==e)return{};var a,s,r=function(e,t){if(null==e)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,Sd),p=(0,r.useRef)(null),f=(0,r.useRef)(null),g=()=>{p.current&&(f.current=new Rl(p.current,{type:i,data:Ad(l,o),options:c&&d({},c),plugins:u}),Md(t,f.current))},b=()=>{Md(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,r.useEffect)((()=>{!n&&f.current&&c&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(f.current,c)}),[n,c]),(0,r.useEffect)((()=>{!n&&f.current&&Ld(f.current.config.data,l.labels)}),[n,l.labels]),(0,r.useEffect)((()=>{!n&&f.current&&l.datasets&&Ed(f.current.config.data,l.datasets,o)}),[n,l.datasets]),(0,r.useEffect)((()=>{f.current&&(n?(b(),setTimeout(g)):f.current.update(m))}),[n,c,l.labels,l.datasets,m]),(0,r.useEffect)((()=>{f.current&&(b(),setTimeout(g))}),[i]),(0,r.useEffect)((()=>(g(),()=>b())),[]),r.createElement("canvas",d({ref:p,role:"img",height:a,width:s},x),h)}const Pd=(0,r.forwardRef)(Td);function zd(e,t){return Rl.register(t),(0,r.forwardRef)(((t,a)=>r.createElement(Pd,d(d({},t),{},{ref:a,type:e}))))}const Id=zd("line",ii),Od=zd("bar",ri),Dd=zd("doughnut",oi);Rl.register(Kc,ed,tc,Zl,lc,Tc,$c,Ec,Hl,Sc);const Rd=e=>{let{type:t,data:a,options:s={},title:r}=e;const n={data:a,options:d({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,color:"#e2e8f0",font:{family:"Rajdhani",size:12,weight:"bold"}}},title:{display:!!r,text:r,color:"#e2e8f0",font:{family:"Rajdhani",size:16,weight:"bold"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#e2e8f0",bodyColor:"#e2e8f0",borderColor:"#4a90e2",borderWidth:1,titleFont:{family:"Rajdhani",weight:"bold"},bodyFont:{family:"Rajdhani"}}},scales:"doughnut"!==t?{x:{grid:{color:"rgba(74, 144, 226, 0.1)"},ticks:{color:"#a0a0a0",font:{family:"Rajdhani",size:11}}},y:{grid:{color:"rgba(74, 144, 226, 0.1)"},ticks:{color:"#a0a0a0",font:{family:"Rajdhani",size:11},callback:function(e){return"$"+e.toFixed(2)}}}}:void 0},s)};return(0,Gt.jsx)("div",{className:"w-full h-64 p-4",children:(()=>{switch(t){case"line":default:return(0,Gt.jsx)(Id,d({},n));case"bar":return(0,Gt.jsx)(Od,d({},n));case"doughnut":return(0,Gt.jsx)(Dd,d({},n))}})()})},Bd=e=>{const t=new Date,a=[];switch(e){case"day":for(let e=23;e>=0;e--){const s=new Date(t);s.setHours(s.getHours()-e),a.push(s.getHours().toString().padStart(2,"0")+":00")}break;case"week":for(let e=6;e>=0;e--){const s=new Date(t);s.setDate(s.getDate()-e),a.push(s.toLocaleDateString("ru-RU",{weekday:"short",day:"numeric"}))}break;case"month":for(let e=3;e>=0;e--){const s=new Date(t);s.setDate(s.getDate()-7*e),a.push("".concat(s.getDate(),".").concat((s.getMonth()+1).toString().padStart(2,"0")))}break;case"all":for(let e=11;e>=0;e--){const s=new Date(t);s.setMonth(s.getMonth()-e),a.push(s.toLocaleDateString("ru-RU",{month:"short",year:"2-digit"}))}break;default:return["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"]}return a},Fd=(e,t,a)=>{var s,r,n;const o=Bd(e),i=o.length;a||(a=Array.from({length:i},(()=>1e3*Math.random()+100)));const l={blue:{background:"rgba(74, 144, 226, 0.2)",border:"rgba(74, 144, 226, 1)",point:"rgba(74, 144, 226, 1)"},green:{background:"rgba(34, 197, 94, 0.2)",border:"rgba(34, 197, 94, 1)",point:"rgba(34, 197, 94, 1)"},yellow:{background:"rgba(251, 191, 36, 0.2)",border:"rgba(251, 191, 36, 1)",point:"rgba(251, 191, 36, 1)"},red:{background:"rgba(239, 68, 68, 0.2)",border:"rgba(239, 68, 68, 1)",point:"rgba(239, 68, 68, 1)"},purple:{background:"rgba(147, 51, 234, 0.2)",border:"rgba(147, 51, 234, 1)",point:"rgba(147, 51, 234, 1)"},orange:{background:"rgba(249, 115, 22, 0.2)",border:"rgba(249, 115, 22, 1)",point:"rgba(249, 115, 22, 1)"}};return{labels:o,datasets:[{label:"\u0414\u043e\u0445\u043e\u0434",data:a,backgroundColor:(null===(s=l[t])||void 0===s?void 0:s.background)||l.blue.background,borderColor:(null===(r=l[t])||void 0===r?void 0:r.border)||l.blue.border,pointBackgroundColor:(null===(n=l[t])||void 0===n?void 0:n.point)||l.blue.point,pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6,borderWidth:2,fill:!0,tension:.4}]}},Wd=e=>{const t=Bd(e),a=t.map((()=>200*Math.random()+50)),s=t.map((()=>100*Math.random()+20));return{labels:t,datasets:[{label:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",data:a,backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2},{label:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b",data:s,backgroundColor:"rgba(249, 115, 22, 0.6)",borderColor:"rgba(249, 115, 22, 1)",borderWidth:2}]}},Vd=e=>{const t=Bd(e),a=t.map((()=>1e3*Math.random()+500)),s=t.map(((e,t)=>.3*a[t]+100*Math.random())),r=t.map(((e,t)=>a[t]-s[t]));return{labels:t,datasets:[{label:"\u0414\u043e\u0445\u043e\u0434\u044b",data:a,backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,fill:!0,tension:.4},{label:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",data:s,backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,fill:!0,tension:.4},{label:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c",data:r,backgroundColor:"rgba(16, 185, 129, 0.2)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:3,fill:!0,tension:.4}]}},Ud="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Hd=e=>{var t,a,s,n,o,i,l,c,u,h,m,x,p,f,g,b,y,v,j,w,N,_,k,S,C,M,L,E;let{user:A}=e;const[T,P]=(0,r.useState)(null),[z,I]=(0,r.useState)([]),[O,D]=(0,r.useState)(null),[R,B]=(0,r.useState)(null),[F,W]=(0,r.useState)({from:"",to:""}),[V,U]=(0,r.useState)(!0),[H,q]=(0,r.useState)("overview"),[G,$]=(0,r.useState)("BET_COMMISSION"),[Y,Q]=(0,r.useState)("date"),[K,X]=(0,r.useState)("desc"),[J,Z]=(0,r.useState)({show:!1,text:"",x:0,y:0}),[ee,te]=(0,r.useState)(!1),[ae,se]=(0,r.useState)(""),[re,ne]=(0,r.useState)({min:"",max:""}),[oe,ie]=(0,r.useState)(""),[le,ce]=(0,r.useState)(""),[de,ue]=(0,r.useState)(null),[he,me]=(0,r.useState)([]),[xe,pe]=(0,r.useState)(!1),[fe,ge]=(0,r.useState)(null),[be,ye]=(0,r.useState)({current_page:1,total_pages:1}),[ve,je]=(0,r.useState)("month"),[we,Ne]=(0,r.useState)("month"),[_e,ke]=(0,r.useState)({percentage:60,manual_amount:0}),[Se,Ce]=(0,r.useState)(!1),[Me,Le]=(0,r.useState)({bet_commission_rate:3,gift_commission_rate:3}),[Ee,Ae]=(0,r.useState)(!1),Te=rs(1,10);(0,r.useEffect)((()=>{Pe()}),[]),(0,r.useEffect)((()=>{"history"===H&&(Te.currentPage>1?Te.handlePageChange(1):ze())}),[H,G,Y,K,F,ae,re,oe]),(0,r.useEffect)((()=>{"history"===H&&ze()}),[Te.currentPage]);const Pe=async()=>{U(!0);try{const e=localStorage.getItem("token"),[t,a,s]=await Promise.all([Pt.get("".concat(Ud,"/admin/profit/stats"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Ud,"/admin/profit/commission-settings"),{headers:{Authorization:"Bearer ".concat(e)}}),Pt.get("".concat(Ud,"/admin/profit/bot-integration"),{headers:{Authorization:"Bearer ".concat(e)}})]);P(t.data),D(a.data),B(s.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u0440\u0438\u0431\u044b\u043b\u0438:",e)}finally{U(!1)}},ze=async()=>{try{const e=localStorage.getItem("token"),t=new URLSearchParams({page:Te.currentPage.toString(),limit:Te.itemsPerPage.toString(),entry_type:G,sort_by:Y,sort_order:K});F.from&&t.append("date_from",F.from),F.to&&t.append("date_to",F.to),ae&&t.append("player_filter",ae),re.min&&t.append("amount_min",re.min),re.max&&t.append("amount_max",re.max),oe&&t.append("reference_id_contains",oe),le&&t.append("entry_status",le);const a=await Pt.get("".concat(Ud,"/admin/profit/entries?").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});I(a.data.entries||[]),Te.updatePagination(a.data.total_count||0)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:",e)}},Ie={BET_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",icon:(0,Gt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"}),(0,Gt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]}),color:"green",description:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 PvP-\u0438\u0433\u0440 (\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442)"},HUMAN_BOT_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432",icon:(0,Gt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Gt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]}),color:"cyan",description:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0438\u0433\u0440 Human-\u0431\u043e\u0442\u043e\u0432 (\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442)"},BOT_REVENUE:{name:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u041e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",icon:(0,Gt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Gt.jsx)("circle",{cx:"18",cy:"15",r:"3",strokeWidth:"1.5"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17 14v2l1 1"})]}),color:"blue",description:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u0442\u044b \u0432\u044b\u0438\u0433\u0440\u044b\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0442\u0438\u0432 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},GIFT_COMMISSION:{name:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",icon:(0,Gt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"}),(0,Gt.jsx)("circle",{cx:"17",cy:"13",r:"2",strokeWidth:"1.5"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 12v2l1 1"})]}),color:"purple",description:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 (\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442)"}},Oe=async e=>{try{await navigator.clipboard.writeText(e),te(!0),setTimeout((()=>te(!1)),2e3)}catch(t){console.error("Failed to copy: ",t)}},De=()=>{Z({show:!1,text:"",x:0,y:0})},Re=(e,t)=>"BET_COMMISSION"===t?"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430":"BOT_REVENUE"===t?"\u0412\u044b\u0438\u0433\u0440\u044b\u0448 \u0431\u043e\u0442\u0430 \u043f\u0440\u043e\u0442\u0438\u0432 \u0438\u0433\u0440\u043e\u043a\u0430":"GIFT_COMMISSION"===t?"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u043f\u043e\u0434\u0430\u0440\u043a\u0430":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",Be=e=>e.bot_id?"Bot_".concat(e.bot_id.substring(0,8)):e.source_user_id?e.user_name&&e.user_email?(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"font-medium",children:e.user_name}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:e.user_email})]}):"\u0418\u0433\u0440\u043e\u043a ".concat(e.source_user_id.substring(0,8),"..."):"\u2014",Fe=e=>(e.bet_commission||0)+(e.human_bot_commission||0)+(e.gift_commission||0)+(e.bot_revenue||0),We=e=>Fe(e)*_e.percentage/100+(_e.manual_amount||0),Ve=async e=>{try{ue(e),ge(null),Ne("month"),"bet_commission"===e||"gift_commission"===e?(Le({bet_commission_rate:(null===O||void 0===O?void 0:O.bet_commission_rate)||3,gift_commission_rate:(null===O||void 0===O?void 0:O.gift_commission_rate)||3}),me([])):await Ue(e,"month")}catch(t){console.error("Error opening modal:",t),ge("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0438 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430")}},Ue=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we;pe(!0),ge(null);try{const a=localStorage.getItem("token");switch(e){case"bot_revenue":const e=await Pt.get("".concat(Ud,"/admin/profit/bot-revenue-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});me(e.data);break;case"frozen_funds":const s=await Pt.get("".concat(Ud,"/admin/profit/frozen-funds-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});me(s.data);break;case"total_revenue":const r=await Pt.get("".concat(Ud,"/admin/profit/total-revenue-breakdown?period=").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});me(r.data);break;case"expenses":const n=await Pt.get("".concat(Ud,"/admin/profit/expenses-details?period=").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});me(n.data);break;case"human_bot_commission":const o=await Pt.get("".concat(Ud,"/admin/human-bots-total-commission?page=1&limit=100"),{headers:{Authorization:"Bearer ".concat(a)}});me(o.data);break;case"net_profit":const i=await Pt.get("".concat(Ud,"/admin/profit/net-profit-analysis?period=").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});me(i.data);break;default:me([])}}catch(a){console.error("Error loading modal data for ".concat(e,":"),a),ge("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),me([])}finally{pe(!1)}},He=e=>{Ne(e),de&&Ue(de,e)},qe=async e=>{if(!(e<1)){pe(!0);try{const t=localStorage.getItem("token"),a=await Pt.get("".concat(Ud,"/admin/human-bots-total-commission?page=").concat(e,"&limit=100"),{headers:{Authorization:"Bearer ".concat(t)}});me(a.data)}catch(t){console.error("Error loading Human-bot commission page:",t),ge("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b")}finally{pe(!1)}}},Ge=e=>({bet_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",human_bot_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432",gift_commission:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",bot_revenue:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",frozen_funds:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430",total_revenue:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c",net_profit:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}[e]||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"),$e=e=>({date:Jt(e,(null===A||void 0===A?void 0:A.timezone_offset)||0).split(" ")[0],time:Xt(e,(null===A||void 0===A?void 0:A.timezone_offset)||0).split(" ")[1]});return V?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f..."})}):(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0431\u044b\u043b\u044c\u044e"})}),(0,Gt.jsxs)("div",{className:"flex space-x-4 border-b border-border-primary",children:[(0,Gt.jsx)("button",{onClick:()=>q("overview"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("overview"===H?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041e\u0431\u0437\u043e\u0440"}),(0,Gt.jsx)("button",{onClick:()=>q("history"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("history"===H?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438"}),(0,Gt.jsx)("button",{onClick:()=>q("settings"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("settings"===H?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),"overview"===H&&T&&(0,Gt.jsx)("div",{className:"space-y-8",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[(0,Gt.jsx)("div",{className:"bg-surface-card border border-green-500/30 rounded-lg p-6 hover:border-green-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ve("bet_commission"),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"}),(0,Gt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]})}),(0,Gt.jsx)("div",{className:"bg-green-500/20 text-green-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-green-400",children:ha(T.bet_commission||0,!0)}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 \u0432 PvP-\u0438\u0433\u0440\u0430\u0445"}),(0,Gt.jsx)("p",{className:"text-xs text-green-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-cyan-500/30 rounded-lg p-6 hover:border-cyan-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ve("human_bot_commission"),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Gt.jsx)("circle",{cx:"18",cy:"15",r:"2",strokeWidth:"1.5"}),(0,Gt.jsx)("text",{x:"18",y:"16",textAnchor:"middle",fontSize:"6",fill:"currentColor",children:"%"})]})}),(0,Gt.jsx)("div",{className:"bg-cyan-500/20 text-cyan-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-cyan-400",children:ha(T.human_bot_commission||0,!0)}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-xs text-cyan-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-purple-500/30 rounded-lg p-6 hover:border-purple-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ve("gift_commission"),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"}),(0,Gt.jsx)("circle",{cx:"17",cy:"13",r:"2",strokeWidth:"1.5"}),(0,Gt.jsx)("text",{x:"17",y:"14",textAnchor:"middle",fontSize:"6",fill:"currentColor",children:"%"})]})}),(0,Gt.jsx)("div",{className:"bg-purple-500/20 text-purple-400 text-xs font-bold px-2 py-1 rounded-full",children:"LIVE"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-purple-400",children:ha(T.gift_commission||0,!0)}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0445 \u0433\u0435\u043c\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-xs text-purple-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-blue-500/30 rounded-lg p-6 hover:border-blue-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ve("bot_revenue"),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"})]})}),(0,Gt.jsx)("div",{className:"bg-blue-500/20 text-blue-400 text-xs font-bold px-2 py-1 rounded-full",children:"AI"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-blue-400",children:ha(T.bot_revenue||0,!0)}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:R&&(0,Gt.jsxs)("div",{className:"space-y-1",children:[(0,Gt.jsxs)("p",{children:["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432: ",R.bot_stats.active_bots]}),(0,Gt.jsxs)("p",{children:["Avg Win Rate: ",(null===(t=R.bot_stats.avg_win_rate)||void 0===t?void 0:t.toFixed(1))||0,"%"]}),(0,Gt.jsxs)("p",{children:["\u0421\u0435\u0433\u043e\u0434\u043d\u044f: ",ha(R.bot_revenue.today||0,!0)]})]})}),(0,Gt.jsx)("p",{className:"text-xs text-blue-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-yellow-500/30 rounded-lg p-6 hover:border-yellow-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ve("total_revenue"),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Gt.jsx)("div",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-bold px-2 py-1 rounded-full",children:"TOTAL"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-yellow-400",children:ha(Fe(T),!0)}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432 \u0434\u043e\u0445\u043e\u0434\u0430"}),(0,Gt.jsx)("p",{className:"text-xs text-yellow-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-orange-500/30 rounded-lg p-6 hover:border-orange-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ve("frozen_funds"),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Gt.jsx)("div",{className:"bg-orange-500/20 text-orange-400 text-xs font-bold px-2 py-1 rounded-full",children:"FROZEN"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-orange-400",children:ha(T.frozen_funds||0,!0)}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440\u0430\u0445"}),(0,Gt.jsx)("p",{className:"text-xs text-orange-300 mt-1",children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"})]})})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-red-500/30 rounded-lg p-6 hover:border-red-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ce(!0),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,Gt.jsx)("div",{className:"bg-red-500/20 text-red-400 text-xs font-bold px-2 py-1 rounded-full",children:"CALC"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-red-400",children:ha(We(T),!0)}),(0,Gt.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:[_e.percentage,"% \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 + \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435"]}),(0,Gt.jsx)("p",{className:"text-xs text-red-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-emerald-500/30 rounded-lg p-6 hover:border-emerald-500/60 transition-colors duration-200 shadow-lg cursor-pointer",onClick:()=>Ve("net_profit"),children:(0,Gt.jsx)("div",{className:"flex items-center justify-between",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsx)("div",{className:"bg-emerald-500/20 text-emerald-400 text-xs font-bold px-2 py-1 rounded-full",children:"NET"})]}),(0,Gt.jsx)("h3",{className:"font-roboto text-text-secondary text-sm mb-1",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsx)("p",{className:"font-russo text-2xl font-bold text-emerald-400",children:ha((e=>Fe(e)-We(e))(T),!0)}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043c\u0438\u043d\u0443\u0441 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,Gt.jsx)("p",{className:"text-xs text-emerald-300 mt-1",children:"\u041a\u043b\u0438\u043a \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"})]})})})]})}),"history"===H&&(0,Gt.jsx)("div",{className:"space-y-6",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Gt.jsx)("div",{className:"border-b border-border-primary bg-surface-sidebar",children:(0,Gt.jsx)("div",{className:"flex",children:Object.entries(Ie).map((e=>{let[t,a]=e;return(0,Gt.jsxs)("button",{onClick:()=>{$(t),Te.handlePageChange&&Te.handlePageChange(1)},className:"px-6 py-4 font-roboto font-bold text-sm transition-all duration-200 border-b-2 flex items-center space-x-2 ".concat(G===t?"green"===a.color?"border-green-500 bg-green-500/10 text-green-400":"cyan"===a.color?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"blue"===a.color?"border-blue-500 bg-blue-500/10 text-blue-400":"border-purple-500 bg-purple-500/10 text-purple-400":"border-transparent text-text-secondary hover:text-white hover:bg-surface-card"),children:[(0,Gt.jsx)("div",{className:"".concat(G===t?"green"===a.color?"text-green-400":"cyan"===a.color?"text-cyan-400":"blue"===a.color?"text-blue-400":"text-purple-400":"text-text-secondary"),children:a.icon}),(0,Gt.jsx)("span",{children:a.name}),(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-bold ".concat(G===t?"bg-white/20 text-white":"bg-surface-card text-text-secondary"),children:G===t?z.length:"\u2022"})]},t)}))})}),(0,Gt.jsxs)("div",{className:"p-4 bg-surface-sidebar border-b border-border-primary",children:[(0,Gt.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-3 lg:space-y-0",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-lg font-bold text-white flex items-center space-x-2",children:[(0,Gt.jsx)("div",{className:"".concat("green"===(null===(a=Ie[G])||void 0===a?void 0:a.color)?"text-green-400":"cyan"===(null===(s=Ie[G])||void 0===s?void 0:s.color)?"text-cyan-400":"blue"===(null===(n=Ie[G])||void 0===n?void 0:n.color)?"text-blue-400":"purple"===(null===(o=Ie[G])||void 0===o?void 0:o.color)?"text-purple-400":"text-gray-400"),children:null===(i=Ie[G])||void 0===i?void 0:i.icon}),(0,Gt.jsx)("span",{children:(null===(l=Ie[G])||void 0===l?void 0:l.name)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"})]}),(0,Gt.jsxs)("span",{className:"text-text-secondary text-sm",children:["(",z.length," \u0437\u0430\u043f\u0438\u0441\u0435\u0439)"]})]}),(0,Gt.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430:"}),(0,Gt.jsxs)("select",{value:Y,onChange:e=>Q(e.target.value),className:"bg-surface-card border border-border-primary rounded-lg px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"date",children:"\u041f\u043e \u0434\u0430\u0442\u0435"}),(0,Gt.jsx)("option",{value:"amount",children:"\u041f\u043e \u0441\u0443\u043c\u043c\u0435"}),(0,Gt.jsx)("option",{value:"source",children:"\u041f\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0443"})]}),(0,Gt.jsx)("button",{onClick:()=>X("asc"===K?"desc":"asc"),className:"px-2 py-1 bg-surface-card border border-border-primary rounded text-white hover:bg-surface-sidebar transition-colors text-sm",title:"asc"===K?"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e":"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",children:"asc"===K?"\u2191":"\u2193"})]}),(0,Gt.jsx)("button",{onClick:()=>{const e=[["\u0414\u0430\u0442\u0430","\u0412\u0440\u0435\u043c\u044f","\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","\u0421\u0443\u043c\u043c\u0430","\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a","ID \u0438\u0433\u0440\u043e\u043a\u0430/\u0431\u043e\u0442\u0430","\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"].join(","),...z.map((e=>{return[Jt(e.created_at,(null===A||void 0===A?void 0:A.timezone_offset)||0).split(" ")[0],Xt(e.created_at,(null===A||void 0===A?void 0:A.timezone_offset)||0).split(" ")[1]||"",'"'.concat((t=e.entry_type||e.type,{bet_commission:"\ud83d\udcb0 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",gift_commission:"\ud83c\udf81 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432",bot_profit:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",BOT_REVENUE:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432",human_bot_profit:"\ud83e\udd16 \u0414\u043e\u0445\u043e\u0434 \u043e\u0442 Human \u0431\u043e\u0442\u043e\u0432",penalty:"\ud83d\udea8 \u0428\u0442\u0440\u0430\u0444\u044b \u0438 \u0443\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f",refund:"\ud83d\udd04 \u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u0441\u0440\u0435\u0434\u0441\u0442\u0432",system_credit:"\u2699\ufe0f \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f",game_commission:"\ud83d\udcb0 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0441 \u0438\u0433\u0440\u044b",shop_sale:"\ud83d\uded2 \u041f\u0440\u043e\u0434\u0430\u0436\u0430 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435",other:"\ud83d\udcca \u041f\u0440\u043e\u0447\u0435\u0435"}[t]||t),'"'),e.amount.toFixed(2),'"'.concat(e.source||"\u2014",'"'),e.source_user_id||e.bot_id||"\u2014",'"'.concat(e.description||"\u2014",'"')].join(",");var t}))].join("\n"),t=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.setAttribute("href",s),a.setAttribute("download","profit_history_".concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white font-rajdhani font-bold rounded text-sm transition-colors",children:"\ud83d\udce5 CSV"})]})]}),(0,Gt.jsxs)("div",{className:"p-4 bg-surface-card border-b border-border-primary",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041f\u0435\u0440\u0438\u043e\u0434"}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("input",{type:"date",value:F.from,onChange:e=>W((t=>d(d({},t),{},{from:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041e\u0442"}),(0,Gt.jsx)("input",{type:"date",value:F.to,onChange:e=>W((t=>d(d({},t),{},{to:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u0414\u043e"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u0433\u0440\u043e\u043a/\u0411\u043e\u0442"}),(0,Gt.jsx)("input",{type:"text",value:ae,onChange:e=>se(e.target.value),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u0418\u043c\u044f, \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 ID"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0421\u0443\u043c\u043c\u0430 ($)"}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("input",{type:"number",value:re.min,onChange:e=>ne((t=>d(d({},t),{},{min:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041c\u0438\u043d",step:"0.01"}),(0,Gt.jsx)("input",{type:"number",value:re.max,onChange:e=>ne((t=>d(d({},t),{},{max:e.target.value}))),className:"flex-1 bg-surface-sidebar border border-border-primary rounded px-2 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041c\u0430\u043a\u0441",step:"0.01"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"ID \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"}),(0,Gt.jsx)("input",{type:"text",value:oe,onChange:e=>ie(e.target.value),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",placeholder:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0438\u043b\u0438 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u044b\u0439 ID"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043f\u0438\u0441\u0438"}),(0,Gt.jsxs)("select",{value:le,onChange:e=>{ce(e.target.value),1!==Te.currentPage?Te.handlePageChange(1):ze()},className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-1 text-white text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"",children:"\u0412\u0441\u0435"}),(0,Gt.jsx)("option",{value:"CONFIRMED",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"}),(0,Gt.jsx)("option",{value:"PENDING",children:"\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435"}),(0,Gt.jsx)("option",{value:"REVERSED",children:"\u0421\u0442\u043e\u0440\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e"})]})]})]}),(0,Gt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,Gt.jsx)("button",{onClick:()=>{W({from:"",to:""}),se(""),ne({min:"",max:""}),ie(""),ce("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-rajdhani rounded text-sm transition-colors",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})})]})]}),(0,Gt.jsx)("div",{className:"overflow-hidden",children:0===z.length?(0,Gt.jsxs)("div",{className:"text-center py-16",children:[(0,Gt.jsx)("div",{className:"mb-4 flex justify-center ".concat("green"===(null===(c=Ie[G])||void 0===c?void 0:c.color)?"text-green-400":"blue"===(null===(u=Ie[G])||void 0===u?void 0:u.color)?"text-blue-400":"purple"===(null===(h=Ie[G])||void 0===h?void 0:h.color)?"text-purple-400":"text-gray-400"),children:(0,Gt.jsx)("div",{style:{transform:"scale(3)"},children:null===(m=Ie[G])||void 0===m?void 0:m.icon})}),(0,Gt.jsx)("h4",{className:"font-rajdhani text-xl font-bold text-white mb-2",children:"\u041d\u0435\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"}),(0,Gt.jsxs)("p",{className:"text-text-secondary",children:['\u0412 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 "',(null===(x=Ie[G])||void 0===x?void 0:x.name)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",'" \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445']}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm mt-2",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0438\u043b\u0438 \u043f\u0435\u0440\u0438\u043e\u0434"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0422\u0438\u043f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u043e\u043a"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:z.map(((e,t)=>{const{date:a,time:s}=$e(e.created_at),r=Ie[G]||{color:"gray"};return(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar transition-colors",children:[(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("button",{onClick:()=>Oe(e.id),onMouseEnter:t=>((e,t)=>{Z({show:!0,text:t,x:e.clientX,y:e.clientY})})(t,e.id),onMouseLeave:De,className:"p-2 bg-surface-card border border-border-primary rounded hover:border-accent-primary transition-colors group",title:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 text-accent-primary group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),(0,Gt.jsxs)("td",{className:"px-4 py-3",children:[(0,Gt.jsx)("div",{className:"text-sm font-roboto font-bold text-white",children:a}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:s})]}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("span",{className:"text-lg font-bold font-russo ".concat("green"===r.color?"text-green-400":"blue"===r.color?"text-blue-400":"purple"===r.color?"text-purple-400":"text-gray-400"),children:ha(e.amount,!0)})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("green"===r.color?"bg-green-100 text-green-800":"blue"===r.color?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:Re(0,G)})}),(0,Gt.jsxs)("td",{className:"px-4 py-3",children:[(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white",children:Be(e)}),e.source_user_id&&(0,Gt.jsxs)("div",{className:"text-xs text-accent-primary font-mono",children:["ID: ",e.source_user_id.substring(0,8),"..."]})]}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-sm font-roboto text-text-secondary max-w-xs",children:(0,Gt.jsx)("div",{className:"truncate",title:e.description,children:e.description||"\u2014"})})]},t)}))})]})}),(0,Gt.jsx)("div",{className:"lg:hidden space-y-3 p-4",children:z.map(((e,t)=>{const{date:a,time:s}=$e(e.created_at),r=Ie[G]||{color:"gray"};return(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-border-primary",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>Oe(e.id),className:"p-2 bg-surface-card border border-border-primary rounded hover:border-accent-primary transition-colors",title:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c ID",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 text-accent-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-sm font-roboto font-bold text-white",children:a}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:s})]})]}),(0,Gt.jsx)("div",{className:"text-lg font-bold font-russo ".concat("green"===r.color?"text-green-400":"blue"===r.color?"text-blue-400":"purple"===r.color?"text-purple-400":"text-gray-400"),children:ha(e.amount,!0)})]}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0422\u0438\u043f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:"}),(0,Gt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("green"===r.color?"bg-green-100 text-green-800":"blue"===r.color?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:Re(0,G)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0418\u0433\u0440\u043e\u043a:"}),(0,Gt.jsx)("span",{className:"text-white",children:Be(e)})]}),e.description&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),(0,Gt.jsx)("div",{className:"text-white text-xs mt-1",children:e.description})]})]})]},t)}))})]})}),Te.totalPages>1&&Te.handlePageChange&&(0,Gt.jsx)("div",{className:"border-t border-border-primary p-4 bg-surface-sidebar",children:(0,Gt.jsx)(ss,{currentPage:Te.currentPage,totalPages:Te.totalPages,onPageChange:Te.handlePageChange})})]})}),"settings"===H&&O&&(0,Gt.jsx)("div",{className:"space-y-6",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u0441\u0442\u0430\u0432\u043a\u0438 (%)"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",defaultValue:O.bet_commission_rate||3,className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 (%)"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",defaultValue:O.gift_commission_rate||3,className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsx)("button",{className:"bg-accent-primary hover:bg-accent-primary/80 text-white font-rajdhani font-bold py-2 px-4 rounded-lg transition-colors",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})}),J.show&&(0,Gt.jsx)("div",{className:"fixed z-50 bg-black text-white text-xs rounded px-2 py-1 pointer-events-none",style:{left:J.x+10,top:J.y-30},children:J.text}),ee&&(0,Gt.jsx)("div",{className:"fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg z-50 transition-all",children:"\u2713 ID \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"}),Se&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-50 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,Gt.jsx)("button",{onClick:()=>Ce(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-bold mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 (%)"}),(0,Gt.jsx)("input",{type:"number",value:_e.percentage,onChange:e=>ke((t=>d(d({},t),{},{percentage:parseInt(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-2 text-white",min:"0",max:"100"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-bold mb-2",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b ($)"}),(0,Gt.jsx)("input",{type:"number",value:_e.manual_amount,onChange:e=>ke((t=>d(d({},t),{},{manual_amount:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded px-3 py-2 text-white",step:"0.01"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Gt.jsx)("button",{onClick:()=>Ce(!1),className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded font-bold",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,Gt.jsx)("button",{onClick:()=>{ke({percentage:60,manual_amount:0}),Ce(!1)},className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})}),de&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-50 rounded-lg max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:Ge(de)}),(0,Gt.jsx)("button",{onClick:()=>ue(null),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:["bet_commission"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{cx:"12",cy:"12",r:"8",strokeWidth:"2"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 9h3m-3 3h3m-3 3h3M9 12l2 2 4-4"})]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0439 \u0441 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0430 \u0432 PvP-\u0438\u0433\u0440\u0430\u0445"})]})]}),(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Gt.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[(null===O||void 0===O?void 0:O.bet_commission_rate)||3,"%"]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:ha(T.bet_commission||0,!0)})]})]})}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 (%)"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Me.bet_commission_rate,onChange:e=>Le((t=>d(d({},t),{},{bet_commission_rate:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d: 1-10%. \u0422\u0435\u043a\u0443\u0449\u0438\u0439: ",(null===O||void 0===O?void 0:O.bet_commission_rate)||3,"%"]})]}),(0,Gt.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435"})]}),(0,Gt.jsx)("p",{className:"text-sm text-yellow-300 mt-1",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043f\u043e\u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0432\u0441\u0435 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438. \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0438\u0433\u0440\u044b \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u0441 \u043f\u0440\u0435\u0436\u043d\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u043c."})]})]})]}),"human_bot_commission"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-6 h-6 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"}),(0,Gt.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"8",fill:"currentColor",children:"%"})]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0445 \u0441 Human-\u0431\u043e\u0442\u043e\u0432 \u0432 \u0438\u0433\u0440\u0430\u0445"})]})]}),xe?(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)(ga,{size:48,ariaLabel:"Loading data"})}):fe?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Gt.jsx)("p",{className:"text-sm text-red-400",children:fe}),(0,Gt.jsx)("button",{onClick:()=>Ue("human_bot_commission"),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:ha(he.total_commission||0,!0)}),(0,Gt.jsx)("div",{className:"text-xs text-cyan-300 mt-1",children:"\u043e\u0442 \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e Human-\u0431\u043e\u0442\u043e\u0432:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:he.total_bots||0}),(0,Gt.jsx)("div",{className:"text-xs text-cyan-300 mt-1",children:"\u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:he.bots_with_commission||0}),(0,Gt.jsx)("div",{className:"text-xs text-cyan-300 mt-1",children:"\u0441 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0435\u0439"})]})]}),(0,Gt.jsx)("div",{className:"text-xs text-cyan-300",children:"\u0421\u0442\u0430\u0432\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438: 3% \u0441 \u043f\u043e\u0431\u0435\u0434 \u0438 \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439 (\u043d\u0438\u0447\u044c\u0438 \u0431\u0435\u0437 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438)"})]}),he.bot_commissions&&he.bot_commissions.length>0?(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-cyan-400 mb-2",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043f\u043e Human-\u0431\u043e\u0442\u0430\u043c:"}),he.bot_commissions.map(((e,t)=>(0,Gt.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm font-medium text-cyan-400",children:e.name}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440: ",e.character," \u2022",e.is_active?(0,Gt.jsx)("span",{className:"text-green-400",children:" \u0410\u043a\u0442\u0438\u0432\u0435\u043d"}):(0,Gt.jsx)("span",{className:"text-red-400",children:" \u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})]})]}),(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsx)("div",{className:"text-lg font-bold text-cyan-400",children:ha(e.total_commission_paid||0,!0)}),(0,Gt.jsxs)("div",{className:"text-xs text-cyan-300",children:[e.total_games_played||0," \u0438\u0433\u0440 \u0432\u0441\u0435\u0433\u043e"]})]})]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u041f\u043e\u0431\u0435\u0434: ",e.total_games_won||0," \u2022 \u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u0438\u0433\u0440\u0443: ",ha(e.total_games_played>0?e.total_commission_paid/e.total_games_played:0,!0)]})]},e.id||t))),he.pagination&&he.pagination.total_pages>1&&(0,Gt.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-4",children:[(0,Gt.jsx)("button",{onClick:()=>qe(he.pagination.current_page-1),disabled:!he.pagination.has_prev,className:"px-3 py-1 bg-cyan-600 text-white text-sm rounded hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,Gt.jsxs)("span",{className:"text-sm text-text-secondary",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",he.pagination.current_page," \u0438\u0437 ",he.pagination.total_pages]}),(0,Gt.jsx)("button",{onClick:()=>qe(he.pagination.current_page+1),disabled:!he.pagination.has_next,className:"px-3 py-1 bg-cyan-600 text-white text-sm rounded hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u2192"})]})]}):(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\udd16"}),(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2 text-cyan-400",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"Human-\u0431\u043e\u0442\u044b \u0435\u0449\u0435 \u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"})]})]})]}),"gift_commission"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",strokeWidth:"2",rx:"2"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8V20"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 8V6a2 2 0 012-2h4a2 2 0 012 2v2"})]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u0432\u0437\u0438\u043c\u0430\u0435\u043c\u044b\u0439 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0433\u0435\u043c\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"})]})]}),(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Gt.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[(null===O||void 0===O?void 0:O.gift_commission_rate)||3,"%"]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:ha(T.gift_commission||0,!0)})]})]})}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 (%)"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Me.gift_commission_rate,onChange:e=>Le((t=>d(d({},t),{},{gift_commission_rate:parseFloat(e.target.value)||0}))),className:"w-full bg-surface-sidebar border border-border-primary rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsxs)("p",{className:"text-xs text-text-secondary mt-1",children:["\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d: 1-10%. \u0422\u0435\u043a\u0443\u0449\u0438\u0439: ",(null===O||void 0===O?void 0:O.gift_commission_rate)||3,"%"]})]}),(0,Gt.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsx)("span",{className:"text-sm font-medium text-blue-400",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]}),(0,Gt.jsx)("p",{className:"text-sm text-blue-300 mt-1",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0437\u0430 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432\u0437\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u0439 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0433\u0435\u043c\u043e\u0432 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443."})]})]})]}),"bot_revenue"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("rect",{x:"4",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"14",y:"4",width:"6",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("rect",{x:"4",y:"14",width:"16",height:"6",strokeWidth:"2",rx:"1"}),(0,Gt.jsx)("circle",{cx:"17",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("circle",{cx:"7",cy:"7",r:"1",fill:"currentColor"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 17h8"})]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0418\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043e\u0442 AI-\u0431\u043e\u0442\u043e\u0432"})]})]}),(0,Gt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Gt.jsx)("button",{onClick:()=>He(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(we===e.key?"bg-blue-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),R&&(0,Gt.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-blue-400 mb-4",children:"\ud83e\udd16 \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:R.bot_stats.active_bots})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0412\u0441\u0435\u0433\u043e \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:R.bot_stats.total_bots})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"Avg Win Rate"}),(0,Gt.jsxs)("div",{className:"text-lg font-bold text-blue-400",children:[(null===(p=R.bot_stats.avg_win_rate)||void 0===p?void 0:p.toFixed(1))||0,"%"]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:R.bot_stats.total_games})]})]}),(null===R||void 0===R?void 0:R.creation_modes)&&Object.keys(R.creation_modes||{}).length>0&&(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u0414\u043e\u0445\u043e\u0434 \u043f\u043e \u0440\u0435\u0436\u0438\u043c\u0430\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a:"}),(0,Gt.jsx)("div",{className:"space-y-2",children:Object.entries(R.creation_modes||{}).map((e=>{let[t,a]=e;return(0,Gt.jsxs)("div",{className:"flex justify-between items-center bg-surface-card rounded-lg p-2",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"always-first"===t?"Always First":"queue-based"===t?"Queue-Based":"after-all"===t?"After All":t}),(0,Gt.jsx)("span",{className:"text-blue-400 font-bold",children:ha((null===a||void 0===a?void 0:a.revenue)||0,!0)})]},t)}))})]}),(null===R||void 0===R?void 0:R.behaviors)&&Object.keys(R.behaviors||{}).length>0&&(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u0414\u043e\u0445\u043e\u0434 \u043f\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044e \u0431\u043e\u0442\u043e\u0432:"}),(0,Gt.jsx)("div",{className:"space-y-2",children:Object.entries(R.behaviors||{}).map((e=>{let[t,a]=e;return(0,Gt.jsxs)("div",{className:"flex justify-between items-center bg-surface-card rounded-lg p-2",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"aggressive"===t?"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439":"balanced"===t?"\u0421\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439":"cautious"===t?"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439":t}),(0,Gt.jsx)("span",{className:"text-blue-400 font-bold",children:ha((null===a||void 0===a?void 0:a.revenue)||0,!0)})]},t)}))})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h6",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c:"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u0438\u0433\u0440\u0443"}),(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:ha(R.efficiency.revenue_per_game||0,!0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:ha(R.efficiency.revenue_per_bot||0,!0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mb-1",children:"\u0418\u0433\u0440 \u043d\u0430 \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:(null===(f=R.efficiency.games_per_bot)||void 0===f?void 0:f.toFixed(1))||0})]})]})]})]}),xe?(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading data"})}):fe?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Gt.jsx)("p",{className:"text-sm text-red-400",children:fe}),(0,Gt.jsx)("button",{onClick:()=>Ue("bot_revenue"),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0439 \u0434\u043e\u0445\u043e\u0434:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:ha(he.total_revenue||0,!0)}),(0,Gt.jsxs)("div",{className:"text-xs text-blue-300 mt-1",children:["day"===he.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===he.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===he.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===he.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:he.active_bots||0})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0434\u043e\u0445\u043e\u0434:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:ha(he.avg_revenue_per_bot||0,!0)})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-blue-400 mb-4",children:"\ud83d\udcc8 \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0434\u043e\u0445\u043e\u0434\u043e\u0432 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)(Rd,{type:"line",data:Fd(we,"blue",he.chart_data),title:"\u0414\u043e\u0445\u043e\u0434\u044b \u043e\u0442 \u0431\u043e\u0442\u043e\u0432 ".concat("day"===he.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===he.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===he.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),(0,Gt.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-blue-400 mb-2",children:"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432:"}),(0,Gt.jsx)("p",{className:"text-sm text-blue-300",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b \u043d\u0430\u043a\u0430\u043f\u043b\u0438\u0432\u0430\u044e\u0442 \u0432\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0432 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435. \u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430 (\u043e\u0431\u044b\u0447\u043d\u043e 12 \u0438\u0433\u0440) \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043e\u0431\u0449\u0438\u0439 \u0444\u043e\u043d\u0434 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b."})]}),he.entries&&he.entries.length>0?(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-blue-400",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e \u0431\u043e\u0442\u0430\u043c:"}),(0,Gt.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:he.entries.map(((e,t)=>{var a;return(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"font-medium text-white",children:e.bot_name}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:[e.games_played," \u0438\u0433\u0440 \u2022 ",null===(a=e.win_rate)||void 0===a?void 0:a.toFixed(1),"% \u043f\u043e\u0431\u0435\u0434"]})]}),(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:ha(e.total_revenue||0,!0)}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:[e.cycles_completed," \u0446\u0438\u043a\u043b\u043e\u0432"]})]})]})},t)}))})]}):(0,Gt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Gt.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,Gt.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsxs)("p",{className:"text-xs mt-1",children:["day"===he.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0434\u0435\u043d\u044c","week"===he.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e","month"===he.period&&"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0441\u044f\u0446","all"===he.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]})]})]}),"frozen_funds"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440\u0430\u0445 \u0438 \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f\u0445"})]})]}),(0,Gt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Gt.jsx)("button",{onClick:()=>He(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(we===e.key?"bg-orange-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),xe?(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading data"})}):fe?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Gt.jsx)("p",{className:"text-sm text-red-400",children:fe}),(0,Gt.jsx)("button",{onClick:()=>Ue("frozen_funds"),className:"mt-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:ha(he.total_frozen||0,!0)}),(0,Gt.jsxs)("div",{className:"text-xs text-orange-300 mt-1",children:["day"===he.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===he.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===he.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===he.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:he.active_games||0}),(0,Gt.jsxs)("div",{className:"text-xs text-orange-300 mt-1",children:["day"===he.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===he.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===he.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===he.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]})]}),(0,Gt.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-orange-400 mb-2",children:"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430:"}),(0,Gt.jsx)("p",{className:"text-sm text-orange-300",children:"\u041a\u043e\u0433\u0434\u0430 \u0438\u0433\u0440\u043e\u043a \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0441\u0442\u0430\u0432\u043a\u0443, \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f (3%) \u0437\u0430\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0438\u0433\u0440\u044b. \u042d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0441\u043f\u0440\u0430\u0432\u0435\u0434\u043b\u0438\u0432\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u043b\u043e\u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f."})]}),he.entries&&he.entries.length>0?(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-orange-400",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"}),(0,Gt.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:he.entries.map(((e,t)=>{var a,s;return(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("div",{className:"font-medium text-white",children:[(null===(a=e.creator)||void 0===a?void 0:a.username)||"Unknown"," vs ",(null===(s=e.opponent)||void 0===s?void 0:s.username)||"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u0421\u0442\u0430\u0432\u043a\u0430: ",ha(e.bet_amount||0,!0)," \u2022 \u0421\u0442\u0430\u0442\u0443\u0441: ",e.status||"Unknown"]})]}),(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsx)("div",{className:"text-lg font-bold text-orange-400",children:ha(e.frozen_commission||0,!0)}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:e.commission_rate?"".concat((100*e.commission_rate).toFixed(1),"%"):"3%"})]})]})},t)}))})]}):(0,Gt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Gt.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udd12"}),(0,Gt.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440 \u0441 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438"}),(0,Gt.jsx)("p",{className:"text-xs mt-1",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u0438\u0433\u0440"})]})]})]}),"total_revenue"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0432\u0441\u0435\u043c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430\u043c \u0434\u043e\u0445\u043e\u0434\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b"})]})]}),(0,Gt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Gt.jsx)("button",{onClick:()=>He(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(we===e.key?"bg-yellow-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),xe?(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading data"})}):fe?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Gt.jsx)("p",{className:"text-sm text-red-400",children:fe}),(0,Gt.jsx)("button",{onClick:()=>Ue("total_revenue"),className:"mt-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"text-center mb-6",children:[(0,Gt.jsx)("div",{className:"text-4xl font-bold text-yellow-400",children:ha(he.total_revenue||0,!0)}),(0,Gt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c","day"===he.period&&" \u0437\u0430 \u0434\u0435\u043d\u044c","week"===he.period&&" \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===he.period&&" \u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===he.period&&" \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),he.breakdown&&he.breakdown.length>0&&(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-yellow-400 mb-4",children:"\ud83e\udd67 \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u0445\u043e\u0434\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Gt.jsx)("div",{className:"h-64",children:(0,Gt.jsx)(Rd,{type:"doughnut",data:(Ye=he.breakdown,{labels:Ye.map((e=>e.name||e.source)),datasets:[{data:Ye.map((e=>e.amount||0)),backgroundColor:["rgba(74, 144, 226, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 191, 36, 0.8)","rgba(147, 51, 234, 0.8)","rgba(249, 115, 22, 0.8)"].slice(0,Ye.length),borderColor:["rgba(74, 144, 226, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(147, 51, 234, 1)","rgba(249, 115, 22, 1)"].slice(0,Ye.length),borderWidth:2,hoverOffset:4}]})})}),(0,Gt.jsx)("div",{className:"space-y-3",children:he.breakdown.map(((e,t)=>{var a;return(0,Gt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-surface-card rounded-lg",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:["#4A90E2","#22C55E","#FBBF24","#9333EA","#F97316"][t%5]}}),(0,Gt.jsx)("span",{className:"text-sm text-white",children:e.name})]}),(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:ha(e.amount||0,!0)}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:[null===(a=e.percentage)||void 0===a?void 0:a.toFixed(1),"%"]})]})]},t)}))})]})]}),he.breakdown&&he.breakdown.length>0?(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsx)("div",{className:"space-y-3",children:he.breakdown.map(((e,t)=>{var a;return(0,Gt.jsxs)("div",{className:"bg-".concat(e.color,"-500/10 border border-").concat(e.color,"-500/30 rounded-lg p-4"),children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("div",{className:"w-4 h-4 bg-".concat(e.color,"-400 rounded-full")}),(0,Gt.jsx)("span",{className:"text-sm text-".concat(e.color,"-400"),children:e.name})]}),(0,Gt.jsx)("div",{className:"text-xl font-bold text-".concat(e.color,"-400 mt-1"),children:ha(e.amount||0,!0)}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:[null===(a=e.percentage)||void 0===a?void 0:a.toFixed(1),"% \u2022 ",e.transactions," \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"]})]},t)}))}),(0,Gt.jsx)("div",{className:"space-y-3",children:(0,Gt.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-yellow-400 mb-2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439:"}),(0,Gt.jsx)("span",{className:"text-yellow-400",children:(null===(g=he.summary)||void 0===g?void 0:g.total_transactions)||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u0443\u043c\u043c\u0430:"}),(0,Gt.jsx)("span",{className:"text-yellow-400",children:ha((null===(b=he.summary)||void 0===b?void 0:b.avg_revenue_per_transaction)||0,!0)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0422\u043e\u043f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a:"}),(0,Gt.jsx)("span",{className:"text-yellow-400",children:(null===(y=he.breakdown)||void 0===y||null===(v=y.find((e=>{var t;return e.source===(null===(t=he.summary)||void 0===t?void 0:t.top_source)})))||void 0===v?void 0:v.name)||"N/A"})]})]})]})})]}):(0,Gt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Gt.jsx)("div",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,Gt.jsx)("p",{className:"text-sm",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445"}),(0,Gt.jsx)("p",{className:"text-xs mt-1",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u044b\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"})]})]})]}),"expenses"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b \u0438 \u0437\u0430\u0442\u0440\u0430\u0442\u044b \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b"})]})]}),(0,Gt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Gt.jsx)("button",{onClick:()=>He(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(we===e.key?"bg-red-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),xe?(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading data"})}):fe?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Gt.jsx)("p",{className:"text-sm text-red-400",children:fe}),(0,Gt.jsx)("button",{onClick:()=>Ue("expenses"),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-red-400",children:ha(he.total_expenses||0,!0)}),(0,Gt.jsxs)("div",{className:"text-xs text-red-300 mt-1",children:["day"===he.period&&"\u0437\u0430 \u0434\u0435\u043d\u044c","week"===he.period&&"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===he.period&&"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===he.period&&"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043f\u0440\u0438\u0431\u044b\u043b\u0438:"}),(0,Gt.jsxs)("div",{className:"text-2xl font-bold text-red-400",children:[he.expense_percentage||60,"%"]}),(0,Gt.jsx)("div",{className:"text-xs text-red-300 mt-1",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u043d\u0442"})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-red-400 mb-4",children:"\ud83d\udcca \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,Gt.jsx)(Rd,{type:"bar",data:Wd(we),title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b ".concat("day"===he.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===he.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===he.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),he.breakdown&&he.breakdown.length>0&&(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),he.breakdown.map(((e,t)=>(0,Gt.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-sm text-red-400",children:e.name}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:e.calculation})]}),(0,Gt.jsx)("div",{className:"text-lg font-bold text-red-400",children:ha(e.amount||0,!0)})]})},t)))]}),he.statistics&&(0,Gt.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),(0,Gt.jsxs)("span",{className:"text-red-400",children:[(null===(j=he.statistics.expense_ratio)||void 0===j?void 0:j.toFixed(1))||0,"%"]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0440\u0435\u0434\u043d\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,Gt.jsx)("span",{className:"text-red-400",children:ha(he.statistics.monthly_avg||0,!0)})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438:"}),(0,Gt.jsxs)("span",{className:"text-red-400",children:[(null===(w=he.statistics.efficiency_score)||void 0===w?void 0:w.toFixed(1))||0,"/100"]})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-red-400 mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432:"}),(0,Gt.jsx)("p",{className:"text-sm text-red-300",children:'\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u0430\u043a \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 \u043e\u0431\u0449\u0435\u0439 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043f\u043b\u044e\u0441 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432 \u043f\u043b\u0438\u0442\u043a\u0435 "\u0420\u0430\u0441\u0445\u043e\u0434\u044b".'})]})]})]}),"net_profit"===de&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsx)("p",{className:"text-sm text-text-secondary",children:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0447\u0435\u0442\u0430 \u0432\u0441\u0435\u0445 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"})]})]}),(0,Gt.jsx)("div",{className:"flex bg-surface-sidebar rounded-lg p-1",children:[{key:"day",label:"\u0414\u0435\u043d\u044c"},{key:"week",label:"\u041d\u0435\u0434\u0435\u043b\u044f"},{key:"month",label:"\u041c\u0435\u0441\u044f\u0446"},{key:"all",label:"\u0412\u0441\u0435"}].map((e=>(0,Gt.jsx)("button",{onClick:()=>He(e.key),className:"px-3 py-1 text-xs rounded-md transition-colors ".concat(we===e.key?"bg-emerald-500 text-white":"text-text-secondary hover:text-white"),children:e.label},e.key)))})]}),xe?(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading data"})}):fe?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-red-400 mb-2",children:"\u26a0\ufe0f"}),(0,Gt.jsx)("p",{className:"text-sm text-red-400",children:fe}),(0,Gt.jsx)("button",{onClick:()=>Ue("net_profit"),className:"mt-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"text-center mb-6",children:[(0,Gt.jsx)("div",{className:"text-4xl font-bold text-emerald-400",children:ha((null===(N=he.summary)||void 0===N?void 0:N.net_profit)||0,!0)}),(0,Gt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c","day"===he.period&&" \u0437\u0430 \u0434\u0435\u043d\u044c","week"===he.period&&" \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e","month"===he.period&&" \u0437\u0430 \u043c\u0435\u0441\u044f\u0446","all"===he.period&&" \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f"]}),(0,Gt.jsxs)("div",{className:"text-xs text-emerald-400 mt-1",children:[(null===(_=he.summary)||void 0===_||null===(k=_.profit_margin)||void 0===k?void 0:k.toFixed(1))||0,"% \u043c\u0430\u0440\u0436\u0430"]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 mb-6",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-lg font-bold text-emerald-400 mb-4",children:"\ud83d\udcb9 \u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0438 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),(0,Gt.jsx)(Rd,{type:"line",data:Vd(we),title:"\u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 ".concat("day"===he.period?"\u0437\u0430 \u0434\u0435\u043d\u044c":"week"===he.period?"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e":"month"===he.period?"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446":"\u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f")})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,Gt.jsx)("div",{className:"text-xl font-bold text-yellow-400",children:ha((null===(S=he.summary)||void 0===S?void 0:S.total_revenue)||0,!0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b:"}),(0,Gt.jsx)("div",{className:"text-xl font-bold text-red-400",children:ha((null===(C=he.summary)||void 0===C?void 0:C.total_expenses)||0,!0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("span",{className:"text-sm text-text-secondary",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,Gt.jsx)("div",{className:"text-xl font-bold text-emerald-400",children:ha((null===(M=he.summary)||void 0===M?void 0:M.net_profit)||0,!0)})]})]}),he.calculation_steps&&he.calculation_steps.length>0&&(0,Gt.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-emerald-400 mb-2",children:"\u041f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442:"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[he.calculation_steps.map(((e,t)=>(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsxs)("span",{className:"text-emerald-300",children:[e.description,":"]}),(0,Gt.jsxs)("span",{className:"text-emerald-300 ".concat(e.amount<0?"text-red-400":"text-emerald-400"),children:[e.amount<0?"":"+",ha(e.amount||0,!0)]})]},t))),(0,Gt.jsx)("div",{className:"border-t border-emerald-500/30 pt-2",children:(0,Gt.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,Gt.jsx)("span",{className:"text-emerald-400",children:"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:"}),(0,Gt.jsx)("span",{className:"text-emerald-400",children:ha((null===(L=he.summary)||void 0===L?void 0:L.net_profit)||0,!0)})]})})]})]}),(null===(E=he.analysis)||void 0===E?void 0:E.trends)&&(0,Gt.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[(0,Gt.jsx)("h5",{className:"font-rajdhani text-sm font-bold text-emerald-400 mb-2",children:"\u0410\u043d\u0430\u043b\u0438\u0437 \u0442\u0440\u0435\u043d\u0434\u043e\u0432:"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-emerald-300",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),(0,Gt.jsx)("span",{className:"".concat(he.analysis.trends.is_profitable?"text-emerald-400":"text-red-400"),children:he.analysis.trends.is_profitable?"\u041f\u0440\u0438\u0431\u044b\u043b\u044c\u043d\u043e":"\u0423\u0431\u044b\u0442\u043e\u0447\u043d\u043e"})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-emerald-300",children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438:"}),(0,Gt.jsx)("span",{className:"text-emerald-400",children:he.analysis.trends.efficiency_rating||"N/A"})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-emerald-300",children:"\u041f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b \u0440\u043e\u0441\u0442\u0430:"}),(0,Gt.jsx)("span",{className:"text-emerald-400",children:he.analysis.trends.growth_potential||"N/A"})]})]})]})]})]}),"bet_commission"!==de&&"human_bot_commission"!==de&&"gift_commission"!==de&&"bot_revenue"!==de&&"frozen_funds"!==de&&"total_revenue"!==de&&"expenses"!==de&&"net_profit"!==de&&(0,Gt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Gt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcca"}),(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2",children:"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"}),(0,Gt.jsxs)("p",{children:["\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e ",Ge(de)]}),(0,Gt.jsx)("p",{className:"text-sm mt-2",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439, \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"})]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between p-6 border-t border-border-primary",children:[(0,Gt.jsx)("button",{onClick:()=>ue(null),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),("bet_commission"===de||"gift_commission"===de)&&(0,Gt.jsx)("button",{onClick:async()=>{Ae(!0);try{const e=localStorage.getItem("token"),t=await Pt.put("".concat(Ud,"/admin/profit/commission-settings"),{bet_commission_rate:Me.bet_commission_rate,gift_commission_rate:Me.gift_commission_rate},{headers:{Authorization:"Bearer ".concat(e)}});D(t.data),await Pe(),console.log("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:",e),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439")}finally{Ae(!1)}},disabled:Ee,className:"px-6 py-3 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/80 disabled:opacity-50",children:Ee?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})})]});var Ye},qd="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Gd=e=>{var t,a,s,n,o,i,l,c,d,u;let{user:h}=e;const[m,x]=(0,r.useState)({total_bets:0,total_bets_value:0,active_bets:0,completed_bets:0,cancelled_bets:0,stuck_bets:0,average_bet:0}),[p,f]=(0,r.useState)([]),[g,b]=(0,r.useState)(!0),[y,v]=(0,r.useState)(""),[j,w]=(0,r.useState)(""),[N,_]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),[C,M]=(0,r.useState)(!1),[L,E]=(0,r.useState)(!1),[A,T]=(0,r.useState)(!1),[P,z]=(0,r.useState)(""),[I,O]=(0,r.useState)(null),[D,R]=(0,r.useState)(!1),[B,F]=(0,r.useState)(null),[W,V]=(0,r.useState)(!1),[U,H]=(0,r.useState)(!1),[q,G]=(0,r.useState)(!1),[$,Y]=(0,r.useState)(!1),[Q,K]=(0,r.useState)(new Date),[X,J]=(0,r.useState)(new Set),[Z,ee]=(0,r.useState)(!1),[te,ae]=(0,r.useState)(!1),[se,re]=(0,r.useState)(!1),ne=rs(1,10),{showSuccessRU:oe,showErrorRU:ie,showWarningRU:le}=Qt();(0,r.useEffect)((()=>{ce(),de()}),[y,j,ne.currentPage]),(0,r.useEffect)((()=>{const e=setInterval((()=>{ce(),de()}),1e4);return()=>clearInterval(e)}),[y,j,ne.currentPage]),(0,r.useEffect)((()=>{const e=setInterval((()=>{K(new Date)}),1e3);return()=>clearInterval(e)}),[]);const ce=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(qd,"/admin/bets/stats"),{headers:{Authorization:"Bearer ".concat(e)}});x(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a:",e)}},de=async()=>{try{var e;b(!0);const t=localStorage.getItem("token"),a={page:ne.currentPage,limit:ne.itemsPerPage};y&&(a.status=y),j&&(a.user_id=j);const s=await Pt.get("".concat(qd,"/admin/bets/list"),{headers:{Authorization:"Bearer ".concat(t)},params:a});f(s.data.bets||[]),ne.updatePagination((null===(e=s.data.pagination)||void 0===e?void 0:e.total_count)||0),b(!1)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a:",t),b(!1)}},ue=e=>Xt(e,(null===h||void 0===h?void 0:h.timezone_offset)||0),he=e=>{const t=new Date(e),a=(null===h||void 0===h?void 0:h.timezone_offset)||0,s=new Date(t.getTime()+36e5*a),r=Math.floor((Q-s)/1e3),n=Math.max(0,r),o=Math.floor(n/3600),i=Math.floor(n%3600/60),l=n%60;return"".concat(o.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0"))},me=e=>{const t={COMPLETED:{color:"bg-green-600",text:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"},CANCELLED:{color:"bg-red-600",text:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"},WAITING:{color:"bg-yellow-600",text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"},ACTIVE:{color:"bg-blue-600",text:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"},REVEAL:{color:"bg-purple-600",text:"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435"}}[e]||{color:"bg-gray-600",text:e};return(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat(t.color),children:t.text})},xe=()=>{J(new Set),ee(!1),ae(!1)};return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("h2",{className:"text-2xl font-rajdhani font-bold text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0421\u0442\u0430\u0432\u043a\u0430\u043c\u0438"}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>{ce(),de()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-rajdhani font-bold transition-colors",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",children:"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),(0,Gt.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await Pt.post("".concat(qd,"/admin/bets/unfreeze-stuck"),{},{headers:{Authorization:"Bearer ".concat(e)}});oe("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),await ce(),await de()}catch(a){var e,t;console.error("Error unfreezing stuck bets:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u043a\u0435 \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";ie(s)}},className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 font-rajdhani font-bold transition-colors",title:"\u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:["\ud83e\uddca \u0420\u0430\u0437\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0448\u0438\u0435 ",m.stuck_bets>0?"(".concat(m.stuck_bets,")"):""]}),(0,Gt.jsx)("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 font-rajdhani font-bold transition-colors",children:"\ud83d\udca5 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("button",{onClick:()=>V(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-rajdhani font-bold transition-colors",children:"\u26a1 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:m.total_bets}),(0,Gt.jsx)("p",{className:"text-accent-primary text-xs",children:Na(m.total_bets_value||0)})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-yellow-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:m.active_bets})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:m.completed_bets})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-red-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0445"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:m.cancelled_bets})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0417\u0430\u0432\u0438\u0441\u0448\u0438\u0445"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:m.stuck_bets})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u0443\u043c\u043c\u0430"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:Na(m.average_bet||0)})]})]})})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-3",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Gt.jsx)("button",{onClick:()=>v(""),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat(""===y?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0412\u0441\u0435"}),(0,Gt.jsx)("button",{onClick:()=>v("WAITING"===y?y:"WAITING"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("WAITING"===y?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u041e\u0436\u0438\u0434\u0430\u044e\u0442"}),(0,Gt.jsx)("button",{onClick:()=>v("ACTIVE"===y?y:"ACTIVE"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("ACTIVE"===y?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,Gt.jsx)("button",{onClick:()=>v("COMPLETED"===y?y:"COMPLETED"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("COMPLETED"===y?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435"}),(0,Gt.jsx)("button",{onClick:()=>v("CANCELLED"===y?y:"CANCELLED"),className:"px-3 py-1 text-sm rounded-lg font-rajdhani font-bold transition-colors ".concat("CANCELLED"===y?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0435"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"}),(0,Gt.jsx)("input",{type:"text",value:j,onChange:e=>w(e.target.value),placeholder:"ID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]})]}),te&&(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 mb-4",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("span",{className:"text-text-secondary font-roboto",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0441\u0442\u0430\u0432\u043e\u043a: ",(0,Gt.jsx)("span",{className:"font-bold",children:X.size})]}),(0,Gt.jsx)("button",{onClick:xe,className:"text-text-secondary hover:text-white transition-colors",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"})]}),(0,Gt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Gt.jsx)("button",{onClick:async()=>{if(0===X.size)return;if(!window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(X.size," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!")))return;re(!0);const e=Array.from(X);let t=0,a=0;try{const r=localStorage.getItem("token");for(const n of e)try{await Pt.delete("".concat(qd,"/admin/games/").concat(n),{headers:{Authorization:"Bearer ".concat(r)}}),t++}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438 ".concat(n,":"),s),a++}oe("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e ".concat(t," \u0438\u0437 ").concat(X.size," \u0441\u0442\u0430\u0432\u043e\u043a")),a>0&&le("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(a," \u0441\u0442\u0430\u0432\u043e\u043a")),xe(),de()}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",s),ie("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438")}finally{re(!1)}},disabled:se,className:"px-4 py-2 bg-red-600 text-white font-rajdhani font-bold rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:se?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435"})})]})}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Gt.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,Gt.jsxs)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:["\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u0432\u043e\u043a (",ne.totalItems," \u0437\u0430\u043f\u0438\u0441\u0435\u0439)"]})}),(0,Gt.jsx)("div",{className:"overflow-x-auto",children:g?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gt.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0430\u0432\u043e\u043a..."})}):(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:(0,Gt.jsx)("input",{type:"checkbox",checked:Z,onChange:()=>{if(Z)J(new Set),ae(!1);else{const e=new Set(p.map((e=>e.id)));J(e),ae(!0)}ee(!Z)},className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"ID \u0421\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===p.length?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:"9",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):p.map((e=>{var t,a,s,r;return(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50 ".concat("CANCELLED"===e.status?"opacity-60":""," ").concat(e.is_stuck?"bg-yellow-900 bg-opacity-20":""),children:[(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("input",{type:"checkbox",checked:X.has(e.id),onChange:()=>(e=>{const t=new Set(X);t.has(e)?t.delete(e):t.add(e),J(t),ae(t.size>0)})(e.id),className:"rounded border-border-primary text-accent-primary focus:ring-accent-primary"})}),(0,Gt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Gt.jsxs)("div",{className:"text-white font-roboto text-sm font-mono",children:[e.id?e.id.substring(0,8):"N/A","..."]}),e.is_bot_game&&(0,Gt.jsx)("span",{className:"inline-block px-1 py-0.5 text-xs bg-blue-600 text-white rounded",children:"BOT"})]}),(0,Gt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:(null===(t=e.creator)||void 0===t?void 0:t.username)||"N/A"}),(null===(a=e.creator)||void 0===a?void 0:a.email)&&(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:e.creator.email})]}),(0,Gt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:(null===(s=e.opponent)||void 0===s?void 0:s.username)||"\u041d\u0435\u0442"}),(null===(r=e.opponent)||void 0===r?void 0:r.email)&&(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:e.opponent.email})]}),(0,Gt.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,Gt.jsx)("div",{className:"text-accent-primary font-rajdhani font-bold",children:Na(e.bet_amount||0)}),(0,Gt.jsxs)("div",{className:"text-yellow-400 text-xs",children:["\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: ",Na(e.commission_amount||0)]})]}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[me(e.status),e.is_stuck&&(0,Gt.jsx)("span",{className:"text-yellow-400 text-xs",children:"\u23f0"})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:he(e.created_at)})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:ue(e.created_at)})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>(e=>{_(e),S(!0)})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0435\u0442\u0430\u043b\u0435\u0439",children:(0,Gt.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.can_cancel&&(0,Gt.jsx)("button",{onClick:()=>(e=>{O(e),z(""),M(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Gt.jsx)("button",{onClick:()=>(e=>{F(e),T(!0)})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]})})]}),(0,Gt.jsx)(ss,{currentPage:ne.currentPage,totalPages:ne.totalPages,onPageChange:ne.handlePageChange,itemsPerPage:ne.itemsPerPage,totalItems:ne.totalItems,className:"mt-6"}),k&&N&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"ID \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,Gt.jsx)("div",{className:"text-white font-mono",children:N.id})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,Gt.jsx)("div",{children:me(N.status)})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,Gt.jsx)("div",{className:"text-accent-primary font-bold",children:Na(N.bet_amount||0)})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f:"}),(0,Gt.jsx)("div",{className:"text-yellow-400 font-bold",children:Na(N.commission_amount||0)})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430:"}),(0,Gt.jsx)("div",{className:"text-white",children:ue(N.created_at)})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:"}),(0,Gt.jsx)("div",{className:"text-white",children:he(N.created_at)})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c:"}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,Gt.jsx)("div",{className:"text-white",children:null===(t=N.creator)||void 0===t?void 0:t.username}),(null===(a=N.creator)||void 0===a?void 0:a.email)&&(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:N.creator.email}),(0,Gt.jsx)("div",{className:"text-xs text-accent-primary",children:null===(s=N.creator)||void 0===s?void 0:s.type})]})]}),N.opponent&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,Gt.jsx)("div",{className:"text-white",children:N.opponent.username}),N.opponent.email&&(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:N.opponent.email}),(0,Gt.jsx)("div",{className:"text-xs text-accent-primary",children:N.opponent.type})]})]}),N.bet_gems&&Object.keys(N.bet_gems).length>0&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:(0,Gt.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.bet_gems).map((e=>{let[t,a]=e;return a>0&&(0,Gt.jsxs)("span",{className:"px-2 py-1 bg-accent-primary bg-opacity-20 text-accent-primary text-sm rounded",children:[t,": ",a]},t)}))})})]}),"COMPLETED"===N.status&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"text-text-secondary text-sm",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0433\u0440\u044b:"}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded p-2 mt-1",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white",children:"\u0425\u043e\u0434 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f:"}),(0,Gt.jsx)("div",{className:"text-accent-primary",children:N.creator_move})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white",children:"\u0425\u043e\u0434 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430:"}),(0,Gt.jsx)("div",{className:"text-accent-primary",children:N.opponent_move})]})]}),N.winner_id&&(0,Gt.jsx)("div",{className:"mt-2",children:(0,Gt.jsxs)("div",{className:"text-green-400",children:["\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: ",N.winner_id===N.creator.id?N.creator.username:null===(n=N.opponent)||void 0===n?void 0:n.username]})})]})]})]})]})}),C&&I&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"}),(0,Gt.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,Gt.jsxs)("div",{className:"text-yellow-400 text-sm",children:["\u26a0\ufe0f \u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 ",null===(o=I.id)||void 0===o?void 0:o.substring(0,8),"... \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 $",null===(i=I.bet_amount)||void 0===i?void 0:i.toFixed(2)]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043c\u0435\u043d\u044b (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e):"}),(0,Gt.jsx)("textarea",{value:P,onChange:e=>z(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b \u0441\u0442\u0430\u0432\u043a\u0438...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",rows:"3"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{if(P.trim())try{const e=localStorage.getItem("token"),t=await Pt.post("".concat(qd,"/admin/bets/").concat(I.id,"/cancel"),{reason:P},{headers:{Authorization:"Bearer ".concat(e)}});oe(t.data.message),M(!1),O(null),z(""),await ce(),await de()}catch(a){var e,t;console.error("Error cancelling bet:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";ie(s)}else le("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u043e\u0442\u043c\u0435\u043d\u044b \u0441\u0442\u0430\u0432\u043a\u0438")},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"})]})]})]})}),L&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("button",{onClick:()=>E(!1),disabled:D,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Gt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Gt.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,Gt.jsxs)("div",{children:["\u2022 \u0411\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b \u0412\u0421\u0415 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (",m.active_bets,")"]}),(0,Gt.jsx)("div",{children:"\u2022 \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b"}),(0,Gt.jsx)("div",{children:"\u2022 \u0413\u0435\u043c\u044b \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"}),(0,Gt.jsx)("div",{children:"\u2022 \u041e\u0431\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0432\u0441\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0438\u0433\u0440\u044b"})]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438?"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u0442 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438 \u0431\u043e\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>E(!1),disabled:D,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{R(!0);const e=localStorage.getItem("token"),t=await Pt.post("".concat(qd,"/admin/bets/reset-all"),{},{headers:{Authorization:"Bearer ".concat(e)}});oe("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")),E(!1),await ce(),await de()}catch(a){var e,t;console.error("Error resetting all bets:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";ie(s)}finally{R(!1)}},disabled:D,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:D?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u0431\u0440\u043e\u0441..."]}):"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435"})]})]})]})}),A&&B&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-orange-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-orange-400",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443"}),(0,Gt.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-orange-900 border border-orange-600 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"text-orange-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Gt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Gt.jsxs)("div",{className:"text-orange-300 text-sm space-y-1",children:[(0,Gt.jsxs)("div",{children:["\u2022 ID \u0441\u0442\u0430\u0432\u043a\u0438: ",null===(l=B.id)||void 0===l?void 0:l.substring(0,8),"..."]}),(0,Gt.jsxs)("div",{children:["\u2022 \u0421\u0443\u043c\u043c\u0430: $",null===(c=B.bet_amount)||void 0===c?void 0:c.toFixed(2)]}),(0,Gt.jsxs)("div",{children:["\u2022 \u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",null===(d=B.creator)||void 0===d?void 0:d.username]}),B.opponent&&(0,Gt.jsxs)("div",{children:["\u2022 \u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a: ",null===(u=B.opponent)||void 0===u?void 0:u.username]}),(0,Gt.jsx)("div",{children:"\u2022 \u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u044b"}),(0,Gt.jsx)("div",{children:"\u2022 \u0420\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"})]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0430\u0432\u043a\u0443?"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0432\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430, \u0430 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await Pt.post("".concat(qd,"/admin/bets/").concat(B.id,"/cancel"),{reason:"\u0421\u0431\u0440\u043e\u0441 \u0441\u0442\u0430\u0432\u043a\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c"},{headers:{Authorization:"Bearer ".concat(e)}});oe(t.data.message),T(!1),F(null),await ce(),await de()}catch(a){var e,t;console.error("Error resetting bet:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438";ie(s)}},className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-rajdhani font-bold transition-colors",children:"\ud83d\uddd1\ufe0f \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})]})}),q&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-800 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\udca5 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("button",{onClick:()=>G(!1),disabled:$,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"text-red-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Gt.jsx)("strong",{children:"\u041a\u0420\u0418\u0422\u0418\u0427\u0415\u0421\u041a\u041e\u0415 \u041f\u0420\u0415\u0414\u0423\u041f\u0420\u0415\u0416\u0414\u0415\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!"]}),(0,Gt.jsxs)("div",{className:"text-red-300 text-sm space-y-1",children:[(0,Gt.jsxs)("div",{children:["\u2022 \u0411\u0443\u0434\u0443\u0442 \u0424\u0418\u0417\u0418\u0427\u0415\u0421\u041a\u0418 \u0423\u0414\u0410\u041b\u0415\u041d\u042b \u0432\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441\u0442\u0430\u0432\u043e\u043a (",m.total_bets,")"]}),(0,Gt.jsx)("div",{children:"\u2022 \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438: \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u2192 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),(0,Gt.jsx)("div",{children:"\u2022 \u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438: \u043d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),(0,Gt.jsx)("div",{children:"\u2022 \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u041d\u0415\u0412\u041e\u0417\u041c\u041e\u0416\u041d\u041e"}),(0,Gt.jsx)("div",{children:"\u2022 \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0441\u044f \u0432\u0441\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0433\u0440"})]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u0424\u0418\u0417\u0418\u0427\u0415\u0421\u041a\u0418 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0412\u0421\u0415 \u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445?"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u042d\u0442\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0438\u0442 \u0432\u0441\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>G(!1),disabled:$,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{Y(!0);const e=localStorage.getItem("token"),t=await Pt.post("".concat(qd,"/admin/bets/delete-all"),{},{headers:{Authorization:"Bearer ".concat(e)}});oe("".concat(t.data.message,". \u0423\u0434\u0430\u043b\u0435\u043d\u043e: ").concat(t.data.actual_database_deletions," \u0441\u0442\u0430\u0432\u043e\u043a")),G(!1),await ce(),await de()}catch(a){var e,t;console.error("Error deleting all bets:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a";ie(s)}finally{Y(!1)}},disabled:$,className:"flex-1 px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:$?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435..."]}):"\ud83d\udca5 \u0423\u0414\u0410\u041b\u0418\u0422\u042c \u0412\u0421\u0401"})]})]})]})}),W&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-purple-600 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-purple-400",children:"\u26a1 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("button",{onClick:()=>V(!1),disabled:U,className:"text-gray-400 hover:text-white disabled:opacity-50",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-purple-900 border border-purple-600 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"text-purple-400 text-sm mb-2",children:["\u26a0\ufe0f ",(0,Gt.jsx)("strong",{children:"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!"})," \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"]}),(0,Gt.jsxs)("div",{className:"text-purple-300 text-sm space-y-1",children:[(0,Gt.jsx)("div",{children:"\u2022 \u0411\u0443\u0434\u0443\u0442 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0433\u0435\u043c\u043e\u0432"}),(0,Gt.jsx)("div",{children:"\u2022 \u042d\u0442\u0438 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b"}),(0,Gt.jsx)("div",{children:"\u2022 \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0432\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u0438\u0433\u0440\u043e\u043a\u0430\u043c"}),(0,Gt.jsx)("div",{children:"\u2022 \u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0430"}),(0,Gt.jsx)("div",{children:"\u2022 \u042d\u0442\u043e \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u043d\u0435\u0446\u0435\u043b\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438"})]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("p",{className:"text-white font-rajdhani text-lg mb-2",children:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0433\u0435\u043c\u043e\u0432?"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u0432\u043a\u0438 \u0441 \u043d\u0435\u0446\u0435\u043b\u044b\u043c\u0438 \u0441\u0443\u043c\u043c\u0430\u043c\u0438"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>V(!1),disabled:U,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{H(!0);const e=localStorage.getItem("token"),t=await Pt.post("".concat(qd,"/admin/bets/reset-fractional"),{},{headers:{Authorization:"Bearer ".concat(e)}});t.data.total_processed>0?oe("".concat(t.data.message,". \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e: ").concat(t.data.total_processed," \u0441\u0442\u0430\u0432\u043e\u043a")):oe("\u0421\u0442\u0430\u0432\u043a\u0438 \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0433\u0435\u043c\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),V(!1),await ce(),await de()}catch(a){var e,t;console.error("Error resetting fractional bets:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u0441 \u0434\u0440\u043e\u0431\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438";ie(s)}finally{H(!1)}},disabled:U,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-rajdhani font-bold transition-colors disabled:opacity-50 flex items-center justify-center",children:U?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u0431\u0440\u043e\u0441..."]}):"\u26a1 \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u0440\u043e\u0431\u043d\u044b\u0435"})]})]})]})})]})},$d=()=>{const[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)({}),[n,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null);return{confirm:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((a=>{s(d({title:e.title||"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",message:e.message||"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",confirmText:e.confirmText||"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:e.cancelText||"\u041e\u0442\u043c\u0435\u043d\u0430",type:e.type||"default"},e)),l((()=>a)),t(!0)}))},confirmationModal:d({isOpen:e,onClose:()=>{t(!1),o(!1),i&&i(!1)},onConfirm:async()=>{if(a.onConfirm){o(!0);try{await a.onConfirm(),o(!1),t(!1),i&&i(!0)}catch(e){o(!1),console.error("Error in confirmation action:",e)}}else t(!1),i&&i(!0)},loading:n},a)}},Yd=()=>{const[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)({}),[n,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null);return{prompt:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((a=>{s(d({title:e.title||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",message:e.message||"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:",placeholder:e.placeholder||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",confirmText:e.confirmText||"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:e.cancelText||"\u041e\u0442\u043c\u0435\u043d\u0430",type:e.type||"text",min:e.min,max:e.max},e)),l((()=>a)),t(!0)}))},inputModal:d({isOpen:e,onClose:()=>{t(!1),o(!1),i&&i(null)},onConfirm:async e=>{if(a.onConfirm){o(!0);try{await a.onConfirm(e),o(!1),t(!1),i&&i(e)}catch(s){o(!1),console.error("Error in input action:",s)}}else t(!1),i&&i(e)},loading:n},a)}},Qd=e=>{let{isOpen:t,onClose:a,onConfirm:s,title:r="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",message:n="\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435?",confirmText:o="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:i="\u041e\u0442\u043c\u0435\u043d\u0430",type:l="default",loading:c=!1}=e;if(!t)return null;const d=(()=>{switch(l){case"danger":return{confirmButton:"bg-red-600 hover:bg-red-700 focus:ring-red-500",icon:"\u26a0\ufe0f",iconBg:"bg-red-100",iconColor:"text-red-600"};case"warning":return{confirmButton:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",icon:"\u26a0\ufe0f",iconBg:"bg-yellow-100",iconColor:"text-yellow-600"};case"success":return{confirmButton:"bg-green-600 hover:bg-green-700 focus:ring-green-500",icon:"\u2713",iconBg:"bg-green-100",iconColor:"text-green-600"};default:return{confirmButton:"bg-accent-primary hover:bg-accent-primary/80 focus:ring-accent-primary",icon:"?",iconBg:"bg-accent-primary/10",iconColor:"text-accent-primary"}}})();return(0,Gt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity",onClick:e=>{e.target===e.currentTarget&&a()}}),(0,Gt.jsxs)("div",{className:"relative bg-surface-card border border-accent-primary border-opacity-30 rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",children:[(0,Gt.jsxs)("div",{className:"p-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ".concat(d.iconBg," sm:mx-0 sm:h-10 sm:w-10"),children:(0,Gt.jsx)("span",{className:"text-xl ".concat(d.iconColor),children:d.icon})}),(0,Gt.jsx)("div",{className:"ml-4 text-left",children:(0,Gt.jsx)("h3",{className:"text-lg leading-6 font-rajdhani font-bold text-white",children:r})})]}),(0,Gt.jsx)("div",{className:"mt-4",children:(0,Gt.jsx)("div",{className:"text-sm text-text-secondary font-roboto leading-relaxed",children:n})})]}),(0,Gt.jsxs)("div",{className:"px-6 py-4 bg-surface-sidebar bg-opacity-50 rounded-b-lg flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Gt.jsx)("button",{type:"button",onClick:a,disabled:c,className:"w-full sm:w-auto px-4 py-2 border border-border-primary text-text-secondary bg-surface-primary hover:bg-surface-sidebar focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary focus:ring-offset-surface-card rounded-md transition-colors font-roboto font-medium disabled:opacity-50",children:i}),(0,Gt.jsx)("button",{type:"button",onClick:s,disabled:c,className:"w-full sm:w-auto px-4 py-2 border border-transparent rounded-md shadow-sm text-white font-roboto font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-card transition-colors disabled:opacity-50 ".concat(d.confirmButton),children:c?(0,Gt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Gt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f..."]}):o})]})]})]})},Kd=e=>{let{isOpen:t,onClose:a,onConfirm:s,title:n="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",message:o="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435:",placeholder:i="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",confirmText:l="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",cancelText:c="\u041e\u0442\u043c\u0435\u043d\u0430",type:d="text",min:u,max:h,loading:m=!1}=e;const[x,p]=(0,r.useState)(""),[f,g]=(0,r.useState)("");if(!t)return null;const b=()=>{const e=(e=>{if(!e.trim())return"\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c";if("number"===d){const t=parseFloat(e);if(isNaN(t))return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e";if(void 0!==u&&t<u)return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(u);if(void 0!==h&&t>h)return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(h)}return null})(x);e?g(e):(s("number"===d?parseFloat(x):x),p(""),g(""))};return(0,Gt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity",onClick:e=>{e.target===e.currentTarget&&a()}}),(0,Gt.jsxs)("div",{className:"relative bg-surface-card border border-accent-primary border-opacity-30 rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",children:[(0,Gt.jsxs)("div",{className:"p-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-accent-primary bg-opacity-10 sm:mx-0 sm:h-10 sm:w-10",children:(0,Gt.jsx)("span",{className:"text-xl text-accent-primary",children:"\u270f\ufe0f"})}),(0,Gt.jsx)("div",{className:"ml-4 text-left",children:(0,Gt.jsx)("h3",{className:"text-lg leading-6 font-rajdhani font-bold text-white",children:n})})]}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("div",{className:"text-sm text-text-secondary font-roboto leading-relaxed mb-4",children:o}),(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsx)("input",{type:d,value:x,onChange:e=>{p(e.target.value),g("")},onKeyPress:e=>{"Enter"===e.key&&b()},placeholder:i,min:u,max:h,className:"w-full px-3 py-2 border border-border-primary bg-surface-primary text-white rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent font-roboto",autoFocus:!0}),f&&(0,Gt.jsx)("p",{className:"text-red-400 text-xs font-roboto mt-1",children:f})]})]})]}),(0,Gt.jsxs)("div",{className:"px-6 py-4 bg-surface-sidebar bg-opacity-50 rounded-b-lg flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0",children:[(0,Gt.jsx)("button",{type:"button",onClick:()=>{p(""),g(""),a()},disabled:m,className:"w-full sm:w-auto px-4 py-2 border border-border-primary text-text-secondary bg-surface-primary hover:bg-surface-sidebar focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary focus:ring-offset-surface-card rounded-md transition-colors font-roboto font-medium disabled:opacity-50",children:c}),(0,Gt.jsx)("button",{type:"button",onClick:b,disabled:m||!x.trim(),className:"w-full sm:w-auto px-4 py-2 border border-transparent rounded-md shadow-sm text-white font-roboto font-medium bg-accent-primary hover:bg-accent-primary/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary focus:ring-offset-surface-card transition-colors disabled:opacity-50",children:m?(0,Gt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Gt.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."]}):l})]})]})]})},Xd="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Jd=()=>{const e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},Zd=()=>({headers:Jd()}),eu=Xd,tu=e=>{let{remainingSeconds:t,botId:a}=e;const[s,n]=(0,r.useState)(t);if((0,r.useEffect)((()=>{n(t)}),[t]),(0,r.useEffect)((()=>{if(s<=0)return;const e=setInterval((()=>{n((t=>t<=1?(clearInterval(e),0):t-1))}),1e3);return()=>clearInterval(e)}),[s]),s<=0)return null;return(0,Gt.jsxs)("div",{className:"text-orange-400 font-roboto text-xs font-bold animate-pulse",children:["\u23f3 ",(e=>{if(e<60)return"".concat(e,"\u0441");{const t=Math.floor(e/60),a=e%60;return"".concat(t,"\u043c ").concat(a,"\u0441")}})(s)]})},au=()=>{var e;const[t,a]=(0,r.useState)({active_bots:0,bets_24h:0,wins_24h:0,win_rate:0,total_bet_value:0,errors:0,most_active:[]}),[s,n]=(0,r.useState)([]),[o,i]=(0,r.useState)({}),[l,c]=(0,r.useState)({max_active_bets_regular:5e9,max_active_bets_human:3e8}),[u,h]=(0,r.useState)({regular_bots:{current:0,max:50,available:50,percentage:0},human_bots:{current:0,max:30,available:30,percentage:0}}),[m,x]=(0,r.useState)(!0),[p,f]=(0,r.useState)(!0),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(null),[N,_]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),[C,M]=(0,r.useState)(null),[L,E]=(0,r.useState)(""),[A,T]=(0,r.useState)({}),[P,z]=(0,r.useState)({}),[I,O]=(0,r.useState)({}),[D,R]=(0,r.useState)(!1),[B,F]=(0,r.useState)([]),[W,V]=(0,r.useState)({current_page:1,total_pages:1}),[U,H]=(0,r.useState)(!1),[q,G]=(0,r.useState)(null),[$,Y]=(0,r.useState)(!1),[Q,K]=(0,r.useState)(null),[X,J]=(0,r.useState)([]),[Z,ee]=(0,r.useState)({current_page:1,total_pages:1}),te=rs(1,10),[ae,se]=(0,r.useState)("created_at"),[re,ne]=(0,r.useState)("desc"),[oe,ie]=(0,r.useState)(new Set),le=e=>{ae===e?ne("asc"===re?"desc":"asc"):(se(e),ne("desc"))},[ce,de]=(0,r.useState)([]),[ue,he]=(0,r.useState)(null),[me,xe]=(0,r.useState)(!1),[pe,fe]=(0,r.useState)(null),[ge,be]=(0,r.useState)("asc"),[ye,ve]=(0,r.useState)(null),[je,we]=(0,r.useState)(!1),[Ne,_e]=(0,r.useState)(null),ke=e=>{const t=pe===e&&"asc"===ge?"desc":"asc";fe(e),be(t);const a=[...ce].sort(((a,s)=>{let r,n;switch(e){case"duration":r=a.duration_seconds||0,n=s.duration_seconds||0;break;case"total_bets":r=a.total_bets||a.total_games||0,n=s.total_bets||s.total_games||0;break;case"wins":r=a.wins||0,n=s.wins||0;break;case"total_winnings":r=a.total_winnings||0,n=s.total_winnings||0;break;case"total_losses":r=a.total_losses||0,n=s.total_losses||0;break;case"profit":r=a.profit||0,n=s.profit||0;break;default:return 0}return"asc"===t?r-n:n-r}));de(a)},Se=async(e,t)=>{try{const o=localStorage.getItem("token");let i;i="current-cycle"===e.id?await Pt.get("".concat(eu,"/admin/bots/").concat(t.id,"/cycle-bets"),{headers:{Authorization:"Bearer ".concat(o)}}):await Pt.get("".concat(eu,"/admin/bots/").concat(t.id,"/completed-cycle-bets"),{headers:{Authorization:"Bearer ".concat(o)},params:{cycle_id:e.id}});const l=i.data||{},c=Array.isArray(l.bets)?l.bets:[],d=l.cycle||{},u=((e,a,s,r,n)=>{if(t&&void 0!==t.roi_planned_percent&&null!==t.roi_planned_percent&&isFinite(Number(t.roi_planned_percent)))return Number(t.roi_planned_percent);const o=Number(null!==(e=t.wins_percentage)&&void 0!==e?e:0),i=Number(null!==(a=t.losses_percentage)&&void 0!==a?a:0),l=Number(null!==(s=t.cycle_games)&&void 0!==s?s:12)||12,c=Math.round(Number(null!==(r=t.min_bet_amount)&&void 0!==r?r:1)||1),d=Math.round(Number(null!==(n=t.max_bet_amount)&&void 0!==n?n:50)||50),u=Math.round((c+d)/2*l),h=Math.floor(u*o/100),m=Math.ceil(u*i/100),x=h+m;return x>0?(h-m)/x*100:0})();let h;var a,s,r,n;if("current-cycle"===e.id)h={id:e.id,bot_name:l.bot_name||t.name,cycle_number:e.cycle_number,completed_at:e.end_time||e.completed_at,duration:e.duration,start_time:e.start_time,end_time:e.end_time,total_games:c.length,wins:c.filter((e=>"win"===e.result)).length,losses:c.filter((e=>"loss"===e.result)).length,draws:c.filter((e=>"draw"===e.result)).length,total_bet:(null===(a=l.sums)||void 0===a?void 0:a.total_sum)||0,total_winnings:(null===(s=l.sums)||void 0===s?void 0:s.wins_sum)||0,total_losses:(null===(r=l.sums)||void 0===r?void 0:r.losses_sum)||0,profit:(null===(n=l.sums)||void 0===n?void 0:n.profit)||0,win_rate:c.length>0?(c.filter((e=>"win"===e.result)).length/c.length*100).toFixed(1):"0.0",bets:c,planned_roi:u};else h={id:e.id,bot_name:t.name,cycle_number:e.cycle_number,completed_at:e.end_time||e.completed_at,duration:e.duration,start_time:e.start_time,end_time:e.end_time,total_games:c.length,wins:c.filter((e=>"win"===e.result_class)).length,losses:c.filter((e=>"loss"===e.result_class)).length,draws:c.filter((e=>"draw"===e.result_class)).length,total_bet:d.total_bet_amount||0,total_winnings:d.total_winnings||0,total_losses:d.total_losses||0,profit:d.net_profit||0,win_rate:c.length>0?(c.filter((e=>"win"===e.result_class)).length/c.length*100).toFixed(1):"0.0",bets:c,planned_roi:u};ve(e),_e(h),we(!0)}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0446\u0438\u043a\u043b\u0430:",o),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0446\u0438\u043a\u043b\u0430")}},[Ce,Me]=(0,r.useState)(!1),[Le,Ee]=(0,r.useState)(!1),[Ae,Te]=(0,r.useState)(!1),Pe=(e,t,a)=>{localStorage.setItem("botPercentages",JSON.stringify({wins_percentage:e,losses_percentage:t,draws_percentage:a,saved_at:Date.now()}))},ze=()=>{try{const e=localStorage.getItem("botPercentages");if(e){const t=JSON.parse(e);return{wins_percentage:t.wins_percentage||35,losses_percentage:t.losses_percentage||35,draws_percentage:t.draws_percentage||30}}}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432:",e)}return{wins_percentage:35,losses_percentage:35,draws_percentage:30}},[Ie,Oe]=(0,r.useState)((()=>{const e=ze();return{name:"",min_bet_amount:1,max_bet_amount:100,wins_count:6,losses_count:6,draws_count:4,wins_percentage:e.wins_percentage||44,losses_percentage:e.losses_percentage||36,draws_percentage:e.draws_percentage||20,cycle_games:16,pause_between_cycles:5,pause_on_draw:5,cycle_total_amount:0,active_pool_amount:0,roi_active:0}})),De=()=>{if(!Ie.min_bet_amount||!Ie.max_bet_amount||!Ie.cycle_games)return{total:0,active_pool:0,roi_active:0};const e=parseFloat(Ie.min_bet_amount),t=parseFloat(Ie.max_bet_amount),a=parseInt(Ie.cycle_games);let s=0;const r=Math.max(1,Math.round(.25*a)),n=Math.round(.5*a);s=r*(e+.15*(t-e))+n*(e+.5*(t-e))+(a-r-n)*(e+.85*(t-e));const o=Math.round(s*Ie.wins_percentage/100),i=Math.round(s*Ie.losses_percentage/100),l=Math.round(s*Ie.draws_percentage/100),c=o+i,d=o-i,u=c>0?d/c*100:0;return{total:Math.round(s),active_pool:c,roi_active:Math.round(100*u)/100,wins_sum:o,losses_sum:i,draws_sum:l,profit:d}},Re=function(e){if(!(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))return;const{W:t,L:a,D:s}=Qe(e,Ie.wins_percentage,Ie.losses_percentage,Ie.draws_percentage);Oe((r=>d(d({},r),{},{cycle_games:e,wins_count:t,losses_count:a,draws_count:s})))},[Be,Fe]=(0,r.useState)([]),[We,Ve]=(0,r.useState)(!1),[Ue,He]=(0,r.useState)(""),qe=[{name:"Custom",wins:null,losses:null,draws:null,custom:!0},{name:"ROI 2%",wins:39.3,losses:37.7,draws:23},{name:"ROI 3%",wins:40.7,losses:38.3,draws:21},{name:"ROI 4%",wins:41.6,losses:38.4,draws:20},{name:"ROI 5%",wins:41.5,losses:37.5,draws:21},{name:"ROI 6%",wins:41.9,losses:37.1,draws:21},{name:"ROI 7%",wins:38,losses:33,draws:29},{name:"ROI 8%",wins:38.9,losses:33.1,draws:28},{name:"ROI 9%",wins:42,losses:35,draws:23},{name:"ROI 10%",wins:38.5,losses:31.5,draws:30},{name:"ROI 10%+",wins:44,losses:36,draws:20},{name:"ROI 11%",wins:41.6,losses:33.4,draws:25},{name:"ROI 12%",wins:39.8,losses:31.2,draws:29},{name:"ROI 13%",wins:44.6,losses:34.4,draws:21},{name:"ROI 14%",wins:41.6,losses:31.4,draws:27},{name:"ROI 15%",wins:46,losses:34,draws:20},{name:"ROI 20%",wins:47.4,losses:31.6,draws:21}],[Ge,$e]=(0,r.useState)("Custom"),Ye=e=>{e&&!e.custom?($e(e.name),Oe((t=>d(d({},t),{},{wins_percentage:Number(e.wins.toFixed(1)),losses_percentage:Number(e.losses.toFixed(1)),draws_percentage:Number(e.draws.toFixed(1))})))):$e("Custom")},Qe=(e,t,a,s)=>{const r=Math.max(1,parseInt(e)||1),n=t/100*r,o=a/100*r,i=s/100*r;let l=Math.floor(n),c=Math.floor(o),d=Math.floor(i),u=r-(l+c+d);const h=[{key:"W",rem:n-l},{key:"L",rem:o-c},{key:"D",rem:i-d}].sort(((e,t)=>t.rem-e.rem));let m=0;for(;u>0;){const e=h[m%h.length].key;"W"===e?l+=1:"L"===e?c+=1:d+=1,u-=1,m+=1}l=Math.max(0,l),c=Math.max(0,c),d=Math.max(0,d);const x=l+c+d;if(x!==r){const e=r-x;0!==e&&(l>=c&&l>=d?l+=e:c>=l&&c>=d?c+=e:d+=e)}return{W:l,L:c,D:d}};(0,r.useEffect)((()=>{const e=De().total;Oe((t=>d(d({},t),{},{cycle_total_amount:e})))}),[Ie.min_bet_amount,Ie.max_bet_amount,Ie.cycle_games]);const[Ke,Xe]=(0,r.useState)({isValid:!0,errors:[]}),[Je,Ze]=(0,r.useState)("bots"),{showSuccessRU:et,showErrorRU:tt}=Qt(),{confirm:at,confirmationModal:st}=$d(),{prompt:rt,inputModal:nt}=Yd(),ot=()=>{ie(new Set),Me(!1),Ee(!1)},it=async e=>{if(0===oe.size)return;const t=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",a=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b";if(await at({title:e?"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u0431\u043e\u0442\u043e\u0432":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ".concat(t," ").concat(oe.size," \u0431\u043e\u0442\u043e\u0432?"),confirmText:e?"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:e?"success":"warning"})){Te(!0);try{const e=localStorage.getItem("token"),t=Array.from(oe).map((t=>Pt.post("".concat(eu,"/admin/bots/").concat(t,"/toggle"),{},{headers:{Authorization:"Bearer ".concat(e)}})));await Promise.all(t),et("\u0423\u0441\u043f\u0435\u0448\u043d\u043e ".concat(a," ").concat(oe.size," \u0431\u043e\u0442\u043e\u0432")),await ct(),ot()}catch(s){console.error("Error bulk ".concat(t," bots:"),s),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 ".concat(t," \u0431\u043e\u0442\u043e\u0432"))}finally{Te(!1)}}};(0,r.useEffect)((()=>{lt(),ct(),ut();const e=setInterval((()=>{ct()}),5e3);return()=>clearInterval(e)}),[]),(0,r.useEffect)((()=>{ct()}),[te.currentPage]);const lt=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(eu,"/admin/bots/regular/stats"),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data),f(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432:",e),f(!1)}},ct=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(eu,"/admin/bots"),{headers:{Authorization:"Bearer ".concat(e)},params:{page:te.currentPage,limit:te.itemsPerPage}}),a=t.data.bots||t.data;n(a),Array.isArray(a)&&a.forEach((e=>{null!==e&&void 0!==e&&e.id&&!o[e.id]&&dt(e.id)})),ot(),void 0!==t.data.total_count?te.updatePagination(t.data.total_count):te.updatePagination(a.length)}catch(e){console.error("Error fetching bots:",e),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0431\u043e\u0442\u043e\u0432")}},dt=async e=>{try{var t;const a=await Pt.get("".concat(eu,"/admin/bots/").concat(e,"/cycle-bets"),Zd()),s=null===(t=a.data)||void 0===t?void 0:t.sums;s&&i((t=>d(d({},t),{},{[e]:{total_sum:Number(s.total_sum||0),active_pool:Number(s.active_pool||0),draws_sum:Number(s.draws_sum||0),wins_sum:Number(s.wins_sum||0),losses_sum:Number(s.losses_sum||0),profit:Number(s.profit||0),roi_active:Number(s.roi_active||0),exact_cycle_total:Number(a.data&&a.data.exact_cycle_total||0)}})))}catch(a){}},ut=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(eu,"/admin/bots/stats/active-bets"),{headers:{Authorization:"Bearer ".concat(e)}});h(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e)}},ht=e=>{const t=[];(e.min_bet_amount<1||e.min_bet_amount>1e4)&&t.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 10000"),(e.max_bet_amount<1||e.max_bet_amount>1e4)&&t.push("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 10000"),e.min_bet_amount>=e.max_bet_amount&&t.push("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439"),(e.wins_percentage<0||e.wins_percentage>100)&&t.push("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 0 \u0434\u043e 100"),(e.losses_percentage<0||e.losses_percentage>100)&&t.push("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 0 \u0434\u043e 100"),(e.draws_percentage<0||e.draws_percentage>100)&&t.push("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043d\u0438\u0447\u044c\u0438\u0445 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0442 0 \u0434\u043e 100");const a=(e.wins_percentage||0)+(e.losses_percentage||0)+(e.draws_percentage||0);Math.abs(a-100)>.1&&t.push("\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0438\u0441\u0445\u043e\u0434\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c 100% (\u0441\u0435\u0439\u0447\u0430\u0441 ".concat(a,"%)")),(e.cycle_games<4||e.cycle_games>100)&&t.push("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442 4 \u0434\u043e 100"),(e.pause_between_cycles<1||e.pause_between_cycles>3600)&&t.push("\u041f\u0430\u0443\u0437\u0430 \u043c\u0435\u0436\u0434\u0443 \u0446\u0438\u043a\u043b\u0430\u043c\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 3600 \u0441\u0435\u043a\u0443\u043d\u0434"),(e.pause_on_draw<1||e.pause_on_draw>60)&&t.push("\u041f\u0430\u0443\u0437\u0430 \u043f\u0440\u0438 \u043d\u0438\u0447\u044c\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 60 \u0441\u0435\u043a\u0443\u043d\u0434");return{isValid:0===t.length,errors:t}},mt=e=>{const t=ht(e);return Xe(t),t.isValid},xt=async()=>{if(q)try{const e=localStorage.getItem("token"),t=await Pt.post("".concat(eu,"/admin/bots/").concat(q.id,"/force-complete-cycle"),{},{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&(et("\u0426\u0438\u043a\u043b \u0431\u043e\u0442\u0430 ".concat(q.name," \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d. \u041f\u0440\u0438\u0431\u044b\u043b\u044c: $").concat(t.data.profit.toFixed(2))),H(!1),G(null),await ct(),await lt())}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430:",e),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0446\u0438\u043a\u043b\u0430")}},pt=async e=>{try{const t=localStorage.getItem("token"),a=await Pt.post("".concat(eu,"/admin/bots/").concat(e,"/recalculate-bets"),{},{headers:{Authorization:"Bearer ".concat(t)}});a.data.success&&(et("\u0421\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b \u0438 \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u044b. \u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e \u0441\u0442\u0430\u0432\u043e\u043a: ".concat(a.data.cancelled_bets)),await ct(),await lt())}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0442\u0430\u0432\u043e\u043a:",t),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a \u0431\u043e\u0442\u0430")}};return(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("h2",{className:"text-2xl font-rajdhani font-bold text-white",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0411\u043e\u0442\u044b"}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>b(!0),className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white bg-green-600 hover:bg-green-700 transition-colors",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0411\u043e\u0442\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{const e=!m;await Pt.post("".concat(eu,"/admin/bots/toggle-all"),{enabled:e},Zd()),x(e),await lt()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432:",e)}},className:"px-6 py-3 rounded-lg font-rajdhani font-bold text-white transition-colors ".concat(m?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:m?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432"})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Gt.jsx)("div",{className:"border-b border-border-primary",children:(0,Gt.jsx)("button",{onClick:()=>Ze("bots"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold bg-accent-primary text-white border-b-2 border-accent-primary w-full",children:"\ud83d\udccb \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u043e\u0442\u043e\u0432"})}),(0,Gt.jsx)("div",{className:"p-6",children:"bots"===Je&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-3",children:"\u041e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"flex gap-4 flex-nowrap items-stretch",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("div",{className:"text-white text-xl font-rajdhani font-bold",children:s.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.remaining_slots||0)),0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0442\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("div",{className:"text-accent-primary text-xl font-rajdhani font-bold",children:s.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.current_cycle_games||0)),0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b"}),(0,Gt.jsx)("div",{className:"text-green-400 text-xl font-rajdhani font-bold",children:s.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.cycle_games||12)),0)})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-3",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"text-xl font-rajdhani font-bold ".concat((()=>{const e=s.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),a=e.reduce(((e,t)=>e+(t.cycle_games||12)),0),r=a>0?Math.round(t/a*100):0;return r>=90?"text-red-400":r>=70?"text-yellow-400":"text-green-400"})()),children:[(()=>{const e=s.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),a=e.reduce(((e,t)=>e+(t.cycle_games||12)),0);return a>0?Math.round(t/a*100):0})(),"%"]})]})]}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Gt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat((()=>{const e=s.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),a=e.reduce(((e,t)=>e+(t.cycle_games||12)),0),r=a>0?Math.round(t/a*100):0;return r>=90?"bg-red-500":r>=70?"bg-yellow-500":"bg-green-500"})()),style:{width:"".concat((()=>{const e=s.filter((e=>e.is_active)),t=e.reduce(((e,t)=>e+(t.current_cycle_games||0)),0),a=e.reduce(((e,t)=>e+(t.cycle_games||12)),0),r=a>0?Math.round(t/a*100):0;return Math.min(100,r)})(),"%")}})}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-xs mt-1",children:[s.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.current_cycle_games||0)),0)," \u043e\u0442\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 ",s.filter((e=>e.is_active)).reduce(((e,t)=>e+(t.cycle_games||12)),0)," \u043e\u0431\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u0430"]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4",children:[(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-green-600 rounded-lg",children:(0,Gt.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udfe2"})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:s.filter((e=>e.is_active)).length})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-red-600 rounded-lg",children:(0,Gt.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udd34"})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:s.filter((e=>!e.is_active)).length})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0442\u0430\u0432\u043e\u043a \u0437\u0430 24\u0447"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:t.bets_24h})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-yellow-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041f\u043e\u0431\u0435\u0434 \u0437\u0430 24\u0447"}),(0,Gt.jsx)("p",{className:"text-white text-lg font-rajdhani font-bold",children:t.wins_24h})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"% \u043f\u043e\u0431\u0435\u0434"}),(0,Gt.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:[t.win_rate,"%"]})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-orange-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsxs)("p",{className:"text-white text-lg font-rajdhani font-bold",children:["$",t.total_bet_value.toFixed(2)]})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 rounded-lg ".concat(t.errors>0?"bg-red-600":"bg-gray-600"),children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u041e\u0448\u0438\u0431\u043a\u0438/\u0421\u0431\u043e\u0438"}),(0,Gt.jsx)("p",{className:"text-lg font-rajdhani font-bold ".concat(t.errors>0?"text-red-400":"text-white"),children:t.errors})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("div",{className:"p-2 bg-indigo-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Gt.jsxs)("div",{className:"ml-3",children:[(0,Gt.jsx)("p",{className:"text-text-secondary text-sm font-rajdhani",children:"\u0422\u043e\u043f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"}),(0,Gt.jsx)("div",{className:"text-white text-sm",children:t.most_active.length>0?t.most_active.slice(0,3).map(((e,t)=>(0,Gt.jsxs)("div",{className:"text-xs",children:["Bot-",e.id.substring(0,6),": ",e.games]},e.id))):(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})})]})]})})]}),$&&Q&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-blue-500 border-opacity-50 rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("p",{className:"text-blue-400 font-rajdhani font-bold",children:Q.name})]})]}),(0,Gt.jsx)("button",{onClick:()=>{Y(!1),K(null),J([])},className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsx)("div",{className:"px-6 py-4 bg-surface-sidebar border-b border-border-primary",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:Q.current_cycle_games||0}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b \u0438\u0433\u0440"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:Q.active_bets||0}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsxs)("div",{className:"text-2xl font-bold text-purple-400",children:[Q.win_rate||0,"%"]}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"Win Rate"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold ".concat(Q.is_active?"text-green-400":"text-red-400"),children:Q.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0431\u043e\u0442\u0430"})]})]})}),(0,Gt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-280px)]",children:[0===X.length?(0,Gt.jsxs)("div",{className:"text-center text-text-secondary py-12",children:[(0,Gt.jsx)("div",{className:"text-8xl mb-4",children:"\ud83d\udcca"}),(0,Gt.jsx)("h4",{className:"font-rajdhani text-xl font-bold mb-2",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0446\u0438\u043a\u043b\u0430\u0445"}),(0,Gt.jsxs)("p",{className:"text-lg",children:["\u0423 \u0431\u043e\u0442\u0430 ",(0,Gt.jsx)("span",{className:"text-blue-400 font-bold",children:Q.name})," \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0446\u0438\u043a\u043b\u043e\u0432"]}),(0,Gt.jsx)("div",{className:"mt-4 text-sm text-text-secondary bg-surface-sidebar rounded-lg p-4 max-w-md mx-auto",children:(0,Gt.jsxs)("p",{children:[(0,Gt.jsx)("strong",{children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"})," \u0426\u0438\u043a\u043b\u044b \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0431\u043e\u0442 \u0441\u044b\u0433\u0440\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0438\u0433\u0440 \u0438\u043b\u0438 \u0446\u0438\u043a\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"]})})]}):(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-white mb-3",children:"\ud83d\udcc8 \u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0432\u0441\u0435\u043c \u0446\u0438\u043a\u043b\u0430\u043c"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-lg font-bold text-blue-400",children:X.length}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u043e\u0432"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsxs)("div",{className:"text-lg font-bold text-red-400",children:["$",X.reduce(((e,t)=>e+t.total_spent),0).toFixed(2)]}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsxs)("div",{className:"text-lg font-bold text-green-400",children:["$",X.reduce(((e,t)=>e+t.total_earned),0).toFixed(2)]}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsxs)("div",{className:"text-lg font-bold ".concat(X.reduce(((e,t)=>e+t.profit),0)>0?"text-green-400":"text-red-400"),children:["$",X.reduce(((e,t)=>e+t.profit),0).toFixed(2)]}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsxs)("div",{className:"text-lg font-bold text-purple-400",children:[X.length>0?(X.reduce(((e,t)=>e+t.win_rate),0)/X.length).toFixed(1):0,"%"]}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 Win Rate"})]})]})]}),(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0426\u0438\u043a\u043b"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u044b"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"Win Rate"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0435\u0440\u0438\u043e\u0434"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:X.map((e=>(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Gt.jsxs)("td",{className:"px-4 py-3 text-blue-400 font-bold text-lg",children:["#",e.cycle_number]}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-white",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"font-bold",children:e.games_completed}),(0,Gt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0438\u0433\u0440"}),(0,Gt.jsxs)("span",{className:"text-green-400 font-bold",children:["(",e.games_won," \u2605)"]})]})}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-red-400 font-bold",children:["$",e.total_spent.toFixed(2)]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-green-400 font-bold",children:["$",e.total_earned.toFixed(2)]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 font-bold text-lg ".concat(e.profit>0?"text-green-400":e.profit<0?"text-red-400":"text-gray-400"),children:[e.profit>0?"+":"","$",e.profit.toFixed(2)]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-white font-bold",children:[e.win_rate.toFixed(1),"%"]}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("span",{className:"px-3 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(e.is_cycle_completed?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.is_cycle_completed?"\u2713 \u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d":"\u23f3 \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:[(0,Gt.jsx)("div",{children:new Date(e.created_at).toLocaleDateString("ru-RU")}),e.cycle_end_date&&(0,Gt.jsxs)("div",{className:"text-xs",children:["- ",new Date(e.cycle_end_date).toLocaleDateString("ru-RU")]})]})]},e.id)))})]})})]}),Z.total_pages>1&&(0,Gt.jsx)("div",{className:"flex justify-center mt-6",children:(0,Gt.jsx)("div",{className:"flex space-x-2",children:Array.from({length:Z.total_pages},((e,t)=>t+1)).map((e=>(0,Gt.jsx)("button",{onClick:()=>{},className:"px-3 py-1 rounded ".concat(e===Z.current_page?"bg-blue-600 text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:e},e)))})})]}),(0,Gt.jsxs)("div",{className:"flex justify-between items-center p-6 border-t border-border-primary",children:[(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm",children:["\ud83d\udca1 ",(0,Gt.jsx)("strong",{children:"\u0421\u043e\u0432\u0435\u0442:"}),' \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b" \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0446\u0438\u043a\u043b\u0430']}),(0,Gt.jsx)("button",{onClick:()=>{Y(!1),K(null),J([])},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Gt.jsx)("div",{className:"p-4 border-b border-border-primary",children:(0,Gt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"})}),Le&&(0,Gt.jsx)("div",{className:"p-4 bg-accent-primary bg-opacity-10 border-b border-border-primary",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Gt.jsxs)("span",{className:"text-white font-roboto text-sm",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0431\u043e\u0442\u043e\u0432: ",(0,Gt.jsx)("span",{className:"font-bold",children:oe.size})]})}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>it(!0),disabled:Ae,className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50 transition-colors",children:Ae?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Gt.jsx)("button",{onClick:()=>it(!1),disabled:Ae,className:"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:Ae?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Gt.jsx)("button",{onClick:async()=>{if(0===oe.size)return;if(await at({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(oe.size," \u0431\u043e\u0442\u043e\u0432? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"})){Te(!0);try{const e=localStorage.getItem("token"),t=Array.from(oe).map((t=>Pt.delete("".concat(eu,"/admin/bots/").concat(t,"/delete"),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:"\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438"}})));await Promise.all(t),et("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b ".concat(oe.size," \u0431\u043e\u0442\u043e\u0432")),await ct(),ot()}catch(e){console.error("Error bulk delete bots:",e),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0431\u043e\u0442\u043e\u0432")}finally{Te(!1)}}},disabled:Ae,className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 disabled:opacity-50 transition-colors",children:Ae?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Gt.jsx)("button",{onClick:ot,className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440"})]})]})}),(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:(0,Gt.jsx)("input",{type:"checkbox",checked:Ce,onChange:()=>{if(Ce)ie(new Set),Ee(!1);else{const e=new Set(s.map((e=>e.id)));ie(e),Ee(!0)}Me(!Ce)},className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u2116"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom cursor-pointer hover:bg-surface-card",onClick:()=>le("name"),children:(0,Gt.jsxs)("div",{className:"flex items-center",children:["\u0418\u043c\u044f","name"===ae&&(0,Gt.jsx)("span",{className:"ml-1",children:"asc"===re?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom cursor-pointer hover:bg-surface-card",onClick:()=>le("is_active"),children:(0,Gt.jsxs)("div",{className:"flex items-center",children:["\u0421\u0442\u0430\u0442\u0443\u0441","is_active"===ae&&(0,Gt.jsx)("span",{className:"ml-1",children:"asc"===re?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0446\u0438\u043a\u043b\u043e\u0432"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom cursor-pointer hover:bg-surface-card",onClick:()=>le("total_net_profit"),children:(0,Gt.jsxs)("div",{className:"flex items-center",children:["\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430","total_net_profit"===ae&&(0,Gt.jsx)("span",{className:"ml-1",children:"asc"===re?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom cursor-pointer hover:bg-surface-card",onClick:()=>le("roi"),children:(0,Gt.jsxs)("div",{className:"flex items-center",children:["ROI","roi"===ae&&(0,Gt.jsx)("span",{className:"ml-1",children:"asc"===re?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041b\u0438\u043c\u0438\u0442\u044b"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom cursor-pointer hover:bg-surface-card",onClick:()=>le("cycle_games"),children:(0,Gt.jsxs)("div",{className:"flex items-center",children:["\u0426\u0438\u043a\u043b","cycle_games"===ae&&(0,Gt.jsx)("span",{className:"ml-1",children:"asc"===re?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom cursor-pointer hover:bg-surface-card",onClick:()=>le("cycle_total_amount"),children:(0,Gt.jsxs)("div",{className:"flex items-center",children:["\u0421\u0443\u043c\u043c\u0430 \u0446\u0438\u043a\u043b\u0430","cycle_total_amount"===ae&&(0,Gt.jsx)("span",{className:"ml-1",children:"asc"===re?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u0430\u0443\u0437\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom cursor-pointer hover:bg-surface-card",onClick:()=>le("created_at"),children:(0,Gt.jsxs)("div",{className:"flex items-center",children:["\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","created_at"===ae&&(0,Gt.jsx)("span",{className:"ml-1",children:"asc"===re?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===s.length?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:"16",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 \u0431\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):(gt=s,[...gt].sort(((e,t)=>{let a,s;switch(ae){case"name":a=e.name||"",s=t.name||"";break;case"is_active":a=e.is_active?1:0,s=t.is_active?1:0;break;case"active_bets":a=e.active_bets||0,s=t.active_bets||0;break;case"total_net_profit":a=e.bot_profit_amount||0,s=t.bot_profit_amount||0;break;case"roi":a=void 0!==e.bot_profit_percent?e.bot_profit_percent:0,s=void 0!==t.bot_profit_percent?t.bot_profit_percent:0;break;case"cycle_games":a=e.cycle_games||0,s=t.cycle_games||0;break;case"cycle_total_amount":a=e.cycle_total_amount||0,s=t.cycle_total_amount||0;break;default:a=new Date(e.created_at||0),s=new Date(t.created_at||0)}return"asc"===re?a<s?-1:a>s?1:0:a>s?-1:a<s?1:0}))).map(((e,t)=>(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("input",{type:"checkbox",checked:oe.has(e.id),onChange:()=>(e=>{const t=new Set(oe);t.has(e)?t.delete(e):t.add(e),ie(t),Ee(t.size>0),Me(t.size===s.length&&s.length>0)})(e.id),className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm font-bold",children:t+1})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:e.name||"Bot #".concat(e.id.substring(0,3))})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-roboto font-medium ".concat(e.is_active?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:Number(e.completed_cycles||0)+(e.is_active||Number(e.current_cycle_games||0)>0||Number(e.active_bets||0)>0?1:0)})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-left",children:(0,Gt.jsxs)("div",{className:"text-white font-roboto text-xs space-y-1",children:[(0,Gt.jsxs)("div",{children:["\u0418\u0433\u0440\u044b: ",e.completed_cycles||0]}),(0,Gt.jsxs)("div",{children:["W/L/D: ",e.current_cycle_wins||0,"/",e.current_cycle_losses||0,"/",e.current_cycle_draws||0]}),(0,Gt.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),a=await Pt.get("".concat(eu,"/admin/bots/").concat(e.id,"/cycle-history"),{headers:{Authorization:"Bearer ".concat(t)}});he(e),de(a.data.games||[]),xe(!0)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0446\u0438\u043a\u043b\u043e\u0432:",t),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0446\u0438\u043a\u043b\u043e\u0432")}})(e),className:"text-blue-400 hover:text-blue-300 cursor-pointer underline",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0446\u0438\u043a\u043b\u043e\u0432",children:["\u041e\u0431\u0449\u0430\u044f \u041f\u0440\u0438\u0431\u044b\u043b\u044c: $",Math.round(e.total_net_profit||0)]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(()=>{const t=o[e.id],a=t&&Number.isFinite(Number(t.roi_active))?Number(t.roi_active):NaN,s=Number.isFinite(a)&&a<0?"text-red-400":"text-white",r=((t,a,s,r,n)=>{if(e&&void 0!==e.roi_planned_percent&&null!==e.roi_planned_percent&&isFinite(Number(e.roi_planned_percent)))return Number(e.roi_planned_percent);const o=Number(null!==(t=e.wins_percentage)&&void 0!==t?t:0),i=Number(null!==(a=e.losses_percentage)&&void 0!==a?a:0),l=Number(null!==(s=e.cycle_games)&&void 0!==s?s:12)||12,c=Math.round(Number(null!==(r=e.min_bet_amount)&&void 0!==r?r:1)||1),d=Math.round(Number(null!==(n=e.max_bet_amount)&&void 0!==n?n:50)||50),u=Math.round((c+d)/2*l),h=Math.floor(u*o/100),m=Math.ceil(u*i/100),x=h+m;return x>0?(h-m)/x*100:0})(),n=Number.isFinite(a),i=n?a.toFixed(2)+"%":"\u2014",l=n?s:"text-gray-400";return(0,Gt.jsxs)("div",{className:"flex flex-col items-center justify-center leading-tight",children:[(0,Gt.jsx)("span",{className:"".concat(l," font-roboto text-sm font-bold"),title:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 ROI (\u0438\u0437 \u043c\u043e\u0434\u0430\u043b\u043a\u0438 '\u0414\u0435\u0442\u0430\u043b\u0438 \u0446\u0438\u043a\u043b\u0430')",children:i}),(0,Gt.jsxs)("span",{className:"text-xs text-yellow-400",title:"\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0439 ROI (\u0438\u0437 \u0431\u044d\u043a\u0435\u043d\u0434\u0430)",children:[Number(r).toFixed(2),"%"]})]})})()}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"text-accent-primary font-roboto text-xs",children:[(0,Gt.jsxs)("div",{children:["\u041c\u0438\u043d: ",pa(e.min_bet_amount||e.min_bet||1)]}),(0,Gt.jsxs)("div",{children:["\u041c\u0430\u043a\u0441: ",pa(e.max_bet_amount||e.max_bet||100)]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"w-full max-w-24 mx-auto",children:[(0,Gt.jsx)("div",{className:"w-full bg-surface-sidebar rounded-full h-2 mb-2",children:(0,Gt.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat((()=>{const t=e.completed_bets||0,a=e.cycle_games&&e.cycle_games>0?e.cycle_games:16;return Math.min(t/a*100,100)})(),"%")}})}),(0,Gt.jsx)("div",{className:"flex items-center justify-center space-x-2",children:(0,Gt.jsx)("div",{className:"text-green-400 font-roboto text-sm font-medium",children:(()=>{const t=e.completed_bets||0,a=e.cycle_games&&e.cycle_games>0?e.cycle_games:16;return"".concat(t,"/").concat(a)})()})})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"flex items-center justify-center",children:(0,Gt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:e.is_active||!1,onChange:()=>(async e=>{try{const t=localStorage.getItem("token"),a=await Pt.post("".concat(eu,"/admin/bots/").concat(e,"/toggle"),{},{headers:{Authorization:"Bearer ".concat(t)}});et(a.data.message),await lt(),await ct()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0431\u043e\u0442\u0430:",t),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0431\u043e\u0442\u0430")}})(e.id),className:"sr-only peer"}),(0,Gt.jsx)("div",{className:"relative w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}),(0,Gt.jsx)("span",{className:"ml-3 text-sm font-medium text-white",children:e.is_active?"\u0412\u043a\u043b":"\u0412\u044b\u043a\u043b"})]})})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"text-accent-primary font-roboto text-sm",children:[(()=>{const t=o[e.id];if(t){const e=Number(t.total_sum||0),a=Number(void 0!==t.active_pool?t.active_pool:Number(t.wins_sum||0)+Number(t.losses_sum||0)),s=Number(t.draws_sum||0);return(0,Gt.jsxs)("div",{title:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ".concat(e,", \u041d\u0438\u0447\u044c\u0438: ").concat(s),children:[(0,Gt.jsx)("span",{className:"font-bold",children:e}),(0,Gt.jsxs)("div",{className:"text-xs text-gray-400",children:["(\u0438\u0437 ",a,", \u043d\u0438\u0447\u044c\u0438: ",s,")"]})]})}return(0,Gt.jsx)("span",{className:"font-bold",children:"0"})})(),(0,Gt.jsx)("div",{children:(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),a=((await Pt.get("".concat(eu,"/admin/bots/").concat(e.id,"/cycle-bets"),{headers:{Authorization:"Bearer ".concat(t)}})).data||{}).bets||[],s={id:"current-cycle",cycle_number:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439",end_time:(new Date).toISOString(),completed_at:(new Date).toISOString(),duration:"\u2014",start_time:a.length>0?a[0].created_at:(new Date).toISOString()};await Se(s,e)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0446\u0438\u043a\u043b\u0430:",t),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u0446\u0438\u043a\u043b\u0430")}})(e),className:"text-blue-400 hover:text-blue-300 underline text-xs mt-1",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438 \u0446\u0438\u043a\u043b\u0430 (W/L/D \u0438 ROI)",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0446\u0438\u043a\u043b\u0430"})})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:(()=>{const t=o[e.id];let a=Number(t&&t.exact_cycle_total||0);if(!(a>0)){var s,r,n,i,l;const t=Math.round(Number(null!==(s=null!==(r=e.min_bet_amount)&&void 0!==r?r:e.min_bet)&&void 0!==s?s:1)),o=Math.round(Number(null!==(n=null!==(i=e.max_bet_amount)&&void 0!==i?i:e.max_bet)&&void 0!==n?n:50)),c=Math.max(1,Number(null!==(l=e.cycle_games)&&void 0!==l?l:12));a=Math.round((t+o)/2*c)}return a>0?a:"\u2014"})()})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"flex flex-col items-center",children:[null!==e.cycle_planned_profit&&void 0!==e.cycle_planned_profit&&(0,Gt.jsx)("div",{className:"text-blue-400 font-roboto text-xs font-bold mb-1",title:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b (\u0440\u0430\u0441\u0447\u0451\u0442\u043d\u0430\u044f)",children:(()=>{const t=Number(e.cycle_planned_profit),a=t>0?"+":t<0?"\u2212":"+";return(0,Gt.jsxs)("span",{className:"text-blue-400",children:[a,"$",Math.abs(Math.round(t))," \u043f\u043b\u0430\u043d"]})})()}),(()=>{const t=o[e.id]||e.cycle_total_info||{},a="number"===typeof e.current_profit?e.current_profit:"number"===typeof t.wins_sum&&"number"===typeof t.losses_sum?Number(t.wins_sum)-Number(t.losses_sum):0,s=a>=0?"text-green-400":"text-red-400",r=a>0?"+":a<0?"\u2212":"+";return(0,Gt.jsxs)("span",{className:"font-roboto text-sm font-bold ".concat(s),title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430",children:[r,"$",Math.abs(Math.round(a))]})})()]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,Gt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Gt.jsx)("span",{className:"text-cyan-400 font-roboto text-sm font-bold",children:e.pause_between_cycles?"".concat(e.pause_between_cycles,"\u0441"):"5\u0441"}),e.pause_status&&e.pause_status.is_active&&(0,Gt.jsx)(tu,{remainingSeconds:e.pause_status.remaining_seconds,botId:e.id})]}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{const t=e.pause_between_cycles||5,a=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u043f\u0430\u0443\u0437\u0443 \u043c\u0435\u0436\u0434\u0443 \u0446\u0438\u043a\u043b\u0430\u043c\u0438 \u0434\u043b\u044f \u0431\u043e\u0442\u0430 ".concat(e.name||"Bot #".concat(e.id.substring(0,3)),":\n\n\u0422\u0435\u043a\u0443\u0449\u0430\u044f: ").concat(t," \u0441\u0435\u043a\u0443\u043d\u0434\n(\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: 1-3600)"),t);if(null===a)return;const s=parseInt(a);if(isNaN(s)||s<1||s>3600)return void tt("\u041f\u0430\u0443\u0437\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 1 \u0434\u043e 3600 \u0441\u0435\u043a\u0443\u043d\u0434");const r=localStorage.getItem("token");await Pt.put("".concat(eu,"/admin/bots/").concat(e.id,"/pause-settings"),{pause_between_cycles:s},{headers:{Authorization:"Bearer ".concat(r)}}),ct(),et("\u041f\u0430\u0443\u0437\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u043d\u0430 ".concat(s," \u0441\u0435\u043a\u0443\u043d\u0434"))}catch(t){console.error("Error updating pause settings:",t),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043f\u0430\u0443\u0437\u044b")}})(e),className:"text-gray-400 hover:text-white transition-colors p-1",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0443\u0437\u0443 \u043c\u0435\u0436\u0434\u0443 \u0446\u0438\u043a\u043b\u0430\u043c\u0438",children:"\u270f\ufe0f"})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:e.created_at?new Date(e.created_at).toLocaleDateString("ru-RU"):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"flex space-x-2 justify-center",children:[(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{var t,a,s,r,n,o,i,l,c,d,u,h,m,x,p,f,g,b,y,j,w,N,k;const S=await Pt.get("".concat(eu,"/admin/bots/").concat(e.id),Zd()),C=S.data.bot||{};Oe({name:C.name||"",min_bet_amount:null!==(t=C.min_bet_amount)&&void 0!==t?t:1,max_bet_amount:null!==(a=C.max_bet_amount)&&void 0!==a?a:50,wins_count:null!==(s=C.wins_count)&&void 0!==s?s:6,losses_count:null!==(r=C.losses_count)&&void 0!==r?r:6,draws_count:null!==(n=C.draws_count)&&void 0!==n?n:4,wins_percentage:null!==(o=C.wins_percentage)&&void 0!==o?o:44,losses_percentage:null!==(i=C.losses_percentage)&&void 0!==i?i:36,draws_percentage:null!==(l=C.draws_percentage)&&void 0!==l?l:20,cycle_games:null!==(c=C.cycle_games)&&void 0!==c?c:12,pause_between_cycles:null!==(d=C.pause_between_cycles)&&void 0!==d?d:5,pause_on_draw:null!==(u=C.pause_on_draw)&&void 0!==u?u:1,cycle_total_amount:null!==(h=C.cycle_total_amount)&&void 0!==h?h:0}),$e("Custom"),mt({name:C.name||"",min_bet_amount:null!==(m=C.min_bet_amount)&&void 0!==m?m:1,max_bet_amount:null!==(x=C.max_bet_amount)&&void 0!==x?x:50,wins_count:null!==(p=C.wins_count)&&void 0!==p?p:6,losses_count:null!==(f=C.losses_count)&&void 0!==f?f:6,draws_count:null!==(g=C.draws_count)&&void 0!==g?g:4,wins_percentage:null!==(b=C.wins_percentage)&&void 0!==b?b:44,losses_percentage:null!==(y=C.losses_percentage)&&void 0!==y?y:36,draws_percentage:null!==(j=C.draws_percentage)&&void 0!==j?j:20,cycle_games:null!==(w=C.cycle_games)&&void 0!==w?w:12,pause_between_cycles:null!==(N=C.pause_between_cycles)&&void 0!==N?N:5,pause_on_draw:null!==(k=C.pause_on_draw)&&void 0!==k?k:1}),_(S.data.bot),v(!0)}catch(S){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u0430:",S),tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u043e\u0442\u0430")}})(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",children:(0,Gt.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Gt.jsx)("button",{onClick:()=>pt(e.id),className:"p-1 bg-yellow-600 text-white rounded hover:bg-yellow-700",title:"\u041f\u0435\u0440\u0435\u0441\u0447\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Gt.jsx)("button",{onClick:()=>(e=>{G(e),H(!0)})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Gt.jsx)("button",{onClick:()=>(e=>{M(e),E(""),S(!0)})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)))})]})})]}),(0,Gt.jsx)(ss,{currentPage:te.currentPage,totalPages:te.totalPages,onPageChange:te.handlePageChange,itemsPerPage:te.itemsPerPage,totalItems:te.totalItems,className:"mt-6"})]})})]}),g&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:N?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("button",{onClick:()=>{b(!1),_(null)},className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,Gt.jsx)("input",{type:"text",value:Ie.name,onChange:e=>{Oe(d(d({},Ie),{},{name:e.target.value})),mt(d(d({},Ie),{},{name:e.target.value}))},placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:'\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435, \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0442\u043e "Bot"'})]}),(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:Ie.min_bet_amount,onChange:e=>{const t=d(d({},Ie),{},{min_bet_amount:parseInt(e.target.value)||1});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:Ie.max_bet_amount,onChange:e=>{const t=d(d({},Ie),{},{max_bet_amount:parseInt(e.target.value)||50});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0443\u043c\u043c \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u0433\u0435\u043c\u0430\u0445 (1-10000)"})]}),(0,Gt.jsxs)("div",{className:"border border-blue-500 bg-blue-900 bg-opacity-20 rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-blue-400 mb-3",children:"\u2696\ufe0f \u0411\u0430\u043b\u0430\u043d\u0441 \u0438\u0433\u0440"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0431\u0435\u0434\u044b:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"20",value:Ie.wins_count,onChange:e=>{const t=parseInt(e.target.value)||6,a=d(d({},Ie),{},{wins_count:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u044f:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"20",value:Ie.losses_count,onChange:e=>{const t=parseInt(e.target.value)||6,a=d(d({},Ie),{},{losses_count:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041d\u0438\u0447\u044c\u0438:"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"20",value:Ie.draws_count,onChange:e=>{const t=parseInt(e.target.value)||4,a=d(d({},Ie),{},{draws_count:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0438\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435. \u0421\u0443\u043c\u043c\u0430: ",Ie.wins_count+Ie.losses_count+Ie.draws_count,Ie.wins_count+Ie.losses_count+Ie.draws_count===Ie.cycle_games?(0,Gt.jsx)("span",{className:"text-green-400 ml-1",children:'\u2713 \u0421\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 "\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435"'}):(0,Gt.jsxs)("span",{className:"text-red-400 ml-1",children:['\u26a0 \u041d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 "\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435" (',Ie.cycle_games,")"]})]})]}),(0,Gt.jsxs)("div",{className:"border border-green-500 bg-green-900 bg-opacity-20 rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-green-400 mb-3",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0438\u0441\u0445\u043e\u0434\u043e\u0432 \u0438\u0433\u0440"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0440\u0435\u0441\u0435\u0442 ROI:"}),(0,Gt.jsx)("select",{value:Ge,onChange:e=>{const t=qe.find((t=>t.name===e.target.value));Ye(t);const{W:a,L:s,D:r}=Qe(Ie.cycle_games,t&&!t.custom?t.wins:Ie.wins_percentage,t&&!t.custom?t.losses:Ie.losses_percentage,t&&!t.custom?t.draws:Ie.draws_percentage);Oe((e=>d(d({},e),{},{wins_count:a,losses_count:s,draws_count:r})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:qe.map((e=>(0,Gt.jsx)("option",{value:e.name,children:e.name},e.name)))})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0431\u0435\u0434\u044b (%):"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Ie.wins_percentage,onChange:e=>{const t=parseFloat(e.target.value)||0,a=d(d({},Ie),{},{wins_percentage:t});$e("Custom"),Oe(a),mt(a),Pe(t,Ie.losses_percentage,Ie.draws_percentage);const{W:s,L:r,D:n}=Qe(Ie.cycle_games,t,Ie.losses_percentage,Ie.draws_percentage);Oe((e=>d(d({},e),{},{wins_count:s,losses_count:r,draws_count:n})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u044f (%):"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Ie.losses_percentage,onChange:e=>{const t=parseFloat(e.target.value)||0,a=d(d({},Ie),{},{losses_percentage:t});$e("Custom"),Oe(a),mt(a),Pe(Ie.wins_percentage,t,Ie.draws_percentage);const{W:s,L:r,D:n}=Qe(Ie.cycle_games,Ie.wins_percentage,t,Ie.draws_percentage);Oe((e=>d(d({},e),{},{wins_count:s,losses_count:r,draws_count:n})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041d\u0438\u0447\u044c\u0438 (%):"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Ie.draws_percentage,onChange:e=>{const t=parseFloat(e.target.value)||0,a=d(d({},Ie),{},{draws_percentage:t});$e("Custom"),Oe(a),mt(a),Pe(Ie.wins_percentage,Ie.losses_percentage,t);const{W:s,L:r,D:n}=Qe(Ie.cycle_games,Ie.wins_percentage,Ie.losses_percentage,t);Oe((e=>d(d({},e),{},{wins_count:s,losses_count:r,draws_count:n})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c 100%. \u0418\u0437 ",Ie.cycle_games," \u0438\u0433\u0440: ",Math.round(Ie.cycle_games*Ie.wins_percentage/100)," \u043f\u043e\u0431\u0435\u0434, ",Math.round(Ie.cycle_games*Ie.losses_percentage/100)," \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 ",Math.round(Ie.cycle_games*Ie.draws_percentage/100)," \u043d\u0438\u0447\u044c\u0438\u0445."]})]}),(0,Gt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0426\u0438\u043a\u043b\u044b \u0438 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0430\u0439\u043c\u0438\u043d\u0433\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"66",value:Ie.cycle_games,onChange:e=>{const t=Math.min(100,Math.max(4,parseInt(e.target.value)||12));Re(t,!0);const a=d(d({},Ie),{},{cycle_games:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u043e\u0434\u043d\u043e\u043c \u0446\u0438\u043a\u043b\u0435 (1-66)"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0430\u0443\u0437\u0430 \u043c\u0435\u0436\u0434\u0443 \u0446\u0438\u043a\u043b\u0430\u043c\u0438:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"300",value:Ie.pause_between_cycles,onChange:e=>{const t=d(d({},Ie),{},{pause_between_cycles:parseInt(e.target.value)||5});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430 \u0434\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u043e\u0433\u043e"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0430\u0443\u0437\u0430 \u043f\u0440\u0438 \u043d\u0438\u0447\u044c\u0435 (\u0441\u0435\u043a):"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"60",value:Ie.pause_on_draw,onChange:e=>{const t=d(d({},Ie),{},{pause_on_draw:parseInt(e.target.value)||1});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041f\u0440\u0438 \u043d\u0438\u0447\u044c\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"})]})]}),(()=>{const e=De(),t=e.total>0?Math.round(e.active_pool/e.total*100):0,a=[];return t<65&&a.push("\u26a0\ufe0f \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0443\u043b \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u0430\u043b (".concat(t,"%). \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u2265 65%.")),(e.roi_active<2||e.roi_active>20)&&a.push("\u26a0\ufe0f ROI_active (".concat(e.roi_active,"%) \u0432\u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0445 \u043f\u0440\u0435\u0434\u0435\u043b\u043e\u0432 [2%, 20%].")),a.length>0?(0,Gt.jsx)("div",{className:"mt-3 border border-yellow-500 bg-yellow-900 bg-opacity-20 rounded-lg p-3 text-yellow-200 text-sm space-y-1",children:a.map(((e,t)=>(0,Gt.jsx)("div",{children:e},t)))}):null})()]}),(0,Gt.jsxs)("div",{className:"border border-purple-500 bg-purple-900 bg-opacity-20 rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-purple-400 mb-3",children:"\ud83d\udcca \u041f\u0440\u0435\u0432\u044c\u044e ROI \u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432"}),(()=>{const e=De();return(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0446\u0438\u043a\u043b\u0430:"}),(0,Gt.jsx)("div",{className:"text-white font-bold",children:e.total})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0443\u043b:"}),(0,Gt.jsx)("div",{className:"text-purple-300 font-bold",children:e.active_pool})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,Gt.jsx)("div",{className:"font-bold ".concat(e.profit>=0?"text-green-400":"text-red-400"),children:e.profit})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary",children:"ROI_active:"}),(0,Gt.jsxs)("div",{className:"font-bold text-lg ".concat(e.roi_active>=0?"text-green-400":"text-red-400"),children:[e.roi_active,"%"]})]})]})})(),(0,Gt.jsxs)("div",{className:"text-xs text-purple-200 mt-3 border-t border-purple-700 pt-2",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0424\u043e\u0440\u043c\u0443\u043b\u0430 ROI:"})," (\u041f\u0440\u0438\u0431\u044b\u043b\u044c \xf7 \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0443\u043b) \xd7 100%"]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0443\u043b:"})," \u0421\u0443\u043c\u043c\u0430 \u043f\u043e\u0431\u0435\u0434 + \u0421\u0443\u043c\u043c\u0430 \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439 (\u043d\u0438\u0447\u044c\u0438 \u043d\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 ROI)"]})]})]}),!Ke.isValid&&(0,Gt.jsxs)("div",{className:"border border-red-500 bg-red-900 bg-opacity-20 rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-red-400 mb-2",children:"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438:"}),(0,Gt.jsx)("ul",{className:"space-y-1",children:Ke.errors.map(((e,t)=>(0,Gt.jsxs)("li",{className:"text-red-300 text-sm",children:["\u2022 ",e]},t)))})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Gt.jsx)("button",{onClick:async()=>{const e=ht(Ie);if(!e.isValid)return Xe(e),void tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438: ".concat(e.errors.join(", ")));try{const e=localStorage.getItem("token"),t={name:Ie.name,min_bet_amount:Ie.min_bet_amount,max_bet_amount:Ie.max_bet_amount,wins_count:Ie.wins_count,losses_count:Ie.losses_count,draws_count:Ie.draws_count,wins_percentage:Ie.wins_percentage,losses_percentage:Ie.losses_percentage,draws_percentage:Ie.draws_percentage,cycle_games:Ie.cycle_games,pause_between_cycles:Ie.pause_between_cycles,pause_on_draw:Ie.pause_on_draw},a=await Pt.post("".concat(eu,"/admin/bots/create-regular"),t,{headers:{Authorization:"Bearer ".concat(e)}});et(a.data.message),b(!1),Oe((()=>{const e=ze();return{name:"",min_bet_amount:1,max_bet_amount:50,wins_percentage:e.wins_percentage,losses_percentage:e.losses_percentage,draws_percentage:e.draws_percentage,cycle_games:12,pause_between_cycles:5,pause_on_draw:5,cycle_total_amount:0}})),await lt(),await ct()}catch(s){var t,a;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u0430:",s),tt((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0431\u043e\u0442\u0430")}},disabled:!Ke.isValid,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(Ke.isValid?"bg-accent-primary text-white hover:bg-accent-secondary":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:N?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("button",{onClick:()=>{b(!1),_(null),Xe({isValid:!0,errors:[]})},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),y&&N&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430: ",N.name]}),(0,Gt.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):"}),(0,Gt.jsx)("input",{type:"text",value:Ie.name,onChange:e=>{Oe(d(d({},Ie),{},{name:e.target.value})),mt(d(d({},Ie),{},{name:e.target.value}))},placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:'\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435, \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0442\u043e "Bot"'})]}),(0,Gt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:Ie.min_bet_amount,onChange:e=>{const t=d(d({},Ie),{},{min_bet_amount:parseInt(e.target.value)||1});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b):"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"10000",step:"1",value:Ie.max_bet_amount,onChange:e=>{const t=d(d({},Ie),{},{max_bet_amount:parseInt(e.target.value)||50});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0443\u043c\u043c \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u0433\u0435\u043c\u0430\u0445 (1-10000)"})]}),(0,Gt.jsxs)("div",{className:"border border-blue-500 bg-blue-900 bg-opacity-20 rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-blue-400 mb-3",children:"\u2696\ufe0f \u0411\u0430\u043b\u0430\u043d\u0441 \u0438\u0433\u0440"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0431\u0435\u0434\u044b:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"20",value:Ie.wins_count,onChange:e=>{const t=parseInt(e.target.value)||6,a=d(d({},Ie),{},{wins_count:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u044f:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"20",value:Ie.losses_count,onChange:e=>{const t=parseInt(e.target.value)||6,a=d(d({},Ie),{},{losses_count:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041d\u0438\u0447\u044c\u0438:"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"20",value:Ie.draws_count,onChange:e=>{const t=parseInt(e.target.value)||4,a=d(d({},Ie),{},{draws_count:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0438\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435. \u0421\u0443\u043c\u043c\u0430: ",Ie.wins_count+Ie.losses_count+Ie.draws_count,Ie.wins_count+Ie.losses_count+Ie.draws_count===Ie.cycle_games?(0,Gt.jsx)("span",{className:"text-green-400 ml-1",children:'\u2713 \u0421\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 "\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435"'}):(0,Gt.jsxs)("span",{className:"text-red-400 ml-1",children:['\u26a0 \u041d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 "\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435" (',Ie.cycle_games,")"]})]})]}),(0,Gt.jsxs)("div",{className:"border border-green-500 bg-green-900 bg-opacity-20 rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-green-400 mb-3",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0438\u0441\u0445\u043e\u0434\u043e\u0432 \u0438\u0433\u0440"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0440\u0435\u0441\u0435\u0442 ROI:"}),(0,Gt.jsx)("select",{value:Ge,onChange:e=>{const t=qe.find((t=>t.name===e.target.value));Ye(t);const{W:a,L:s,D:r}=Qe(Ie.cycle_games,t&&!t.custom?t.wins:Ie.wins_percentage,t&&!t.custom?t.losses:Ie.losses_percentage,t&&!t.custom?t.draws:Ie.draws_percentage);Oe((e=>d(d({},e),{},{wins_count:a,losses_count:s,draws_count:r})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:qe.map((e=>(0,Gt.jsx)("option",{value:e.name,children:e.name},e.name)))})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0431\u0435\u0434\u044b (%):"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Ie.wins_percentage,onChange:e=>{const t=parseFloat(e.target.value)||0,a=d(d({},Ie),{},{wins_percentage:t});$e("Custom"),Oe(a),mt(a),Pe(t,Ie.losses_percentage,Ie.draws_percentage);const{W:s,L:r,D:n}=Qe(Ie.cycle_games,t,Ie.losses_percentage,Ie.draws_percentage);Oe((e=>d(d({},e),{},{wins_count:s,losses_count:r,draws_count:n})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u044f (%):"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Ie.losses_percentage,onChange:e=>{const t=parseFloat(e.target.value)||0,a=d(d({},Ie),{},{losses_percentage:t});$e("Custom"),Oe(a),mt(a),Pe(Ie.wins_percentage,t,Ie.draws_percentage);const{W:s,L:r,D:n}=Qe(Ie.cycle_games,Ie.wins_percentage,t,Ie.draws_percentage);Oe((e=>d(d({},e),{},{wins_count:s,losses_count:r,draws_count:n})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041d\u0438\u0447\u044c\u0438 (%):"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",step:"0.1",value:Ie.draws_percentage,onChange:e=>{const t=parseFloat(e.target.value)||0,a=d(d({},Ie),{},{draws_percentage:t});$e("Custom"),Oe(a),mt(a),Pe(Ie.wins_percentage,Ie.losses_percentage,t);const{W:s,L:r,D:n}=Qe(Ie.cycle_games,Ie.wins_percentage,Ie.losses_percentage,t);Oe((e=>d(d({},e),{},{wins_count:s,losses_count:r,draws_count:n})))},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c 100%. \u0418\u0437 ",Ie.cycle_games," \u0438\u0433\u0440: ",Math.round(Ie.cycle_games*Ie.wins_percentage/100)," \u043f\u043e\u0431\u0435\u0434, ",Math.round(Ie.cycle_games*Ie.losses_percentage/100)," \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 ",Math.round(Ie.cycle_games*Ie.draws_percentage/100)," \u043d\u0438\u0447\u044c\u0438\u0445."]})]}),(0,Gt.jsxs)("div",{className:"border border-border-primary rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u0426\u0438\u043a\u043b\u044b \u0438 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0430\u0439\u043c\u0438\u043d\u0433\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u0418\u0433\u0440 \u0432 \u0446\u0438\u043a\u043b\u0435:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"66",value:Ie.cycle_games,onChange:e=>{const t=Math.min(100,Math.max(4,parseInt(e.target.value)||12));Re(t,!0);const a=d(d({},Ie),{},{cycle_games:t});Oe(a),mt(a)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u0432 \u043e\u0434\u043d\u043e\u043c \u0446\u0438\u043a\u043b\u0435 (1-66)"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0430\u0443\u0437\u0430 \u043c\u0435\u0436\u0434\u0443 \u0446\u0438\u043a\u043b\u0430\u043c\u0438:"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"300",value:Ie.pause_between_cycles,onChange:e=>{const t=d(d({},Ie),{},{pause_between_cycles:parseInt(e.target.value)||5});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary mt-1",children:"\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430 \u0434\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u043e\u0433\u043e"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-1",children:"\u041f\u0430\u0443\u0437\u0430 \u043f\u0440\u0438 \u043d\u0438\u0447\u044c\u0435 (\u0441\u0435\u043a):"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"60",value:Ie.pause_on_draw,onChange:e=>{const t=d(d({},Ie),{},{pause_on_draw:parseInt(e.target.value)||1});Oe(t),mt(t)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"})]})]})]}),!Ke.isValid&&(0,Gt.jsxs)("div",{className:"border border-red-500 bg-red-900 bg-opacity-20 rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-red-400 mb-2",children:"\u041e\u0448\u0438\u0431\u043a\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438:"}),(0,Gt.jsx)("ul",{className:"space-y-1",children:Ke.errors.map(((e,t)=>(0,Gt.jsxs)("li",{className:"text-red-300 text-sm",children:["\u2022 ",e]},t)))})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,Gt.jsx)("button",{onClick:async()=>{try{const e=ht(Ie);if(!e.isValid)return Xe(e),void tt("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438: ".concat(e.errors.join(", ")));const t=localStorage.getItem("token"),a={name:Ie.name,min_bet_amount:Ie.min_bet_amount,max_bet_amount:Ie.max_bet_amount,wins_count:Ie.wins_count,losses_count:Ie.losses_count,draws_count:Ie.draws_count,wins_percentage:Ie.wins_percentage,losses_percentage:Ie.losses_percentage,draws_percentage:Ie.draws_percentage,cycle_games:Ie.cycle_games,pause_between_cycles:Ie.pause_between_cycles,pause_on_draw:Ie.pause_on_draw},s=await Pt.patch("".concat(eu,"/admin/bots/").concat(N.id),a,{headers:{Authorization:"Bearer ".concat(t)}});et(s.data.message||"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b");const r=d(d(d({},N),Ie),{},{updated_at:(new Date).toISOString()});_(r),v(!1),_(null),await ct()}catch(a){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u0430:",a),tt((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u0430")}},disabled:!Ke.isValid,className:"px-6 py-3 rounded-lg font-rajdhani font-bold transition-colors ".concat(Ke.isValid?"bg-accent-primary text-white hover:bg-accent-secondary":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("button",{onClick:()=>pt(N.id),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-rajdhani font-bold",children:"\ud83d\udd04 \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("button",{onClick:()=>{v(!1),_(null),Xe({isValid:!0,errors:[]})},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),k&&C&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-500 border-opacity-50 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-red-400",children:"\ud83d\uddd1 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsx)("div",{className:"bg-red-900 border border-red-600 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"text-red-300 font-rajdhani font-bold",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),(0,Gt.jsxs)("p",{className:"text-red-200 text-sm",children:["\u0412\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430 ",(0,Gt.jsxs)("strong",{children:['"',C.name||"Bot #".concat(C.id.substring(0,6)),'"']})]})]})]})}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435:"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,Gt.jsx)("span",{className:"ml-2 ".concat(C.is_active?"text-green-400":"text-red-400"),children:C.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"}),(0,Gt.jsx)("span",{className:"text-white ml-2",children:C.active_bets||0})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"Win Rate:"}),(0,Gt.jsxs)("span",{className:"text-accent-primary ml-2",children:[C.win_rate,"%"]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f:"}),(0,Gt.jsx)("span",{className:"text-white ml-2",children:(ft=C.created_at,new Date(ft).toLocaleDateString("ru-RU"))})]})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("label",{className:"block text-text-secondary text-sm mb-2",children:[(0,Gt.jsx)("span",{className:"text-red-400",children:"*"})," \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:"]}),(0,Gt.jsx)("textarea",{value:L,onChange:e=>E(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u044c, \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b, \u043f\u043b\u0430\u043d\u043e\u0432\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430...)",rows:3,className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white resize-none",required:!0}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs mt-1",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u0432 \u043b\u043e\u0433\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"})]}),C.active_bets>0&&(0,Gt.jsx)("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3",children:(0,Gt.jsxs)("div",{className:"text-yellow-200 text-sm",children:[(0,Gt.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u0423 \u0431\u043e\u0442\u0430 \u0435\u0441\u0442\u044c ",C.active_bets," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438. \u041e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438."]})}),(0,Gt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Gt.jsx)("button",{onClick:async()=>{if(L.trim())try{const e=localStorage.getItem("token"),t=await Pt.delete("".concat(eu,"/admin/bots/").concat(C.id,"/delete"),{headers:{Authorization:"Bearer ".concat(e)},data:{reason:L}});et(t.data.message),S(!1),M(null),E(""),await lt(),await ct()}catch(a){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0431\u043e\u0442\u0430";tt(s)}else tt("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430")},disabled:!L.trim(),className:"px-6 py-3 text-white rounded-lg font-rajdhani font-bold transition-colors ".concat(L.trim()?"bg-red-600 hover:bg-red-700":"bg-gray-600 cursor-not-allowed"),children:"\ud83d\uddd1 \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("button",{onClick:()=>{S(!1),M(null),E("")},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),D&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-50 rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-border-primary",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\ud83d\udcca \u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[0===B.length?(0,Gt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Gt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcca"}),(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold mb-2",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,Gt.jsx)("p",{children:"\u041d\u0430\u043a\u043e\u043f\u0438\u0442\u0435\u043b\u0438 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 \u043f\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})]}):(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0411\u043e\u0442"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0426\u0438\u043a\u043b"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0418\u0433\u0440\u044b"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"Win Rate"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:B.map((e=>(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Gt.jsx)("td",{className:"px-4 py-3 text-white font-rajdhani",children:e.bot_name}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-accent-primary font-bold",children:["#",e.cycle_number]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-white",children:[e.games_completed,"/",e.games_won]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-red-400 font-bold",children:["$",e.total_spent.toFixed(2)]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-green-400 font-bold",children:["$",e.total_earned.toFixed(2)]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 font-bold ".concat(e.profit>0?"text-green-400":e.profit<0?"text-red-400":"text-gray-400"),children:[e.profit>0?"+":"","$",e.profit.toFixed(2)]}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-white",children:[e.win_rate.toFixed(1),"%"]}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-rajdhani font-bold ".concat(e.is_cycle_completed?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.is_cycle_completed?"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d":"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-text-secondary text-sm",children:new Date(e.created_at).toLocaleString("ru-RU")})]},e.id)))})]})}),W.total_pages>1&&(0,Gt.jsx)("div",{className:"flex justify-center mt-6",children:(0,Gt.jsx)("div",{className:"flex space-x-2",children:Array.from({length:W.total_pages},((e,t)=>t+1)).map((e=>(0,Gt.jsx)("button",{onClick:()=>{},className:"px-3 py-1 rounded ".concat(e===W.current_page?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary hover:text-white"),children:e},e)))})})]}),(0,Gt.jsx)("div",{className:"flex justify-end p-6 border-t border-border-primary",children:(0,Gt.jsx)("button",{onClick:()=>R(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}),U&&q&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-white mb-4",children:"\u23f9\ufe0f \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0446\u0438\u043a\u043b\u0430"}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435"}),(0,Gt.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",q.name]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b:"})," ",q.current_cycle_games||0,"/",q.cycle_games||12," \u0438\u0433\u0440"]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",q.active_bets||0]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0421\u0443\u043c\u043c\u0430 \u0446\u0438\u043a\u043b\u0430:"})," $",q.cycle_total_amount||0]})]})]}),(0,Gt.jsx)("div",{className:"bg-yellow-900 bg-opacity-20 border border-yellow-500 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"text-yellow-400 text-xl",children:"\u26a0\ufe0f"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-yellow-400",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),(0,Gt.jsx)("p",{className:"text-yellow-300 text-sm",children:"\u0412\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0438 \u0446\u0438\u043a\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e."})]})]})}),(0,Gt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Gt.jsx)("button",{onClick:xt,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-rajdhani font-bold",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b"}),(0,Gt.jsx)("button",{onClick:()=>{H(!1),G(null)},className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),U&&q&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-orange-500 border-opacity-50 rounded-lg p-6 max-w-lg w-full mx-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-orange-400",children:"\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}),(0,Gt.jsx)("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435:"}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm space-y-1",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0418\u043c\u044f:"})," ",q.name]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b:"})," ",q.current_cycle_games||0,"/12 \u0438\u0433\u0440"]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",q.active_bets||0]})]})]}),(0,Gt.jsx)("div",{className:"bg-orange-900 border border-orange-600 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("svg",{className:"w-6 h-6 text-orange-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"text-orange-200 font-bold text-sm",children:"\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435"}),(0,Gt.jsx)("p",{className:"text-orange-300 text-sm mt-1",children:'\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0446\u0438\u043a\u043b \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e. \u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u0438 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b "\u0414\u043e\u0445\u043e\u0434 \u043e\u0442 \u0431\u043e\u0442\u043e\u0432". \u0421\u0447\u0451\u0442\u0447\u0438\u043a\u0438 \u0438\u0433\u0440 \u0431\u0443\u0434\u0443\u0442 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b.'})]})]})}),(0,Gt.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Gt.jsx)("button",{onClick:xt,className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-rajdhani font-bold transition-colors",children:"\u26a1 \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0446\u0438\u043a\u043b"}),(0,Gt.jsx)("button",{onClick:()=>{H(!1),G(null)},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}),me&&ue&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-2xl font-bold text-white",children:["\ud83d\udcca \u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0446\u0438\u043a\u043b\u043e\u0432 \u2014 ",ue.name]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsx)("div",{className:"text-sm text-text-secondary font-rajdhani",children:"\u041e\u0431\u0449\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c:"}),(0,Gt.jsxs)("div",{className:"text-2xl font-rajdhani font-bold ".concat(ce.reduce(((e,t)=>e+(t.profit||0)),0)>=0?"text-green-400":"text-red-400"),children:[ce.reduce(((e,t)=>e+(t.profit||0)),0)>=0?"+":"","$",Math.round(ce.reduce(((e,t)=>e+(t.profit||0)),0))]})]}),(0,Gt.jsx)("button",{onClick:()=>xe(!1),className:"text-gray-400 hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[0===ce.length?(0,Gt.jsxs)("div",{className:"text-center text-text-secondary py-8",children:[(0,Gt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc5"}),(0,Gt.jsx)("p",{className:"text-lg",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0446\u0438\u043a\u043b\u043e\u0432 \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u0430"}),(0,Gt.jsx)("p",{className:"text-sm mt-2",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435 \u0446\u0438\u043a\u043b\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0437\u0434\u0435\u0441\u044c"})]}):(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 / \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase cursor-pointer hover:text-white transition-colors",onClick:()=>ke("duration"),children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0412\u0440\u0435\u043c\u044f \u0446\u0438\u043a\u043b\u0430"}),"duration"===pe&&(0,Gt.jsx)("span",{className:"text-accent-primary",children:"asc"===ge?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase cursor-pointer hover:text-white transition-colors",onClick:()=>ke("total_bets"),children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0421\u0442\u0430\u0432\u043a\u0438"}),"total_bets"===pe&&(0,Gt.jsx)("span",{className:"text-accent-primary",children:"asc"===ge?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase cursor-pointer hover:text-white transition-colors",onClick:()=>ke("wins"),children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"W / L / D"}),"wins"===pe&&(0,Gt.jsx)("span",{className:"text-accent-primary",children:"asc"===ge?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase cursor-pointer hover:text-white transition-colors",onClick:()=>ke("total_winnings"),children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448"}),"total_winnings"===pe&&(0,Gt.jsx)("span",{className:"text-accent-primary",children:"asc"===ge?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase cursor-pointer hover:text-white transition-colors",onClick:()=>ke("total_losses"),children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0448"}),"total_losses"===pe&&(0,Gt.jsx)("span",{className:"text-accent-primary",children:"asc"===ge?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase cursor-pointer hover:text-white transition-colors",onClick:()=>ke("profit"),children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("span",{children:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}),"profit"===pe&&(0,Gt.jsx)("span",{className:"text-accent-primary",children:"asc"===ge?"\u2191":"\u2193"})]})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:ce.map(((e,t)=>(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-30",children:[(0,Gt.jsx)("td",{className:"px-4 py-3 text-white font-roboto text-sm",children:e.cycle_number||t+1}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-white font-roboto text-sm",children:(0,Gt.jsxs)("div",{className:"space-y-1",children:[(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["\u041d\u0430\u0447\u0430\u043b\u043e: ",e.start_time?new Date(e.start_time).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"\u2014"]}),(0,Gt.jsxs)("div",{className:"text-xs",children:["\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435: ",e.end_time?new Date(e.end_time).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"\u2014"]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-white font-roboto text-sm",children:e.duration||"\u2014"}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Gt.jsx)("span",{className:"text-accent-primary font-roboto text-sm font-bold",children:e.total_bets||e.total_games||0})}),(0,Gt.jsxs)("td",{className:"px-4 py-3 text-center",children:[(0,Gt.jsx)("span",{className:"text-green-400 text-xs font-roboto font-bold",children:e.wins||0})," / ",(0,Gt.jsx)("span",{className:"text-red-400 text-xs font-roboto font-bold",children:e.losses||0})," / ",(0,Gt.jsx)("span",{className:"text-yellow-400 text-xs font-roboto font-bold",children:e.draws||0})]}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Gt.jsxs)("span",{className:"text-green-400 font-roboto text-sm font-bold",children:["$",Math.round(e.total_winnings||0)]})}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Gt.jsxs)("span",{className:"text-red-400 font-roboto text-sm font-bold",children:["$",Math.round(e.total_losses||0)]})}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Gt.jsxs)("span",{className:"font-roboto text-sm font-bold ".concat((e.profit||0)>=0?"text-green-400":"text-red-400"),children:[(e.profit||0)>=0?"+":"","$",Math.round(e.profit||0)]})}),(0,Gt.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Gt.jsx)("button",{onClick:()=>Se(e,ue),className:"text-blue-400 hover:text-blue-300 text-sm underline",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u044d\u0442\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430",children:"\u0414\u0435\u0442\u0430\u043b\u0438"})})]},e.id||t)))})]})}),(0,Gt.jsx)("div",{className:"flex justify-end pt-4",children:(0,Gt.jsx)("button",{onClick:()=>xe(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})]})}),je&&Ne&&ye&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-green-500 border-opacity-50 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[85vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-green-400",children:["\ud83d\udcca \u0414\u0435\u0442\u0430\u043b\u0438 \u0446\u0438\u043a\u043b\u0430: ",Ne.bot_name," \u2014 \u0426\u0438\u043a\u043b #",Ne.cycle_number]}),(0,Gt.jsx)("button",{onClick:()=>we(!1),className:"text-gray-400 hover:text-white",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar border border-border-primary rounded-lg p-4 mb-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs font-rajdhani uppercase mb-1",children:"\u0421\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsxs)("div",{className:"text-white font-roboto text-sm",children:["$",Math.round(Ne.total_bet)]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs font-rajdhani uppercase mb-1",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438"}),(0,Gt.jsxs)("div",{className:"text-green-400 font-roboto text-sm font-bold",children:["$",Math.round(Ne.total_winnings)]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs font-rajdhani uppercase mb-1",children:"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0448\u0438"}),(0,Gt.jsxs)("div",{className:"text-red-400 font-roboto text-sm font-bold",children:["$",Math.round(Ne.total_losses)]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs font-rajdhani uppercase mb-1",children:"\u0418\u0433\u0440\u044b"}),(0,Gt.jsx)("div",{className:"text-accent-primary font-roboto text-sm font-bold",children:Ne.total_games})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs font-rajdhani uppercase mb-1",children:"\u0412\u0438\u043d\u0440\u0435\u0439\u0442"}),(0,Gt.jsxs)("div",{className:"text-yellow-400 font-roboto text-sm font-bold",children:[Number(Ne.planned_roi||0).toFixed(2),"%"]})]}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs font-rajdhani uppercase mb-1",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsxs)("div",{className:"font-roboto text-sm font-bold ".concat(Ne.profit>=0?"text-green-400":"text-red-400"),children:["$",Math.round(Ne.profit)]})]})]})]}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsxs)("h4",{className:"text-white font-rajdhani text-lg font-bold mb-3",children:["\u0412\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0446\u0438\u043a\u043b\u0430 (",(null===(e=Ne.bets)||void 0===e?void 0:e.length)||0,")"]}),Ne.bets&&Ne.bets.length>0?(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"ID"}),(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 / \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0413\u0435\u043c\u044b"}),(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0425\u043e\u0434\u044b"}),(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),(0,Gt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:Ne.bets.map(((e,t)=>(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-30",children:[(0,Gt.jsx)("td",{className:"px-3 py-2 text-white font-roboto text-sm",children:t+1}),(0,Gt.jsx)("td",{className:"px-3 py-2 text-white font-roboto text-xs",children:(0,Gt.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.id),et("ID \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430")},className:"text-blue-400 hover:text-blue-300 underline",title:"\u041f\u043e\u043b\u043d\u044b\u0439 ID: ".concat(e.id,"\n\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),children:e.id?"".concat(e.id.substring(0,4),"\u2026").concat(e.id.substring(e.id.length-4)):"\u2014"})}),(0,Gt.jsx)("td",{className:"px-3 py-2 text-white font-roboto text-xs",children:(0,Gt.jsxs)("div",{className:"space-y-1",children:[(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:"\u041d\u0430\u0447\u0430\u043b\u043e:"}),(0,Gt.jsx)("div",{children:e.created_at?new Date(e.created_at).toLocaleDateString("ru-RU")+" "+new Date(e.created_at).toLocaleTimeString("ru-RU"):"\u2014"}),(0,Gt.jsx)("div",{className:"text-xs text-text-secondary",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435:"}),(0,Gt.jsx)("div",{children:e.completed_at?new Date(e.completed_at).toLocaleDateString("ru-RU")+" "+new Date(e.completed_at).toLocaleTimeString("ru-RU"):"\u2014"})]})}),(0,Gt.jsxs)("td",{className:"px-3 py-2 text-green-400 font-roboto text-sm font-bold",children:["$",e.bet_amount||0]}),(0,Gt.jsx)("td",{className:"px-3 py-2 text-white font-roboto text-sm",children:(0,Gt.jsx)("div",{className:"grid grid-cols-1 gap-1",children:e.bet_gems&&Object.keys(e.bet_gems).length>0?(()=>{const t={Ruby:"/gems/gem-red.svg",Amber:"/gems/gem-orange.svg",Topaz:"/gems/gem-yellow.svg",Emerald:"/gems/gem-green.svg",Aquamarine:"/gems/gem-cyan.svg",Sapphire:"/gems/gem-blue.svg",Magic:"/gems/gem-purple.svg"},a=Object.entries(e.bet_gems),s=[];for(let e=0;e<a.length;e+=3)s.push(a.slice(e,e+3));return s.map(((e,a)=>(0,Gt.jsx)("div",{className:"flex items-center space-x-3",children:e.map((e=>{let[a,s]=e;return(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)("img",{src:t[a]||"/gems/gem-red.svg",alt:a,className:"w-4 h-4"}),(0,Gt.jsx)("span",{className:"text-xs font-bold",children:s})]},a)}))},a)))})():(0,Gt.jsx)("span",{className:"text-xs text-text-secondary",children:"\u2014"})})}),(0,Gt.jsx)("td",{className:"px-3 py-2 text-center",children:(0,Gt.jsx)("div",{className:"flex flex-col space-y-2",children:(()=>{if(e.creator_move&&e.opponent_move&&"pending"!==e.result){((e,t)=>{const a=null===e||void 0===e?void 0:e.toUpperCase(),s=null===t||void 0===t?void 0:t.toUpperCase()})(e.creator_move,e.opponent_move);return(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[(0,Gt.jsx)("span",{className:"text-xs text-text-secondary",children:"\u0411\u043e\u0442:"}),(t=>{const a=null===(t=e.creator_move)||void 0===t?void 0:t.toUpperCase();let s="Rock";return"ROCK"===a?s="Rock":"PAPER"===a?s="Paper":"SCISSORS"===a&&(s="Scissors"),(0,Gt.jsx)("img",{src:"/".concat(s,".svg"),alt:a,className:"w-4 h-4"})})()]}),(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[(0,Gt.jsx)("span",{className:"text-xs text-text-secondary",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"}),(t=>{const a=null===(t=e.opponent_move)||void 0===t?void 0:t.toUpperCase();let s="Rock";return"ROCK"===a?s="Rock":"PAPER"===a?s="Paper":"SCISSORS"===a&&(s="Scissors"),(0,Gt.jsx)("img",{src:"/".concat(s,".svg"),alt:a,className:"w-4 h-4"})})()]})]})}return(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[(0,Gt.jsx)("span",{className:"text-xs text-text-secondary",children:"\u0411\u043e\u0442:"}),(0,Gt.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"text-white text-xs font-bold",children:"\u2715"})})]}),(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[(0,Gt.jsx)("span",{className:"text-xs text-text-secondary",children:"\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a:"}),(0,Gt.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"text-white text-xs font-bold",children:"\u2715"})})]}),(0,Gt.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"\u043d\u0435 \u043d\u0430\u0447\u0430\u0442\u043e"})]})})()})}),(0,Gt.jsx)("td",{className:"px-3 py-2 text-white font-roboto text-sm",children:e.opponent_name||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}),(0,Gt.jsx)("td",{className:"px-3 py-2",children:(0,Gt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-roboto font-bold ".concat("win"===e.result_class?"bg-green-600 text-white":"loss"===e.result_class?"bg-red-600 text-white":"draw"===e.result_class?"bg-yellow-600 text-white":"bg-gray-600 text-white"),children:"win"===e.result_class?"\u0412\u044b\u0438\u0433\u0440\u044b\u0448":"loss"===e.result_class?"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0448":"draw"===e.result_class?"\u041d\u0438\u0447\u044c\u044f":e.result||"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"})})]},e.id)))})]})}):(0,Gt.jsx)("div",{className:"text-center text-text-secondary py-4",children:(0,Gt.jsx)("p",{children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0441\u0442\u0430\u0432\u043a\u0430\u0445 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430"})})]}),(0,Gt.jsx)("div",{className:"flex justify-end",children:(0,Gt.jsx)("button",{onClick:()=>we(!1),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-rajdhani font-bold",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})}),(0,Gt.jsx)(Qd,d({},st)),(0,Gt.jsx)(Kd,d({},nt))]});var ft,gt},su="".concat("https://income-bot-3.preview.emergentagent.com","/api"),ru=e=>{let{isOpen:t,onClose:a,bot:s,user:n,addNotification:o}=e;const[i,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[h,m]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)([]),[v,j]=(0,r.useState)("all"),{confirm:w,confirmationModal:N}=$d();(0,r.useEffect)((()=>{(async()=>{await _a()})()}),[]),(0,r.useEffect)((()=>{t&&s&&C()}),[t,s]);const _=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case"ROCK":return"\ud83e\udea8 \u041a\u0430\u043c\u0435\u043d\u044c";case"PAPER":return"\ud83d\udcc4 \u0411\u0443\u043c\u0430\u0433\u0430";case"SCISSORS":return"\u2702\ufe0f \u041d\u043e\u0436\u043d\u0438\u0446\u044b";default:return"\u2014"}},k=e=>e.is_creator?"\u042f":e.opponent_name||"\u041e\u043f\u043f\u043e\u043d\u0435\u043d\u0442",S=()=>null!==c&&void 0!==c&&c.bets?"all"===v?c.bets:"me"===v?c.bets.filter((e=>e.is_creator)):"opponent"===v?c.bets.filter((e=>!e.is_creator)):c.bets:[],C=async()=>{try{l(!0);const e=localStorage.getItem("token"),t=await Pt.get("".concat(su,"/admin/human-bots/").concat(s.id,"/active-bets"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});t.data&&u(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e),null===o||void 0===o||o("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a","error")}finally{l(!1)}},M=async()=>{try{l(!0);const e=localStorage.getItem("token"),t=await Pt.get("".concat(su,"/admin/human-bots/").concat(s.id,"/all-bets"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});t.data&&u(t.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e),null===o||void 0===o||o("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a","error")}finally{l(!1)}},L=()=>{u(null),m(!1),j("all"),a()};return t&&s?(0,Gt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"p-2 bg-purple-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Gt.jsxs)("h3",{className:"font-russo text-xl text-white",children:["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u2014 ",s.name]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430"}),(0,Gt.jsx)("div",{className:"text-accent-primary text-2xl font-rajdhani font-bold",children:null!==c&&void 0!==c&&c.bets?Na(c.bets.reduce(((e,t)=>e+(t.bet_amount||t.total_bet_amount||0)),0)):"0 Gems"})]}),(0,Gt.jsx)("button",{onClick:L,className:"text-text-secondary hover:text-white transition-colors",children:"\u2715"})]})]}),i?(0,Gt.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,Gt.jsx)(ga,{size:24,ariaLabel:"Loading active bets"})}):(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("div",{className:"text-blue-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.activeBets)||0}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-xs",children:["\u0418\u0437 ",s.bet_limit||12," \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c"]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("div",{className:"text-white text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.totalBets)||0}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:h?"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 + \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435":"\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("div",{className:"text-green-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.botWins)||0}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u043e\u0431\u0435\u0434"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u044b\u0438\u0433\u0440\u044b\u0448\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"}),(0,Gt.jsx)("div",{className:"text-orange-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.playerWins)||0}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041d\u0438\u0447\u044c\u044f"}),(0,Gt.jsx)("div",{className:"text-yellow-400 text-2xl font-rajdhani font-bold",children:(null===c||void 0===c?void 0:c.draws)||0}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u041d\u0438\u0447\u044c\u0438\u0445"})]})]}),(0,Gt.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[(0,Gt.jsx)("button",{onClick:async()=>{h?(await C(),m(!1)):(await M(),m(!0))},disabled:i,className:"px-4 py-2 rounded-lg font-roboto transition-colors ".concat(h?"bg-accent-primary text-white hover:bg-opacity-80":"bg-surface-sidebar text-white hover:bg-opacity-80"," disabled:opacity-50"),children:h?"\ud83d\udccb \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435":"\ud83d\udcdc \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0424\u0438\u043b\u044c\u0442\u0440:"}),(0,Gt.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"px-3 py-2 bg-surface-sidebar text-white rounded-lg border border-border-primary focus:border-accent-primary transition-colors",children:[(0,Gt.jsx)("option",{value:"all",children:"\u0412\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("option",{value:"me",children:"\u041c\u043e\u0438 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("option",{value:"opponent",children:"\u0421\u0442\u0430\u0432\u043a\u0438 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"})]})]}),h&&(0,Gt.jsx)("button",{onClick:async()=>{try{p(!0);const e=localStorage.getItem("token"),t=await Pt.post("".concat(su,"/admin/human-bots/").concat(s.id,"/clear-completed-bets"),{},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});t.data&&!1!==t.data.success&&(null===o||void 0===o||o("\u041e\u0447\u0438\u0449\u0435\u043d\u043e ".concat(t.data.cleared_count||0," \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"),"success"),h?await M():await C())}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",e),null===o||void 0===o||o("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a","error")}finally{p(!1)}},disabled:x||i,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 font-roboto",children:x?"\ud83d\udd04 \u041e\u0447\u0438\u0441\u0442\u043a\u0430...":"\ud83d\uddd1\ufe0f \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"}),(0,Gt.jsx)("button",{onClick:async()=>{console.log("\ud83d\uddd1\ufe0f Starting delete bets history for bot:",s.id);if(await w({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0434\u043b\u044f Human-\u0431\u043e\u0442\u0430 "'.concat(s.name,'"?\n\n\u0411\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u0432\u043a\u0438 \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c "\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430", "\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430" \u0438 "\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430".\n\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u043d\u0435\u0442\u0440\u043e\u043d\u0443\u0442\u044b\u043c\u0438.\n\n\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!'),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{g(!0);const e=localStorage.getItem("token");console.log("\ud83d\uddd1\ufe0f Making API call to delete completed bets");const t=await Pt.post("".concat(su,"/admin/human-bots/").concat(s.id,"/delete-completed-bets"),{},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("\ud83d\uddd1\ufe0f API Response:",t.data),t.data&&!1!==t.data.success){const e=t.data.hidden_count||0;console.log("\ud83d\uddd1\ufe0f Hidden count:",e),null===o||void 0===o||o("\u0421\u043a\u0440\u044b\u0442\u043e ".concat(e," \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0438\u0437 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),"success"),console.log("\ud83d\uddd1\ufe0f Reloading bets data"),h?await M():await C()}else console.error("\ud83d\uddd1\ufe0f API returned failure:",t.data),null===o||void 0===o||o("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","error")}catch(a){var e,t;console.error("\ud83d\uddd1\ufe0f Error deleting history:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a";null===o||void 0===o||o(s,"error")}finally{g(!1),console.log("\ud83d\uddd1\ufe0f Delete operation completed")}else console.log("\ud83d\uddd1\ufe0f User cancelled deletion")},disabled:f||i,className:"px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors disabled:opacity-50 font-roboto",children:f?"\ud83d\udd04 \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\ud83d\uddd1\ufe0f \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441\u0442\u0430\u0432\u043e\u043a"})]}),null!==c&&void 0!==c&&c.bets&&0!==S().length?(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u041a\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043b"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0425\u043e\u0434\u044b"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:S().map(((e,t)=>{var a;let r;r=e.is_creator?e.created_at:e.updated_at||e.created_at;const o=Jt(r,(null===n||void 0===n?void 0:n.timezone_offset)||0),i=Xt(r,(null===n||void 0===n?void 0:n.timezone_offset)||0).split(" ")[1]||"",l=["WAITING","ACTIVE","REVEAL"].includes(null===(a=e.status)||void 0===a?void 0:a.toUpperCase());return(0,Gt.jsxs)("tr",{className:"transition-colors hover:border-l-4 ".concat(l?"hover:bg-green-900 hover:bg-opacity-20 hover:border-green-400":"hover:bg-gray-900 hover:bg-opacity-20 hover:border-gray-400"),children:[(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white font-bold",children:t+1})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white font-mono",children:e.id?e.id.substring(0,8):"#".concat(t+1)})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white",children:o})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white",children:i})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto font-bold text-accent-primary",children:Na(e.bet_amount||e.total_bet_amount||0)})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto font-bold ".concat(e.is_creator?"text-blue-400":"text-orange-400"),children:k(e)})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white",children:"COMPLETED"===e.status?(0,Gt.jsxs)("div",{className:"space-y-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"text-accent-primary font-bold",children:"\u0411\u043e\u0442:"}),(0,Gt.jsx)("span",{className:"text-white",children:e.bot_move?_(e.bot_move):e.creator_id===s.id?e.creator_move?_(e.creator_move):"\u2014":e.opponent_move?_(e.opponent_move):"\u2014"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"text-orange-400 font-bold",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a:"}),(0,Gt.jsx)("span",{className:"text-white",children:e.opponent_move_actual?_(e.opponent_move_actual):e.creator_id===s.id?e.opponent_move?_(e.opponent_move):"\u2014":e.creator_move?_(e.creator_move):"\u2014"})]})]}):(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u2014"})})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-roboto font-medium ".concat("ACTIVE"===e.status?"bg-green-600 text-white":"WAITING"===e.status?"bg-yellow-600 text-white":"REVEAL"===e.status?"bg-blue-600 text-white":"COMPLETED"===e.status?"bg-purple-600 text-white":"CANCELLED"===e.status?"bg-red-600 text-white":(e.status,"bg-gray-600 text-white")),children:"ACTIVE"===e.status?"\u0410\u043a\u0442\u0438\u0432\u043d\u0430":"WAITING"===e.status?"\u041e\u0436\u0438\u0434\u0430\u0435\u0442":"REVEAL"===e.status?"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435":"COMPLETED"===e.status?"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430":"CANCELLED"===e.status?"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430":"ARCHIVED"===e.status?"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430":e.status||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white",children:e.opponent_name||e.opponent_id||"\u2014"})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto",children:"COMPLETED"===e.status?(0,Gt.jsx)("span",{className:"font-bold ".concat(e.winner_id===s.id?"text-green-400":e.winner_id?"text-red-400":"text-gray-400"),children:e.winner_id===s.id?"\u041f\u043e\u0431\u0435\u0434\u0430":e.winner_id?"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435":"\u041d\u0438\u0447\u044c\u044f"}):"CANCELLED"===e.status?(0,Gt.jsx)("span",{className:"text-red-400 font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"}):"ARCHIVED"===e.status?(0,Gt.jsx)("span",{className:"text-gray-400 font-bold",children:"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430"}):(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u2014"})})})]},e.id||t)}))})]})}):(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)("div",{className:"text-text-secondary text-lg",children:"all"===v?h?"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a":"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442":"me"===v?"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a, \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043c":"\u0423 \u0431\u043e\u0442\u0430 \u043d\u0435\u0442 \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u0442 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"})})]}),(0,Gt.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Gt.jsx)("button",{onClick:L,className:"px-4 py-2 bg-surface-sidebar text-white rounded-lg hover:bg-opacity-80 transition-colors font-roboto",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]}),(0,Gt.jsx)(Qd,d({},N))]}):null},nu=e=>{var t;let{isOpen:a,onClose:s,bot:r,user:n,data:o,loading:i,onPageChange:l}=e;if(!a)return null;const c=e=>{switch(e){case"win":return(0,Gt.jsx)("span",{className:"px-2 py-1 bg-green-600 text-white text-xs rounded-full",children:"\u041f\u043e\u0431\u0435\u0434\u0430"});case"loss":return(0,Gt.jsx)("span",{className:"px-2 py-1 bg-red-600 text-white text-xs rounded-full",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435"});case"draw":return(0,Gt.jsx)("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"\u041d\u0438\u0447\u044c\u044f"});default:return(0,Gt.jsx)("span",{className:"px-2 py-1 bg-gray-600 text-white text-xs rounded-full",children:"\u2014"})}};return(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-primary border border-border-primary rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-primary",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h3",{className:"text-xl font-rajdhani font-bold text-white",children:"\ud83d\udcb0 \u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"}),(0,Gt.jsxs)("p",{className:"text-text-secondary font-roboto text-sm mt-1",children:[null===r||void 0===r?void 0:r.name," \u2022 \u041e\u0431\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: $",((null===r||void 0===r?void 0:r.total_commission_paid)||0).toFixed(2)]})]}),(0,Gt.jsx)("button",{onClick:s,className:"text-text-secondary hover:text-white transition-colors",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsx)("div",{className:"p-6",children:i?(0,Gt.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,Gt.jsx)(ga,{size:24,ariaLabel:"Loading commissions"})}):o&&o.commission_entries?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("div",{className:"bg-surface-sidebar bg-opacity-50 rounded-lg p-4 mb-6",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("div",{className:"text-2xl font-bold text-accent-primary",children:["$",(o.total_commission_paid||0).toFixed(2)]}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(t=o.pagination)||void 0===t?void 0:t.total_items)||0}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:o.commission_entries.length}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"})]})]})}),o.commission_entries.length>0?(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"min-w-full divide-y divide-border-primary",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar bg-opacity-20",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u2116"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0414\u0430\u0442\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0443\u043c\u043c\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"\u0421\u043e\u043f\u0435\u0440\u043d\u0438\u043a"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-roboto font-bold text-text-secondary uppercase",children:"ID \u0418\u0433\u0440\u044b"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:o.commission_entries.map(((e,t)=>{var a,s,r;const i=e.game_details,l=((null===(a=o.pagination)||void 0===a?void 0:a.current_page)-1)*((null===(s=o.pagination)||void 0===s?void 0:s.per_page)||50);return(0,Gt.jsxs)("tr",{className:"hover:bg-gray-900 hover:bg-opacity-20 transition-colors",children:[(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white font-bold",children:l+t+1})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white",children:(d=e.created_at,d?Xt(d,(null===n||void 0===n?void 0:n.timezone_offset)||0):"\u2014")})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsxs)("div",{className:"text-sm font-roboto font-bold text-red-400",children:["$",(e.amount||0).toFixed(2)]})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-accent-primary",children:i?pa(i.bet_amount||0):"\u2014"})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:i?c(i.result):"\u2014"}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-sm font-roboto text-white",children:(null===i||void 0===i||null===(r=i.opponent)||void 0===r?void 0:r.username)||"\u2014"})}),(0,Gt.jsx)("td",{className:"px-4 py-3",children:(0,Gt.jsx)("div",{className:"text-xs font-roboto font-mono text-text-secondary",children:null!==i&&void 0!==i&&i.game_id?i.game_id.substring(0,8):"\u2014"})})]},e.id||t);var d}))})]})}):(0,Gt.jsxs)("div",{className:"text-center py-8 text-text-secondary",children:[(0,Gt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcb0"}),(0,Gt.jsx)("div",{className:"text-lg font-rajdhani",children:"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),(0,Gt.jsx)("div",{className:"text-sm",children:"\u0423 \u044d\u0442\u043e\u0433\u043e Human-\u0431\u043e\u0442\u0430 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439"})]}),o.pagination&&o.pagination.total_pages>1&&(0,Gt.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border-primary",children:[(0,Gt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",o.pagination.current_page," \u0438\u0437 ",o.pagination.total_pages,"\u2022 \u0412\u0441\u0435\u0433\u043e: ",o.pagination.total_items," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>l(o.pagination.current_page-1),disabled:!o.pagination.has_prev,className:"px-3 py-1 bg-surface-sidebar text-white text-sm rounded hover:bg-opacity-70 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,Gt.jsx)("button",{onClick:()=>l(o.pagination.current_page+1),disabled:!o.pagination.has_next,className:"px-3 py-1 bg-surface-sidebar text-white text-sm rounded hover:bg-opacity-70 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u2192"})]})]})]}):(0,Gt.jsxs)("div",{className:"text-center py-8 text-text-secondary",children:[(0,Gt.jsx)("div",{className:"text-4xl mb-4",children:"\u26a0\ufe0f"}),(0,Gt.jsx)("div",{className:"text-lg font-rajdhani",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,Gt.jsx)("div",{className:"text-sm",children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f\u0445"})]})}),(0,Gt.jsx)("div",{className:"flex justify-end p-6 border-t border-border-primary",children:(0,Gt.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors font-roboto",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})})},ou="".concat("https://income-bot-3.preview.emergentagent.com","/api"),iu=e=>{let{humanBots:t=[],loading:a=!1,currentPage:s=1,totalPages:n=1,pageSize:o=10,priorityFields:i=!0,stats:l={},user:c,onEditBot:u,onCreateBot:h,onPageChange:m,onRefresh:x}=e;const{addNotification:p}=Qt(),{confirm:f,confirmationModal:g}=$d(),{prompt:b,inputModal:y}=Yd(),[v,j]=(0,r.useState)(new Set),[w,N]=(0,r.useState)(!1),[_,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[M,L]=(0,r.useState)(!1),[E,A]=(0,r.useState)(null),[T,P]=(0,r.useState)(null),[z,I]=(0,r.useState)(!1),[O,D]=(0,r.useState)(!1),[R,B]=(0,r.useState)(null),[F,W]=(0,r.useState)(1),[V,U]=(0,r.useState)(new Set),[H,q]=(0,r.useState)(new Set),[G,$]=(0,r.useState)(new Set),[Y,Q]=(0,r.useState)(!1),[K,X]=(0,r.useState)(null),[J,Z]=(0,r.useState)(null),[ee,te]=(0,r.useState)(!1),[ae,se]=(0,r.useState)(1);(0,r.useEffect)((()=>{}),[]);const re=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const s=localStorage.getItem("token"),r={method:t,url:"".concat(ou).concat(e),headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}};a&&("GET"===t?r.params=a:r.data=a);return(await Pt(r)).data}catch(r){var s;let e="\u041e\u0448\u0438\u0431\u043a\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u0430";if(null!==(s=r.response)&&void 0!==s&&s.data){const t=r.response.data;if(Array.isArray(t)&&t.length>0)e=t.map((e=>e.msg||e.message||"Validation error")).join(", ");else if(t.detail){if("object"===typeof t.detail){e=t.detail.message||"Structured error";const a=new Error(e);throw a.detailData=t.detail,a}e=t.detail}else t.message?e=t.message:"string"===typeof t&&(e=t)}else r.message&&(e=r.message);throw p(e,"error"),new Error(e)}},ne=()=>{j(new Set),N(!1),k(!1)},oe=async e=>{if(0===v.size)return;const t=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c";if(await f({title:"".concat(e?"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432"),message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ".concat(t," ").concat(v.size," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432?"),type:e?"success":"warning"})){C(!0);try{const e=Array.from(v);let s=0;for(const t of e)try{await re("/admin/human-bots/".concat(t,"/toggle-status"),"POST"),s++}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043b\u044f \u0431\u043e\u0442\u0430 ".concat(t,":"),a)}p("\u0423\u0441\u043f\u0435\u0448\u043d\u043e ".concat(t," ").concat(s," \u0438\u0437 ").concat(v.size," Human-\u0431\u043e\u0442\u043e\u0432"),"success"),ne(),x&&x()}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430:",a)}finally{C(!1)}}},ie=async(e,t)=>{var a;const s=await f({title:"\u26a0\ufe0f \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430 \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438",message:(0,Gt.jsxs)("div",{className:"text-left",children:[(0,Gt.jsxs)("p",{className:"mb-3",children:[(0,Gt.jsxs)("strong",{children:["Human-\u0431\u043e\u0442 ",e.name]})," \u0438\u043c\u0435\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"]}),(0,Gt.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 rounded p-3 mb-3 text-sm",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440:"})," ",t.active_games_count]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432:"})," $",(null===(a=t.total_frozen_balance)||void 0===a?void 0:a.toFixed(2))||"0.00"]})]}),t.games&&t.games.length>0&&(0,Gt.jsxs)("div",{className:"mb-3",children:[(0,Gt.jsx)("p",{className:"text-sm font-semibold mb-2",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"}),(0,Gt.jsx)("div",{className:"max-h-32 overflow-y-auto text-xs",children:t.games.map(((e,t)=>(0,Gt.jsxs)("div",{className:"border-b py-1",children:[(0,Gt.jsxs)("div",{children:["\u0421\u0442\u0430\u0432\u043a\u0430: $",e.bet_amount," | \u0421\u0442\u0430\u0442\u0443\u0441: ",e.status]}),(0,Gt.jsxs)("div",{children:["\u041f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a: ",e.opponent]})]},t)))})]}),(0,Gt.jsx)("p",{className:"text-sm text-red-600 font-semibold",children:"\u26a0\ufe0f \u041f\u0440\u0438 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u0438\u0433\u0440\u043e\u043a\u0430\u043c."}),(0,Gt.jsx)("p",{className:"mt-2 text-sm",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435?"})]}),type:"danger"});if(s)try{const t=await re("/admin/human-bots/".concat(e.id,"?force_delete=true"),"DELETE");p(t.message||'Human-\u0431\u043e\u0442 "'.concat(e.name,'" \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438'),"warning"),x&&x()}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",r),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f: ".concat(r.message),"error")}};return(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Gt.jsxs)("div",{className:"p-4 border-b border-border-primary",children:[(0,Gt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:"\u0421\u043f\u0438\u0441\u043e\u043a Human \u0431\u043e\u0442\u043e\u0432"}),a&&(0,Gt.jsx)("div",{className:"text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]}),_&&(0,Gt.jsx)("div",{className:"p-4 bg-accent-primary bg-opacity-10 border-b border-border-primary",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Gt.jsxs)("span",{className:"text-white font-roboto text-sm",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0431\u043e\u0442\u043e\u0432: ",(0,Gt.jsx)("span",{className:"font-bold",children:v.size})]})}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>oe(!0),disabled:S,className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:opacity-50 transition-colors",children:S?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Gt.jsx)("button",{onClick:()=>oe(!1),disabled:S,className:"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:S?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0412\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Gt.jsx)("button",{onClick:async()=>{if(0===v.size)return;if(await f({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(v.size," \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 Human-\u0431\u043e\u0442\u043e\u0432? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!"),type:"danger"})){C(!0);try{const s=Array.from(v);let r=0,n=[];for(const a of s)try{await re("/admin/human-bots/".concat(a),"DELETE"),r++}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 ".concat(a,":"),e);let s="\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430";if(e.message.includes("Cannot delete bot with active games")?s="\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430: \u0443 \u043d\u0435\u0433\u043e \u0435\u0441\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b. \u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0438\u0433\u0440 \u0438\u043b\u0438 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u0435 \u0438\u0445.":e.message.includes("Bot not found")&&(s="\u0411\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u043d \u0443\u0436\u0435 \u0431\u044b\u043b \u0443\u0434\u0430\u043b\u0435\u043d."),e.detailData&&e.detailData.force_delete_required){const s=t.find((e=>e.id===a));n.push({bot:s,errorInfo:e.detailData})}else if(e.message.includes("Cannot delete bot with active games")){const e=t.find((e=>e.id===a));n.push({bot:e,errorInfo:{active_games_count:"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",total_frozen_balance:0,games:[]}})}}if(n.length>0){const e=n.reduce(((e,t)=>e+("number"===typeof t.errorInfo.active_games_count?t.errorInfo.active_games_count:0)),0),t=n.reduce(((e,t)=>e+(t.errorInfo.total_frozen_balance||0)),0),s=await f({title:"\u26a0\ufe0f \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432 \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u0430\u043c\u0438",message:(0,Gt.jsxs)("div",{className:"text-left",children:[(0,Gt.jsxs)("p",{className:"mb-3",children:[(0,Gt.jsxs)("strong",{children:[n.length," \u0431\u043e\u0442\u043e\u0432"]})," \u0438\u043c\u0435\u044e\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b:"]}),(0,Gt.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 rounded p-3 mb-3 text-sm",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440:"})," ",e]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u0430:"})," $",t.toFixed(2)]})]}),(0,Gt.jsx)("div",{className:"mb-3 max-h-32 overflow-y-auto text-xs",children:n.map(((e,t)=>{var a;return(0,Gt.jsxs)("div",{className:"border-b py-1",children:[(0,Gt.jsxs)("strong",{children:[null===(a=e.bot)||void 0===a?void 0:a.name,":"]})," ",e.errorInfo.active_games_count," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440"]},t)}))}),(0,Gt.jsx)("p",{className:"text-sm text-red-600 font-semibold mb-2",children:"\u26a0\ufe0f \u041f\u0440\u0438 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b \u0438\u0433\u0440\u043e\u043a\u0430\u043c."}),(0,Gt.jsxs)("p",{className:"text-sm",children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ",n.length," \u0431\u043e\u0442\u043e\u0432?"]})]}),type:"danger"});if(s)for(const o of n)try{await re("/admin/human-bots/".concat(o.bot.id,"?force_delete=true"),"DELETE"),r++}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 ".concat(o.bot.id,":"),a)}}p("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e ".concat(r," \u0438\u0437 ").concat(v.size," Human-\u0431\u043e\u0442\u043e\u0432"),"success"),ne(),x&&x()}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f:",e)}finally{C(!1)}}},disabled:S,className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 disabled:opacity-50 transition-colors",children:S?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435\u0445"}),(0,Gt.jsx)("button",{onClick:ne,className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}),(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:(0,Gt.jsx)("input",{type:"checkbox",checked:w,onChange:()=>{if(w)j(new Set),k(!1);else{const e=new Set(t.map((e=>e.id)));j(e),k(!0)}N(!w)},className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u2116"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u043c\u044f"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"Gender"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u041b\u0438\u043c\u0438\u0442\u044b \u0441\u0442\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u0433\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0418\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}),(0,Gt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-rajdhani font-bold text-text-secondary uppercase tracking-wider align-bottom",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Gt.jsx)("tbody",{className:"divide-y divide-border-primary",children:0===t.length?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:"16",className:"px-4 py-8 text-center text-text-secondary",children:"\u041d\u0435\u0442 Human-\u0431\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}):t.map(((e,a)=>{return(0,Gt.jsxs)("tr",{className:"hover:bg-surface-sidebar hover:bg-opacity-50",children:[(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("input",{type:"checkbox",checked:v.has(e.id),onChange:()=>(e=>{const a=new Set(v);a.has(e)?a.delete(e):a.add(e),j(a),k(a.size>0),N(a.size===t.length&&t.length>0)})(e.id),className:"w-4 h-4 text-accent-primary bg-surface-primary border-border-primary rounded focus:ring-accent-primary focus:ring-2"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm font-bold",children:a+1})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-white font-roboto text-sm",children:e.name})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"flex items-center justify-center",children:(0,Gt.jsxs)("label",{className:"gender-toggle",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:"female"===e.gender,onChange:()=>(async(e,t)=>{const a="male"===t?"female":"male";try{await re("/admin/human-bots/".concat(e),"PUT",{gender:a}),oa().triggerLobbyRefresh(),p("\u041f\u043e\u043b Human-\u0431\u043e\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d \u043d\u0430 ".concat("male"===a?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439"),"success"),x&&x()}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0430 Human-\u0431\u043e\u0442\u0430:",s),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0430 Human-\u0431\u043e\u0442\u0430","error")}})(e.id,e.gender)}),(0,Gt.jsx)("span",{className:"gender-slider"}),(0,Gt.jsx)("span",{className:"gender-label male",children:"M"}),(0,Gt.jsx)("span",{className:"gender-label female",children:"F"})]})})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"text-accent-primary font-roboto text-xs",children:[(0,Gt.jsxs)("div",{children:["\u0418\u0433\u0440: ",e.actual_games_played||0]}),(0,Gt.jsxs)("div",{children:[e.actual_wins||0,"/",e.losses||0,"/",e.draws||0]}),(0,Gt.jsx)("div",{children:(0,Gt.jsxs)("button",{onClick:()=>(async e=>{X(e),Q(!0),te(!0),se(1);try{const t=await re("/admin/human-bots/".concat(e.id,"/commission-details?page=1&limit=50"),"GET");Z(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:",t),Z(null)}finally{te(!1)}})(e),className:"text-blue-400 hover:text-blue-300 underline font-roboto cursor-pointer",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439",children:["\u041e\u0431\u0449\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: $",(e.total_commission_paid||0).toFixed(2)]})}),(0,Gt.jsx)("div",{children:(0,Gt.jsxs)("span",{className:(e.correct_profit||0)>=0?"text-green-400":"text-red-400",children:["\u041f\u0440\u0438\u0431\u044b\u043b\u044c: $",(e.correct_profit||0).toFixed(2)]})}),(0,Gt.jsx)("div",{children:(0,Gt.jsxs)("span",{className:(e.correct_profit||0)-(e.total_commission_paid||0)>=0?"text-green-400":"text-red-400",children:["\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c: $",((e.correct_profit||0)-(e.total_commission_paid||0)).toFixed(2)]})})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("button",{onClick:()=>(async e=>{A(e),L(!0),I(!0),D(!1);try{const t=await re("/admin/human-bots/".concat(e.id,"/active-bets"),"GET");P(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a:",t),P(null)}finally{I(!1)}})(e),className:"text-blue-400 hover:text-blue-300 underline font-roboto text-sm cursor-pointer",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",children:e.active_bets_count||0})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-roboto font-medium text-white ".concat("AGGRESSIVE"===e.character?"bg-red-600":"CAUTIOUS"===e.character?"bg-blue-600":"STABLE"===e.character?"bg-green-600":"IMPULSIVE"===e.character?"bg-purple-600":"ANALYST"===e.character?"bg-indigo-600":"MIMIC"===e.character?"bg-pink-600":"bg-gray-600"),children:(s=e.character,{STABLE:"\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u044b\u0439",AGGRESSIVE:"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439",CAUTIOUS:"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439",BALANCED:"\u0411\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439",IMPULSIVE:"\u0418\u043c\u043f\u0443\u043b\u044c\u0441\u0438\u0432\u043d\u044b\u0439",ANALYST:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a",MIMIC:"\u041c\u0438\u043c\u0438\u043a"}[s]||s)})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-roboto font-medium ".concat(e.is_active?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.is_active?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"text-accent-primary font-roboto text-xs",children:[(0,Gt.jsxs)("div",{children:["\u041c\u0438\u043d: ",pa(e.min_bet)]}),(0,Gt.jsxs)("div",{children:["\u041c\u0430\u043a\u0441: ",pa(e.max_bet)]}),(0,Gt.jsxs)("div",{children:["\u0421\u0440\u0435\u0434\u043d\u0438\u0439: ",pa(e.average_bet_amount||0)]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("input",{type:"number",value:e.bet_limit_amount||300,onChange:t=>(async(e,t)=>{if(isNaN(t)||t<1||t>1e5)p("\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442 1 \u0434\u043e 100000","error");else try{await re("/admin/human-bots/".concat(e.id),"PUT",{bet_limit_amount:t}),p('\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'" \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e \u043d\u0430 ').concat(t),"success"),x&&x()}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f Human-\u0431\u043e\u0442\u0430:",a),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f Human-\u0431\u043e\u0442\u0430","error")}})(e,parseFloat(t.target.value)||300),className:"w-20 px-2 py-1 bg-surface-sidebar text-white rounded border border-border-primary focus:border-accent-primary text-center text-sm",min:"1",max:"100000"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"text-orange-400 font-roboto text-sm",children:[e.win_percentage,"%"]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsx)("div",{className:"text-yellow-400 font-roboto text-sm",children:e.bet_limit||12})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("label",{className:"relative inline-flex items-center group ".concat(G.has(e.id)?"cursor-wait":"cursor-pointer"),children:[(0,Gt.jsx)("input",{type:"checkbox",checked:void 0===e.is_bet_creation_active||e.is_bet_creation_active,onChange:t=>(async e=>{const t=!e.is_bet_creation_active;$((t=>new Set(t).add(e.id)));try{200===(await Pt.put("".concat(ou,"/admin/human-bots/").concat(e.id),{is_bet_creation_active:t},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).status&&(p('\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'" ').concat(t?"\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430":"\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430"),"success"),x&&x())}catch(r){var a,s;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0431\u043e\u0442\u0430:",r),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 Human-\u0431\u043e\u0442\u0430: ".concat((null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||r.message),"error")}finally{$((t=>{const a=new Set(t);return a.delete(e.id),a}))}})(e),disabled:G.has(e.id),className:"sr-only peer"}),(0,Gt.jsxs)("div",{className:"relative w-11 h-6 bg-gray-700 rounded-full peer peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-300 peer-focus:ring-opacity-50 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:duration-300 peer-checked:bg-gradient-to-r peer-checked:from-green-500 peer-checked:to-emerald-600 shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105 ".concat(G.has(e.id)?"opacity-50":""),children:[(0,Gt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-white opacity-20"}),G.has(e.id)&&(0,Gt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"animate-spin h-3 w-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("label",{className:"relative inline-flex items-center group ".concat(V.has(e.id)?"cursor-wait":"cursor-pointer"),children:[(0,Gt.jsx)("input",{type:"checkbox",checked:e.can_play_with_other_bots||!1,onChange:t=>(async(e,t)=>{U((t=>new Set(t).add(e.id)));try{await re("/admin/human-bots/".concat(e.id,"/toggle-auto-play"),"POST",{can_play_with_other_bots:t}),p('Human-\u0431\u043e\u0442 "'.concat(e.name,'": \u0430\u0432\u0442\u043e\u0438\u0433\u0440\u0430 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0431\u043e\u0442\u0430\u043c\u0438 ').concat(t?"\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430":"\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430"),"success"),x&&x()}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0430\u0432\u0442\u043e\u0438\u0433\u0440\u044b:",a),p('\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'": ').concat(a.message),"error")}finally{U((t=>{const a=new Set(t);return a.delete(e.id),a}))}})(e,t.target.checked),disabled:V.has(e.id),className:"sr-only peer"}),(0,Gt.jsxs)("div",{className:"relative w-11 h-6 bg-gray-700 rounded-full peer peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 peer-focus:ring-opacity-50 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:duration-300 peer-checked:bg-gradient-to-r peer-checked:from-blue-500 peer-checked:to-purple-600 shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105 ".concat(V.has(e.id)?"opacity-50":""),children:[(0,Gt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-white opacity-20"}),V.has(e.id)&&(0,Gt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"animate-spin h-3 w-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("label",{className:"relative inline-flex items-center group ".concat(H.has(e.id)?"cursor-wait":"cursor-pointer"),children:[(0,Gt.jsx)("input",{type:"checkbox",checked:e.can_play_with_players||!1,onChange:t=>(async(e,t)=>{q((t=>new Set(t).add(e.id)));try{await re("/admin/human-bots/".concat(e.id,"/toggle-play-with-players"),"POST",{can_play_with_players:t}),p('Human-\u0431\u043e\u0442 "'.concat(e.name,'": \u0438\u0433\u0440\u0430 \u0441 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438 ').concat(t?"\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430":"\u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430"),"success"),x&&x()}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438\u0433\u0440\u044b \u0441 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438:",a),p('\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'": ').concat(a.message),"error")}finally{q((t=>{const a=new Set(t);return a.delete(e.id),a}))}})(e,t.target.checked),disabled:H.has(e.id),className:"sr-only peer"}),(0,Gt.jsxs)("div",{className:"relative w-11 h-6 bg-gray-700 rounded-full peer peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-300 peer-focus:ring-opacity-50 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all after:duration-300 peer-checked:bg-gradient-to-r peer-checked:from-green-500 peer-checked:to-emerald-600 shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105 ".concat(H.has(e.id)?"opacity-50":""),children:[(0,Gt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-white opacity-20"}),H.has(e.id)&&(0,Gt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"animate-spin h-3 w-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})]})}),(0,Gt.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:(0,Gt.jsxs)("div",{className:"flex space-x-2 justify-center",children:[(0,Gt.jsx)("button",{onClick:()=>u(e),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",children:(0,Gt.jsxs)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{if(await f({title:"\u041f\u0435\u0440\u0435\u0441\u0447\u0451\u0442 \u0441\u0442\u0430\u0432\u043e\u043a Human-\u0431\u043e\u0442\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043b\u044f Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'"? \u0412\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b.'),type:"warning"}))try{const t=await re("/admin/human-bots/".concat(e.id,"/recalculate-bets"),"POST");p('\u041f\u0435\u0440\u0435\u0441\u0447\u0451\u0442 \u0441\u0442\u0430\u0432\u043e\u043a \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d: Human-\u0431\u043e\u0442 "'.concat(e.name,'" - \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e ').concat(t.cancelled_bets," \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"),"success"),x&&x()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u0441\u0447\u0451\u0442\u0430 \u0441\u0442\u0430\u0432\u043e\u043a:",t)}})(e),className:"p-1 bg-purple-600 text-white rounded hover:bg-purple-700",title:"\u041f\u0435\u0440\u0435\u0441\u0447\u0451\u0442 \u0441\u0442\u0430\u0432\u043e\u043a",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{if(await f({title:"\u0421\u0431\u0440\u043e\u0441 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 Human-\u0431\u043e\u0442\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u044e \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0434\u043b\u044f Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'"? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.'),type:"warning"}))try{await re("/admin/human-bots/".concat(e.id,"/reset-stats"),"POST"),p('\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 Human-\u0431\u043e\u0442\u0430 "'.concat(e.name,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u0430'),"success"),x&&x()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438:",t),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438: ".concat(t.message),"error")}})(e),className:"p-1 bg-orange-600 text-white rounded hover:bg-orange-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{await re("/admin/human-bots/".concat(e.id,"/toggle-status"),"POST"),p('Human-\u0431\u043e\u0442 "'.concat(e.name,'" ').concat(e.is_active?"\u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d":"\u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d"),"success"),x&&x()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430:",t)}})(e),className:"p-1 text-white rounded hover:opacity-80 ".concat(e.is_active?"bg-yellow-600":"bg-green-600"),title:e.is_active?"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:e.is_active?(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}):(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m-7-3a9 9 0 1118 0 9 9 0 01-18 0z"})})}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{try{await re("/admin/human-bots/".concat(e.id),"DELETE"),p('Human-\u0431\u043e\u0442 "'.concat(e.name,'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b'),"success"),x&&x()}catch(t){if(console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430:",t),t.detailData&&t.detailData.force_delete_required)return void await ie(e,t.detailData);if(t.message.includes("Cannot delete bot with active games"))return void await ie(e,{active_games_count:"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",total_frozen_balance:0,games:[]});p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430: ".concat(t.message),"error")}})(e),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id);var s}))})]})}),(0,Gt.jsx)(ru,{isOpen:M,onClose:()=>{L(!1),A(null),P(null),B(null),D(!1)},bot:E,user:c,addNotification:p}),(0,Gt.jsx)(nu,{isOpen:Y,onClose:()=>{Q(!1),X(null),Z(null),se(1)},bot:K,user:c,data:J,loading:ee,onPageChange:async e=>{if(K&&!(e<1)){se(e),te(!0);try{const t=await re("/admin/human-bots/".concat(K.id,"/commission-details?page=").concat(e,"&limit=50"),"GET");Z(t)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439:",t),Z(null)}finally{te(!1)}}}}),(0,Gt.jsx)(Qd,d({},g))]})},lu="".concat("https://income-bot-3.preview.emergentagent.com","/api"),cu=e=>{var t;let{user:a}=e;const[s,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),{addNotification:l}=Qt(),{confirm:c,confirmationModal:u}=$d(),{prompt:h,inputModal:m}=Yd(),[x,p]=(0,r.useState)([]),[f,g]=(0,r.useState)({}),[b,y]=(0,r.useState)(1),[v,j]=(0,r.useState)(1),[w,N]=(0,r.useState)(10),[_,k]=(0,r.useState)({search:"",character:"",is_active:null,min_bet_range:"",max_bet_range:"",sort_by:"created_at",sort_order:"desc"}),[S,C]=(0,r.useState)(""),[M,L]=(0,r.useState)(null),[E,A]=(0,r.useState)({data:null,timestamp:null,key:null}),[T,P]=(0,r.useState)(!0),[z,I]=(0,r.useState)(null),[O,D]=(0,r.useState)(!0),[R,B]=(0,r.useState)(!1),[F,W]=(0,r.useState)("bots"),[V,U]=(0,r.useState)([]),[H,q]=(0,r.useState)(!1),[G,$]=(0,r.useState)(!1),[Y,Q]=(0,r.useState)(""),[K,X]=(0,r.useState)(""),[J,Z]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(!1),[ae,se]=(0,r.useState)(null),[re,ne]=(0,r.useState)(!1),[oe,ie]=(0,r.useState)(null),[le,ce]=(0,r.useState)(!1),de=(0,r.useCallback)((()=>JSON.stringify({page:b,limit:w,filters:_,priorityFields:O})),[b,w,_,O]),ue=(0,r.useCallback)((e=>!(!E.data||!E.timestamp||E.key!==e)&&Date.now()-E.timestamp<6e4),[E]),he=(0,r.useCallback)(((e,t)=>{A({data:e,timestamp:Date.now(),key:t})}),[]),me=(0,r.useCallback)((e=>{C(e),M&&clearTimeout(M);const t=setTimeout((()=>{k((t=>d(d({},t),{},{search:e}))),y(1)}),500);L(t)}),[M]),xe=(0,r.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{if(n(!0),i(null),"GET"===t&&s){const e=de();var r;if(ue(e))return console.log("Using cached data for Human-bots"),p(E.data.bots||[]),j((null===(r=E.data.pagination)||void 0===r?void 0:r.total_pages)||1),n(!1),E.data}const o=localStorage.getItem("token"),l={method:t,url:"".concat(lu).concat(e),headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}};a&&("GET"===t?l.params=a:l.data=a);const c=await Pt(l);if("GET"===t&&s){const e=de();he(c.data,e)}return c.data}catch(l){var o;let e="\u041e\u0448\u0438\u0431\u043a\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u0430";if(null!==(o=l.response)&&void 0!==o&&o.data){const t=l.response.data;Array.isArray(t)&&t.length>0?e=t.map((e=>e.msg||e.message||"Validation error")).join(", "):t.detail?e="string"===typeof t.detail?t.detail:"Validation error":t.message?e=t.message:"string"===typeof t&&(e=t)}else l.message&&(e=l.message);throw i(e),new Error(e)}finally{n(!1)}}),[b,w,_,O,l]),pe=[{value:"STABLE",label:"\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u044b\u0439",description:"\u0420\u043e\u0432\u043d\u044b\u0435 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"},{value:"AGGRESSIVE",label:"\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u044b\u0439",description:"\u041a\u0440\u0443\u043f\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438, \u0432\u044b\u0441\u043e\u043a\u0438\u0439 \u0440\u0438\u0441\u043a"},{value:"CAUTIOUS",label:"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u044b\u0439",description:"\u041c\u0435\u043b\u043a\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438, \u043d\u0438\u0437\u043a\u0430\u044f \u0432\u043e\u043b\u0430\u0442\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c"},{value:"BALANCED",label:"\u0411\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439",description:"\u0421\u0440\u0435\u0434\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f"},{value:"IMPULSIVE",label:"\u0418\u043c\u043f\u0443\u043b\u044c\u0441\u0438\u0432\u043d\u044b\u0439",description:"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u0432\u0441\u043f\u043b\u0435\u0441\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"},{value:"ANALYST",label:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a",description:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f"},{value:"MIMIC",label:"\u041c\u0438\u043c\u0438\u043a",description:"\u041a\u043e\u043f\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432"}],[fe,ge]=(0,r.useState)({name:"",character:"BALANCED",gender:"male",min_bet:1,max_bet:100,bet_limit:12,bet_limit_amount:300,win_percentage:40,loss_percentage:40,draw_percentage:20,min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",can_play_with_other_bots:!0,can_play_with_players:!0,bot_min_delay_seconds:20,bot_max_delay_seconds:800,player_min_delay_seconds:20,player_max_delay_seconds:800,max_concurrent_games:1}),[be,ye]=(0,r.useState)({count:10,character:"BALANCED",min_bet_range:[1,50],max_bet_range:[50,200],bet_limit_range:[12,12],win_percentage:40,loss_percentage:40,draw_percentage:20,delay_range:[30,120],min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",can_play_with_other_bots:!0,can_play_with_players:!0,bot_min_delay_range:[20,800],bot_max_delay_range:[20,800],player_min_delay_range:[20,800],player_max_delay_range:[20,800],max_concurrent_games_range:[1,3],bet_limit_amount_range:[100,250],bots:[]}),[ve,je]=(0,r.useState)(!1),[we,Ne]=(0,r.useState)(!1),[_e,ke]=(0,r.useState)(null),Se=(0,r.useCallback)((async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{B(!0);const t={page:b.toString(),limit:w.toString(),priority_fields:O.toString()};_.search&&_.search.trim()&&(t.search=_.search.trim()),_.character&&(t.character=_.character),null!==_.is_active&&(t.is_active=_.is_active.toString()),_.min_bet_range&&(t.min_bet_range=_.min_bet_range),_.max_bet_range&&(t.max_bet_range=_.max_bet_range),_.sort_by&&(t.sort_by=_.sort_by),_.sort_order&&(t.sort_order=_.sort_order);const a=new URLSearchParams(t).toString(),s=await xe("/admin/human-bots?".concat(a),"GET",null,e);!1!==s.success&&(p(s.bots||[]),s.pagination&&j(s.pagination.total_pages||1),s.metadata&&(console.log("Human-bots query performance:",s.metadata.query_performance),console.log("Cache timestamp:",new Date(1e3*s.metadata.cache_timestamp))))}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f Human-\u0431\u043e\u0442\u043e\u0432:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 Human-\u0431\u043e\u0442\u043e\u0432","error")}finally{B(!1)}}),[b,w,_,O,xe,l]),Ce=(0,r.useCallback)((async()=>{try{const e=await xe("/admin/human-bots/stats","GET");!1!==e.success&&g(e)}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438:",o)}}),[xe]);(0,r.useEffect)((()=>{if(T){const e=setInterval((()=>{console.log("Auto-refreshing Human-bots data..."),Se(!1),Ce()}),6e4);return I(e),()=>{e&&clearInterval(e)}}z&&(clearInterval(z),I(null))}),[T,Se,Ce]),(0,r.useEffect)((()=>{Se(),Ce()}),[b,w,_,O]),(0,r.useEffect)((()=>()=>{M&&clearTimeout(M),z&&clearInterval(z)}),[M,z]),(0,r.useEffect)((()=>{if(we&&(0===V.length&&Te(),be.bots.length!==be.count)){const e=Ee(be.count);ye((t=>d(d({},t),{},{bots:e})))}}),[we,be.count,V.length]),(0,r.useEffect)((()=>{if(we&&V.length>0&&be.bots.length>0){const e=be.bots.map((e=>{const t=Le();return d(d({},e),{},{name:t.name,gender:t.gender})}));ye((t=>d(d({},t),{},{bots:e})))}}),[V]);const Me=async e=>{if(await c({title:"".concat(e?"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"," \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432"),message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 ".concat(e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"," \u0432\u0441\u0435\u0445 Human-\u0431\u043e\u0442\u043e\u0432?"),type:e?"success":"warning"}))try{const t=await xe("/admin/human-bots/toggle-all","POST",{activate:e});if(!1!==t.success){const a=e?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u044b",s=t.affected_count||0;l("\u041c\u0430\u0441\u0441\u043e\u0432\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: ".concat(s," Human-\u0431\u043e\u0442\u043e\u0432 ").concat(a),"success"),Se(),Ce(),l("".concat(e?"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e":"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e"," ").concat(t.affected_count," \u0431\u043e\u0442\u043e\u0432"),"success")}}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430:",o)}},Le=()=>{if(V.length>0){return{name:V[Math.floor(Math.random()*V.length)],gender:Math.random()>.5?"male":"female"}}const e=["Alikhan","Nurzhan","Ayan","Ruslan","Bekzat","Yerlan","Zhanibek","Omir","Azamat","Temirlan","Aleksandr","Dmitriy","Maksim","Andrey","Sergey","Aleksey","Vladimir","Pavel","Roman","Artem"],t=["Aigerim","Gulnara","Aizhan","Sabina","Saule","Dilnaz","Madina","Zhanar","Aruzhan","Gulzhana","Anna","Mariya","Elena","Natalya","Olga","Tatyana","Irina","Svetlana","Ekaterina","Viktoriya"],a=Math.random()>.5?"male":"female";return{name:"male"===a?e[Math.floor(Math.random()*e.length)]:t[Math.floor(Math.random()*t.length)],gender:a}},Ee=e=>{const t=[];for(let a=0;a<e;a++){const e=Le(),s=Math.floor(Math.random()*(be.bot_min_delay_range[1]-be.bot_min_delay_range[0]+1))+be.bot_min_delay_range[0],r=Math.floor(Math.random()*(be.bot_max_delay_range[1]-be.bot_max_delay_range[0]+1))+be.bot_max_delay_range[0],n=Math.floor(Math.random()*(be.player_min_delay_range[1]-be.player_min_delay_range[0]+1))+be.player_min_delay_range[0],o=Math.floor(Math.random()*(be.player_max_delay_range[1]-be.player_max_delay_range[0]+1))+be.player_max_delay_range[0],i=Math.floor(Math.random()*(be.max_concurrent_games_range[1]-be.max_concurrent_games_range[0]+1))+be.max_concurrent_games_range[0];t.push({id:a,name:e.name,gender:e.gender,can_play_with_other_bots:be.can_play_with_other_bots,can_play_with_players:be.can_play_with_players,bot_min_delay_seconds:Math.min(s,r),bot_max_delay_seconds:Math.max(s,r),player_min_delay_seconds:Math.min(n,o),player_max_delay_seconds:Math.max(n,o),max_concurrent_games:i})}return t},Ae=(e,t,a)=>{const s=be.bots.map((s=>s.id===e?d(d({},s),{},{[t]:a}):s));ye(d(d({},be),{},{bots:s}))},Te=async()=>{q(!0);try{const e=await xe("/admin/human-bots/names","GET");U(e.names||[])}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u043c\u0435\u043d \u0431\u043e\u0442\u043e\u0432:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u043c\u0435\u043d: ".concat(o.message),"error")}finally{q(!1)}},Pe=async()=>{if(Y.trim()){$(!0);try{await xe("/admin/human-bots/names/add","POST",{names:[Y.trim()]}),l("\u0418\u043c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e","success"),await Te(),Q("")}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d\u0438:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f: ".concat(o.message),"error")}finally{$(!1)}}else l("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0431\u043e\u0442\u0430","error")};return(0,r.useEffect)((()=>{"names"===F&&0===V.length&&Te()}),[F]),(0,Gt.jsxs)("div",{className:"human-bots-management",children:[(0,Gt.jsx)("div",{className:"bots-header",children:(0,Gt.jsx)("h2",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 Human-\u0431\u043e\u0442\u0430\u043c\u0438"})}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Gt.jsxs)("div",{className:"flex border-b border-border-primary",children:[(0,Gt.jsx)("button",{onClick:()=>W("bots"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("bots"===F?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\ud83d\udccb \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("button",{onClick:()=>W("names"),className:"flex-1 px-6 py-4 text-center font-rajdhani font-bold transition-colors ".concat("names"===F?"bg-accent-primary text-white border-b-2 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-sidebar"),children:"\ud83d\udcdd \u0418\u043c\u0435\u043d\u0430 \u0431\u043e\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{className:"p-6",children:["bots"===F&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,Gt.jsxs)("button",{className:"styled-btn btn-primary",onClick:()=>je(!0),children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"]}),(0,Gt.jsxs)("button",{className:"styled-btn btn-secondary",onClick:()=>Ne(!0),children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435"]}),(0,Gt.jsxs)("button",{className:"styled-btn btn-success",onClick:()=>Me(!0),children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435\u0445"]}),(0,Gt.jsxs)("button",{className:"styled-btn btn-warning",onClick:()=>Me(!1),children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435\u0445"]}),(0,Gt.jsx)("button",{className:"styled-btn btn-danger",onClick:async()=>{if(await c({title:"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432 Human-\u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f Human-\u0431\u043e\u0442\u043e\u0432?\n\n\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435:\n\u2022 \u0423\u0434\u0430\u043b\u0438\u0442 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0440\u043e\u043b\u044c\u044e '\u0418\u0433\u0440\u043e\u043a' \u0434\u043b\u044f Human-\u0431\u043e\u0442\u043e\u0432\n\u2022 \u041e\u0441\u0442\u0430\u0432\u0438\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0438\u0441\u0438 \u0441 \u0440\u043e\u043b\u044c\u044e 'Human-\u0431\u043e\u0442'\n\u2022 \u041c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",type:"warning"})){te(!0),se(null);try{const e=await xe("/admin/human-bots/cleanup-duplicates","POST");e.success&&(se(e),l(e.message,"success"),e.duplicates_cleaned>0&&l("\u0423\u0434\u0430\u043b\u0435\u043d\u043e \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432: ".concat(e.duplicates_cleaned),"info"),e.bots_updated>0&&l("\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0431\u043e\u0442\u043e\u0432: ".concat(e.bots_updated),"info"),Se(),Ce())}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0435 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432","error")}finally{te(!1)}}},disabled:ee,children:ee?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("svg",{className:"animate-spin w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u041e\u0447\u0438\u0441\u0442\u043a\u0430..."]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b"]})}),(0,Gt.jsx)("button",{className:"styled-btn btn-info",onClick:async()=>{if(await c({title:"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u0435\u0439 Human-\u0431\u043e\u0442\u043e\u0432",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u0435\u0439?\n\n\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435:\n\u2022 \u0414\u043e\u0431\u0430\u0432\u0438\u0442 \u043f\u043e\u043b\u0435 virtual_balance (\u0431\u0430\u043b\u0430\u043d\u0441) \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c\n\u2022 \u0414\u043e\u0431\u0430\u0432\u0438\u0442 \u043f\u043e\u043b\u0435 total_commission_paid \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c 0\n\u2022 \u041d\u0435 \u043f\u043e\u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",type:"info"})){ne(!0),ie(null);try{const e=await xe("/admin/human-bots/migrate","POST");void 0!==e.migrated&&(ie(e),e.migrated>0?l("\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430: \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e ".concat(e.migrated," \u0431\u043e\u0442\u043e\u0432"),"success"):l("\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f - \u0432\u0441\u0435 \u0431\u043e\u0442\u044b \u0443\u0436\u0435 \u0438\u043c\u0435\u044e\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u043e\u043b\u044f","info"),Se(),Ce())}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438","error")}finally{ne(!1)}}},disabled:re,children:re?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("svg",{className:"animate-spin w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f..."]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u0435\u0439"]})})]}),oe&&(0,Gt.jsxs)("div",{className:"cleanup-results-modal",children:[(0,Gt.jsxs)("div",{className:"modal-header",children:[(0,Gt.jsx)("h3",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u0435\u0439"}),(0,Gt.jsx)("button",{className:"close-btn",onClick:()=>ie(null),children:"\u2715"})]}),(0,Gt.jsxs)("div",{className:"modal-content",children:[(0,Gt.jsxs)("div",{className:"result-item",children:[(0,Gt.jsx)("strong",{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0431\u043e\u0442\u043e\u0432:"})," ",oe.migrated]}),(0,Gt.jsxs)("div",{className:"result-item",children:[(0,Gt.jsx)("strong",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",oe.message]}),oe.updated_bots&&oe.updated_bots.length>0&&(0,Gt.jsxs)("div",{className:"result-section",children:[(0,Gt.jsx)("h4",{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0431\u043e\u0442\u044b:"}),(0,Gt.jsx)("ul",{children:oe.updated_bots.map(((e,t)=>(0,Gt.jsxs)("li",{children:[(0,Gt.jsx)("strong",{children:e.name})," (ID: ",e.id,")",(0,Gt.jsx)("br",{}),(0,Gt.jsxs)("span",{style:{fontSize:"0.8em",opacity:.7},children:["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f: ",e.added_fields.join(", ")]})]},t)))})]}),oe.error&&(0,Gt.jsxs)("div",{className:"result-section warnings",children:[(0,Gt.jsx)("h4",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438:"}),(0,Gt.jsx)("div",{className:"warning-item",children:oe.error})]})]})]}),ae&&(0,Gt.jsxs)("div",{className:"cleanup-results-modal",children:[(0,Gt.jsxs)("div",{className:"modal-header",children:[(0,Gt.jsx)("h3",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432"}),(0,Gt.jsx)("button",{className:"close-btn",onClick:()=>se(null),children:"\u2715"})]}),(0,Gt.jsxs)("div",{className:"modal-content",children:[(0,Gt.jsxs)("div",{className:"result-item",children:[(0,Gt.jsx)("strong",{children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e \u0431\u043e\u0442\u043e\u0432:"})," ",ae.total_bots_checked]}),(0,Gt.jsxs)("div",{className:"result-item",children:[(0,Gt.jsx)("strong",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043e \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432:"})," ",ae.duplicates_cleaned]}),(0,Gt.jsxs)("div",{className:"result-item",children:[(0,Gt.jsx)("strong",{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0431\u043e\u0442\u043e\u0432:"})," ",ae.bots_updated]}),ae.cleaned_duplicates&&ae.cleaned_duplicates.length>0&&(0,Gt.jsxs)("div",{className:"result-section",children:[(0,Gt.jsx)("h4",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b:"}),(0,Gt.jsx)("ul",{children:ae.cleaned_duplicates.map(((e,t)=>(0,Gt.jsxs)("li",{children:[e.bot_name," (ID: ",e.bot_id,") - \u0440\u043e\u043b\u044c: ",e.deleted_user_role]},t)))})]}),ae.warnings&&ae.warnings.length>0&&(0,Gt.jsxs)("div",{className:"result-section warnings",children:[(0,Gt.jsx)("h4",{children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f:"}),(0,Gt.jsx)("ul",{children:ae.warnings.map(((e,t)=>(0,Gt.jsx)("li",{className:"warning-item",children:e},t)))})]})]})]}),(0,Gt.jsxs)("div",{className:"stats-grid",children:[(0,Gt.jsxs)("div",{className:"stat-card",children:[(0,Gt.jsx)("h3",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("div",{className:"stat-value",children:f.total_bots||0})]}),(0,Gt.jsxs)("div",{className:"stat-card",children:[(0,Gt.jsx)("h3",{children:"\u041e\u0436\u0438\u0434\u0430\u044e\u0449\u0438\u0435"}),(0,Gt.jsx)("div",{className:"stat-value",children:f.total_bets||0})]}),(0,Gt.jsxs)("div",{className:"stat-card",children:[(0,Gt.jsx)("h3",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,Gt.jsx)("div",{className:"stat-value",children:f.active_games||0})]}),(0,Gt.jsxs)("div",{className:"stat-card",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("h3",{children:"\u0412\u0441\u0435\u0433\u043e \u0418\u0433\u0440"}),(0,Gt.jsx)("button",{onClick:()=>(async()=>{if(await c({title:"\u0421\u0431\u0440\u043e\u0441 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0430 \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0447\u0435\u0442\u0447\u0438\u043a \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440 Human-\u0431\u043e\u0442\u043e\u0432? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",type:"warning"}))try{await xe("/admin/human-bots/reset-total-games","POST"),l("\u0421\u0447\u0435\u0442\u0447\u0438\u043a \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d","success"),await Ce()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0430 \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0430: ".concat(o.message),"error")}})(),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u0447\u0435\u0442\u0447\u0438\u043a \u0432\u0441\u0435\u0433\u043e \u0438\u0433\u0440",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Gt.jsx)("div",{className:"stat-value",children:f.total_games_played||0})]}),(0,Gt.jsxs)("div",{className:"stat-card",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("h3",{children:"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u041f\u0435\u0440\u0438\u043e\u0434"}),(0,Gt.jsx)("button",{onClick:()=>(async()=>{if(await c({title:"\u0421\u0431\u0440\u043e\u0441 \u0434\u043e\u0445\u043e\u0434\u0430 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",type:"warning"}))try{await xe("/admin/human-bots/reset-period-revenue","POST"),l("\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d","success"),await Ce()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u0434\u043e\u0445\u043e\u0434\u0430 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0434\u043e\u0445\u043e\u0434\u0430: ".concat(o.message),"error")}})(),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434",children:(0,Gt.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Gt.jsx)("div",{className:"stat-value",children:(ze=f.period_revenue||0,"$".concat(ze.toFixed(2)))})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 mb-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white",children:"\ud83d\udd0d \u041f\u043e\u0438\u0441\u043a \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("label",{className:"text-sm text-text-secondary",children:"\u0410\u0432\u0442\u043e-\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435:"}),(0,Gt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:T,onChange:e=>P(e.target.checked),className:"sr-only peer"}),(0,Gt.jsx)("div",{className:"w-9 h-5 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent-primary peer-focus:ring-opacity-25 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("label",{className:"text-sm text-text-secondary",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430:"}),(0,Gt.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:O,onChange:e=>D(e.target.checked),className:"sr-only peer"}),(0,Gt.jsx)("div",{className:"w-9 h-5 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 peer-focus:ring-opacity-25 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-600"})]})]}),(0,Gt.jsxs)("button",{onClick:()=>{Se(!1),Ce(),l("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b","success")},disabled:s||R,className:"px-3 py-1 bg-accent-primary text-white text-sm rounded hover:bg-accent-primary-dark disabled:opacity-50 transition-colors",children:[s||R?"\u23f3":"\ud83d\udd04"," \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Gt.jsxs)("div",{className:"filter-group",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438:"}),(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("input",{type:"text",value:S,onChange:e=>me(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0431\u043e\u0442\u0430...",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent"}),S&&(0,Gt.jsx)("button",{onClick:()=>me(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-text-secondary hover:text-white",children:"\u2715"})]})]}),(0,Gt.jsxs)("div",{className:"filter-group",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440:"}),(0,Gt.jsxs)("select",{value:_.character,onChange:e=>{k(d(d({},_),{},{character:e.target.value})),y(1)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",children:[(0,Gt.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u044b"}),pe.map((e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,Gt.jsxs)("div",{className:"filter-group",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,Gt.jsxs)("select",{value:null===_.is_active?"":_.is_active.toString(),onChange:e=>{k(d(d({},_),{},{is_active:""===e.target.value?null:"true"===e.target.value})),y(1)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",children:[(0,Gt.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b"}),(0,Gt.jsx)("option",{value:"true",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,Gt.jsx)("option",{value:"false",children:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435"})]})]}),(0,Gt.jsxs)("div",{className:"filter-group",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:"}),(0,Gt.jsxs)("select",{value:w,onChange:e=>{N(parseInt(e.target.value)),y(1)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",children:[(0,Gt.jsx)("option",{value:5,children:"5"}),(0,Gt.jsx)("option",{value:10,children:"10"}),(0,Gt.jsx)("option",{value:20,children:"20"}),(0,Gt.jsx)("option",{value:50,children:"50"}),(0,Gt.jsx)("option",{value:100,children:"100"})]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,Gt.jsxs)("div",{className:"filter-group",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0438\u043d. \u0441\u0442\u0430\u0432\u043e\u043a:"}),(0,Gt.jsx)("input",{type:"text",value:_.min_bet_range,onChange:e=>{k(d(d({},_),{},{min_bet_range:e.target.value})),y(1)},placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 1-50",className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent"})]}),(0,Gt.jsxs)("div",{className:"filter-group",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430:"}),(0,Gt.jsxs)("select",{value:_.sort_by,onChange:e=>{k(d(d({},_),{},{sort_by:e.target.value})),y(1)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",children:[(0,Gt.jsx)("option",{value:"created_at",children:"\u041f\u043e \u0434\u0430\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"}),(0,Gt.jsx)("option",{value:"name",children:"\u041f\u043e \u0438\u043c\u0435\u043d\u0438"}),(0,Gt.jsx)("option",{value:"character",children:"\u041f\u043e \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0443"}),(0,Gt.jsx)("option",{value:"is_active",children:"\u041f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443"}),(0,Gt.jsx)("option",{value:"min_bet",children:"\u041f\u043e \u043c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0435"}),(0,Gt.jsx)("option",{value:"max_bet",children:"\u041f\u043e \u043c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0435"})]})]}),(0,Gt.jsxs)("div",{className:"filter-group",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a:"}),(0,Gt.jsxs)("select",{value:_.sort_order,onChange:e=>{k(d(d({},_),{},{sort_order:e.target.value})),y(1)},className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",children:[(0,Gt.jsx)("option",{value:"desc",children:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"}),(0,Gt.jsx)("option",{value:"asc",children:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"})]})]})]}),(0,Gt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,Gt.jsx)("button",{onClick:()=>{k({search:"",character:"",is_active:null,min_bet_range:"",max_bet_range:"",sort_by:"created_at",sort_order:"desc"}),C(""),y(1)},className:"px-4 py-2 bg-gray-600 text-white text-sm rounded hover:bg-gray-700 transition-colors",children:"\ud83d\uddd1\ufe0f \u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})})]}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4 mb-4",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("span",{className:"text-white font-roboto text-sm",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e ",x.length," \u0438\u0437 ",f.total_bots||0," \u0431\u043e\u0442\u043e\u0432"]}),E.timestamp&&(0,Gt.jsxs)("span",{className:"text-text-secondary text-xs",children:["\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435: ",Xt(new Date(E.timestamp).toISOString(),(null===a||void 0===a?void 0:a.timezone_offset)||0)]}),(s||R)&&(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-accent-primary"}),(0,Gt.jsx)("span",{className:"text-text-secondary text-sm",children:R?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445...":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>y((e=>Math.max(e-1,1))),disabled:b<=1||s,className:"px-3 py-1 bg-surface-sidebar text-white text-sm rounded border border-border-primary hover:bg-surface-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),(0,Gt.jsxs)("span",{className:"text-white text-sm",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",b," \u0438\u0437 ",v]}),(0,Gt.jsx)("button",{onClick:()=>y((e=>Math.min(e+1,v))),disabled:b>=v||s,className:"px-3 py-1 bg-surface-sidebar text-white text-sm rounded border border-border-primary hover:bg-surface-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u2192"})]})]})}),(0,Gt.jsx)(iu,{humanBots:x,loading:s||R,currentPage:b,totalPages:v,pageSize:w,priorityFields:O,stats:f,user:a,onPageChange:y,onEditBot:e=>{ke(e),ge({name:e.name||"",character:e.character||"BALANCED",gender:e.gender||"male",min_bet:e.min_bet||1,max_bet:e.max_bet||100,bet_limit:e.bet_limit||12,bet_limit_amount:e.bet_limit_amount||300,win_percentage:e.win_percentage||40,loss_percentage:e.loss_percentage||40,draw_percentage:e.draw_percentage||20,min_delay:e.min_delay||30,max_delay:e.max_delay||120,use_commit_reveal:void 0===e.use_commit_reveal||e.use_commit_reveal,logging_level:e.logging_level||"INFO",can_play_with_other_bots:void 0===e.can_play_with_other_bots||e.can_play_with_other_bots,can_play_with_players:void 0===e.can_play_with_players||e.can_play_with_players,bot_min_delay_seconds:e.bot_min_delay_seconds||20,bot_max_delay_seconds:e.bot_max_delay_seconds||800,player_min_delay_seconds:e.player_min_delay_seconds||20,player_max_delay_seconds:e.player_max_delay_seconds||800,max_concurrent_games:e.max_concurrent_games||1}),je(!0)},onCreateBot:()=>je(!0),onRefresh:()=>{Se(!1),Ce()}})]}),"names"===F&&(0,Gt.jsx)("div",{className:"space-y-6",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,Gt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 Human-\u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("p",{className:"text-text-secondary font-roboto",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u043c\u0435\u043d \u0434\u043b\u044f \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432"})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsxs)("span",{className:"text-text-secondary text-sm",children:["\u0412\u0441\u0435\u0433\u043e \u0438\u043c\u0435\u043d: ",V.length]}),(0,Gt.jsxs)("button",{onClick:()=>Te(),disabled:H,className:"px-3 py-1 bg-accent-primary text-white text-sm rounded hover:bg-accent-primary-dark disabled:opacity-50 transition-colors",children:[H?"\u23f3":"\ud83d\udd04"," \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"]})]})]}),H?(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-accent-primary text-2xl mb-2",children:"\u23f3"}),(0,Gt.jsx)("p",{className:"text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u043c\u0435\u043d..."})]}):(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:"\u2795 \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsx)("input",{type:"text",value:Y,onChange:e=>Q(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0431\u043e\u0442\u0430...",maxLength:50,className:"flex-1 px-4 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",disabled:G,onKeyPress:e=>"Enter"===e.key&&Pe()}),(0,Gt.jsx)("button",{onClick:Pe,disabled:G||!Y.trim(),className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors disabled:opacity-50",children:G?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white",children:"\ud83d\udcdd \u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),(0,Gt.jsx)("button",{onClick:()=>{X(V.join("\n")),Z(!0)},disabled:G,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435"})]}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\ud83d\udca1 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0437\u0430\u043c\u0435\u043d\u044b \u0432\u0441\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u043c\u0435\u043d \u0441\u0440\u0430\u0437\u0443"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsxs)("h4",{className:"font-rajdhani font-bold text-white mb-3",children:["\ud83d\udccb \u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0438\u043c\u0435\u043d\u0430 (",V.length,")"]}),0===V.length?(0,Gt.jsx)("div",{className:"text-center py-4 text-text-secondary",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u043d \u043f\u0443\u0441\u0442"}):(0,Gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 max-h-96 overflow-y-auto",children:V.map(((e,t)=>(0,Gt.jsxs)("div",{className:"flex items-center justify-between bg-surface-card border border-border-primary rounded-lg px-3 py-2",children:[(0,Gt.jsx)("span",{className:"text-white font-roboto text-sm truncate flex-1 mr-2",children:e}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{if(await c({title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u043c\u044f",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u043c\u044f "'.concat(e,'"?'),type:"warning"})){$(!0);try{await xe("/admin/human-bots/names/".concat(encodeURIComponent(e)),"DELETE"),l("\u0418\u043c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e","success"),await Te()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d\u0438:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f: ".concat(o.message),"error")}finally{$(!1)}}})(e),disabled:G,className:"text-red-400 hover:text-red-300 disabled:opacity-50 transition-colors",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u043c\u044f",children:(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)))})]})]})]})})]})]}),ve&&(0,Gt.jsx)("div",{className:"modal-overlay",children:(0,Gt.jsxs)("div",{className:"modal-content large-modal styled-modal",children:[(0,Gt.jsxs)("div",{className:"modal-header",children:[(0,Gt.jsxs)("div",{className:"modal-title",children:[(0,Gt.jsx)("svg",{className:"modal-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Gt.jsx)("h3",{children:_e?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c Human-\u0431\u043e\u0442\u0430":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c Human-\u0431\u043e\u0442\u0430"})]}),(0,Gt.jsx)("button",{type:"button",className:"modal-close",onClick:()=>{je(!1),ke(null)},children:(0,Gt.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(!s)if(fe.win_percentage+fe.loss_percentage+fe.draw_percentage===100){if(!_e&&x.find((e=>e.name.toLowerCase()===fe.name.toLowerCase())))return void l('\u0411\u043e\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c "'.concat(fe.name,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f.'),"error");if(fe.can_play_with_other_bots&&fe.bot_min_delay_seconds>=fe.bot_max_delay_seconds)l("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0434\u043b\u044f \u0431\u043e\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439","error");else if(fe.can_play_with_players&&fe.player_min_delay_seconds>=fe.player_max_delay_seconds)l("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0434\u043b\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439","error");else try{let e;const t=!_e;e=_e?await xe("/admin/human-bots/".concat(_e.id),"PUT",fe):await xe("/admin/human-bots","POST",fe);const a=fe.name||"Human-\u0431\u043e\u0442";l('Human-\u0431\u043e\u0442 "'.concat(a,t?'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d':'" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d'),"success"),je(!1),ke(null),t&&ge({name:"",character:"BALANCED",gender:"male",min_bet:1,max_bet:100,bet_limit:12,bet_limit_amount:300,win_percentage:40,loss_percentage:40,draw_percentage:20,min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",can_play_with_other_bots:!0,can_play_with_players:!0,bot_min_delay_seconds:20,bot_max_delay_seconds:800,player_min_delay_seconds:20,player_max_delay_seconds:800,max_concurrent_games:1}),oa().triggerLobbyRefresh(),await Se()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f Human-\u0431\u043e\u0442\u0430:",o),o.message.includes("Bot name already exists")?l('\u0411\u043e\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c "'.concat(fe.name,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f.'),"error"):l("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 ".concat(_e?"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438":"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438"," \u0431\u043e\u0442\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),"error")}}else l("\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%","error")})()},children:[(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsx)("h4",{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"\u0418\u043c\u044f \u0431\u043e\u0442\u0430 *"]}),(0,Gt.jsx)("input",{type:"text",value:fe.name,onChange:e=>ge(d(d({},fe),{},{name:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0431\u043e\u0442\u0430",required:!0})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440 *"]}),(0,Gt.jsx)("select",{value:fe.character,onChange:e=>ge(d(d({},fe),{},{character:e.target.value})),children:pe.map((e=>(0,Gt.jsx)("option",{value:e.value,title:e.description,children:e.label},e.value)))})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"\u041f\u043e\u043b *"]}),(0,Gt.jsxs)("select",{value:fe.gender,onChange:e=>ge(d(d({},fe),{},{gender:e.target.value})),children:[(0,Gt.jsx)("option",{value:"male",children:"Male"}),(0,Gt.jsx)("option",{value:"female",children:"Female"})]})]})]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,Gt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b)"]}),(0,Gt.jsx)("input",{type:"number",step:"1",min:"1",value:fe.min_bet,onChange:e=>ge(d(d({},fe),{},{min_bet:parseInt(e.target.value)||1})),placeholder:"1"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0430 (\u0433\u0435\u043c\u044b)"]}),(0,Gt.jsx)("input",{type:"number",step:"1",min:"1",value:fe.max_bet,onChange:e=>ge(d(d({},fe),{},{max_bet:parseInt(e.target.value)||1})),placeholder:"100"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"\u041b\u0438\u043c\u0438\u0442 \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"100",value:fe.bet_limit,onChange:e=>ge(d(d({},fe),{},{bet_limit:parseInt(e.target.value)})),placeholder:"12"}),(0,Gt.jsx)("small",{className:"form-help",children:"\u041c\u0430\u043a\u0441. \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a (1-100)"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"100000",value:fe.bet_limit_amount,onChange:e=>ge(d(d({},fe),{},{bet_limit_amount:parseFloat(e.target.value)||300})),placeholder:"300"}),(0,Gt.jsx)("small",{className:"form-help",children:"\u041c\u0430\u043a\u0441. \u0441\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u043a\u0430\u043a \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442 (1-100000)"})]})]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Gt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0431\u0435\u0434"]}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",value:fe.win_percentage,onChange:e=>ge(d(d({},fe),{},{win_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"]}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",value:fe.loss_percentage,onChange:e=>ge(d(d({},fe),{},{loss_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L12 12m6.364 6.364L12 12m0 0L5.636 5.636M12 12l6.364-6.364M12 12l-6.364 6.364"})}),"% \u041d\u0438\u0447\u044c\u0438\u0445"]}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",value:fe.draw_percentage,onChange:e=>ge(d(d({},fe),{},{draw_percentage:parseFloat(e.target.value)})),placeholder:"20"})]})]}),(0,Gt.jsxs)("div",{className:"form-help-block",children:[(0,Gt.jsx)("svg",{className:"help-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%"]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u041c\u0438\u043d. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"300",value:fe.min_delay,onChange:e=>ge(d(d({},fe),{},{min_delay:parseInt(e.target.value)})),placeholder:"30"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u041c\u0430\u043a\u0441. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"300",value:fe.max_delay,onChange:e=>ge(d(d({},fe),{},{max_delay:parseInt(e.target.value)})),placeholder:"120"})]})]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})}),(0,Gt.jsx)("h4",{children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,Gt.jsx)("div",{className:"form-row",children:(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"]}),(0,Gt.jsxs)("select",{value:fe.logging_level,onChange:e=>ge(d(d({},fe),{},{logging_level:e.target.value})),children:[(0,Gt.jsx)("option",{value:"INFO",children:"INFO"}),(0,Gt.jsx)("option",{value:"DEBUG",children:"DEBUG"})]})]})}),(0,Gt.jsxs)("div",{className:"checkbox-group",children:[(0,Gt.jsx)("div",{className:"checkbox-item",children:(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("input",{type:"checkbox",checked:fe.use_commit_reveal,onChange:e=>ge(d(d({},fe),{},{use_commit_reveal:e.target.checked}))}),(0,Gt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Commit-Reveal"]})}),(0,Gt.jsxs)("div",{className:"checkbox-item",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("input",{type:"checkbox",checked:fe.can_play_with_other_bots||!1,onChange:e=>{const t=e.target.checked;ge(d(d({},fe),{},{can_play_with_other_bots:t},t&&{bot_min_delay_seconds:fe.bot_min_delay_seconds||30,bot_max_delay_seconds:fe.bot_max_delay_seconds||2e3}))}}),(0,Gt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 Human-\u0431\u043e\u0442\u0430\u043c\u0438"]}),(0,Gt.jsx)("small",{className:"form-help",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0431\u043e\u0442\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 Human-\u0431\u043e\u0442\u0430\u043c\u0438"}),fe.can_play_with_other_bots&&(0,Gt.jsxs)("div",{className:"delay-settings mt-3 ml-6 p-3 bg-surface-sidebar rounded border border-border-primary",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:fe.bot_min_delay_seconds,onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||20));ge(d(d({},fe),{},{bot_min_delay_seconds:t}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:fe.bot_max_delay_seconds,onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||800));ge(d(d({},fe),{},{bot_max_delay_seconds:t}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]})]}),fe.bot_min_delay_seconds>=fe.bot_max_delay_seconds&&(0,Gt.jsx)("p",{className:"text-red-400 text-xs mt-1",children:"\u26a0\ufe0f \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439"})]})]}),(0,Gt.jsxs)("div",{className:"checkbox-item",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("input",{type:"checkbox",checked:fe.can_play_with_players||!1,onChange:e=>{const t=e.target.checked;ge(d(d({},fe),{},{can_play_with_players:t},t&&{player_min_delay_seconds:fe.player_min_delay_seconds||30,player_max_delay_seconds:fe.player_max_delay_seconds||2e3}))}}),(0,Gt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"]}),(0,Gt.jsx)("small",{className:"form-help",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0431\u043e\u0442\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}),fe.can_play_with_players&&(0,Gt.jsxs)("div",{className:"delay-settings mt-3 ml-6 p-3 bg-surface-sidebar rounded border border-border-primary",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:fe.player_min_delay_seconds,onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||20));ge(d(d({},fe),{},{player_min_delay_seconds:t}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:fe.player_max_delay_seconds,onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||800));ge(d(d({},fe),{},{player_max_delay_seconds:t}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]})]}),fe.player_min_delay_seconds>=fe.player_max_delay_seconds&&(0,Gt.jsx)("p",{className:"text-red-400 text-xs mt-1",children:"\u26a0\ufe0f \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439"})]})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"3",value:fe.max_concurrent_games,onChange:e=>ge(d(d({},fe),{},{max_concurrent_games:Math.max(1,Math.min(3,parseInt(e.target.value)||1))})),placeholder:"1"}),(0,Gt.jsx)("small",{className:"form-help",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e"})]})]})]}),(0,Gt.jsxs)("div",{className:"modal-actions",children:[(0,Gt.jsx)("button",{type:"submit",className:"styled-btn btn-primary",disabled:s,children:s?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),_e?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435..."]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),_e?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u0442\u0430"]})}),(0,Gt.jsxs)("button",{type:"button",className:"styled-btn btn-secondary",onClick:()=>{je(!1),ke(null)},children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"\u041e\u0442\u043c\u0435\u043d\u0430"]})]})]})]})}),we&&(0,Gt.jsx)("div",{className:"modal-overlay",children:(0,Gt.jsxs)("div",{className:"modal-content large-modal styled-modal",children:[(0,Gt.jsxs)("div",{className:"modal-header",children:[(0,Gt.jsxs)("div",{className:"modal-title",children:[(0,Gt.jsx)("svg",{className:"modal-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,Gt.jsx)("h3",{children:"\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Human-\u0431\u043e\u0442\u043e\u0432"})]}),(0,Gt.jsx)("button",{type:"button",className:"modal-close",onClick:()=>Ne(!1),children:(0,Gt.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(le)l("\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0436\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...","warning");else if(be.win_percentage+be.loss_percentage+be.draw_percentage===100){ce(!0);try{const e=d(d({},be),{},{delay_range:[be.min_delay||30,be.max_delay||120],min_delay:be.min_delay||30,max_delay:be.max_delay||120,can_play_with_other_bots:be.can_play_with_other_bots,can_play_with_players:be.can_play_with_players,bot_min_delay_range:be.bot_min_delay_range,bot_max_delay_range:be.bot_max_delay_range,player_min_delay_range:be.player_min_delay_range,player_max_delay_range:be.player_max_delay_range,bots:be.bots||[]}),t=await xe("/admin/human-bots/bulk-create","POST",e);!1!==t.success&&(l("\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e: \u0441\u043e\u0437\u0434\u0430\u043d\u043e ".concat(t.created_count||be.count," Human-\u0431\u043e\u0442\u043e\u0432"),"success"),Ne(!1),Se(),Ce(),t.failed_count&&t.failed_count>0?l("\u0421\u043e\u0437\u0434\u0430\u043d\u043e ".concat(t.created_count," \u0431\u043e\u0442\u043e\u0432, \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c: ").concat(t.failed_count),"warning"):l("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043e ".concat(t.created_count," \u0431\u043e\u0442\u043e\u0432"),"success"),ye({count:10,character:"BALANCED",min_bet_range:[1,50],max_bet_range:[50,200],bet_limit_range:[12,12],win_percentage:40,loss_percentage:40,draw_percentage:20,delay_range:[30,120],min_delay:30,max_delay:120,use_commit_reveal:!0,logging_level:"INFO",can_play_with_other_bots:!0,can_play_with_players:!0,bot_min_delay_range:[30,120],bot_max_delay_range:[30,120],player_min_delay_range:[30,120],player_max_delay_range:[30,120],max_concurrent_games_range:[3,3],bet_limit_amount_range:[100,250],bots:[]}))}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f Human-\u0431\u043e\u0442\u043e\u0432:",o);const t=o.message||o.toString();if(t.includes("exceed global limit")){const e=t.match(/Available capacity: (\d+)/),a=t.match(/can create max (\d+) bots/);if(e&&a){const t=e[1],s=a[1];l("\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0431\u043e\u0442\u043e\u0432. \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0435\u043c\u043a\u043e\u0441\u0442\u044c: ".concat(t,". ")+"\u0421 \u0442\u0435\u043a\u0443\u0449\u0438\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(s," \u0431\u043e\u0442\u043e\u0432."),"error"),parseInt(s)>0&&l("\ud83d\udca1 \u0421\u043e\u0432\u0435\u0442: \u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u0442\u043e\u0432 \u0434\u043e ".concat(s," \u0438\u043b\u0438 \u0441\u043d\u0438\u0437\u044c\u0442\u0435 \u0438\u0445 bet_limit"),"warning")}else l("\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f Human-\u0431\u043e\u0442\u043e\u0432","error")}else l("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432: ".concat(t),"error")}finally{ce(!1)}}else l("\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%","error")})()},children:[(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Gt.jsx)("h4",{children:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u0442\u043e\u0432"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"50",value:be.count,onChange:e=>(e=>{const t=Ee(e);ye(d(d({},be),{},{count:e,bots:t}))})(parseInt(e.target.value)||1),placeholder:"10"}),(0,Gt.jsx)("small",{className:"form-help",children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0431\u043e\u0442\u043e\u0432 \u0437\u0430 \u0440\u0430\u0437"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440 \u0434\u043b\u044f \u0432\u0441\u0435\u0445"]}),(0,Gt.jsx)("select",{value:be.character,onChange:e=>ye(d(d({},be),{},{character:e.target.value})),children:pe.map((e=>(0,Gt.jsx)("option",{value:e.value,title:e.description,children:e.label},e.value)))})]})]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,Gt.jsx)("h4",{children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u044b \u0441\u0442\u0430\u0432\u043e\u043a"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0438\u043d. \u0441\u0442\u0430\u0432\u043e\u043a (\u0433\u0435\u043c\u044b)"]}),(0,Gt.jsxs)("div",{className:"range-inputs",children:[(0,Gt.jsx)("input",{type:"number",step:"1",placeholder:"\u041e\u0442",value:be.min_bet_range[0],onChange:e=>ye(d(d({},be),{},{min_bet_range:[parseInt(e.target.value)||1,be.min_bet_range[1]]}))}),(0,Gt.jsx)("span",{className:"range-separator",children:"\u2014"}),(0,Gt.jsx)("input",{type:"number",step:"1",placeholder:"\u0414\u043e",value:be.min_bet_range[1],onChange:e=>ye(d(d({},be),{},{min_bet_range:[be.min_bet_range[0],parseInt(e.target.value)||1]}))})]})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043e\u043a (\u0433\u0435\u043c\u044b)"]}),(0,Gt.jsxs)("div",{className:"range-inputs",children:[(0,Gt.jsx)("input",{type:"number",step:"1",placeholder:"\u041e\u0442",value:be.max_bet_range[0],onChange:e=>ye(d(d({},be),{},{max_bet_range:[parseInt(e.target.value)||1,be.max_bet_range[1]]}))}),(0,Gt.jsx)("span",{className:"range-separator",children:"\u2014"}),(0,Gt.jsx)("input",{type:"number",step:"1",placeholder:"\u0414\u043e",value:be.max_bet_range[1],onChange:e=>ye(d(d({},be),{},{max_bet_range:[be.max_bet_range[0],parseInt(e.target.value)||1]}))})]})]})]}),(0,Gt.jsx)("div",{className:"form-row",children:(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043b\u0438\u043c\u0438\u0442\u043e\u0432 \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Gt.jsxs)("div",{className:"range-inputs",children:[(0,Gt.jsx)("input",{type:"number",min:"1",max:"100",placeholder:"\u041e\u0442",value:be.bet_limit_range[0],onChange:e=>ye(d(d({},be),{},{bet_limit_range:[parseInt(e.target.value),be.bet_limit_range[1]]}))}),(0,Gt.jsx)("span",{className:"range-separator",children:"\u2014"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"100",placeholder:"\u0414\u043e",value:be.bet_limit_range[1],onChange:e=>ye(d(d({},be),{},{bet_limit_range:[be.bet_limit_range[0],parseInt(e.target.value)]}))})]}),(0,Gt.jsx)("small",{className:"form-help",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a (1-100)"})]})})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,Gt.jsx)("h4",{children:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u0443\u043c\u043c\u044b \u0441\u0442\u0430\u0432\u043e\u043a"})]}),(0,Gt.jsxs)("div",{className:"form-help-block",children:[(0,Gt.jsx)("svg",{className:"help-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u041c\u0430\u043a\u0441. \u0441\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u043a\u0430\u043a \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442 (1\u2013100000)"]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u041c\u0438\u043d. \u0441\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Gt.jsx)("input",{type:"number",step:"1",min:"1",max:"100000",placeholder:"100",value:be.bet_limit_amount_range?be.bet_limit_amount_range[0]:100,onChange:e=>ye(d(d({},be),{},{bet_limit_amount_range:[parseInt(e.target.value)||100,be.bet_limit_amount_range&&be.bet_limit_amount_range[1]||250]})),className:"form-input"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u041c\u0430\u043a\u0441. \u0441\u0443\u043c\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a"]}),(0,Gt.jsx)("input",{type:"number",step:"1",min:"1",max:"100000",placeholder:"250",value:be.bet_limit_amount_range?be.bet_limit_amount_range[1]:250,onChange:e=>ye(d(d({},be),{},{bet_limit_amount_range:[be.bet_limit_amount_range&&be.bet_limit_amount_range[0]||100,parseInt(e.target.value)||250]})),className:"form-input"})]})]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Gt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0431\u0435\u0434"]}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",value:be.win_percentage,onChange:e=>ye(d(d({},be),{},{win_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"% \u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"]}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",value:be.loss_percentage,onChange:e=>ye(d(d({},be),{},{loss_percentage:parseFloat(e.target.value)})),placeholder:"40"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L12 12m6.364 6.364L12 12m0 0L5.636 5.636M12 12l6.364-6.364M12 12l-6.364 6.364"})}),"% \u041d\u0438\u0447\u044c\u0438\u0445"]}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"100",value:be.draw_percentage,onChange:e=>ye(d(d({},be),{},{draw_percentage:parseFloat(e.target.value)})),placeholder:"20"})]})]}),(0,Gt.jsxs)("div",{className:"form-help-block",children:[(0,Gt.jsx)("svg",{className:"help-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0430\u0432\u043d\u044f\u0442\u044c\u0441\u044f 100%"]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Gt.jsxs)("div",{className:"form-row",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"\u041c\u0438\u043d. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"3600",value:be.min_delay||30,onChange:e=>{const t=parseInt(e.target.value)||30;ye(d(d({},be),{},{min_delay:t,delay_range:[t,be.max_delay||120]}))},placeholder:"30"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("svg",{className:"label-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"\u041c\u0430\u043a\u0441. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a)"]}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"3600",value:be.max_delay||120,onChange:e=>{const t=parseInt(e.target.value)||120;ye(d(d({},be),{},{max_delay:t,delay_range:[be.min_delay||30,t]}))},placeholder:"120"})]})]}),(0,Gt.jsxs)("div",{className:"form-help-block",children:[(0,Gt.jsx)("svg",{className:"help-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u0435\u0436\u0434\u0443 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\u043c\u0438 Human-\u0431\u043e\u0442\u043e\u0432 (\u043e\u0442 1 \u0441\u0435\u043a\u0443\u043d\u0434\u044b \u0434\u043e 1 \u0447\u0430\u0441\u0430)"]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsxs)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Gt.jsx)("h4",{children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),(0,Gt.jsxs)("div",{className:"form-group checkbox-section",children:[(0,Gt.jsxs)("div",{className:"checkbox-group",children:[(0,Gt.jsxs)("div",{className:"checkbox-item",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("input",{type:"checkbox",checked:be.can_play_with_other_bots||!1,onChange:e=>{const t=e.target.checked;ye(d(d({},be),{},{can_play_with_other_bots:t},t&&{bot_min_delay_range:be.bot_min_delay_range[0]?be.bot_min_delay_range:[30,2e3],bot_max_delay_range:be.bot_max_delay_range[0]?be.bot_max_delay_range:[30,2e3]}))}}),(0,Gt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 Human-\u0431\u043e\u0442\u0430\u043c\u0438"]}),(0,Gt.jsx)("small",{className:"form-help",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0431\u043e\u0442\u0430\u043c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 Human-\u0431\u043e\u0442\u0430\u043c\u0438"}),be.can_play_with_other_bots&&(0,Gt.jsxs)("div",{className:"delay-settings mt-3 ml-6 p-3 bg-surface-sidebar rounded border border-border-primary",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0438\u043d. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.bot_min_delay_range[0],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||20));ye(d(d({},be),{},{bot_min_delay_range:[t,be.bot_min_delay_range[1]]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0}),(0,Gt.jsx)("span",{className:"self-center text-text-secondary",children:"-"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.bot_min_delay_range[1],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||800));ye(d(d({},be),{},{bot_min_delay_range:[be.bot_min_delay_range[0],t]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0430\u043a\u0441. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.bot_max_delay_range[0],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||20));ye(d(d({},be),{},{bot_max_delay_range:[t,be.bot_max_delay_range[1]]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0}),(0,Gt.jsx)("span",{className:"self-center text-text-secondary",children:"-"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.bot_max_delay_range[1],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||800));ye(d(d({},be),{},{bot_max_delay_range:[be.bot_max_delay_range[0],t]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]})]})]}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-2",children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430"})]})]}),(0,Gt.jsxs)("div",{className:"checkbox-item",children:[(0,Gt.jsxs)("label",{children:[(0,Gt.jsx)("input",{type:"checkbox",checked:be.can_play_with_players||!1,onChange:e=>{const t=e.target.checked;ye(d(d({},be),{},{can_play_with_players:t},t&&{player_min_delay_range:be.player_min_delay_range[0]?be.player_min_delay_range:[30,2e3],player_max_delay_range:be.player_max_delay_range[0]?be.player_max_delay_range:[30,2e3]}))}}),(0,Gt.jsx)("svg",{className:"checkbox-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"\u0418\u0433\u0440\u0430\u0442\u044c \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"]}),(0,Gt.jsx)("small",{className:"form-help",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0431\u043e\u0442\u0430\u043c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0436\u0438\u0432\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"}),be.can_play_with_players&&(0,Gt.jsxs)("div",{className:"delay-settings mt-3 ml-6 p-3 bg-surface-sidebar rounded border border-border-primary",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0438\u043d. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.player_min_delay_range[0],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||20));ye(d(d({},be),{},{player_min_delay_range:[t,be.player_min_delay_range[1]]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0}),(0,Gt.jsx)("span",{className:"self-center text-text-secondary",children:"-"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.player_min_delay_range[1],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||2e3));ye(d(d({},be),{},{player_min_delay_range:[be.player_min_delay_range[0],t]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0430\u043a\u0441. \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 (\u0441\u0435\u043a\u0443\u043d\u0434\u044b) *"}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.player_max_delay_range[0],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||20));ye(d(d({},be),{},{player_max_delay_range:[t,be.player_max_delay_range[1]]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0}),(0,Gt.jsx)("span",{className:"self-center text-text-secondary",children:"-"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"12000",value:be.player_max_delay_range[1],onChange:e=>{const t=Math.max(1,Math.min(12e3,parseInt(e.target.value)||2e3));ye(d(d({},be),{},{player_max_delay_range:[be.player_max_delay_range[0],t]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]})]})]}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-2",children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430"})]})]})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:[(0,Gt.jsx)("svg",{className:"inline w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("input",{type:"number",min:"1",max:"3",value:be.max_concurrent_games_range[0],onChange:e=>{const t=Math.max(1,Math.min(3,parseInt(e.target.value)||1));ye(d(d({},be),{},{max_concurrent_games_range:[t,be.max_concurrent_games_range[1]]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0}),(0,Gt.jsx)("span",{className:"self-center text-text-secondary",children:"-"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"3",value:be.max_concurrent_games_range[1],onChange:e=>{const t=Math.max(1,Math.min(3,parseInt(e.target.value)||3));ye(d(d({},be),{},{max_concurrent_games_range:[be.max_concurrent_games_range[0],t]}))},className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",required:!0})]}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-2",children:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430"})]})]})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Gt.jsx)("h4",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("button",{type:"button",onClick:()=>{const e=be.bots.map((e=>{const t=Le();return d(d({},e),{},{name:t.name,gender:t.gender})}));ye((t=>d(d({},t),{},{bots:e})))},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors ml-auto",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043c\u0435\u043d\u0430 \u0431\u043e\u0442\u043e\u0432",children:"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043c\u0435\u043d\u0430"})]}),(0,Gt.jsx)("div",{className:"bot-configuration-container",children:be.bots.map(((e,t)=>(0,Gt.jsxs)("div",{className:"bot-config-item",children:[(0,Gt.jsx)("div",{className:"bot-config-header",children:(0,Gt.jsxs)("span",{className:"bot-number",children:["#",t+1]})}),(0,Gt.jsxs)("div",{className:"bot-config-fields",children:[(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsx)("label",{children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("input",{type:"text",value:e.name,onChange:t=>Ae(e.id,"name",t.target.value),placeholder:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"})]}),(0,Gt.jsxs)("div",{className:"form-group",children:[(0,Gt.jsx)("label",{children:"\u041f\u043e\u043b"}),(0,Gt.jsxs)("select",{value:e.gender,onChange:t=>Ae(e.id,"gender",t.target.value),children:[(0,Gt.jsx)("option",{value:"male",children:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430"}),(0,Gt.jsx)("option",{value:"female",children:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430"})]})]})]})]},e.id)))})]}),(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsxs)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,Gt.jsx)("h4",{children:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"})]}),(0,Gt.jsx)("div",{className:"bulk-preview",children:(0,Gt.jsxs)("div",{className:"preview-card",children:[(0,Gt.jsxs)("div",{className:"preview-header",children:[(0,Gt.jsx)("svg",{className:"preview-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Gt.jsxs)("span",{children:["\u0411\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043e ",be.count," \u0431\u043e\u0442\u043e\u0432"]})]}),(0,Gt.jsxs)("div",{className:"preview-details",children:[(0,Gt.jsxs)("p",{children:[(0,Gt.jsx)("strong",{children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440:"})," ",null===(t=pe.find((e=>e.value===be.character)))||void 0===t?void 0:t.label]}),(0,Gt.jsxs)("p",{children:[(0,Gt.jsx)("strong",{children:"\u041c\u0438\u043d. \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",be.min_bet_range[0]," - ",be.min_bet_range[1]," \u0433\u0435\u043c\u043e\u0432"]}),(0,Gt.jsxs)("p",{children:[(0,Gt.jsx)("strong",{children:"\u041c\u0430\u043a\u0441. \u0441\u0442\u0430\u0432\u043a\u0438:"})," ",be.max_bet_range[0]," - ",be.max_bet_range[1]," \u0433\u0435\u043c\u043e\u0432"]}),(0,Gt.jsxs)("p",{children:[(0,Gt.jsx)("strong",{children:"\u041b\u0438\u043c\u0438\u0442\u044b:"})," ",be.bet_limit_range[0]," - ",be.bet_limit_range[1]," \u0441\u0442\u0430\u0432\u043e\u043a"]})]})]})})]}),(0,Gt.jsxs)("div",{className:"modal-actions",children:[(0,Gt.jsx)("button",{type:"submit",className:"styled-btn btn-primary",disabled:le,children:le?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("svg",{className:"animate-spin w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Gt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435..."]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c ",be.count," \u0431\u043e\u0442\u043e\u0432"]})}),(0,Gt.jsxs)("button",{type:"button",className:"styled-btn btn-secondary",onClick:()=>Ne(!1),disabled:le,children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"\u041e\u0442\u043c\u0435\u043d\u0430"]})]})]})]})}),J&&(0,Gt.jsx)("div",{className:"modal-overlay",children:(0,Gt.jsxs)("div",{className:"modal-content large-modal styled-modal",children:[(0,Gt.jsxs)("div",{className:"modal-header",children:[(0,Gt.jsxs)("div",{className:"modal-title",children:[(0,Gt.jsx)("svg",{className:"modal-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,Gt.jsx)("h3",{children:"\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043c\u0435\u043d"})]}),(0,Gt.jsx)("button",{type:"button",className:"modal-close",onClick:()=>{Z(!1),X("")},children:(0,Gt.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsx)("div",{className:"modal-body",children:(0,Gt.jsxs)("div",{className:"form-section",children:[(0,Gt.jsxs)("div",{className:"section-header",children:[(0,Gt.jsx)("svg",{className:"section-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsx)("h4",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u043c\u0435\u043d"})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-3 rounded-lg",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"font-bold",children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),(0,Gt.jsx)("p",{className:"text-sm",children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0437\u0430\u043c\u0435\u043d\u0438\u0442 \u0432\u0435\u0441\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u043d. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0432\u0441\u0435 \u0438\u043c\u0435\u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b."})]})]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani font-bold mb-2",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u043d (\u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0443):"}),(0,Gt.jsx)("textarea",{value:K,onChange:e=>X(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u0435\u043d\u0430 \u0431\u043e\u0442\u043e\u0432, \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0443...",className:"w-full h-96 px-4 py-3 bg-surface-card border border-border-primary rounded-lg text-white font-roboto resize-none focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent",disabled:G}),(0,Gt.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Gt.jsxs)("p",{className:"text-text-secondary text-sm",children:["\u0421\u0442\u0440\u043e\u043a: ",K.split("\n").filter((e=>e.trim())).length]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("button",{type:"button",onClick:()=>X(""),disabled:G,className:"px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700 disabled:opacity-50",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),(0,Gt.jsx)("button",{type:"button",onClick:()=>{const e=K.split("\n"),t=[...new Set(e.map((e=>e.trim())).filter((e=>e)))];X(t.join("\n"))},disabled:G,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 disabled:opacity-50",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b"})]})]})]})]})]})}),(0,Gt.jsxs)("div",{className:"modal-actions",children:[(0,Gt.jsxs)("button",{type:"button",onClick:async()=>{if(!K.trim())return void l("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u0435\u043d\u0430 \u0431\u043e\u0442\u043e\u0432","error");if(await c({title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u043d",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u043d? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",type:"warning"})){$(!0);try{const e=K.split("\n").map((e=>e.trim())).filter((e=>e));await xe("/admin/human-bots/names","PUT",{names:e}),l("\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d","success"),await Te(),Z(!1),X("")}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d:",o),l("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f: ".concat(o.message),"error")}finally{$(!1)}}},disabled:G||!K.trim(),className:"styled-btn btn-primary",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),G?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"]}),(0,Gt.jsxs)("button",{type:"button",className:"styled-btn btn-secondary",onClick:()=>{Z(!1),X("")},disabled:G,children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"\u041e\u0442\u043c\u0435\u043d\u0430"]})]})]})}),(0,Gt.jsx)(Qd,d({},u)),(0,Gt.jsx)(Kd,d({},m))]});var ze},du=()=>{const[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(null),n=(0,r.useCallback)((async function(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{t(!0),s(null);const o=d(d({method:e,url:"".concat(eu).concat(a)},Zd()),n);r&&("get"===e.toLowerCase()?o.params=r:o.data=r);return(await Pt(o)).data}catch(l){var o,i;const e=(null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.detail)||l.message||"\u041e\u0448\u0438\u0431\u043a\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u0430";throw s(e),l}finally{t(!1)}}),[]),o=(0,r.useCallback)((async function(e){return n("GET",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[n]),i=(0,r.useCallback)((async function(e){return n("POST",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[n]),l=(0,r.useCallback)((async function(e){return n("PUT",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[n]),c=(0,r.useCallback)((async function(e){return n("DELETE",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[n]),u=(0,r.useCallback)((async function(e){return n("PATCH",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}),[n]),h={getList:(0,r.useCallback)((async function(){return o("/admin/bots/regular/list",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[o]),getBot:(0,r.useCallback)((async e=>o("/admin/bots/".concat(e))),[o]),create:(0,r.useCallback)((async e=>i("/admin/bots/regular/create",e)),[i]),update:(0,r.useCallback)((async(e,t)=>l("/admin/bots/regular/".concat(e),t)),[l]),delete:(0,r.useCallback)((async(e,t)=>c("/admin/bots/regular/".concat(e),{reason:t})),[c]),toggleStatus:(0,r.useCallback)((async e=>i("/admin/bots/regular/".concat(e,"/toggle"))),[i]),getActiveBets:(0,r.useCallback)((async e=>o("/admin/bots/".concat(e,"/active-bets"))),[o]),getCycleHistory:(0,r.useCallback)((async e=>o("/admin/bots/".concat(e,"/cycle-history"))),[o]),updateLimit:(0,r.useCallback)((async(e,t)=>l("/admin/bots/".concat(e,"/limit"),{limit:t})),[l]),getStats:(0,r.useCallback)((async()=>o("/admin/bots/stats")),[o]),getActiveBetsStats:(0,r.useCallback)((async()=>o("/admin/bots/active-bets-stats")),[o]),toggleAll:(0,r.useCallback)((async e=>i("/admin/bots/toggle-all",{enabled:e})),[i]),startRegular:(0,r.useCallback)((async()=>i("/admin/bots/start-regular")),[i]),getSettings:(0,r.useCallback)((async()=>o("/admin/bots/settings")),[o]),updateSettings:(0,r.useCallback)((async e=>i("/admin/bots/settings",e)),[i])},m={generate:(0,r.useCallback)((async function(e){return i("/admin/bots/reports/generate",d({type:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}),[i]),export:(0,r.useCallback)((async(e,t)=>i("/admin/bots/reports/export",{reportId:e,format:t})),[i]),getList:(0,r.useCallback)((async function(){return o("/admin/bots/reports",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[o])},x={getData:(0,r.useCallback)((async function(){return o("/admin/bots/analytics",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}),[o]),getQueueStats:(0,r.useCallback)((async()=>o("/admin/bot-queue-stats")),[o])},p={getErrorMessage:(0,r.useCallback)((e=>{var t,a,s,r;return null!==e&&void 0!==e&&null!==(t=e.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.detail?e.response.data.detail:null!==e&&void 0!==e&&null!==(s=e.response)&&void 0!==s&&null!==(r=s.data)&&void 0!==r&&r.message?e.response.data.message:null!==e&&void 0!==e&&e.message?e.message:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}),[]),isNetworkError:(0,r.useCallback)((e=>{var t;return"NETWORK_ERROR"===(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.includes("Network Error"))}),[]),isAuthError:(0,r.useCallback)((e=>{var t;return 401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}),[]),isValidationError:(0,r.useCallback)((e=>{var t;return 422===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}),[])};return{loading:e,error:a,makeRequest:n,get:o,post:i,put:l,delete:c,patch:u,botsApi:h,reportsApi:m,analyticsApi:x,errorUtils:p,clearError:(0,r.useCallback)((()=>s(null)),[])}},uu=e=>{let{user:t}=e;const{analyticsApi:a}=du(),[s,n]=(0,r.useState)(!0),[o,i]=(0,r.useState)({totalActiveRegularBets:0,totalQueuedBets:0,totalRegularBots:0,totalHumanBots:0});(0,r.useEffect)((()=>{l()}),[]);const l=async()=>{try{const e=await a.getQueueStats();e.success&&i(e.stats)}catch(e){console.error("Error fetching queue stats:",e)}finally{n(!1)}};return s?(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-8 text-center",children:[(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-primary mx-auto mb-4"}),(0,Gt.jsx)("p",{className:"font-rajdhani text-text-secondary",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u043e\u0442\u043e\u0432..."})]})}):(0,Gt.jsx)("div",{className:"space-y-8",children:(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udcca \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Gt.jsxs)("div",{className:"bg-blue-900 bg-opacity-20 border border-blue-500 border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:o.totalActiveRegularBets||0}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("div",{className:"text-xs text-blue-300 mt-1",children:"\u0438\u0437 50 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c"})]}),(0,Gt.jsxs)("div",{className:"bg-green-900 bg-opacity-20 border border-green-500 border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:o.totalQueuedBets||0}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u0421\u0442\u0430\u0432\u043a\u0438 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"}),(0,Gt.jsx)("div",{className:"text-xs text-green-300 mt-1",children:"\u043e\u0436\u0438\u0434\u0430\u044e\u0442 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"})]}),(0,Gt.jsxs)("div",{className:"bg-purple-900 bg-opacity-20 border border-purple-500 border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:o.totalRegularBots||0}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b"}),(0,Gt.jsx)("div",{className:"text-xs text-purple-300 mt-1",children:"\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"})]}),(0,Gt.jsxs)("div",{className:"bg-orange-900 bg-opacity-20 border border-orange-500 border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:o.totalHumanBots||0}),(0,Gt.jsx)("div",{className:"text-sm text-text-secondary",children:"Human \u0431\u043e\u0442\u044b"}),(0,Gt.jsx)("div",{className:"text-xs text-orange-300 mt-1",children:"\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445"})]})]})]})]})})},hu=()=>{const[e,t]=(0,r.useState)("human"),[a,s]=(0,r.useState)("24h"),[n,o]=(0,r.useState)(!0),[i,l]=(0,r.useState)({}),[c,d]=(0,r.useState)({}),[u,h]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),{showErrorRU:p,showSuccessRU:f}=Qt(),{get:g}=du(),b=async()=>{try{o(!0);const e=(await g("/admin/games",{page:1,limit:1e3,human_bot_only:!0})).games||[],t=v(e,u,"human");l(t)}catch(e){console.error("Error fetching human bots analytics:",e),p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 Human-\u0431\u043e\u0442\u043e\u0432")}finally{o(!1)}},y=async()=>{try{o(!0);if(!localStorage.getItem("token"))return p("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0435"),void(window.location.href="/login");const e=(await g("/admin/games",{page:1,limit:1e3,regular_bot_only:!0})).games||[],t=v(e,m,"regular");d(t)}catch(a){var e,t;console.error("Error fetching regular bots analytics:",a),401===(null===(e=a.response)||void 0===e?void 0:e.status)?(p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438. \u041f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0445\u043e\u0434\u0430..."),localStorage.removeItem("token"),setTimeout((()=>{window.location.href="/login"}),2e3)):403===(null===(t=a.response)||void 0===t?void 0:t.status)?p("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0435 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"):p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432")}finally{o(!1)}},v=(e,t,s)=>{const r=new Date;let n;switch(a){case"24h":default:n=new Date(r.getTime()-864e5);break;case"7d":n=new Date(r.getTime()-6048e5);break;case"30d":n=new Date(r.getTime()-2592e6)}const o=e.filter((e=>new Date(e.created_at)>=n)),i=o.length,l=o.filter((e=>"completed"===e.status)),c=o.filter((e=>"active"===e.status)),d=t.filter((e=>e.is_active||e.active)),u=t.filter((e=>!e.is_active&&!e.active)),h=t.map((e=>{const t=o.filter((t=>t.creator_id===e.id)),a=t.filter((e=>"completed"===e.status)),s=a.filter((t=>t.winner_id===e.id)),r=t.reduce(((e,t)=>e+(t.bet_amount||0)),0),n=t.length>0?r/t.length:0,i=a.length>0?s.length/a.length*100:0;let l=0;return a.forEach((t=>{t.winner_id===e.id?l+=t.bet_amount||0:l-=t.bet_amount||0})),{id:e.id,name:e.name,character:e.character,totalGames:t.length,wins:s.length,losses:a.length-s.length,winRate:i.toFixed(1),avgBetSize:n.toFixed(0),netProfit:l.toFixed(0),isActive:e.is_active||e.active}})),m=h.sort(((e,t)=>parseFloat(t.winRate)-parseFloat(e.winRate))).slice(0,5),x=j(o,n,a);return{overview:{totalBots:t.length,activeBots:d.length,inactiveBots:u.length,totalGames:i,completedGames:l.length,activeGames:c.length,avgBetSize:l.length>0?(l.reduce(((e,t)=>e+(t.bet_amount||0)),0)/l.length).toFixed(0):0,totalVolume:l.reduce(((e,t)=>e+(t.bet_amount||0)),0).toFixed(0)},botStats:h,topBots:m,chartData:x}},j=(e,t,a)=>{new Date;const s="24h"===a?24:"7d"===a?7:30,r="24h"===a?36e5:864e5,n=[],o=[],i=[],l=[];for(let c=0;c<s;c++){const s=new Date(t.getTime()+c*r),d=new Date(t.getTime()+(c+1)*r);"24h"===a?n.push(s.getHours().toString().padStart(2,"0")+":00"):"7d"===a?n.push(s.toLocaleDateString("ru-RU",{weekday:"short",day:"numeric"})):n.push(s.getDate().toString());const u=e.filter((e=>{const t=new Date(e.created_at);return t>=s&&t<d})),h=u.filter((e=>"completed"===e.status));if(o.push(u.length),h.length>0){const e=h.filter((e=>e.winner_id)).length;i.push((e/h.length*100).toFixed(1));const t=h.reduce(((e,t)=>e+(t.bet_amount||0)),0);l.push((t/h.length).toFixed(0))}else i.push(0),l.push(0)}return{labels:n,gameVolume:o,winRate:i,avgBetSize:l}};(0,r.useEffect)((()=>{(async()=>{try{const e=await g("/admin/human-bots");h(e.bots||[])}catch(e){console.error("Error fetching human bots:",e)}})(),(async()=>{try{if(!localStorage.getItem("token"))return void console.warn("No authorization token found");const e=await g("/admin/bots");x(e.bots||[])}catch(a){var e,t;console.error("Error fetching regular bots:",a),401===(null===(e=a.response)||void 0===e?void 0:e.status)?(console.warn("Unauthorized access to regular bots list"),localStorage.removeItem("token")):403===(null===(t=a.response)||void 0===t?void 0:t.status)&&console.warn("Insufficient permissions for regular bots list")}})()}),[]),(0,r.useEffect)((()=>{"human"===e?b():"regular"===e&&y()}),[e,a,u,m]);const w="human"===e?i:c;return n?(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-8 text-center",children:(0,Gt.jsx)(ga,{size:48,ariaLabel:"Loading analytics"})})}):(0,Gt.jsx)("div",{className:"space-y-8",children:(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"\ud83d\udcca \u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:(0,Gt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>t("human"),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-all duration-200 ".concat("human"===e?"bg-accent-primary text-white shadow-lg":"bg-surface-sidebar text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83d\udc64 Human-\u0431\u043e\u0442\u044b"}),(0,Gt.jsx)("button",{onClick:()=>t("regular"),className:"px-4 py-2 rounded-lg font-rajdhani font-bold transition-all duration-200 ".concat("regular"===e?"bg-accent-primary text-white shadow-lg":"bg-surface-sidebar text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83e\udd16 \u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0431\u043e\u0442\u044b"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"}),(0,Gt.jsxs)("select",{value:a,onChange:e=>s(e.target.value),className:"px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"24h",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 24 \u0447\u0430\u0441\u0430"}),(0,Gt.jsx)("option",{value:"7d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439"}),(0,Gt.jsx)("option",{value:"30d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 30 \u0434\u043d\u0435\u0439"})]})]}),(0,Gt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Gt.jsx)("button",{onClick:()=>{"human"===e?b():y()},className:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-blue-600 transition-colors font-rajdhani font-bold",children:"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})})]})]})}),w.overview&&(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Gt.jsxs)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:["\ud83d\udcc8 \u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 ","human"===e?"Human-\u0431\u043e\u0442\u043e\u0432":"\u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-white",children:w.overview.totalBots}),(0,Gt.jsxs)("div",{className:"text-xs text-green-400 mt-1",children:["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445: ",w.overview.activeBots," | \u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445: ",w.overview.inactiveBots]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:w.overview.totalGames}),(0,Gt.jsxs)("div",{className:"text-xs text-blue-300 mt-1",children:["\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e: ",w.overview.completedGames," | \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445: ",w.overview.activeGames]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:w.overview.avgBetSize}),(0,Gt.jsx)("div",{className:"text-xs text-yellow-300 mt-1",children:"\u0433\u0435\u043c\u043e\u0432"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0431\u0449\u0438\u0439 \u043e\u0431\u044a\u0435\u043c"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-purple-400",children:w.overview.totalVolume}),(0,Gt.jsx)("div",{className:"text-xs text-purple-300 mt-1",children:"\u0433\u0435\u043c\u043e\u0432"})]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfae \u041e\u0431\u044a\u0435\u043c \u0438\u0433\u0440"}),(0,Gt.jsx)(Rd,{type:"line",data:(()=>{const t="human"===e?i:c;return t.chartData?{labels:t.chartData.labels,datasets:[{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440",data:t.chartData.gameVolume,borderColor:"rgba(64, 224, 208, 1)",backgroundColor:"rgba(64, 224, 208, 0.2)",borderWidth:2,fill:!0,tension:.4}]}:{labels:[],datasets:[]}})(),title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfc6 Win Rate"}),(0,Gt.jsx)(Rd,{type:"line",data:(()=>{const t="human"===e?i:c;return t.chartData?{labels:t.chartData.labels,datasets:[{label:"Win Rate (%)",data:t.chartData.winRate,borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.2)",borderWidth:2,fill:!0,tension:.4}]}:{labels:[],datasets:[]}})(),title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e\u0431\u0435\u0434 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udcb0 \u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438"}),(0,Gt.jsx)(Rd,{type:"line",data:(()=>{const t="human"===e?i:c;return t.chartData?{labels:t.chartData.labels,datasets:[{label:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438 (\u0433\u0435\u043c\u044b)",data:t.chartData.avgBetSize,borderColor:"rgba(251, 191, 36, 1)",backgroundColor:"rgba(251, 191, 36, 0.2)",borderWidth:2,fill:!0,tension:.4}]}:{labels:[],datasets:[]}})(),title:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"})]})]}),w.topBots&&w.topBots.length>0&&(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83c\udfc5 \u0422\u043e\u043f-5 \u0441\u0430\u043c\u044b\u0445 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432"}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:w.topBots.map(((e,t)=>(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-2xl mb-2",children:0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":2===t?"\ud83e\udd49":"\ud83c\udfc6"}),(0,Gt.jsx)("div",{className:"font-bold text-white text-sm truncate",children:e.name}),(0,Gt.jsxs)("div",{className:"text-green-400 font-bold text-lg",children:[e.winRate,"%"]}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-xs",children:[e.totalGames," \u0438\u0433\u0440"]})]})},e.id)))})]}),w.botStats&&(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\ud83d\udccb \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0431\u043e\u0442\u0430\u043c"}),(0,Gt.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full text-sm text-left text-text-secondary",children:[(0,Gt.jsx)("thead",{className:"text-xs text-text-secondary uppercase bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u2116"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0418\u043c\u044f \u0431\u043e\u0442\u0430"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0418\u0433\u0440"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u041f\u043e\u0431\u0435\u0434"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"Win Rate"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0421\u0440. \u0441\u0442\u0430\u0432\u043a\u0430"}),(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),"human"===e&&(0,Gt.jsx)("th",{scope:"col",className:"px-4 py-3",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440"})]})}),(0,Gt.jsx)("tbody",{children:w.botStats.map(((t,a)=>(0,Gt.jsxs)("tr",{className:"bg-surface-card border-b border-border-primary hover:bg-surface-sidebar",children:[(0,Gt.jsx)("td",{className:"px-4 py-4 font-medium text-text-secondary",children:a+1}),(0,Gt.jsx)("td",{className:"px-4 py-4 font-medium text-white whitespace-nowrap",children:t.name}),(0,Gt.jsx)("td",{className:"px-4 py-4",children:(0,Gt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(t.isActive?"bg-green-600 text-white":"bg-red-600 text-white"),children:t.isActive?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})}),(0,Gt.jsx)("td",{className:"px-4 py-4 text-blue-400",children:t.totalGames}),(0,Gt.jsx)("td",{className:"px-4 py-4 text-green-400",children:t.wins}),(0,Gt.jsx)("td",{className:"px-4 py-4 text-red-400",children:t.losses}),(0,Gt.jsxs)("td",{className:"px-4 py-4 text-yellow-400 font-bold",children:[t.winRate,"%"]}),(0,Gt.jsx)("td",{className:"px-4 py-4 text-purple-400",children:t.avgBetSize}),(0,Gt.jsx)("td",{className:"px-4 py-4",children:(0,Gt.jsxs)("span",{className:"font-bold ".concat(parseFloat(t.netProfit)>=0?"text-green-400":"text-red-400"),children:[parseFloat(t.netProfit)>=0?"+":"",t.netProfit]})}),"human"===e&&(0,Gt.jsx)("td",{className:"px-4 py-4 text-text-secondary",children:t.character||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})]},t.id)))})]})}),(0,Gt.jsx)("div",{className:"lg:hidden space-y-4",children:w.botStats.map(((t,a)=>(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-border-primary",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsxs)("span",{className:"text-text-secondary text-sm",children:["#",a+1]}),(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white text-sm",children:t.name})]}),(0,Gt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(t.isActive?"bg-green-600 text-white":"bg-red-600 text-white"),children:t.isActive?"\u0410\u043a\u0442\u0438\u0432\u0435\u043d":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d"})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0418\u0433\u0440"}),(0,Gt.jsx)("div",{className:"text-blue-400 font-bold",children:t.totalGames})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"Win Rate"}),(0,Gt.jsxs)("div",{className:"text-yellow-400 font-bold",children:[t.winRate,"%"]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0421\u0440. \u0441\u0442\u0430\u0432\u043a\u0430"}),(0,Gt.jsx)("div",{className:"text-purple-400 font-bold",children:t.avgBetSize})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c"}),(0,Gt.jsxs)("div",{className:"font-bold ".concat(parseFloat(t.netProfit)>=0?"text-green-400":"text-red-400"),children:[parseFloat(t.netProfit)>=0?"+":"",t.netProfit]})]})]}),"human"===e&&t.character&&(0,Gt.jsxs)("div",{className:"mt-3 pt-3 border-t border-border-primary",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-xs mb-1",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:t.character})]})]},t.id)))})]})]})})},mu="".concat("https://income-bot-3.preview.emergentagent.com","/api"),xu=()=>{const[e,t]=(0,r.useState)({live_players:{my_bets:10,available_bets:10,ongoing_battles:10},bot_players:{available_bots:10,ongoing_bot_battles:10}}),[a,s]=(0,r.useState)(!0),[n,o]=(0,r.useState)(!1),{showSuccessRU:i,showErrorRU:l}=Qt();(0,r.useEffect)((()=>{c()}),[]);const c=async()=>{try{const e=localStorage.getItem("token"),a=await Pt.get("".concat(mu,"/admin/interface-settings"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data)}catch(e){console.error("Error fetching interface settings:",e)}finally{s(!1)}},u=(e,a,s)=>{const r=parseInt(s);let n,o;a.startsWith("max_")?(n=10,o=1e6):(n=5,o=1e6),r<n||r>o||t((t=>d(d({},t),{},{[e]:d(d({},t[e]),{},{[a]:r})})))};return a?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gt.jsx)("div",{className:"text-white text-lg font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a..."})}):(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h2",{className:"text-2xl font-russo text-accent-primary mb-2",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"}),(0,Gt.jsx)("p",{className:"text-text-secondary font-roboto",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsxs)("h3",{className:"text-xl font-rajdhani font-bold text-white mb-4 flex items-center",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),"Live Players"]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"My Bets"}),(0,Gt.jsx)("input",{type:"number",min:"5",max:"1000",value:e.live_players.my_bets,onChange:e=>u("live_players","my_bets",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Available Bets"}),(0,Gt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.live_players.available_bets,onChange:e=>u("live_players","available_bets",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Ongoing Battles"}),(0,Gt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.live_players.ongoing_battles,onChange:e=>u("live_players","ongoing_battles",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsxs)("h3",{className:"text-xl font-rajdhani font-bold text-white mb-4 flex items-center",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})}),"Bot Players"]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Available Bots"}),(0,Gt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.bot_players.available_bots,onChange:e=>u("bot_players","available_bots",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-rajdhani font-medium text-text-secondary mb-2",children:"Ongoing Bot Battles"}),(0,Gt.jsx)("input",{type:"number",min:"5",max:"1000000",value:e.bot_players.ongoing_bot_battles,onChange:e=>u("bot_players","ongoing_bot_battles",e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white focus:outline-none focus:border-accent-primary"}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 5 \u0434\u043e 1 000 000 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"})]})]})]}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{className:"text-text-secondary font-roboto",children:[(0,Gt.jsx)("p",{className:"text-sm",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u044b \u043a\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"}),(0,Gt.jsx)("p",{className:"text-xs mt-1",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u0441\u0438\u043b\u0443 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>{t({live_players:{my_bets:10,available_bets:10,ongoing_battles:10},bot_players:{available_bots:10,ongoing_bot_battles:10}})},className:"px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-text-secondary hover:text-white hover:border-accent-primary transition-colors font-rajdhani font-medium",children:"\u0421\u0431\u0440\u043e\u0441"}),(0,Gt.jsx)("button",{onClick:async()=>{o(!0);try{const t=localStorage.getItem("token");await Pt.put("".concat(mu,"/admin/interface-settings"),e,{headers:{Authorization:"Bearer ".concat(t)}}),i("Interface settings saved successfully")}catch(t){console.error("Error saving interface settings:",t),l("Failed to save interface settings")}finally{o(!1)}},disabled:n,className:"px-6 py-2 bg-accent-primary hover:bg-accent-secondary text-white rounded-lg font-rajdhani font-medium transition-colors disabled:opacity-50",children:n?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})]})},pu="".concat("https://income-bot-3.preview.emergentagent.com","/api"),fu=e=>{let{user:t}=e;const[a,s]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[h,m]=(0,r.useState)(null),[x,p]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)("ALL"),[v,j]=(0,r.useState)(""),[w,N]=(0,r.useState)({name:"",category:"GAMING",event_trigger:"",game_type:"ALL",is_enabled:!0,priority:5,volume:.5,delay:0,can_repeat:!0}),{showSuccessRU:_,showErrorRU:k}=Qt(),{confirm:S,confirmationModal:C}=$d();(0,r.useEffect)((()=>{L(),E(),A()}),[]);const M=()=>{const e=localStorage.getItem("token");return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},L=async()=>{try{const e=await Pt.get("".concat(pu,"/admin/sounds"),{headers:M()});s(e.data)}catch(e){console.error("Error loading sounds:",e),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0432\u0443\u043a\u043e\u0432")}},E=async()=>{try{const e=await Pt.get("".concat(pu,"/admin/sounds/categories"),{headers:M()});o(e.data)}catch(e){console.error("Error loading categories:",e)}},A=async()=>{try{const e=await Pt.get("".concat(pu,"/admin/sounds/events"),{headers:M()});l(e.data)}catch(e){console.error("Error loading events:",e)}finally{u(!1)}},T=()=>{N({name:"",category:"GAMING",event_trigger:"",game_type:"ALL",is_enabled:!0,priority:5,volume:.5,delay:0,can_repeat:!0})},P=a.filter((e=>{const t="ALL"===b||e.category===b,a=e.name.toLowerCase().includes(v.toLowerCase())||e.event_trigger.toLowerCase().includes(v.toLowerCase());return t&&a})),z=e=>{switch(e){case"GAMING":return"\ud83c\udfae";case"UI":return"\ud83d\uddb1\ufe0f";case"SYSTEM":return"\u2699\ufe0f";case"BACKGROUND":return"\ud83c\udfb5";default:return"\ud83d\udd0a"}};return c?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading sounds"})}):(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h1",{className:"font-russo text-3xl text-white mb-2",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0432\u0443\u043a\u0430\u043c\u0438"}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0437\u0432\u0443\u043a\u043e\u0432\u044b\u0445 \u044d\u0444\u0444\u0435\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0438\u0433\u0440\u044b"})]}),(0,Gt.jsx)("button",{onClick:()=>m("create"),className:"px-6 py-3 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:bg-green-600 transition-colors",children:"+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0432\u0443\u043a"})]}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,Gt.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"ALL",children:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),n.map((e=>(0,Gt.jsxs)("option",{value:e,children:[z(e)," ",e]},e)))]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041f\u043e\u0438\u0441\u043a"}),(0,Gt.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u0438\u043b\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044e...",className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]})]})}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden",children:[(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full",children:[(0,Gt.jsx)("thead",{className:"bg-surface-sidebar",children:(0,Gt.jsxs)("tr",{children:[(0,Gt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Gt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,Gt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"}),(0,Gt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0422\u0438\u043f \u0438\u0433\u0440\u044b"}),(0,Gt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"}),(0,Gt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsx)("th",{className:"px-6 py-4 text-left font-rajdhani font-bold text-accent-primary",children:"\u0424\u0430\u0439\u043b"}),(0,Gt.jsx)("th",{className:"px-6 py-4 text-center font-rajdhani font-bold text-accent-primary",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Gt.jsx)("tbody",{children:P.map(((e,t)=>{var r;const n=(o=e.priority)>=9?{text:"\u041a\u0420\u0418\u0422\u0418\u0427\u0415\u0421\u041a\u0418\u0419",class:"bg-red-500"}:o>=6?{text:"\u0412\u042b\u0421\u041e\u041a\u0418\u0419",class:"bg-orange-500"}:o>=3?{text:"\u0421\u0420\u0415\u0414\u041d\u0418\u0419",class:"bg-yellow-500"}:{text:"\u041d\u0418\u0417\u041a\u0418\u0419",class:"bg-gray-500"};var o;return(0,Gt.jsxs)("tr",{className:t%2===0?"bg-surface-card":"bg-surface-sidebar bg-opacity-30",children:[(0,Gt.jsx)("td",{className:"px-6 py-4",children:(0,Gt.jsx)("div",{className:"font-rajdhani font-medium text-white",children:e.name})}),(0,Gt.jsx)("td",{className:"px-6 py-4",children:(0,Gt.jsxs)("span",{className:"flex items-center space-x-2 text-text-secondary",children:[(0,Gt.jsx)("span",{children:z(e.category)}),(0,Gt.jsx)("span",{children:e.category})]})}),(0,Gt.jsx)("td",{className:"px-6 py-4 font-roboto text-text-secondary",children:e.event_trigger}),(0,Gt.jsx)("td",{className:"px-6 py-4 font-roboto text-text-secondary",children:e.game_type}),(0,Gt.jsx)("td",{className:"px-6 py-4",children:(0,Gt.jsxs)("span",{className:"px-2 py-1 rounded text-white text-xs font-bold ".concat(n.class),children:[n.text," (",e.priority,")"]})}),(0,Gt.jsx)("td",{className:"px-6 py-4",children:(0,Gt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold ".concat(e.is_enabled?"bg-green-500 text-white":"bg-red-500 text-white"),children:e.is_enabled?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d":"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d"})}),(0,Gt.jsx)("td",{className:"px-6 py-4",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[e.has_audio_file?(0,Gt.jsxs)("span",{className:"text-green-400 text-sm",children:["\ud83d\udcc4 ",null===(r=e.file_format)||void 0===r?void 0:r.toUpperCase()]}):(0,Gt.jsx)("span",{className:"text-gray-500 text-sm",children:"\ud83d\udd07 \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u0439"}),(0,Gt.jsxs)("label",{className:"cursor-pointer",children:[(0,Gt.jsx)("input",{type:"file",accept:".mp3,.wav,.ogg",className:"hidden",onChange:t=>(async(e,t)=>{const r=t.files[0];if(!r)return;if(["audio/mp3","audio/mpeg","audio/wav","audio/ogg"].includes(r.type))if(r.size>5242880)k("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 5MB");else{g(!0);try{const t=await new Promise((e=>{const t=new FileReader;t.onload=()=>e(t.result.split(",")[1]),t.readAsDataURL(r)})),n={file_data:t,file_format:r.name.split(".").pop().toLowerCase(),file_size:r.size},o=await Pt.post("".concat(pu,"/admin/sounds/").concat(e,"/upload"),n,{headers:M()});s(a.map((t=>t.id===e?o.data:t))),_("\u0424\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(n){console.error("Error uploading file:",n),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")}finally{g(!1)}}else k("\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e MP3, WAV \u0438 OGG \u0444\u0430\u0439\u043b\u044b")})(e.id,t.target),disabled:f}),(0,Gt.jsx)("span",{className:"text-blue-400 hover:text-blue-300 text-sm",children:f?(0,Gt.jsx)(ga,{size:14,ariaLabel:"Uploading sound"}):"\ud83d\udcc1"})]})]})}),(0,Gt.jsx)("td",{className:"px-6 py-4",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>(e=>{p(e),N({name:e.name,category:e.category,event_trigger:e.event_trigger,game_type:e.game_type,is_enabled:e.is_enabled,priority:e.priority,volume:e.volume,delay:e.delay,can_repeat:e.can_repeat}),m("edit")})(e),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors text-sm",children:"\u270f\ufe0f"}),!e.is_default&&(0,Gt.jsx)("button",{onClick:()=>(async e=>{const t=a.find((t=>t.id===e)),r=t?t.name:"\u0437\u0432\u0443\u043a";if(await S({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0432\u0443\u043a\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0432\u0443\u043a "'.concat(r,'"?'),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{await Pt.delete("".concat(pu,"/admin/sounds/").concat(e),{headers:M()}),s(a.filter((t=>t.id!==e))),_("\u0417\u0432\u0443\u043a \u0443\u0434\u0430\u043b\u0451\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(i){var n,o;console.error("Error deleting sound:",i);const e=(null===(n=i.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0432\u0443\u043a\u0430";k(e)}})(e.id),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors text-sm",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id)}))})]})}),0===P.length&&(0,Gt.jsx)("div",{className:"text-center py-20",children:(0,Gt.jsx)("div",{className:"text-text-secondary text-xl font-rajdhani",children:"\u0417\u0432\u0443\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})})]}),"create"===h||"edit"===h&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:(0,Gt.jsxs)("div",{className:"p-6",children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"create"===h?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0432\u0443\u043a":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0432\u0443\u043a"}),(0,Gt.jsxs)("form",{onSubmit:"create"===h?async e=>{e.preventDefault();try{const e=await Pt.post("".concat(pu,"/admin/sounds"),w,{headers:M()});s([...a,e.data]),m(null),T(),_("\u0417\u0432\u0443\u043a \u0441\u043e\u0437\u0434\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(t){console.error("Error creating sound:",t),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0432\u0443\u043a\u0430")}}:async e=>{e.preventDefault();try{const e=await Pt.put("".concat(pu,"/admin/sounds/").concat(x.id),w,{headers:M()});s(a.map((t=>t.id===x.id?e.data:t))),m(null),p(null),T(),_("\u0417\u0432\u0443\u043a \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(t){console.error("Error updating sound:",t),k("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0432\u0443\u043a\u0430")}},className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0432\u0443\u043a\u0430"}),(0,Gt.jsx)("input",{type:"text",value:w.name,onChange:e=>N(d(d({},w),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",required:!0})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,Gt.jsx)("select",{value:w.category,onChange:e=>N(d(d({},w),{},{category:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:n.map((e=>(0,Gt.jsx)("option",{value:e,children:e},e)))})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"}),(0,Gt.jsxs)("select",{value:w.event_trigger,onChange:e=>N(d(d({},w),{},{event_trigger:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435"}),i.map((e=>(0,Gt.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0422\u0438\u043f \u0438\u0433\u0440\u044b"}),(0,Gt.jsxs)("select",{value:w.game_type,onChange:e=>N(d(d({},w),{},{game_type:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"ALL",children:"\u0412\u0441\u0435 \u0438\u0433\u0440\u044b"}),(0,Gt.jsx)("option",{value:"HUMAN_VS_HUMAN",children:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a vs \u0427\u0435\u043b\u043e\u0432\u0435\u043a"}),(0,Gt.jsx)("option",{value:"HUMAN_VS_BOT",children:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a vs \u0411\u043e\u0442"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 (1-10)"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"10",value:w.priority,onChange:e=>N(d(d({},w),{},{priority:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c (0.0-1.0)"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"1",step:"0.1",value:w.volume,onChange:e=>N(d(d({},w),{},{volume:parseFloat(e.target.value)})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary mb-2",children:"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u043c\u0441)"}),(0,Gt.jsx)("input",{type:"number",min:"0",max:"5000",value:w.delay,onChange:e=>N(d(d({},w),{},{delay:parseInt(e.target.value)})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:border-accent-primary"})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Gt.jsxs)("label",{className:"flex items-center",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:w.is_enabled,onChange:e=>N(d(d({},w),{},{is_enabled:e.target.checked})),className:"mr-2"}),(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d"})]}),(0,Gt.jsxs)("label",{className:"flex items-center",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:w.can_repeat,onChange:e=>N(d(d({},w),{},{can_repeat:e.target.checked})),className:"mr-2"}),(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary",children:"\u041c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c\u0441\u044f"})]})]}),(0,Gt.jsxs)("div",{className:"flex justify-end space-x-4 mt-8",children:[(0,Gt.jsx)("button",{type:"button",onClick:()=>{m(null),p(null),T()},className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{type:"submit",className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-green-600 transition-colors",children:"create"===h?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})})}),(0,Gt.jsx)(Qd,d({},C))]})},gu="".concat("https://income-bot-3.preview.emergentagent.com","/api"),bu=()=>{const{showSuccess:e,showError:t}=Qt(),{confirm:a,confirmationModal:s}=$d(),[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[x,p]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)({name:"",price:1,color:"#FF0000",icon:"",rarity:"Common"});(0,r.useEffect)((()=>{v()}),[]);const v=async()=>{try{l(!0);const e=localStorage.getItem("token"),t=await Pt.get("".concat(gu,"/admin/gems"),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data)}catch(a){var e;console.error("Error fetching gems:",a),403===(null===(e=a.response)||void 0===e?void 0:e.status)?(o([]),console.log("\u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u0430\u043c\u0438")):t("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0433\u0435\u043c\u043e\u0432")}finally{l(!1)}},j=e=>{const a=e.target.files[0];if(!a)return;if(a.size>1048576)return void t("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 1MB");if(!["image/png","image/jpg","image/jpeg","image/svg+xml"].includes(a.type))return void t("\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e PNG, JPG \u0438 SVG \u0444\u0430\u0439\u043b\u044b");const s=new FileReader;s.onload=e=>{y(d(d({},b),{},{icon:e.target.result}))},s.readAsDataURL(a)},w=()=>{y({name:"",price:1,color:"#FF0000",icon:"",rarity:"Common"})},N=()=>{u(!1),m(!1),p(null),w()};return i?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Gt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u0435\u043c\u043e\u0432..."})}):0!==n.length||i?(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438"}),(0,Gt.jsx)("button",{onClick:()=>u(!0),className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors font-rajdhani font-bold",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0435\u043c"})]}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((s=>(0,Gt.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-300 hover:scale-105 group",style:{backgroundColor:"#081730",border:"1px solid ".concat(s.color),boxShadow:"0 0 20px ".concat(s.color,"40")},children:[(0,Gt.jsx)("div",{className:"flex justify-center mb-4",children:(0,Gt.jsxs)("div",{className:"w-24 h-24 flex items-center justify-center relative",children:[(0,Gt.jsx)("div",{className:"absolute inset-0 animate-pulse",style:{background:"radial-gradient(circle, ".concat(s.color,"40, transparent 70%)"),filter:"blur(8px)",transform:"scale(1.2)"}}),(0,Gt.jsx)("img",{src:s.icon,alt:s.name,className:"w-20 h-20 object-contain drop-shadow-lg relative z-10",style:{filter:"drop-shadow(0 0 10px ".concat(s.color,"40)")}})]})}),(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-russo text-xl text-white mb-2",children:s.name}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm mb-3",children:s.rarity}),(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsxs)("span",{className:"font-rajdhani text-2xl font-bold text-green-400",children:["$",s.price]}),(0,Gt.jsx)("span",{className:"font-roboto text-text-secondary text-sm",children:" each"})]}),s.is_default&&(0,Gt.jsx)("div",{className:"mb-4",children:(0,Gt.jsx)("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-full font-roboto",children:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439"})}),(0,Gt.jsxs)("div",{className:"flex space-x-2 justify-center",children:[(0,Gt.jsx)("button",{onClick:()=>(e=>{p(e),y({name:e.name,price:e.price,color:e.color,icon:e.icon,rarity:e.rarity}),m(!0)})(s),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-rajdhani",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),!s.is_default&&(0,Gt.jsx)("button",{onClick:()=>(async s=>{if(s.is_default)return void t("\u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u0433\u0435\u043c\u044b");if(await a({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430",message:'\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0435\u043c "'.concat(s.name,'"?'),confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{const t=localStorage.getItem("token");await Pt.delete("".concat(gu,"/admin/gems/").concat(s.id),{headers:{Authorization:"Bearer ".concat(t)}}),e("\u0413\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"),v()}catch(i){var r,n,o;console.error("Error deleting gem:",i),403===(null===(r=i.response)||void 0===r?void 0:r.status)?t("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c SUPER_ADMIN."):t((null===(n=i.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u0430")}})(s),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-rajdhani",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]},s.id)))}),c&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsx)("h3",{className:"text-xl font-russo text-white mb-6",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0433\u0435\u043c"}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Gt.jsx)("input",{type:"text",value:b.name,onChange:e=>y(d(d({},b),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0435\u043c\u0430"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0435\u043d\u0430 ($)"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"10000",value:b.price,onChange:e=>y(d(d({},b),{},{price:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0432\u0435\u0442 (HEX)"}),(0,Gt.jsx)("input",{type:"text",value:b.color,onChange:e=>y(d(d({},b),{},{color:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",placeholder:"#FF0000"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0420\u0435\u0434\u043a\u043e\u0441\u0442\u044c"}),(0,Gt.jsxs)("select",{value:b.rarity,onChange:e=>y(d(d({},b),{},{rarity:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Gt.jsx)("option",{value:"Common",children:"Common"}),(0,Gt.jsx)("option",{value:"Uncommon",children:"Uncommon"}),(0,Gt.jsx)("option",{value:"Rare",children:"Rare"}),(0,Gt.jsx)("option",{value:"Epic",children:"Epic"}),(0,Gt.jsx)("option",{value:"Legendary",children:"Legendary"}),(0,Gt.jsx)("option",{value:"Mythic",children:"Mythic"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0418\u043a\u043e\u043d\u043a\u0430"}),(0,Gt.jsx)("input",{type:"file",accept:"image/png,image/jpg,image/jpeg,image/svg+xml",onChange:j,className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"}),b.icon&&(0,Gt.jsx)("img",{src:b.icon,alt:"Preview",className:"w-16 h-16 mt-2 object-contain"})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Gt.jsx)("button",{onClick:async()=>{try{g(!0);const t=localStorage.getItem("token");await Pt.post("".concat(gu,"/admin/gems"),b,{headers:{Authorization:"Bearer ".concat(t)}}),e("\u0413\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"),u(!1),w(),v()}catch(n){var a,s,r;if(console.error("Error creating gem:",n),403===(null===(a=n.response)||void 0===a?void 0:a.status))t("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c SUPER_ADMIN.");else t((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0433\u0435\u043c\u0430")}finally{g(!1)}},disabled:f||!b.name||!b.icon,className:"flex-1 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors font-rajdhani font-bold disabled:opacity-50",children:f?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),(0,Gt.jsx)("button",{onClick:N,className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),h&&x&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsx)("h3",{className:"text-xl font-russo text-white mb-6",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0433\u0435\u043c"}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Gt.jsx)("input",{type:"text",value:b.name,onChange:e=>y(d(d({},b),{},{name:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0435\u043d\u0430 ($)"}),(0,Gt.jsx)("input",{type:"number",min:"1",max:"10000",value:b.price,onChange:e=>y(d(d({},b),{},{price:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0426\u0432\u0435\u0442 (HEX)"}),(0,Gt.jsx)("input",{type:"text",value:b.color,onChange:e=>y(d(d({},b),{},{color:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0420\u0435\u0434\u043a\u043e\u0441\u0442\u044c"}),(0,Gt.jsxs)("select",{value:b.rarity,onChange:e=>y(d(d({},b),{},{rarity:e.target.value})),className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Gt.jsx)("option",{value:"Common",children:"Common"}),(0,Gt.jsx)("option",{value:"Uncommon",children:"Uncommon"}),(0,Gt.jsx)("option",{value:"Rare",children:"Rare"}),(0,Gt.jsx)("option",{value:"Epic",children:"Epic"}),(0,Gt.jsx)("option",{value:"Legendary",children:"Legendary"}),(0,Gt.jsx)("option",{value:"Mythic",children:"Mythic"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-white font-rajdhani mb-2",children:"\u0418\u043a\u043e\u043d\u043a\u0430"}),(0,Gt.jsx)("input",{type:"file",accept:"image/png,image/jpg,image/jpeg,image/svg+xml",onChange:j,className:"w-full px-4 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto"}),b.icon&&(0,Gt.jsx)("img",{src:b.icon,alt:"Preview",className:"w-16 h-16 mt-2 object-contain"})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Gt.jsx)("button",{onClick:async()=>{try{g(!0);const t=localStorage.getItem("token"),a=d({},b);a.icon===x.icon&&delete a.icon,await Pt.put("".concat(gu,"/admin/gems/").concat(x.id),a,{headers:{Authorization:"Bearer ".concat(t)}}),e("\u0413\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),m(!1),p(null),w(),v()}catch(n){var a,s,r;if(console.error("Error updating gem:",n),403===(null===(a=n.response)||void 0===a?void 0:a.status))t("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u043e\u0432. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c SUPER_ADMIN.");else t((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u0430")}finally{g(!1)}},disabled:f||!b.name,className:"flex-1 py-2 bg-accent-primary text-white rounded-lg hover:bg-opacity-80 transition-colors font-rajdhani font-bold disabled:opacity-50",children:f?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,Gt.jsx)("button",{onClick:N,className:"flex-1 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-rajdhani font-bold",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),(0,Gt.jsx)(Qd,d({},s))]}):(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsx)("div",{className:"flex justify-between items-center",children:(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438"})}),(0,Gt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"text-white text-xl font-roboto mb-4",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u0435\u043c\u0430\u043c\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm font-roboto",children:"\u0414\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043c\u0430\u043c\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c SUPER_ADMIN"})]})})]})},yu=e=>{let{id:t,type:a,message:s,duration:n=5e3,onClose:o,isRussian:i=!1}=e;(0,r.useEffect)((()=>{if(n>0){const e=setTimeout((()=>{o(t)}),n);return()=>clearTimeout(e)}}),[t,n,o]);return(0,Gt.jsx)("div",{className:"\n      relative bg-surface-card border-2 ".concat((()=>{switch(a){case"success":return"border-success";case"error":return"border-error";case"warning":return"border-warning";default:return"border-accent-primary"}})()," rounded-lg p-4 mb-3 \n      shadow-lg transition-all duration-300 ease-in-out\n      animate-slide-in-right max-w-md\n    "),children:(0,Gt.jsxs)("div",{className:"flex items-start space-x-3",children:[(()=>{switch(a){case"success":return(0,Gt.jsx)("div",{className:"w-6 h-6 bg-success rounded-full flex items-center justify-center flex-shrink-0",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"error":return(0,Gt.jsx)("div",{className:"w-6 h-6 bg-error rounded-full flex items-center justify-center flex-shrink-0",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});case"warning":return(0,Gt.jsx)("div",{className:"w-6 h-6 bg-warning rounded-full flex items-center justify-center flex-shrink-0",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 text-bg-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})});default:return(0,Gt.jsx)("div",{className:"w-6 h-6 bg-info rounded-full flex items-center justify-center flex-shrink-0",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}})(),(0,Gt.jsx)("div",{className:"flex-1 min-w-0",children:(0,Gt.jsx)("p",{className:"text-text-primary text-sm font-medium leading-5 break-words",children:"string"===typeof s?s:JSON.stringify(s)})}),(0,Gt.jsx)("button",{onClick:()=>o(t),className:"ml-2 flex-shrink-0 text-text-muted hover:text-text-primary transition-colors duration-200",children:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},vu=()=>{const{notifications:e,removeNotification:t}=Qt();return 0===e.length?null:(0,Gt.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map((e=>(0,Gt.jsx)(yu,{id:e.id,type:e.type,message:e.message,duration:e.duration,isRussian:e.isRussian,onClose:t},e.id)))})},ju=()=>{const{showSuccess:e,showError:t,showWarning:a,showInfo:s,showSuccessRU:r,showErrorRU:n,showWarningRU:o,showInfoRU:i}=Qt();return(0,Gt.jsx)("div",{className:"p-8 space-y-8",children:(0,Gt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Gt.jsx)("h1",{className:"text-3xl font-russo text-white mb-8",children:"Notification System Demo"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card p-6 rounded-lg border border-border-primary",children:[(0,Gt.jsx)("h2",{className:"text-xl font-russo text-accent-primary mb-4",children:"English (User Interface)"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("button",{onClick:()=>{e("Bet created! $".concat(3..toFixed(2)," (").concat(3..toFixed(1),"%) frozen until game completion."),{duration:7e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"Show Bet Created (Success)"}),(0,Gt.jsx)("button",{onClick:()=>{e("Congratulations! You won the game and earned $25.50!",{duration:6e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"Show Game Won (Success)"}),(0,Gt.jsx)("button",{onClick:()=>{t("Insufficient funds. Please add balance to your account.",{duration:5e3})},className:"w-full px-4 py-2 bg-error rounded-lg text-white font-rajdhani hover:bg-error/80 transition-colors",children:"Show Insufficient Funds (Error)"}),(0,Gt.jsx)("button",{onClick:()=>{a("Game will timeout in 30 seconds. Please make your move!",{duration:4e3})},className:"w-full px-4 py-2 bg-warning rounded-lg text-bg-primary font-rajdhani hover:bg-warning/80 transition-colors",children:"Show Game Timeout (Warning)"}),(0,Gt.jsx)("button",{onClick:()=>{s("System maintenance scheduled for tonight at 2 AM UTC.",{duration:8e3})},className:"w-full px-4 py-2 bg-info rounded-lg text-white font-rajdhani hover:bg-info/80 transition-colors",children:"Show System Info (Info)"})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card p-6 rounded-lg border border-border-primary",children:[(0,Gt.jsx)("h2",{className:"text-xl font-russo text-accent-primary mb-4",children:"Russian (Admin Panel)"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("button",{onClick:()=>{r("\u0421\u0442\u0430\u0432\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430! $".concat(3..toFixed(2)," (").concat(3..toFixed(1),"%) \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043e \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0438\u0433\u0440\u044b."),{duration:7e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 (\u0423\u0441\u043f\u0435\u0445)"}),(0,Gt.jsx)("button",{onClick:()=>{r("\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! \u0412\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438 \u0438\u0433\u0440\u0443 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 $25.50!",{duration:6e3})},className:"w-full px-4 py-2 bg-success rounded-lg text-white font-rajdhani hover:bg-success/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u044b\u0438\u0433\u0440\u044b\u0448 (\u0423\u0441\u043f\u0435\u0445)"}),(0,Gt.jsx)("button",{onClick:()=>{n("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0431\u0430\u043b\u0430\u043d\u0441.",{duration:5e3})},className:"w-full px-4 py-2 bg-error rounded-lg text-white font-rajdhani hover:bg-error/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0435\u0445\u0432\u0430\u0442\u043a\u0443 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 (\u041e\u0448\u0438\u0431\u043a\u0430)"}),(0,Gt.jsx)("button",{onClick:()=>{o("\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 30 \u0441\u0435\u043a\u0443\u043d\u0434. \u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0445\u043e\u0434!",{duration:4e3})},className:"w-full px-4 py-2 bg-warning rounded-lg text-bg-primary font-rajdhani hover:bg-warning/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u0439\u043c\u0430\u0443\u0442 \u0438\u0433\u0440\u044b (\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435)"}),(0,Gt.jsx)("button",{onClick:()=>{i("\u041f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0432 02:00 UTC.",{duration:8e3})},className:"w-full px-4 py-2 bg-info rounded-lg text-white font-rajdhani hover:bg-info/80 transition-colors",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e (\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f)"})]})]})]}),(0,Gt.jsxs)("div",{className:"mt-8 bg-surface-card p-6 rounded-lg border border-border-primary",children:[(0,Gt.jsx)("h3",{className:"text-lg font-russo text-accent-primary mb-4",children:"Usage Examples"}),(0,Gt.jsxs)("div",{className:"space-y-4 text-text-secondary font-roboto",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"text-white font-medium mb-2",children:"In React Components:"}),(0,Gt.jsx)("pre",{className:"bg-surface-sidebar p-3 rounded text-sm overflow-x-auto",children:"import { useNotifications } from './NotificationContext';\n\nconst MyComponent = () => {\n  const { showSuccess, showError, showWarning, showInfo } = useNotifications();\n  \n  const handleSuccess = () => {\n    showSuccess('Operation completed successfully!');\n  };\n  \n  const handleError = () => {\n    showError('Something went wrong!');\n  };\n  \n  // For admin panel (Russian)\n  const handleSuccessRU = () => {\n    showSuccessRU('\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e!');\n  };\n};"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"text-white font-medium mb-2",children:"Features:"}),(0,Gt.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,Gt.jsx)("li",{children:"Auto-dismiss after 5 seconds (configurable)"}),(0,Gt.jsx)("li",{children:"Manual dismiss with X button"}),(0,Gt.jsx)("li",{children:"Slide-in animation from right"}),(0,Gt.jsx)("li",{children:"Different icons for each notification type"}),(0,Gt.jsx)("li",{children:"Green border styling matching the app theme"}),(0,Gt.jsx)("li",{children:"Support for both English and Russian"}),(0,Gt.jsx)("li",{children:"Responsive design"})]})]})]})]})]})})},wu="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Nu=e=>{var t,a;let{user:s}=e;const[n,o]=(0,r.useState)("send"),[i,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)({}),{showSuccessRU:h,showErrorRU:m}=Qt(),[x,p]=(0,r.useState)({type:"admin_notification",title:"",message:"",priority:"info",target_users:null,expires_at:null}),[f,g]=(0,r.useState)("all"),[b,y]=(0,r.useState)(""),[v,j]=(0,r.useState)(""),[w,N]=(0,r.useState)("name"),[_,k]=(0,r.useState)([]),[S,C]=(0,r.useState)([]),[M,L]=(0,r.useState)([]),[E,A]=(0,r.useState)([]),[T,P]=(0,r.useState)(!1),[z,I]=(0,r.useState)(!1),[O,D]=(0,r.useState)([]),[R,B]=(0,r.useState)(!1),[F,W]=(0,r.useState)([]),[V,U]=(0,r.useState)({current_page:1,per_page:50,total_items:0,total_pages:0,has_next:!1,has_prev:!1}),[H,q]=(0,r.useState)({type_filter:"",date_from:"",date_to:""}),[G,$]=(0,r.useState)(null),[Y,Q]=(0,r.useState)(null),[K,X]=(0,r.useState)(null),[J,Z]=(0,r.useState)("unread"),ee=[{value:"admin_notification",label:"\u0410\u0434\u043c\u0438\u043d\u0441\u043a\u043e\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435",icon:"\ud83d\udc51"},{value:"system_message",label:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",icon:"\u2699\ufe0f"},{value:"gem_gift",label:"\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u0433\u0435\u043c\u043e\u0432",icon:"\ud83d\udc8e"},{value:"commission_freeze",label:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438",icon:"\u2744\ufe0f"},{value:"match_result",label:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0433\u0440\u044b",icon:"\ud83c\udfaf"},{value:"bet_accepted",label:"\u0421\u0442\u0430\u0432\u043a\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0430",icon:"\u2705"}],te=(0,r.useCallback)((async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(wu,"/admin/notifications/analytics"),{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&u(t.data)}catch(e){console.error("Error fetching notification analytics:",e),m("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439")}}),[m]),ae=(0,r.useCallback)((async e=>{try{const t=localStorage.getItem("token");if(!e||0===e.trim().length)return void k([]);const a=e.trim();console.log("\ud83d\udd0d Searching users:",{searchQuery:a,searchMode:w});const s=await Pt.get("".concat(wu,"/admin/users"),{headers:{Authorization:"Bearer ".concat(t)},params:{search:a,search_mode:w,limit:50,exclude_bots:!0}});console.log("\ud83d\udcca Search response:",s.data);const r=s.data.users||[];console.log("\ud83d\udc65 Found users before filtering:",r.length);const n=r.filter((e=>"HUMAN_BOT"!==e.user_type&&"REGULAR_BOT"!==e.user_type&&e.role&&["USER","ADMIN","SUPER_ADMIN","PLAYER"].includes(e.role)));console.log("\u2705 Human users after filtering:",n.length),k(n)}catch(t){console.error("\u274c Error searching users:",t),k([])}}),[w]),se=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(wu,"/admin/notifications/stats-by-type"),{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&L(t.data.stats)}catch(e){console.error("Error fetching notification stats:",e),m("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439")}};(0,r.useEffect)((()=>{te()}),[te]),(0,r.useEffect)((()=>{if(v.trim().length>0){const e=setTimeout((()=>ae(v)),300);return()=>clearTimeout(e)}k([])}),[v,ae]);const re=(0,r.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{console.log("fetchDetailedAnalytics called:",{page:e,filters:H}),B(!0);const t=localStorage.getItem("token");if(!t)return console.error("No auth token found"),void m("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f");const a=new URLSearchParams({page:e.toString(),limit:"50"});H.type_filter&&a.append("type_filter",H.type_filter),H.date_from&&a.append("date_from",H.date_from),H.date_to&&a.append("date_to",H.date_to),console.log("Making API request to:","".concat(wu,"/admin/notifications/detailed-analytics?").concat(a));const s=await Pt.get("".concat(wu,"/admin/notifications/detailed-analytics?").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});if(console.log("API response:",s.data),s.data&&s.data.success){const e=s.data.data||[],t=s.data.pagination||{current_page:1,per_page:50,total_items:0,total_pages:0,has_next:!1,has_prev:!1};D(e),U(t),console.log("Data set:",e.length,"notifications"),0===e.length&&(console.log("No notifications found for detailed analytics"),m("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f."))}else console.error("API returned success: false or no success field"),m("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438")}catch(n){var t,a;if(console.error("Error fetching detailed analytics:",n),401===(null===(t=n.response)||void 0===t?void 0:t.status))m("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438. \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0437\u0430\u043d\u043e\u0432\u043e.");else if(403===(null===(a=n.response)||void 0===a?void 0:a.status))m("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438");else{var s,r;m("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438: "+((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||n.message))}}finally{B(!1)}}),[H,m]),ne=e=>["bet_accepted","match_result","gem_gift","commission_freeze"].includes(e),oe=e=>e>=80?"bg-green-500":e>=50?"bg-yellow-500":"bg-red-500";(0,r.useEffect)((()=>{console.log("useEffect triggered:",{activeTab:n,filters:H}),"detailed"===n&&(console.log("Fetching detailed analytics..."),re(1))}),[n,H,re]);return(0,Gt.jsxs)("div",{className:"p-6",children:[(0,Gt.jsxs)("div",{className:"mb-6",children:[(0,Gt.jsx)("h1",{className:"font-russo text-3xl text-white mb-2",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\u043c\u0438"}),(0,Gt.jsx)("p",{className:"text-text-secondary",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-1 mb-6 bg-surface-sidebar rounded-lg p-1",children:[(0,Gt.jsx)("button",{onClick:()=>o("send"),className:"flex-1 py-3 px-4 font-rajdhani font-bold rounded-lg transition-all duration-200 ".concat("send"===n?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83d\udce4 \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"}),(0,Gt.jsx)("button",{onClick:()=>{o("detailed"),setTimeout((()=>{re(1)}),100)},className:"flex-1 py-3 px-4 font-rajdhani font-bold rounded-lg transition-all duration-200 ".concat("detailed"===n?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83d\udccb \u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043e\u043a"}),(0,Gt.jsx)("button",{onClick:()=>o("analytics"),className:"flex-1 py-3 px-4 font-rajdhani font-bold rounded-lg transition-all duration-200 ".concat("analytics"===n?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-white hover:bg-surface-card"),children:"\ud83d\udcca \u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"})]}),"send"===n&&(0,Gt.jsx)("div",{className:"space-y-6",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h2",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u0422\u0438\u043f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("select",{value:x.type,onChange:e=>p(d(d({},x),{},{type:e.target.value})),className:"w-full bg-surface-sidebar border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary",children:ee.map((e=>(0,Gt.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value)))})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"}),(0,Gt.jsx)("div",{className:"flex space-x-2",children:[{value:"info",label:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",color:"text-blue-400",bgColor:"bg-blue-500"},{value:"warning",label:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",color:"text-yellow-400",bgColor:"bg-yellow-500"},{value:"error",label:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435",color:"text-red-400",bgColor:"bg-red-500"}].map((e=>(0,Gt.jsx)("button",{onClick:()=>p(d(d({},x),{},{priority:e.value})),className:"flex-1 py-2 px-3 rounded-lg font-rajdhani font-bold transition-all duration-200 ".concat(x.priority===e.value?"".concat(e.bgColor," text-white shadow-lg"):"bg-surface-sidebar ".concat(e.color," hover:").concat(e.bgColor," hover:text-white")),children:e.label},e.value)))})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f *"}),(0,Gt.jsx)("input",{type:"text",value:x.title,onChange:e=>p(d(d({},x),{},{title:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",className:"w-full bg-surface-sidebar border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-accent-primary",maxLength:100}),(0,Gt.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[x.title.length,"/100"]})]})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f *"}),(0,Gt.jsx)("textarea",{value:x.message,onChange:e=>p(d(d({},x),{},{message:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",rows:6,className:"w-full bg-surface-sidebar border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-accent-primary resize-none",maxLength:500}),(0,Gt.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[x.message.length,"/500"]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex space-x-4",children:[(0,Gt.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Gt.jsx)("input",{type:"radio",name:"targetUsers",value:"all",checked:"all"===f,onChange:e=>g(e.target.value),className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsx)("span",{className:"text-white",children:"\u0412\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"})]}),(0,Gt.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Gt.jsx)("input",{type:"radio",name:"targetUsers",value:"specific",checked:"specific"===f,onChange:e=>g(e.target.value),className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsx)("span",{className:"text-white",children:"\u041a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"})]})]}),"specific"===f&&(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex space-x-4",children:[(0,Gt.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Gt.jsx)("input",{type:"radio",name:"searchMode",value:"name",checked:"name"===w,onChange:e=>N(e.target.value),className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsx)("span",{className:"text-white text-sm",children:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438"})]}),(0,Gt.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,Gt.jsx)("input",{type:"radio",name:"searchMode",value:"email",checked:"email"===w,onChange:e=>N(e.target.value),className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsx)("span",{className:"text-white text-sm",children:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043f\u043e\u0447\u0442\u0435"})]})]}),(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("input",{type:"text",value:v,onChange:e=>{const t=e.target.value;j(t),ae(t.trim())},onFocus:async()=>{ae("")},onBlur:()=>{setTimeout((()=>{k([])}),200)},placeholder:"".concat("name"===w?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e email \u0438\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"),className:"w-full bg-surface-sidebar border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-accent-primary"}),_.length>0&&(0,Gt.jsx)("div",{className:"absolute top-full left-0 right-0 bg-surface-sidebar border border-gray-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10 shadow-xl",children:_.map((e=>(0,Gt.jsxs)("button",{onClick:()=>(e=>{S.find((t=>t.id===e.id))||C([...S,e]),j(""),k([])})(e),className:"w-full text-left px-3 py-2 hover:bg-surface-card text-white text-sm border-b border-gray-700 last:border-b-0",children:[(0,Gt.jsx)("div",{className:"font-medium",children:"name"===w?e.username:e.email}),(0,Gt.jsx)("div",{className:"text-xs text-gray-400",children:"name"===w?e.email:e.username})]},e.id)))}),0===_.length&&v.trim().length>0&&(0,Gt.jsx)("div",{className:"absolute top-full left-0 right-0 bg-surface-sidebar border border-gray-600 rounded-lg mt-1 z-10 shadow-xl",children:(0,Gt.jsx)("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})})]})]}),"specific"===f&&S.length>0&&(0,Gt.jsxs)("div",{className:"space-y-1",children:[(0,Gt.jsxs)("div",{className:"text-sm text-text-secondary",children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",S.length]}),(0,Gt.jsx)("div",{className:"flex flex-wrap gap-2 max-h-24 overflow-y-auto",children:S.map((e=>(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 bg-accent-primary bg-opacity-20 border border-accent-primary border-opacity-30 rounded px-2 py-1",children:[(0,Gt.jsx)("span",{className:"text-xs text-white",children:e.username}),(0,Gt.jsx)("button",{onClick:()=>{return t=e.id,void C(S.filter((e=>e.id!==t)));var t},className:"text-red-400 hover:text-red-300 text-xs",children:"\xd7"})]},e.id)))})]})]})]})]})]}),(0,Gt.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[(0,Gt.jsx)("button",{onClick:async()=>{if(x.title.trim()&&x.message.trim()){l(!0);try{const e=localStorage.getItem("token"),t={type:x.type,title:x.title.trim(),message:x.message.trim(),priority:x.priority,target_users:"all"===f?null:S.map((e=>e.id)),expires_at:x.expires_at||null},a=await Pt.post("".concat(wu,"/admin/notifications/broadcast"),t,{headers:{Authorization:"Bearer ".concat(e)}});a.data.success&&(h("\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e ".concat(a.data.sent_count," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c")),p({type:"admin_notification",title:"",message:"",priority:"info",target_users:null,expires_at:null}),C([]),g("all"),te())}catch(a){var e,t;console.error("Error sending notification:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f";m(s)}finally{l(!1)}}else m("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")},disabled:i||!x.title.trim()||!x.message.trim(),className:"w-full py-3 px-6 font-rajdhani font-bold text-lg rounded-lg transition-all duration-200 ".concat(!i&&x.title.trim()&&x.message.trim()?"bg-accent-primary hover:bg-accent-primary-dark text-white shadow-lg hover:shadow-xl":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:i?(0,Gt.jsx)("div",{className:"flex items-center justify-center space-x-2",children:(0,Gt.jsx)(ga,{size:20,ariaLabel:"Sending notification"})}):"\ud83d\udce4 \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435".concat("all"===f?" \u0432\u0441\u0435\u043c":" (".concat(S.length," \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0435\u0439)"))}),(0,Gt.jsxs)("div",{className:"border-t border-gray-600 pt-6 mt-6",children:[(0,Gt.jsx)("h3",{className:"text-white text-lg font-rajdhani font-bold mb-4",children:"\ud83d\uddd1\ufe0f \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u0437\u043e\u0439 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"}),(0,Gt.jsx)("div",{className:"mb-4",children:(0,Gt.jsx)("button",{onClick:se,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-200",children:"\ud83d\udcca \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c"})}),M.length>0&&(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"text-white font-bold mb-3",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c:"}),(0,Gt.jsx)("div",{className:"space-y-2",children:M.map((e=>(0,Gt.jsxs)("label",{className:"flex items-center justify-between cursor-pointer p-2 rounded hover:bg-surface-card",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:E.includes(e.type),onChange:t=>{t.target.checked?A([...E,e.type]):A(E.filter((t=>t!==e.type)))},className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsx)("span",{className:"text-white font-medium",children:e.name})]}),(0,Gt.jsxs)("span",{className:"text-accent-primary font-bold",children:[e.count," \u0448\u0442."]})]},e.type)))})]}),E.length>0&&(0,Gt.jsxs)("div",{className:"space-y-2",children:[(0,Gt.jsxs)("div",{className:"text-yellow-400 text-sm",children:["\u26a0\ufe0f \u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f: ",E.length," \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439, \u0432\u0441\u0435\u0433\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439: ",M.filter((e=>E.includes(e.type))).reduce(((e,t)=>e+t.count),0)]}),(0,Gt.jsx)("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded-lg transition-all duration-200",children:"\ud83d\uddd1\ufe0f \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})]})]})]})]})]})}),"detailed"===n&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h2",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u0422\u0438\u043f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),(0,Gt.jsxs)("select",{value:H.type_filter,onChange:e=>q(d(d({},H),{},{type_filter:e.target.value})),className:"w-full bg-surface-sidebar border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u0442\u0438\u043f\u044b"}),(0,Gt.jsx)("option",{value:"admin_notification",children:"\u0410\u0434\u043c\u0438\u043d\u0441\u043a\u0438\u0435"}),(0,Gt.jsx)("option",{value:"bet_accepted",children:"\u0421\u0442\u0430\u0432\u043a\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0430"}),(0,Gt.jsx)("option",{value:"match_result",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043c\u0430\u0442\u0447\u0430"}),(0,Gt.jsx)("option",{value:"gem_gift",children:"\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u0433\u0435\u043c\u043e\u0432"}),(0,Gt.jsx)("option",{value:"system_message",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u0414\u0430\u0442\u0430 \u043e\u0442"}),(0,Gt.jsx)("input",{type:"date",value:H.date_from,onChange:e=>q(d(d({},H),{},{date_from:e.target.value})),className:"w-full bg-surface-sidebar border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:cursor-pointer"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm font-medium mb-2",children:"\u0414\u0430\u0442\u0430 \u0434\u043e"}),(0,Gt.jsx)("input",{type:"date",value:H.date_to,onChange:e=>q(d(d({},H),{},{date_to:e.target.value})),className:"w-full bg-surface-sidebar border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-accent-primary [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:invert [&::-webkit-calendar-picker-indicator]:cursor-pointer"})]})]}),(0,Gt.jsx)("div",{className:"mt-4",children:(0,Gt.jsx)("button",{onClick:()=>re(1),className:"px-4 py-2 bg-accent-primary hover:bg-accent-primary-dark text-white font-rajdhani font-bold rounded-lg transition-all duration-200",children:"\ud83d\udd0d \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsx)("h2",{className:"font-rajdhani text-xl font-bold text-white",children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043e\u043a"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[F.length>0&&(0,Gt.jsxs)("button",{onClick:async()=>{if(0!==F.length)try{I(!0);const e=localStorage.getItem("token"),t=await Pt.delete("".concat(wu,"/admin/notifications/by-ids"),{headers:{Authorization:"Bearer ".concat(e)},data:{notification_ids:F}});t.data.success&&(h(t.data.message),W([]),re(V.current_page))}catch(e){console.error("Error deleting notifications by IDs:",e),m("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439")}finally{I(!1)}else m("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f")},disabled:z,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm font-bold rounded transition-all duration-200 disabled:opacity-50",children:["\ud83d\uddd1\ufe0f \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 (",F.length,")"]}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u043e ",O.length," \u0438\u0437 ",V.total_items]})]})]}),R?(0,Gt.jsx)("div",{className:"flex justify-center py-8",children:(0,Gt.jsx)(ga,{size:24,ariaLabel:"Loading analytics"})}):(0,Gt.jsxs)("div",{className:"space-y-4",children:[O.map((e=>{return(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4 border border-gray-700",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:F.includes(e.notification_id),onChange:()=>{return t=e.notification_id,void W((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Gt.jsx)("span",{className:"text-2xl",children:"admin_notification"===e.type?"\ud83d\udee1\ufe0f":"bet_accepted"===e.type?"\ud83c\udfaf":"match_result"===e.type?"\ud83c\udfc6":"gem_gift"===e.type?"\ud83d\udc8e":"\ud83d\udcec"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h3",{className:"text-white font-bold text-lg",children:e.title}),(0,Gt.jsxs)("p",{className:"text-text-secondary text-sm",children:[new Date(e.created_at).toLocaleString("ru-RU")," \u2022 ",e.type]})]})]})]}),(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsx)("p",{className:"text-gray-300 text-sm mb-3 line-clamp-2",children:e.message}),ne(e.type)?(0,Gt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Gt.jsx)("div",{className:"flex-1",children:(0,Gt.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,Gt.jsxs)("span",{children:["\ud83d\udcc5 \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",new Date(e.created_at).toLocaleString("ru-RU")]}),e.read_count>0&&e.read_users.length>0&&e.read_users[0].read_at&&(0,Gt.jsxs)("span",{className:"ml-4",children:["\u2705 \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e: ",new Date(e.read_users[0].read_at).toLocaleString("ru-RU")]}),0===e.read_count&&(0,Gt.jsx)("span",{className:"ml-4 text-red-400",children:"\u274c \u041d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})]})})}):(0,Gt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,Gt.jsx)("span",{className:"text-gray-400",children:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"}),(0,Gt.jsxs)("span",{className:"font-bold ".concat((t=e.read_percentage,t>=80?"text-green-400":t>=50?"text-yellow-400":"text-red-400")),children:[e.read_count,"/",e.total_recipients," (",e.read_percentage,"%)"]})]}),(0,Gt.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,Gt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(oe(e.read_percentage)),style:{width:"".concat(e.read_percentage,"%")}})})]})})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!ne(e.type)&&e.unread_count>0&&(0,Gt.jsxs)("button",{onClick:()=>{return t=e.notification_id,X(t),void Z("unread");var t},disabled:Y===e.notification_id,className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs font-bold rounded transition-all duration-200 disabled:opacity-50",children:[Y===e.notification_id?"\u23f3":"\ud83d\udd04"," \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"]}),(0,Gt.jsx)("button",{onClick:()=>$(G===e.notification_id?null:e.notification_id),className:"px-3 py-1 bg-accent-primary hover:bg-accent-primary-dark text-white text-xs font-bold rounded transition-all duration-200",children:G===e.notification_id?"\u25b2 \u0421\u043a\u0440\u044b\u0442\u044c":"\u25bc \u0414\u0435\u0442\u0430\u043b\u0438"})]})]}),G===e.notification_id&&(0,Gt.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-600",children:ne(e.type)?(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"text-white font-bold mb-2",children:"\ud83d\udcdd \u041f\u043e\u043b\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:"}),(0,Gt.jsx)("div",{className:"bg-gray-800 rounded p-3",children:(0,Gt.jsx)("p",{className:"text-gray-200 whitespace-pre-wrap",children:e.message})})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"text-blue-400 font-bold mb-3",children:"\ud83d\udc64 \u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c:"}),e.read_count>0&&e.read_users.length>0?(0,Gt.jsxs)("div",{className:"bg-green-900 bg-opacity-20 rounded p-3",children:[(0,Gt.jsx)("div",{className:"text-white font-medium",children:e.read_users[0].username}),(0,Gt.jsx)("div",{className:"text-gray-400 text-sm",children:e.read_users[0].email}),(0,Gt.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,Gt.jsxs)("div",{className:"text-blue-400 text-sm",children:["\ud83d\udcc5 \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",new Date(e.created_at).toLocaleString("ru-RU")]}),e.read_users[0].read_at&&(0,Gt.jsxs)("div",{className:"text-green-400 text-sm",children:["\u2705 \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e: ",new Date(e.read_users[0].read_at).toLocaleString("ru-RU")]})]}),(0,Gt.jsx)("div",{className:"mt-2",children:(0,Gt.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-bold bg-green-600 text-white rounded",children:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})})]}):e.unread_count>0&&e.unread_users.length>0?(0,Gt.jsxs)("div",{className:"bg-red-900 bg-opacity-20 rounded p-3",children:[(0,Gt.jsx)("div",{className:"text-white font-medium",children:e.unread_users[0].username}),(0,Gt.jsx)("div",{className:"text-gray-400 text-sm",children:e.unread_users[0].email}),(0,Gt.jsxs)("div",{className:"mt-2",children:[(0,Gt.jsxs)("div",{className:"text-blue-400 text-sm",children:["\ud83d\udcc5 \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",new Date(e.created_at).toLocaleString("ru-RU")]}),(0,Gt.jsx)("div",{className:"text-red-400 text-sm",children:"\u274c \u041d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})]}),(0,Gt.jsx)("div",{className:"mt-2",children:(0,Gt.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-bold bg-red-600 text-white rounded",children:"\u041d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})})]}):(0,Gt.jsx)("div",{className:"text-gray-400 text-sm",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"})]})]}):(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card rounded-lg p-4",children:[(0,Gt.jsx)("h4",{className:"text-white font-bold mb-2",children:"\ud83d\udcdd \u0422\u0435\u043a\u0441\u0442 \u043c\u0430\u0441\u0441\u043e\u0432\u043e\u0433\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:"}),(0,Gt.jsx)("div",{className:"bg-gray-800 rounded p-3",children:(0,Gt.jsx)("p",{className:"text-gray-200 whitespace-pre-wrap",children:e.message})}),(0,Gt.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:["\ud83d\udcc5 \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",new Date(e.created_at).toLocaleString("ru-RU")]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("h4",{className:"text-green-400 font-bold mb-3",children:["\u2705 \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043b\u0438 (",e.read_count,")"]}),(0,Gt.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:e.read_users.map((e=>(0,Gt.jsxs)("div",{className:"bg-green-900 bg-opacity-20 rounded p-2",children:[(0,Gt.jsx)("div",{className:"text-white text-sm font-medium",children:e.username}),(0,Gt.jsx)("div",{className:"text-gray-400 text-xs",children:e.email}),e.read_at&&(0,Gt.jsxs)("div",{className:"text-green-400 text-xs",children:["\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e: ",new Date(e.read_at).toLocaleString("ru-RU")]}),(0,Gt.jsx)("div",{className:"mt-1",children:(0,Gt.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-bold bg-green-600 text-white rounded",children:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})})]},e.user_id)))})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("h4",{className:"text-red-400 font-bold mb-3",children:["\u274c \u041d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043b\u0438 (",e.unread_count,")"]}),(0,Gt.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:e.unread_users.map((e=>(0,Gt.jsxs)("div",{className:"bg-red-900 bg-opacity-20 rounded p-2",children:[(0,Gt.jsx)("div",{className:"text-white text-sm font-medium",children:e.username}),(0,Gt.jsx)("div",{className:"text-gray-400 text-xs",children:e.email}),(0,Gt.jsx)("div",{className:"text-red-400 text-xs",children:"\u041d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})]},e.user_id)))})]})]})]})})]},e.notification_id);var t})),0===O.length&&(0,Gt.jsxs)("div",{className:"text-center py-8",children:[(0,Gt.jsx)("div",{className:"text-4xl mb-3 opacity-50",children:"\ud83d\udced"}),(0,Gt.jsx)("div",{className:"text-gray-400",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]})]}),V.total_pages>1&&(0,Gt.jsxs)("div",{className:"flex justify-center items-center space-x-4 mt-6 pt-6 border-t border-gray-700",children:[(0,Gt.jsx)("button",{onClick:()=>re(V.current_page-1),disabled:!V.has_prev,className:"px-4 py-2 bg-surface-sidebar border border-gray-600 rounded text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-surface-card transition-colors",children:"\u2190 \u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f"}),(0,Gt.jsxs)("span",{className:"text-text-secondary",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",V.current_page," \u0438\u0437 ",V.total_pages]}),(0,Gt.jsx)("button",{onClick:()=>re(V.current_page+1),disabled:!V.has_next,className:"px-4 py-2 bg-surface-sidebar border border-gray-600 rounded text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-surface-card transition-colors",children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u2192"})]})]})]}),"analytics"===n&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"text-2xl",children:"\ud83d\udce8"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(t=c.total_sent)||void 0===t?void 0:t.toLocaleString())||"0"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-green-500 bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"text-2xl",children:"\ud83d\udcd6"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(a=c.total_read)||void 0===a?void 0:a.toLocaleString())||"0"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-yellow-500 bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-2xl font-bold text-white",children:c.read_rate?"".concat(c.read_rate.toFixed(1),"%"):"0%"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044f"})]})]})})]}),c.by_type&&Object.keys(c.by_type).length>0&&(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0430\u043c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"}),(0,Gt.jsx)("div",{className:"space-y-3",children:Object.entries(c.by_type).map((e=>{let[t,a]=e;const s=ee.find((e=>e.value===t))||{label:t,icon:"\ud83d\udcdd"},r=a.sent>0?(a.read/a.sent*100).toFixed(1):"0";return(0,Gt.jsxs)("div",{className:"flex items-center justify-between p-3 bg-surface-sidebar rounded-lg",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("span",{className:"text-xl",children:s.icon}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white font-medium",children:s.label}),(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm",children:["\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",a.sent," \u2022 \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e: ",a.read]})]})]}),(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsxs)("div",{className:"text-white font-bold",children:[r,"%"]}),(0,Gt.jsx)("div",{className:"text-text-secondary text-xs",children:"\u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044f"})]})]},t)}))})]}),(0,Gt.jsx)("div",{className:"flex justify-center",children:(0,Gt.jsx)("button",{onClick:te,className:"px-6 py-2 bg-accent-primary hover:bg-accent-primary-dark text-white font-rajdhani font-bold rounded-lg transition-all duration-200",children:"\ud83d\udd04 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0443"})})]}),K&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsx)("h3",{className:"text-white text-xl font-rajdhani font-bold mb-4",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),(0,Gt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Gt.jsxs)("label",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-600 hover:border-accent-primary cursor-pointer",children:[(0,Gt.jsx)("input",{type:"radio",name:"resendOption",value:"unread",checked:"unread"===J,onChange:e=>Z(e.target.value),className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white font-medium",children:"\u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0432\u0448\u0438\u043c"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0433\u043e \u0435\u0449\u0435 \u043d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043b\u0438"})]})]}),(0,Gt.jsxs)("label",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-600 hover:border-accent-primary cursor-pointer",children:[(0,Gt.jsx)("input",{type:"radio",name:"resendOption",value:"all",checked:"all"===J,onChange:e=>Z(e.target.value),className:"text-accent-primary focus:ring-accent-primary"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"text-white font-medium",children:"\u0412\u0441\u0435\u043c \u0438\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f\u043c"}),(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u043b\u0438 \u0435\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c"})]})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>X(null),className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-rajdhani font-bold rounded transition-all duration-200",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{if(K)try{Q(K);const e=localStorage.getItem("token");let t,a;if("unread"===J)t="".concat(wu,"/admin/notifications/resend-to-unread"),a={notification_id:K};else{const e=O.find((e=>e.notification_id===K));if(!e)return void m("\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e");t="".concat(wu,"/admin/notifications/broadcast"),a={type:e.type,title:e.title,message:e.message,priority:"info",target_users:null}}const s=await Pt.post(t,a,{headers:{Authorization:"Bearer ".concat(e)}});if(s.data.success){const e=s.data.resent_count||s.data.sent_count;h("unread"===J?"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e ".concat(e," \u043d\u0435\u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0432\u0448\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"):"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e ".concat(e," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c")),re(V.current_page)}}catch(e){console.error("Error resending notification:",e),m("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f")}finally{Q(null),X(null)}},disabled:Y===K,className:"flex-1 px-4 py-2 bg-accent-primary hover:bg-accent-primary-dark text-white font-rajdhani font-bold rounded transition-all duration-200 disabled:opacity-50",children:Y===K?"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})}),T&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Gt.jsx)("h3",{className:"text-white text-xl font-rajdhani font-bold mb-4",children:"\u26a0\ufe0f \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"}),(0,Gt.jsxs)("div",{className:"mb-6",children:[(0,Gt.jsx)("p",{className:"text-text-secondary mb-4",children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439?"}),(0,Gt.jsx)("div",{className:"bg-surface-sidebar rounded-lg p-3 space-y-2",children:E.map((e=>{const t=M.find((t=>t.type===e));return(0,Gt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Gt.jsx)("span",{className:"text-white font-medium",children:null===t||void 0===t?void 0:t.name}),(0,Gt.jsxs)("span",{className:"text-red-400 font-bold",children:[null===t||void 0===t?void 0:t.count," \u0448\u0442."]})]},e)}))}),(0,Gt.jsxs)("div",{className:"mt-3 text-red-400 font-bold",children:["\u0412\u0441\u0435\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e: ",M.filter((e=>E.includes(e.type))).reduce(((e,t)=>e+t.count),0)," \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"]}),(0,Gt.jsx)("p",{className:"text-yellow-400 text-sm mt-2",children:"\u26a0\ufe0f \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-3",children:[(0,Gt.jsx)("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-rajdhani font-bold rounded transition-all duration-200",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{if(0!==E.length)try{I(!0);const e=localStorage.getItem("token"),t=await Pt.delete("".concat(wu,"/admin/notifications/by-type"),{headers:{Authorization:"Bearer ".concat(e)},data:{notification_types:E}});t.data.success&&(h(t.data.message),A([]),P(!1),se(),"detailed"===n&&re(V.current_page))}catch(e){console.error("Error deleting notifications:",e),m("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439")}finally{I(!1)}else m("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f")},disabled:z,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-rajdhani font-bold rounded transition-all duration-200 disabled:opacity-50",children:z?"\u0423\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f...":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})]})},_u="".concat("https://income-bot-3.preview.emergentagent.com","/api"),ku=e=>{let{user:t}=e;const[a,s]=(0,r.useState)(null),[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)("dashboard"),[m,x]=(0,r.useState)(null),[p,f]=(0,r.useState)("");(0,r.useEffect)((()=>{g();const e=setInterval(g,3e4);return()=>clearInterval(e)}),[]);const g=async()=>{try{const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)},[a,r,n]=await Promise.all([Pt.get("".concat(_u,"/admin/security/dashboard"),{headers:t}),Pt.get("".concat(_u,"/admin/security/alerts?limit=20"),{headers:t}),Pt.get("".concat(_u,"/admin/security/monitoring-stats"),{headers:t})]);s(a.data),o(r.data),l(n.data),d(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438:",e),d(!1)}},b=async e=>{if(p.trim()){x(e);try{const t=localStorage.getItem("token");await Pt.post("".concat(_u,"/admin/security/alerts/").concat(e,"/resolve"),{action_taken:p},{headers:{Authorization:"Bearer ".concat(t)}}),f(""),x(null),g(),alert("\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f:",t),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),x(null)}}else alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f")},y=e=>({LOW:"text-green-400",MEDIUM:"text-yellow-400",HIGH:"text-orange-400",CRITICAL:"text-red-400"}[e]||"text-gray-400"),v=e=>({LOW:"bg-green-900 bg-opacity-20 border-green-500",MEDIUM:"bg-yellow-900 bg-opacity-20 border-yellow-500",HIGH:"bg-orange-900 bg-opacity-20 border-orange-500",CRITICAL:"bg-red-900 bg-opacity-20 border-red-500"}[e]||"bg-gray-900 bg-opacity-20 border-gray-500"),j=e=>({LOW:"\u041d\u0438\u0437\u043a\u0438\u0439",MEDIUM:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",HIGH:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439",CRITICAL:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439"}[e]||e);return c?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading security monitoring"})}):(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-text-secondary",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsx)("span",{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0435 30 \u0441\u0435\u043a\u0443\u043d\u0434"})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-4 border-b border-border-primary",children:[(0,Gt.jsx)("button",{onClick:()=>h("dashboard"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("dashboard"===u?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("button",{onClick:()=>h("alerts"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("alerts"===u?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),(0,Gt.jsx)("button",{onClick:()=>h("stats"),className:"px-4 py-2 font-rajdhani font-medium transition-colors ".concat("stats"===u?"text-accent-primary border-b-2 border-accent-primary":"text-text-secondary hover:text-white"),children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]}),"dashboard"===u&&a&&(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-red-400",children:a.active_alerts||0})]}),(0,Gt.jsx)("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 IP"}),(0,Gt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-orange-400",children:a.blocked_ips||0})]}),(0,Gt.jsx)("svg",{className:"w-8 h-8 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364L18.364 5.636"})})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b"}),(0,Gt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-yellow-400",children:a.suspicious_accounts||0})]}),(0,Gt.jsx)("svg",{className:"w-8 h-8 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0435 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435"}),(0,Gt.jsx)("p",{className:"font-rajdhani text-3xl font-bold text-green-400",children:a.system_health||"OK"})]}),(0,Gt.jsx)("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,Gt.jsx)("div",{className:"space-y-3",children:a.recent_activity&&a.recent_activity.length>0?a.recent_activity.map(((e,t)=>(0,Gt.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border-primary last:border-b-0",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(y(e.severity))}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"text-white text-sm",children:e.description}),(0,Gt.jsx)("p",{className:"text-text-secondary text-xs",children:new Date(e.timestamp).toLocaleString("ru-RU")})]})]}),(0,Gt.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(v(e.severity)),children:j(e.severity)})]},t))):(0,Gt.jsx)("p",{className:"text-text-secondary",children:"\u041d\u0435\u0434\u0430\u0432\u043d\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0435\u0442"})})]})]}),"alerts"===u&&(0,Gt.jsx)("div",{className:"space-y-4",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438"}),n.length>0?(0,Gt.jsx)("div",{className:"space-y-4",children:n.map((e=>{var t,a,s;return(0,Gt.jsx)("div",{className:"p-4 rounded-lg border ".concat(v(e.severity)),children:(0,Gt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Gt.jsx)("span",{className:"font-medium ".concat(y(e.severity)),children:j(e.severity)}),(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u2022"}),(0,Gt.jsx)("span",{className:"text-text-secondary text-sm",children:(s=e.alert_type,{SUSPICIOUS_LOGIN:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u0445\u043e\u0434",MULTIPLE_FAILED_LOGINS:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044b",UNUSUAL_BETTING_PATTERN:"\u041d\u0435\u043e\u0431\u044b\u0447\u043d\u0430\u044f \u0441\u0445\u0435\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a",HIGH_VALUE_TRANSACTION:"\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438",ACCOUNT_MANIPULATION:"\u041c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0438 \u0441 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c",POTENTIAL_BOT_ACTIVITY:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u0430\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0431\u043e\u0442\u0430",SYSTEM_ANOMALY:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0430\u043d\u043e\u043c\u0430\u043b\u0438\u044f"}[s]||s)})]}),(0,Gt.jsx)("h4",{className:"font-rajdhani font-bold text-white mb-2",children:e.title}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm mb-2",children:e.description}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:[(0,Gt.jsxs)("span",{children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(null===(t=e.user_info)||void 0===t?void 0:t.username)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"]}),(0,Gt.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Gt.jsxs)("span",{children:["IP: ",(null===(a=e.user_info)||void 0===a?void 0:a.ip_address)||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d"]}),(0,Gt.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Gt.jsx)("span",{children:new Date(e.created_at).toLocaleString("ru-RU")})]})]}),"OPEN"===e.status&&(0,Gt.jsxs)("div",{className:"ml-4 space-y-2",children:[(0,Gt.jsx)("div",{children:(0,Gt.jsx)("input",{type:"text",placeholder:"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f...",value:m===e.id?p:"",onChange:t=>{m===e.id&&f(t.target.value)},onFocus:()=>x(e.id),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded text-white text-sm"})}),(0,Gt.jsx)("button",{onClick:()=>b(e.id),disabled:m!==e.id||!p.trim(),className:"w-full px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:opacity-50 text-white text-sm rounded font-medium transition-colors",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c"})]})]})},e.id)}))}):(0,Gt.jsx)("p",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439 \u043d\u0435\u0442"})]})}),"stats"===u&&i&&(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0412\u0441\u0435\u0433\u043e \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439:"}),(0,Gt.jsx)("span",{className:"text-white font-bold",children:i.total_alerts||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0451\u043d\u043d\u044b\u0445:"}),(0,Gt.jsx)("span",{className:"text-green-400 font-bold",children:i.resolved_alerts||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0445:"}),(0,Gt.jsx)("span",{className:"text-red-400 font-bold",children:i.open_alerts||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445:"}),(0,Gt.jsx)("span",{className:"text-red-400 font-bold",children:i.critical_alerts||0})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u0435\u0441\u0441\u0438\u0438:"}),(0,Gt.jsx)("span",{className:"text-white font-bold",children:i.active_sessions||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044b (24\u0447):"}),(0,Gt.jsx)("span",{className:"text-orange-400 font-bold",children:i.failed_logins_24h||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 IP:"}),(0,Gt.jsx)("span",{className:"text-red-400 font-bold",children:i.blocked_ips||0})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{className:"text-text-secondary",children:"\u041f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b:"}),(0,Gt.jsx)("span",{className:"text-yellow-400 font-bold",children:i.suspicious_accounts||0})]})]})]})]})]})},Su="https://income-bot-3.preview.emergentagent.com",Cu={VIEW_PROFILE:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",EDIT_PROFILE:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",CREATE_GAME:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438\u0433\u0440",JOIN_GAME:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043a \u0438\u0433\u0440\u0430\u043c",VIEW_GAMES:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0433\u0440",VIEW_ADMIN_PANEL:"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0430\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u0438",MANAGE_USERS:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438",MANAGE_GAMES:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u0430\u043c\u0438",MANAGE_BOTS:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430\u043c\u0438",MANAGE_ECONOMY:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u043e\u0439",VIEW_ANALYTICS:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438",MANAGE_SOUNDS:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0432\u0443\u043a\u0430\u043c\u0438",MANAGE_ROLES:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u044f\u043c\u0438",SYSTEM_SETTINGS:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},Mu="\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c - \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u0438\u0433\u0440\u043e\u0432\u044b\u0435 \u043f\u0440\u0430\u0432\u0430",Lu="\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 - \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438 \u0438 \u0438\u0433\u0440\u0430\u043c\u0438",Eu="\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 - \u043f\u043e\u043b\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0430, \u043a\u0440\u043e\u043c\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0440\u043e\u043b\u044f\u043c\u0438",Au="\u0421\u0443\u043f\u0435\u0440 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 - \u0432\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u044f\u043c\u0438",Tu=e=>{let{user:t}=e;const[a,s]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[h,m]=(0,r.useState)(null),[x,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[b,y]=(0,r.useState)([]),[v,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),[_,k]=(0,r.useState)("roles"),[S,C]=(0,r.useState)({username:"",email:"",password:"",confirm_password:"",role:"USER",gender:"male",virtual_balance:1e3,daily_limit_max:1e3,status:"ACTIVE",ban_reason:""}),[M,L]=(0,r.useState)(!1),[E,A]=(0,r.useState)(""),{showSuccess:T,showError:P}=Qt();(0,r.useEffect)((()=>{I(),z()}),[]);const z=async()=>{try{const e=localStorage.getItem("token"),t=await Pt.get("".concat(Su,"/api/admin/users?limit=100"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.data.users){const e=t.data.users.filter((e=>"HUMAN_BOT"!==e.user_type&&"REGULAR_BOT"!==e.user_type&&("SUPER_ADMIN"===e.role||"ADMIN"===e.role||"MODERATOR"===e.role)));o(e)}}catch(e){console.error("Error fetching users:",e),P("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")}},I=async()=>{try{l(!0);const a=localStorage.getItem("token"),r=[{name:"USER",description:Mu,permissions:["VIEW_PROFILE","EDIT_PROFILE","CREATE_GAME","JOIN_GAME","VIEW_GAMES"],is_system_role:!0,users_count:0},{name:"MODERATOR",description:Lu,permissions:["VIEW_PROFILE","EDIT_PROFILE","CREATE_GAME","JOIN_GAME","VIEW_GAMES","VIEW_ADMIN_PANEL","MANAGE_USERS","MANAGE_GAMES"],is_system_role:!0,users_count:0},{name:"ADMIN",description:Eu,permissions:["VIEW_PROFILE","EDIT_PROFILE","CREATE_GAME","JOIN_GAME","VIEW_GAMES","VIEW_ADMIN_PANEL","MANAGE_USERS","MANAGE_GAMES","MANAGE_BOTS","MANAGE_ECONOMY","VIEW_ANALYTICS","MANAGE_SOUNDS"],is_system_role:!0,users_count:0},{name:"SUPER_ADMIN",description:Au,permissions:Object.keys(Cu),is_system_role:!0,users_count:0}];try{const e=(await Pt.get("".concat(Su,"/api/admin/users?limit=1000"),{headers:{Authorization:"Bearer ".concat(a)}})).data.users||[];r.forEach((t=>{t.users_count=e.filter((e=>e.role===t.name)).length})),console.log("\u2705 \u0420\u043e\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0441 \u043f\u043e\u0434\u0441\u0447\u0435\u0442\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")}catch(i){var e,t;console.warn("\u26a0\ufe0f \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0434\u043b\u044f \u0440\u043e\u043b\u0435\u0439:",(null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||i.message)}s(r),console.log("\u2705 \u0420\u043e\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b:",r.length)}catch(c){var a,r;if(console.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u043e\u043b\u0435\u0439:",c),403===(null===(a=c.response)||void 0===a?void 0:a.status))P("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0440\u043e\u043b\u0435\u0439. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c SUPER_ADMIN.");else if(401===(null===(r=c.response)||void 0===r?void 0:r.status))P("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441\u043d\u043e\u0432\u0430.");else{var n,o;P("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u043e\u043b\u0435\u0439: ".concat((null===(n=c.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.detail)||c.message||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"))}}finally{l(!1)}},O=e=>{y((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))};return i?(0,Gt.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Gt.jsx)(ga,{size:24,ariaLabel:"Loading roles"})}):(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-6",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gt.jsx)("h2",{className:"text-xl font-bold text-white font-rajdhani",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0420\u043e\u043b\u044f\u043c\u0438 \u0438 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c\u0438"}),(0,Gt.jsx)("button",{onClick:()=>j(!0),className:"bg-accent-primary text-white px-4 py-2 rounded-lg font-rajdhani font-bold hover:bg-accent-primary/90 transition-colors",children:"+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0420\u043e\u043b\u044c"})]}),(0,Gt.jsx)("div",{className:"mb-6",children:(0,Gt.jsx)("div",{className:"border-b border-border-primary",children:(0,Gt.jsxs)("nav",{className:"flex space-x-8",children:[(0,Gt.jsx)("button",{onClick:()=>k("roles"),className:"py-2 px-1 border-b-2 font-rajdhani font-medium text-sm ".concat("roles"===_?"border-accent-primary text-accent-primary":"border-transparent text-text-secondary hover:text-white hover:border-gray-300"),children:"\u0420\u043e\u043b\u0438"}),(0,Gt.jsx)("button",{onClick:()=>k("users"),className:"py-2 px-1 border-b-2 font-rajdhani font-medium text-sm ".concat("users"===_?"border-accent-primary text-accent-primary":"border-transparent text-text-secondary hover:text-white hover:border-gray-300"),children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})]})})}),"roles"===_&&(0,Gt.jsx)("div",{className:"space-y-4",children:a.map((e=>(0,Gt.jsx)("div",{className:"bg-surface-primary rounded-lg p-4 border border-border-primary",children:(0,Gt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Gt.jsx)("h3",{className:"text-lg font-bold text-white font-rajdhani",children:e.name}),e.is_system_role&&(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs bg-blue-600 text-white rounded-full font-rajdhani",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f"})]}),(0,Gt.jsx)("p",{className:"text-text-secondary font-roboto text-sm mb-3",children:e.description}),(0,Gt.jsxs)("div",{className:"text-text-secondary font-roboto text-sm mb-2",children:[e.users_count," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"]}),(0,Gt.jsx)("div",{className:"flex flex-wrap gap-1",children:e.permissions.map((e=>(0,Gt.jsx)("span",{className:"px-2 py-1 bg-accent-primary/20 text-accent-primary text-xs rounded font-roboto",children:Cu[e]||e},e)))})]}),(0,Gt.jsxs)("div",{className:"flex gap-2",children:[(0,Gt.jsx)("button",{onClick:()=>(e=>{u(e),p(e.name),g(e.description),y([...e.permissions])})(e),className:"text-text-secondary hover:text-white font-roboto text-sm",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),!e.is_system_role&&(0,Gt.jsx)("button",{onClick:()=>{},className:"text-red-400 hover:text-red-300 font-roboto text-sm",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},e.name)))}),"users"===_&&(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"text-text-secondary font-roboto text-sm mb-4",children:["\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",n.length]}),n.map((e=>{var t,a,s;return(0,Gt.jsx)("div",{className:"bg-surface-primary rounded-lg p-4 border border-border-primary",children:(0,Gt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Gt.jsx)("h3",{className:"text-lg font-bold text-white font-rajdhani",children:e.username}),(s=e.role,(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat({USER:"bg-blue-600",MODERATOR:"bg-green-600",ADMIN:"bg-purple-600",SUPER_ADMIN:"bg-red-600"}[s]||"bg-gray-600"),children:s})),(a=e.status,(0,Gt.jsx)("span",{className:"px-2 py-1 text-xs rounded-full text-white font-rajdhani font-bold ".concat({ACTIVE:"bg-green-600",BANNED:"bg-red-600",EMAIL_PENDING:"bg-yellow-600"}[a]||"bg-gray-600"),children:{ACTIVE:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d",BANNED:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",EMAIL_PENDING:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0442\u0432."}[a]||a}))]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"Email:"})," ",e.email]}),(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"\u0411\u0430\u043b\u0430\u043d\u0441:"})," $",(null===(t=e.virtual_balance)||void 0===t?void 0:t.toFixed(2))||"0.00"]}),(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"ID:"})," ",e.id]}),(0,Gt.jsxs)("div",{className:"text-text-secondary",children:[(0,Gt.jsx)("span",{className:"text-white",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f:"})," ",new Date(e.created_at).toLocaleDateString("ru-RU")]})]})]}),(0,Gt.jsx)("div",{className:"flex gap-2",children:(0,Gt.jsx)("button",{onClick:()=>{return m(t=e),C({username:t.username||"",email:t.email||"",password:"",confirm_password:"",role:t.role||"USER",gender:t.gender||"male",virtual_balance:t.virtual_balance||1e3,daily_limit_max:t.daily_limit_max||1e3,status:t.status||"ACTIVE",ban_reason:t.ban_reason||""}),A(""),void N(!0);var t},className:"text-text-secondary hover:text-white font-roboto text-sm bg-surface-sidebar px-3 py-1 rounded hover:bg-accent-primary/20 transition-colors",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})})]})},e.id)}))]}),c&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Gt.jsxs)("h3",{className:"text-xl font-bold text-white font-rajdhani mb-4",children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438: ",c.name]}),c.is_system_role&&(0,Gt.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-3 mb-4",children:(0,Gt.jsx)("p",{className:"text-yellow-300 text-sm font-roboto",children:"\u26a0\ufe0f \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0440\u043e\u043b\u0438 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b \u043e\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d\u0438\u044f."})}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary font-roboto text-sm mb-1",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438"}),(0,Gt.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),disabled:c.is_system_role,className:"w-full px-3 py-2 bg-surface-primary border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary font-roboto text-sm mb-1",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,Gt.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),disabled:c.is_system_role,className:"w-full px-3 py-2 bg-surface-primary border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",rows:"3"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary font-roboto text-sm mb-3",children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:Object.entries(Cu).map((e=>{let[t,a]=e;return(0,Gt.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:b.includes(t),onChange:()=>O(t),disabled:c.is_system_role,className:"text-accent-primary focus:ring-accent-primary border-border-primary rounded"}),(0,Gt.jsx)("span",{className:"text-sm text-white font-roboto",children:a})]},t)}))})]})]}),(0,Gt.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,Gt.jsx)("button",{onClick:()=>u(null),className:"px-4 py-2 text-text-secondary hover:text-white font-roboto",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),!c.is_system_role&&(0,Gt.jsx)("button",{onClick:async()=>{try{P("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u0440\u043e\u043b\u0435\u0439 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e. \u042d\u0442\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u0440\u043e\u043b\u0435\u0439."),u(null)}catch(e){console.error("Error saving role:",e),P("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0440\u043e\u043b\u0438")}},className:"bg-accent-primary text-white px-4 py-2 rounded-lg font-rajdhani font-bold hover:bg-accent-primary/90",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})}),v&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Gt.jsx)("h3",{className:"text-xl font-bold text-white font-rajdhani mb-4",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0440\u043e\u043b\u0438"}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary font-roboto text-sm mb-1",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438"}),(0,Gt.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 bg-surface-primary border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary font-roboto text-sm mb-1",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,Gt.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 bg-surface-primary border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",rows:"3"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary font-roboto text-sm mb-3",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:Object.entries(Cu).map((e=>{let[t,a]=e;return(0,Gt.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("input",{type:"checkbox",checked:b.includes(t),onChange:()=>O(t),className:"text-accent-primary focus:ring-accent-primary border-border-primary rounded"}),(0,Gt.jsx)("span",{className:"text-sm text-white font-roboto",children:a})]},t)}))})]})]}),(0,Gt.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,Gt.jsx)("button",{onClick:()=>{j(!1),p(""),g(""),y([])},className:"px-4 py-2 text-text-secondary hover:text-white font-roboto",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Gt.jsx)("button",{onClick:async()=>{try{if(!x.trim())return void P("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438");P("\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0440\u043e\u043b\u0435\u0439 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u044f\u0445"),j(!1),p(""),g(""),y([])}catch(e){console.error("Error creating role:",e),P("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0440\u043e\u043b\u0438")}},className:"bg-accent-primary text-white px-4 py-2 rounded-lg font-rajdhani font-bold hover:bg-accent-primary/90",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})]})}),w&&h&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gt.jsxs)("h3",{className:"font-russo text-xl text-white",children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",h.username]}),(0,Gt.jsx)("button",{onClick:()=>{N(!1),m(null),A("")},className:"text-text-secondary hover:text-white",disabled:M,children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f *"}),(0,Gt.jsx)("input",{type:"text",value:S.username,onChange:e=>{Vt(e.target.value,(e=>C((t=>d(d({},t),{},{username:e})))),A)},className:"w-full px-3 py-2 bg-surface-sidebar border rounded-lg text-white font-roboto focus:outline-none focus:ring-2 ".concat(E?"border-red-500 focus:ring-red-500":"border-border-primary focus:ring-accent-primary"),placeholder:"user123",disabled:M}),E?(0,Gt.jsx)("p",{className:"text-xs text-red-400 mt-1",children:E}):(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u0414\u043b\u0438\u043d\u0430: 3-15 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432. \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b: \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0430, \u0446\u0438\u0444\u0440\u044b, \u0434\u0435\u0444\u0438\u0441, \u043f\u043e\u0434\u0447\u0451\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435, \u0442\u043e\u0447\u043a\u0430, \u043f\u0440\u043e\u0431\u0435\u043b\u044b"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Email *"}),(0,Gt.jsx)("input",{type:"email",value:S.email,onChange:e=>C((t=>d(d({},t),{},{email:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"user@example.com",disabled:M})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"}),(0,Gt.jsx)("input",{type:"password",value:S.password,onChange:e=>C((t=>d(d({},t),{},{password:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",disabled:M,minLength:"8"}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),(0,Gt.jsx)("input",{type:"password",value:S.confirm_password,onChange:e=>C((t=>d(d({},t),{},{confirm_password:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",disabled:M,minLength:"8"})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0420\u043e\u043b\u044c"}),(0,Gt.jsxs)("select",{value:S.role,onChange:e=>C((t=>d(d({},t),{},{role:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:M||"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role),children:[(0,Gt.jsx)("option",{value:"USER",children:"USER"}),(0,Gt.jsx)("option",{value:"MODERATOR",children:"MODERATOR"}),(0,Gt.jsx)("option",{value:"ADMIN",children:"ADMIN"}),"SUPER_ADMIN"===(null===t||void 0===t?void 0:t.role)&&(0,Gt.jsx)("option",{value:"SUPER_ADMIN",children:"SUPER_ADMIN"})]}),"SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)&&(0,Gt.jsx)("p",{className:"text-xs text-yellow-400 mt-1",children:"\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043b\u044e\u0431\u044b\u0435 \u0440\u043e\u043b\u0438"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u043e\u043b"}),(0,Gt.jsxs)("select",{value:S.gender,onChange:e=>C((t=>d(d({},t),{},{gender:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:M,children:[(0,Gt.jsx)("option",{value:"male",children:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430"}),(0,Gt.jsx)("option",{value:"female",children:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430"})]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0414\u0435\u043c\u043e-\u0431\u0430\u043b\u0430\u043d\u0441 ($)"}),(0,Gt.jsx)("input",{type:"number",value:S.virtual_balance,onChange:e=>C((t=>d(d({},t),{},{virtual_balance:Math.max(1,Math.min(1e4,parseInt(e.target.value)||1e3))}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"1",max:"10000",disabled:M}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 1 \u0434\u043e 10000"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0414\u043d\u0435\u0432\u043d\u043e\u0439 \u043b\u0438\u043c\u0438\u0442 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f ($)"}),(0,Gt.jsx)("input",{type:"number",value:S.daily_limit_max,onChange:e=>C((t=>d(d({},t),{},{daily_limit_max:Math.max(1,Math.min(1e4,parseInt(e.target.value)||1e3))}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",min:"1",max:"10000",disabled:M}),(0,Gt.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"\u041e\u0442 1 \u0434\u043e 10000"})]})]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Gt.jsxs)("select",{value:S.status,onChange:e=>C((t=>d(d({},t),{},{status:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary",disabled:M,children:[(0,Gt.jsx)("option",{value:"ACTIVE",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"}),(0,Gt.jsx)("option",{value:"BANNED",children:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"}),(0,Gt.jsx)("option",{value:"EMAIL_PENDING",children:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"})]})]}),"BANNED"===S.status&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 *"}),(0,Gt.jsx)("textarea",{value:S.ban_reason,onChange:e=>C((t=>d(d({},t),{},{ban_reason:e.target.value}))),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary resize-none",rows:"3",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438...",disabled:M})]})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,Gt.jsx)("button",{onClick:async()=>{try{if(L(!0),!S.username.trim())return void P("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");if(!S.email.trim())return void P("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email");if(S.username&&S.username.trim()){const e=Wt(S.username);if(!e.isValid)return void P(e.errors[0])}if(S.password||S.confirm_password){if(S.password!==S.confirm_password)return void P("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");if(S.password.length<8)return void P("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}if("BANNED"===S.status&&!S.ban_reason.trim())return void P('\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u043f\u0440\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0435 "\u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"');if("SUPER_ADMIN"!==(null===t||void 0===t?void 0:t.role)&&"SUPER_ADMIN"===S.role)return void P("\u0422\u043e\u043b\u044c\u043a\u043e SUPER_ADMIN \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0440\u043e\u043b\u044c SUPER_ADMIN");const e={username:S.username,email:S.email,role:S.role,gender:S.gender,virtual_balance:S.virtual_balance,daily_limit_max:S.daily_limit_max,status:S.status};S.password&&(e.password=S.password),"BANNED"===S.status&&(e.ban_reason=S.ban_reason);const a=localStorage.getItem("token");await Pt.put("".concat(Su,"/api/admin/users/").concat(h.id),e,{headers:{Authorization:"Bearer ".concat(a)}}),T("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),N(!1),m(null),A(""),z()}catch(s){var e,a;console.error("Error updating user:",s),P((null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")}finally{L(!1)}},disabled:M,className:"flex-1 py-2 bg-accent-primary text-white font-rajdhani font-bold rounded-lg hover:bg-opacity-80 transition-colors disabled:opacity-50",children:M?(0,Gt.jsx)(Gt.Fragment,{children:(0,Gt.jsx)(ga,{size:16,ariaLabel:"Saving user"})}):"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,Gt.jsx)("button",{onClick:()=>{N(!1),m(null),A("")},disabled:M,className:"flex-1 py-2 bg-gray-600 text-white font-rajdhani font-bold rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})]})},Pu="".concat("https://income-bot-3.preview.emergentagent.com","/api"),zu=e=>{var t,a;let{user:s,onClose:n}=e;const[o,i]=(0,r.useState)("dashboard"),[l,c]=(0,r.useState)({}),[u,h]=(0,r.useState)(!0),[m,x]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[g,b]=(0,r.useState)({}),[y,v]=(0,r.useState)(!0),[j,w]=(0,r.useState)(null),[N,_]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),C=(0,r.useRef)(null),M=(0,r.useRef)(0),L=()=>{C.current&&(clearTimeout(C.current),C.current=null)},E=()=>{L(),C.current=setTimeout((()=>{M.current=Date.now(),S(!0)}),1e3)},A=()=>{if(!k)return void L();const e=Date.now()-M.current,t=Math.max(0,600-e);L(),t>0?C.current=setTimeout((()=>{S(!1),L()}),t):S(!1)},[T,P]=(0,r.useState)({period:"all_time",startDate:"",endDate:""}),[z,I]=(0,r.useState)(!1),{showSuccessRU:O,showErrorRU:D}=Qt(),{confirm:R,confirmationModal:B}=$d(),[F,W]=(0,r.useState)(!1),[V,U]=(0,r.useState)("24h"),[H,q]=(0,r.useState)(""),[G,$]=(0,r.useState)(""),[Y,Q]=(0,r.useState)(1),[K,X]=(0,r.useState)(50),[J,Z]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(""),[ae,se]=(0,r.useState)({items:[],found:0,checked:0,page:1,pages:0,period:{}}),re=async(e,t)=>{Z(!0),te("");try{const a=localStorage.getItem("token"),s=e||Y,r=t||K,n=(()=>{const e=new Date;let t=new Date(e);if("24h"===V)t=new Date(e.getTime()-864e5);else if("7d"===V)t=new Date(e.getTime()-6048e5);else if("30d"===V)t=new Date(e.getTime()-2592e6);else if("custom"===V&&H&&G)return{start_ts:new Date(H).toISOString(),end_ts:new Date(G).toISOString()};return{start_ts:t.toISOString(),end_ts:e.toISOString()}})(),o=(await Pt.get("".concat(Pu,"/admin/games/scan-inconsistencies"),{headers:{Authorization:"Bearer ".concat(a)},params:{start_ts:n.start_ts,end_ts:n.end_ts,page:s,page_size:r}})).data||{};se({items:o.items||[],found:o.found||0,checked:o.checked||0,page:o.page||s,pages:o.pages||0,period:o.period||{}}),Q(o.page||s),X(r)}catch(a){console.error("Scan inconsistencies error",a),te("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435.")}finally{Z(!1)}};if((0,r.useEffect)((()=>{s&&("ADMIN"===s.role||"SUPER_ADMIN"===s.role||s.role)}),[s]),!s||"ADMIN"!==s.role&&"SUPER_ADMIN"!==s.role&&"MODERATOR"!==s.role)return(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-red-500 rounded-lg p-8 text-center",children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-red-400 mb-4",children:"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0451\u043d"}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary",children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u0438"}),(0,Gt.jsxs)("p",{className:"font-roboto text-text-secondary mt-2",children:["\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0440\u043e\u043b\u044c: ",(null===s||void 0===s?void 0:s.role)||"\u041d\u0415 \u041e\u041f\u0420\u0415\u0414\u0415\u041b\u0415\u041d\u0410"]}),(0,Gt.jsx)("button",{onClick:n,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})});const ne=(0,r.useRef)(!1);(0,r.useEffect)((()=>{oe()}),[T]),(0,r.useEffect)((()=>(u?E():A(),()=>L())),[u]);const oe=async()=>{if(!ne.current){ne.current=!0;try{var e,t;const a=localStorage.getItem("token");let s={};"all_time"!==T.period&&(s.bet_volume_period=T.period),T.startDate&&T.endDate&&(s.bet_volume_start_date=T.startDate,s.bet_volume_end_date=T.endDate);const[r,n,o,i]=await Promise.allSettled([Pt.get("".concat(Pu,"/admin/users/stats"),{headers:{Authorization:"Bearer ".concat(a)}}),Pt.get("".concat(Pu,"/bots"),{headers:{Authorization:"Bearer ".concat(a)}}),Pt.get("".concat(Pu,"/admin/games/stats"),{headers:{Authorization:"Bearer ".concat(a)}}),Pt.get("".concat(Pu,"/admin/dashboard/stats"),{headers:{Authorization:"Bearer ".concat(a)},params:s})]);c({users:"fulfilled"===r.status?r.value.data:{total:"\u2014",active:"\u2014",banned:"\u2014"},bots:"fulfilled"===n.status?Array.isArray(n.value.data)?n.value.data.length:null!==(e=null===(t=n.value.data)||void 0===t?void 0:t.total)&&void 0!==e?e:"\u2014":"\u2014",games:"fulfilled"===o.status?o.value.data:{total:"\u2014",active:"\u2014",completed:"\u2014"}}),"fulfilled"===i.status?b(i.value.data):b({active_human_bots:"\u2014",active_regular_bots:"\u2014",online_users:"\u2014",active_games:"\u2014",total_bet_volume:"\u2014",online_bet_volume:"\u2014"}),h(!1)}catch(a){h(!1)}finally{ne.current=!1}}},ie=e=>"\u2014"===e||void 0===e||null===e?"\u2014":Number(e).toLocaleString("en-US"),le=async()=>{if(await R({title:"\u0421\u0431\u0440\u043e\u0441 \u043e\u0431\u044a\u0451\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043e\u0431\u0449\u0438\u0439 \u043e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0443\u0434\u0430\u043b\u0438\u0442 \u0432\u0441\u0435 \u0438\u0433\u0440\u044b \u0438 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",confirmText:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"}))try{const e=localStorage.getItem("token");await Pt.post("".concat(Pu,"/admin/dashboard/reset-bet-volume"),{},{headers:{Authorization:"Bearer ".concat(e)}}),O("\u041e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d"),await oe()}catch(a){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043e\u0431\u044a\u0451\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a:",a),D("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043e\u0431\u044a\u0451\u043c\u0430 \u0441\u0442\u0430\u0432\u043e\u043a: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}},ce=async()=>{await oe(),O("\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430")},de=async()=>{if(N)return;if(await R({title:"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u043a\u044d\u0448\u0430",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439 \u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u044d\u0448? \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0437\u0430\u043c\u0435\u0434\u043b\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.",type:"warning"}))try{_(!0);const e=localStorage.getItem("token"),t=await Pt.post("".concat(Pu,"/admin/cache/clear"),{},{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.data.success)throw new Error(t.data.message||"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430");{const e=localStorage.getItem("token"),a=localStorage.getItem("user");if(localStorage.clear(),e&&localStorage.setItem("token",e),a&&localStorage.setItem("user",a),sessionStorage.clear(),"caches"in window){const e=await caches.keys();await Promise.all(e.map((e=>caches.delete(e))))}await oe(),O("\u041a\u044d\u0448 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0447\u0438\u0449\u0435\u043d! ".concat(t.data.message))}}catch(a){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u044d\u0448\u0430:",a);const s=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message||"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0447\u0438\u0441\u0442\u043a\u0435 \u043a\u044d\u0448\u0430";D("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u044d\u0448\u0430: ".concat(s))}finally{_(!1)}};(0,r.useEffect)((()=>{if(y&&"dashboard"===o){const e=setInterval(oe,5e3);return w(e),()=>clearInterval(e)}j&&(clearInterval(j),w(null))}),[y,o]);const ue=[{id:"dashboard",title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",permission:"VIEW_ADMIN_PANEL",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})},{id:"users",title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",permission:"MANAGE_USERS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})})},{id:"bets",title:"\u0421\u0442\u0430\u0432\u043a\u0438",permission:"MANAGE_GAMES",icon:(0,Gt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12h3m-6 0h.01"})]})},{id:"regular-bots",title:"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0411\u043e\u0442\u044b",permission:"MANAGE_BOTS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})})},{id:"human-bots",title:"Human \u0411\u043e\u0442\u044b",permission:"MANAGE_BOTS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"bot-settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u043e\u0432",permission:"MANAGE_BOTS",icon:(0,Gt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"bot-analytics",title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u0431\u043e\u0442\u043e\u0432",permission:"VIEW_ANALYTICS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"bots",title:"\u0411\u043e\u0442\u044b",permission:"MANAGE_BOTS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3.5a1.5 1.5 0 1 1 3 0M12 3.5v2M7.5 7.5h9a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3ZM9 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM8.25 18h7.5M12 1.5v2"})})},{id:"games",title:"\u0418\u0433\u0440\u044b",permission:"MANAGE_GAMES",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{id:"gems",title:"\u0413\u0435\u043c\u044b",permission:"MANAGE_GEMS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.091 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})})},{id:"sounds",title:"\u0417\u0432\u0443\u043a\u0438",permission:"MANAGE_SOUNDS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.5c-.69 0-1.25-.56-1.25-1.25v-3.5c0-.69.56-1.25 1.25-1.25h2.25Z"})})},{id:"notifications",title:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",permission:"MANAGE_SOUNDS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})},{id:"settings",title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",permission:"MANAGE_SOUNDS",icon:(0,Gt.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"profit",title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c",permission:"MANAGE_ECONOMY",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})},{id:"analytics",title:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",permission:"VIEW_ANALYTICS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"logs",title:"\u041b\u043e\u0433\u0438",permission:"VIEW_ANALYTICS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"notification-demo",title:"Notification",permission:"MANAGE_SOUNDS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5-5-5h5V12h-5l5-5 5 5h-5v5zM4 4h16v2H4V4zM4 8h16v2H4V8zM4 12h16v2H4v-2z"})})},{id:"monitoring",title:"Monitoring",permission:"VIEW_ANALYTICS",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}].filter((e=>(e=>{if(!s||!s.role)return!1;const t={MODERATOR:["VIEW_ADMIN_PANEL","MANAGE_USERS","MANAGE_GAMES"],ADMIN:["VIEW_ADMIN_PANEL","MANAGE_USERS","MANAGE_GAMES","MANAGE_BOTS","MANAGE_ECONOMY","VIEW_ANALYTICS","MANAGE_SOUNDS"],SUPER_ADMIN:["ALL","MANAGE_GEMS"]}[s.role]||[];return t.includes("ALL")||t.includes(e)})(e.permission)));!s||"ADMIN"!==s.role&&"SUPER_ADMIN"!==s.role||ue.push({id:"roles",title:"\u0420\u043e\u043b\u0438 \u0438 \u043f\u0440\u0430\u0432\u0430",permission:"MANAGE_ROLES",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})});const he=e=>{let{title:t,value:a,icon:s,color:r="text-accent-primary"}=e;return(0,Gt.jsx)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:t}),(0,Gt.jsx)("p",{className:"font-rajdhani text-3xl font-bold ".concat(r),children:a})]}),(0,Gt.jsx)("div",{className:"".concat(r," opacity-60"),children:s})]})})},me=e=>{let{title:t,value:a,icon:s,color:r="text-accent-primary",onAction:n,actionIcon:o,actionTitle:i,filters:l,onFilterChange:c,showFilters:d,setShowFilters:u}=e;const h=(new Date).toISOString().split("T")[0];return(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg overflow-hidden hover:border-green-500 transition-colors duration-200",children:[(0,Gt.jsx)("div",{className:"p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{className:"flex-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:t}),(0,Gt.jsx)("button",{onClick:()=>u(!d),className:"p-1 text-text-secondary hover:text-white rounded transition-colors",title:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u043f\u0435\u0440\u0438\u043e\u0434\u0430",children:(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})})})]}),(0,Gt.jsx)("p",{className:"font-rajdhani text-3xl font-bold ".concat(r),children:a}),(0,Gt.jsx)("p",{className:"font-roboto text-xs text-text-secondary mt-1",children:ge()})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("button",{onClick:n,className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200",title:i,children:o}),(0,Gt.jsx)("div",{className:"".concat(r," opacity-60"),children:s})]})]})}),d&&(0,Gt.jsx)("div",{className:"border-t border-border-primary bg-surface-sidebar bg-opacity-30 p-4",children:(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-2",children:"\u041f\u0435\u0440\u0438\u043e\u0434"}),(0,Gt.jsxs)("select",{value:l.period,onChange:e=>c("period",e.target.value),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto text-sm focus:outline-none focus:border-accent-primary",children:[(0,Gt.jsx)("option",{value:"all_time",children:"\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f"}),(0,Gt.jsx)("option",{value:"day",children:"\u0417\u0430 \u0434\u0435\u043d\u044c"}),(0,Gt.jsx)("option",{value:"week",children:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"}),(0,Gt.jsx)("option",{value:"month",children:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446"}),(0,Gt.jsx)("option",{value:"quarter",children:"\u0417\u0430 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"}),(0,Gt.jsx)("option",{value:"half_year",children:"\u0417\u0430 \u043f\u043e\u043b\u0443\u0433\u043e\u0434\u0438\u0435"}),(0,Gt.jsx)("option",{value:"year_1",children:"\u0417\u0430 1 \u0433\u043e\u0434"}),(0,Gt.jsx)("option",{value:"year_2",children:"\u0417\u0430 2 \u0433\u043e\u0434\u0430"}),(0,Gt.jsx)("option",{value:"year_3",children:"\u0417\u0430 3 \u0433\u043e\u0434\u0430"}),(0,Gt.jsx)("option",{value:"custom",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0430\u0442\u044b"})]})]}),"custom"===l.period&&(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"\u0421 \u0434\u0430\u0442\u044b"}),(0,Gt.jsx)("input",{type:"date",value:l.startDate,max:h,onChange:e=>c("startDate",e.target.value),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto text-sm focus:outline-none focus:border-accent-primary"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-roboto text-text-secondary text-sm mb-1",children:"\u0414\u043e \u0434\u0430\u0442\u044b"}),(0,Gt.jsx)("input",{type:"date",value:l.endDate,max:h,min:l.startDate,onChange:e=>c("endDate",e.target.value),className:"w-full px-3 py-2 bg-surface-card border border-border-primary rounded-lg text-white font-roboto text-sm focus:outline-none focus:border-accent-primary"})]})]})]})})]})},xe=()=>(0,Gt.jsxs)("div",{className:"space-y-8",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white",children:"\u041e\u0431\u0437\u043e\u0440 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsx)("button",{onClick:ce,className:"p-2 bg-surface-sidebar border border-border-primary rounded-lg text-accent-primary hover:bg-surface-card transition-colors duration-200",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443",children:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Gt.jsx)("button",{onClick:de,disabled:N,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-800 disabled:opacity-50 border border-yellow-500 rounded-lg text-white font-roboto text-sm transition-colors duration-200 flex items-center space-x-2 ".concat(N?"cursor-not-allowed":"cursor-pointer"),title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439 \u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u044d\u0448",children:N?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Gt.jsx)("span",{children:"\u041e\u0447\u0438\u0441\u0442\u043a\u0430..."})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,Gt.jsx)("span",{children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u044d\u0448"})]})}),("ADMIN"===(null===s||void 0===s?void 0:s.role)||"SUPER_ADMIN"===(null===s||void 0===s?void 0:s.role)||"MODERATOR"===(null===s||void 0===s?void 0:s.role))&&(0,Gt.jsxs)("button",{onClick:()=>W(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 border border-red-500 rounded-lg text-white font-roboto text-sm transition-colors duration-200 flex items-center space-x-2",title:"\u041d\u0430\u0439\u0442\u0438 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u043d\u0435\u043a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u044b\u0435 \u043c\u0430\u0442\u0447\u0438",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M11 18a7 7 0 100-14 7 7 0 000 14z"})}),(0,Gt.jsx)("span",{children:"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("span",{className:"text-text-secondary text-sm",children:"\u0410\u0432\u0442\u043e\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435:"}),(0,Gt.jsx)("button",{onClick:()=>v(!y),className:"w-12 h-6 rounded-full transition-colors duration-200 flex items-center ".concat(y?"bg-green-500":"bg-gray-600"),children:(0,Gt.jsx)("div",{className:"w-5 h-5 bg-white rounded-full transition-transform duration-200 ".concat(y?"translate-x-6":"translate-x-0.5")})})]})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Gt.jsx)(he,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",value:ie(g.total_users),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),color:"text-indigo-400"}),(0,Gt.jsx)(he,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",value:ie(g.online_users),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),color:"text-green-400"}),(0,Gt.jsx)(he,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u0442\u0430\u0432\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",value:ie(g.active_user_bets),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 4v12l-4-2-4 2V4M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),color:"text-emerald-400"}),(0,Gt.jsx)(he,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 Human \u0431\u043e\u0442\u043e\u0432",value:ie(g.active_human_bots),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),color:"text-blue-400"}),(0,Gt.jsx)(he,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440 Human \u0431\u043e\u0442\u043e\u0432",value:ie(g.active_human_bots_games),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"text-orange-400"}),(0,Gt.jsx)(he,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u041e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",value:ie(g.active_regular_bots),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"text-cyan-400"}),(0,Gt.jsx)(he,{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0438\u0433\u0440 \u041e\u0431\u044b\u0447\u043d\u044b\u0445 \u0431\u043e\u0442\u043e\u0432",value:ie(g.active_regular_bots_games),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"text-orange-400"}),(0,Gt.jsx)(me,{title:"\u041e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a",value:ie(g.total_bet_volume),icon:(0,Gt.jsx)("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),color:"text-yellow-400",onAction:le,actionIcon:(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),actionTitle:"\u0421\u0431\u0440\u043e\u0441",filters:T,onFilterChange:fe,showFilters:z,setShowFilters:I}),(0,Gt.jsx)(he,{title:"\u041e\u0431\u044a\u0451\u043c \u0441\u0442\u0430\u0432\u043e\u043a \u043e\u043d\u043b\u0430\u0439\u043d",value:ie(g.online_bet_volume),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),color:"text-purple-400"}),(0,Gt.jsx)(he,{title:"\u041e\u0431\u0449\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b",value:ie(g.total_active_games),icon:(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),color:"text-teal-400"})]})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"Quick Actions"}),(0,Gt.jsxs)("div",{className:"space-y-3",children:[(0,Gt.jsx)("button",{onClick:()=>i("users"),className:"w-full px-4 py-3 bg-gradient-accent text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83d\udc65 User Management"}),("ADMIN"===(null===s||void 0===s?void 0:s.role)||"SUPER_ADMIN"===(null===s||void 0===s?void 0:s.role))&&(0,Gt.jsx)("button",{onClick:()=>i("roles"),className:"w-full px-4 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83d\udee1\ufe0f Role Management"}),(0,Gt.jsx)("button",{onClick:()=>i("human-bots"),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83e\udd16 Human Bot Management"}),(0,Gt.jsx)("button",{onClick:()=>i("games"),className:"w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white font-rajdhani font-bold rounded-lg hover:opacity-90 transition-opacity text-left",children:"\ud83c\udfae Game Monitoring"})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 hover:border-green-500 transition-colors duration-200",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"System Information"}),(0,Gt.jsxs)("div",{className:"space-y-3 text-text-secondary",children:[(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{children:"Version:"}),(0,Gt.jsx)("span",{className:"text-white",children:"GemPlay v1.0"})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{children:"Status:"}),(0,Gt.jsx)("span",{className:"text-green-400",children:"\ud83d\udfe2 Online"})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{children:"Role:"}),(0,Gt.jsx)("span",{className:"text-accent-primary font-bold",children:s.role})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{children:"Last Login:"}),(0,Gt.jsx)("span",{className:"text-white",children:s.last_login?new Date(s.last_login).toLocaleDateString("en-US"):"Not specified"})]}),(0,Gt.jsxs)("div",{className:"flex justify-between",children:[(0,Gt.jsx)("span",{children:"Auto-Refresh:"}),(0,Gt.jsx)("span",{className:y?"text-green-400":"text-red-400",children:y?"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e (5\u0441)":"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e"})]})]})]})]})]}),pe=async()=>{if(await R({title:"\u0421\u0431\u0440\u043e\u0441 \u0432\u0441\u0435\u0445 \u0441\u0442\u0430\u0432\u043e\u043a",message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.",confirmText:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",type:"danger"})){f(!0);try{const e=localStorage.getItem("token");await Pt.post("".concat(Pu,"/admin/games/reset-all"),{},{headers:{Authorization:"Bearer ".concat(e)}}),O("\u0412\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b"),await oe()}catch(a){var e,t;console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a:",a),D("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0432\u043e\u043a: "+((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||a.message))}finally{f(!1)}}},fe=(e,t)=>{P((a=>d(d({},a),{},{[e]:t},"period"===e&&"custom"!==t?{startDate:"",endDate:""}:{})))},ge=()=>"custom"===T.period&&T.startDate&&T.endDate?"".concat(T.startDate," - ").concat(T.endDate):{all_time:"\u0437\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f",day:"\u0437\u0430 \u0434\u0435\u043d\u044c",week:"\u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",month:"\u0437\u0430 \u043c\u0435\u0441\u044f\u0446",quarter:"\u0437\u0430 \u043a\u0432\u0430\u0440\u0442\u0430\u043b",half_year:"\u0437\u0430 \u043f\u043e\u043b\u0443\u0433\u043e\u0434\u0438\u0435",year_1:"\u0437\u0430 1 \u0433\u043e\u0434",year_2:"\u0437\u0430 2 \u0433\u043e\u0434\u0430",year_3:"\u0437\u0430 3 \u0433\u043e\u0434\u0430",custom:"\u0437\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"}[T.period]||"\u0437\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f",be=()=>{var e,t,a;return(0,Gt.jsx)("div",{className:"space-y-8",children:(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h2",{className:"font-russo text-2xl text-white mb-6",children:"Game Management"}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6 mb-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u041e\u043f\u0430\u0441\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}),(0,Gt.jsxs)("div",{className:"bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30 rounded-lg p-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Gt.jsx)("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,Gt.jsx)("h4",{className:"font-rajdhani text-lg font-bold text-red-400",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm mb-4",children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442 \u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0438\u0433\u0440\u044b, \u0432\u0435\u0440\u043d\u0451\u0442 \u0437\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0433\u0435\u043c\u044b \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e \u0432\u0441\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0438 \u0431\u043e\u0442\u0430\u043c. \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."}),(0,Gt.jsx)("button",{onClick:pe,disabled:p,className:"px-6 py-3 font-rajdhani font-bold rounded-lg transition-all duration-300 ".concat(p?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"),children:p?(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Gt.jsx)("span",{children:"\u0421\u0431\u0440\u043e\u0441..."})]}):"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0442\u0430\u0432\u043a\u0438"})]})]}),(0,Gt.jsxs)("div",{className:"bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-6",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl font-bold text-white mb-4",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438\u0433\u0440"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0412\u0441\u0435\u0433\u043e \u0438\u0433\u0440"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-white",children:(null===(e=l.games)||void 0===e?void 0:e.total)||"\u2014"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"Active Games"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:(null===(t=l.games)||void 0===t?void 0:t.active)||"\u2014"})]}),(0,Gt.jsxs)("div",{className:"bg-surface-sidebar rounded-lg p-4",children:[(0,Gt.jsx)("div",{className:"text-text-secondary text-sm",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0451\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"}),(0,Gt.jsx)("div",{className:"text-2xl font-bold text-green-400",children:(null===(a=l.games)||void 0===a?void 0:a.completed)||"\u2014"})]})]})]})]})})};return u?(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Gt.jsx)("div",{className:"text-white text-xl font-roboto",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u0430\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c..."})}):(0,Gt.jsxs)("div",{className:"min-h-screen bg-gradient-primary flex",children:[(0,Gt.jsx)("div",{className:"".concat(m?"w-16":"w-64"," bg-surface-sidebar border-r border-border-primary min-h-screen transition-all duration-300 flex-shrink-0"),children:(0,Gt.jsxs)("div",{className:"p-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[!m&&(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-10 h-10 bg-gradient-accent rounded-lg flex items-center justify-center",children:(0,Gt.jsxs)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h1",{className:"font-russo text-xl text-accent-primary",children:"\u0410\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c"}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-sm",children:"GemPlay"})]})]}),(0,Gt.jsx)("button",{onClick:()=>x(!m),className:"admin-tooltip flex items-center justify-center p-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",title:m?"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0435\u043d\u044e":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0435\u043d\u044e",children:(0,Gt.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 ".concat(m?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),m?(0,Gt.jsx)("button",{onClick:n,className:"w-full flex items-center justify-center px-2 py-2 mb-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",title:"\u041d\u0430\u0437\u0430\u0434",children:(0,Gt.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[F&&(0,Gt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,Gt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-60",onClick:()=>W(!1)}),(0,Gt.jsxs)("div",{className:"relative bg-surface-card border border-border-primary rounded-xl w-full max-w-5xl mx-4 p-6",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xl text-white font-bold",children:"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0439"}),(0,Gt.jsx)("button",{onClick:()=>W(!1),className:"text-text-secondary hover:text-white",children:"\u2715"})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041f\u0435\u0440\u0438\u043e\u0434"}),(0,Gt.jsxs)("select",{value:V,onChange:e=>U(e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white",children:[(0,Gt.jsx)("option",{value:"24h",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 24 \u0447\u0430\u0441\u0430"}),(0,Gt.jsx)("option",{value:"7d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439"}),(0,Gt.jsx)("option",{value:"30d",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 30 \u0434\u043d\u0435\u0439"}),(0,Gt.jsx)("option",{value:"custom",children:"\u0421\u0432\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"})]})]}),"custom"===V&&(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041d\u0430\u0447\u0430\u043b\u043e"}),(0,Gt.jsx)("input",{type:"datetime-local",value:H,onChange:e=>q(e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"\u041a\u043e\u043d\u0435\u0446"}),(0,Gt.jsx)("input",{type:"datetime-local",value:G,onChange:e=>$(e.target.value),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white"})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-text-secondary text-sm mb-2",children:"Page size"}),(0,Gt.jsxs)("select",{value:K,onChange:e=>X(Number(e.target.value)),className:"w-full px-3 py-2 bg-surface-sidebar border border-border-primary rounded-lg text-white",children:[(0,Gt.jsx)("option",{value:25,children:"25"}),(0,Gt.jsx)("option",{value:50,children:"50"}),(0,Gt.jsx)("option",{value:100,children:"100"})]})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Gt.jsx)("button",{onClick:()=>re(1,K),disabled:J||"custom"===V&&(!H||!G),className:"px-4 py-2 rounded-lg font-rajdhani font-bold ".concat(J?"bg-gray-600 text-gray-400":"bg-accent-primary text-white hover:opacity-90"),children:J?"\u0421\u043a\u0430\u043d\u0438\u0440\u0443\u044e...":"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),ee&&(0,Gt.jsx)("span",{className:"text-red-400 text-sm",children:ee}),(null===ae||void 0===ae?void 0:ae.found)>0&&(0,Gt.jsxs)("span",{className:"text-yellow-400 text-sm",children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",ae.found," (\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: ",ae.checked,")"]})]}),(0,Gt.jsx)("div",{className:"overflow-x-auto border border-border-primary rounded-lg",children:(0,Gt.jsxs)("table",{className:"w-full text-left",children:[(0,Gt.jsx)("thead",{children:(0,Gt.jsxs)("tr",{className:"border-b border-border-primary text-text-secondary",children:[(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Completed At"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Game ID"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Creator"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Opponent"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Creator Move"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Opponent Move"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Winner"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Expected"})]})}),(0,Gt.jsx)("tbody",{children:0===(ae.items||[]).length?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{className:"py-4 px-3 text-text-secondary",colSpan:"8",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}):ae.items.map((e=>(0,Gt.jsxs)("tr",{className:"border-t border-border-primary",children:[(0,Gt.jsx)("td",{className:"py-2 px-3 text-white",children:e.completed_at?new Date(e.completed_at).toLocaleString():"\u2014"}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-white font-mono text-xs",children:e.game_id}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-white font-mono text-xs",children:e.creator_id}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-white font-mono text-xs",children:e.opponent_id}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-white",children:e.creator_move}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-white",children:e.opponent_move}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-white font-mono text-xs",children:e.winner_id||"DRAW"}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-white font-mono text-xs",children:e.expected_winner_id||"DRAW"})]},e.game_id)))})]})}),ae.pages>1&&(0,Gt.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,Gt.jsxs)("div",{className:"text-text-secondary text-sm",children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",ae.page," \u0438\u0437 ",ae.pages]}),(0,Gt.jsxs)("div",{className:"space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>re(Math.max(1,ae.page-1)),disabled:J||ae.page<=1,className:"px-3 py-2 rounded bg-surface-sidebar border border-border-primary text-white ".concat(ae.page<=1?"opacity-50 cursor-not-allowed":"hover:bg-surface-card"),children:"\u041d\u0430\u0437\u0430\u0434"}),(0,Gt.jsx)("button",{onClick:()=>re(Math.min(ae.pages,ae.page+1)),disabled:J||ae.page>=ae.pages,className:"px-3 py-2 rounded bg-surface-sidebar border border-border-primary text-white ".concat(ae.page>=ae.pages?"opacity-50 cursor-not-allowed":"hover:bg-surface-card"),children:"\u0412\u043f\u0435\u0440\u0451\u0434"})]})]}),(0,Gt.jsxs)("div",{className:"mt-4 text-text-secondary text-xs",children:["\u041f\u0435\u0440\u0438\u043e\u0434: ",null!==ae&&void 0!==ae&&null!==(t=ae.period)&&void 0!==t&&t.start?new Date(ae.period.start).toLocaleString():"\u2014"," \u2014 ",null!==ae&&void 0!==ae&&null!==(a=ae.period)&&void 0!==a&&a.end?new Date(ae.period.end).toLocaleString():"\u2014"]})]})]}),(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]})}):(0,Gt.jsxs)("button",{onClick:n,className:"w-full flex items-center space-x-2 px-4 py-2 mb-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg text-text-secondary hover:text-white hover:border-accent-primary hover:border-opacity-100 transition-all duration-300",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,Gt.jsx)("span",{className:"text-sm font-rajdhani",children:"\u041d\u0430\u0437\u0430\u0434"})]}),(0,Gt.jsx)("nav",{className:"space-y-2",children:ue.map((e=>(0,Gt.jsxs)("button",{onClick:()=>{return t=e.id,void(o!==t&&(E(),i(t),setTimeout((()=>A()),0)));var t},className:"admin-tooltip w-full flex items-center ".concat(m?"justify-center":"space-x-3"," px-4 py-3 rounded-lg transition-all duration-200 ").concat(o===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary border-l-4 border-accent-primary":"text-text-secondary hover:text-white hover:bg-surface-card"),title:m?e.title:"",children:[(0,Gt.jsx)("div",{className:"flex-shrink-0",children:e.icon}),!m&&(0,Gt.jsx)("span",{className:"font-rajdhani font-medium",children:e.title})]},e.id)))})]})}),(0,Gt.jsxs)("div",{className:"flex-1 p-8 overflow-auto relative",children:[(()=>{switch(o){case"dashboard":default:return(0,Gt.jsx)(xe,{});case"users":return(0,Gt.jsx)(os,{user:s});case"bets":return(0,Gt.jsx)(Gd,{user:s});case"regular-bots":return(0,Gt.jsx)(au,{});case"human-bots":return(0,Gt.jsx)(cu,{user:s});case"bot-settings":return(0,Gt.jsx)(uu,{user:s});case"bot-analytics":return(0,Gt.jsx)(hu,{});case"bots":return(0,Gt.jsx)("div",{className:"text-white",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430\u043c\u0438 (\u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435)"});case"games":return(0,Gt.jsx)(be,{});case"gems":return(0,Gt.jsx)(bu,{});case"sounds":return(0,Gt.jsx)(fu,{user:s});case"notifications":return(0,Gt.jsx)(Nu,{user:s});case"profit":return(0,Gt.jsx)(Hd,{user:s});case"settings":return(0,Gt.jsx)(xu,{});case"logs":return(0,Gt.jsx)("div",{className:"text-white",children:"\u041b\u043e\u0433\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b (\u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435)"});case"notification-demo":return(0,Gt.jsx)(ju,{});case"monitoring":return(0,Gt.jsx)(ku,{});case"roles":return(0,Gt.jsx)(Tu,{user:s})}})(),k&&(0,Gt.jsx)("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-30",children:(0,Gt.jsx)(ga,{size:48,ariaLabel:"Loading section"})})]}),(0,Gt.jsx)(vu,{}),(0,Gt.jsx)(Qd,d({},B))]})},Iu=e=>{let{currentView:t,setCurrentView:a,user:s,onOpenAdminPanel:n,onLogout:o,totalBalance:i}=e;const[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[h,m]=(0,r.useState)([]),[x,p]=(0,r.useState)(!0),f="https://income-bot-3.preview.emergentagent.com",g=async()=>{if(null!==s&&void 0!==s&&s.id)try{const e=localStorage.getItem("token");if(!e)return;const t=await Pt.get("".concat(f,"/api/economy/balance"),{headers:{Authorization:"Bearer ".concat(e)}});u(t.data)}catch(e){console.error("Error fetching balance:",e)}},b=async()=>{if(null!==s&&void 0!==s&&s.id)try{const e=localStorage.getItem("token");if(!e)return;const t=await Pt.get("".concat(f,"/api/gems/inventory"),{headers:{Authorization:"Bearer ".concat(e)}});m(t.data||[])}catch(e){console.error("Error fetching gems:",e)}},y=async()=>{if(null!==s&&void 0!==s&&s.id){p(!0);try{await Promise.all([g(),b()])}catch(e){console.error("Error fetching portfolio data:",e)}finally{p(!1)}}};(0,r.useEffect)((()=>{if(y(),null!==s&&void 0!==s&&s.id){const e=oa().registerRefreshCallback((()=>{y()}));return()=>{e()}}}),[null===s||void 0===s?void 0:s.id]);const v=(()=>{if(!d)return null;const e=d.virtual_balance,t=d.frozen_balance,a=h.reduce(((e,t)=>e+t.quantity),0),s=h.reduce(((e,t)=>e+t.frozen_quantity),0),r=d.available_gem_value,n=d.total_gem_value-d.available_gem_value,o=e+t+d.total_gem_value;return{balance:{total:e+t,frozen:t,available:e},gems:{totalCount:a,totalValue:d.total_gem_value,frozenCount:s,frozenValue:n,availableValue:r},total:{value:o}}})(),j=e=>e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),w=[{id:"profile",label:"Profile",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"history",label:"History",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"admin-panel",label:"Admin",icon:(0,Gt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),adminOnly:!0}];return(0,Gt.jsxs)("div",{className:"md:hidden bg-surface-sidebar border-b border-border-primary sticky top-0 z-50",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between px-7 py-2",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Gt.jsx)(sa,{isCollapsed:!1,setCurrentView:a,user:s}),(0,Gt.jsx)("div",{className:"w-15 h-18 flex items-center justify-center",children:(0,Gt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay",className:"w-12 h-12 object-contain"})}),(0,Gt.jsx)("span",{className:"font-russo text-3xl text-accent-primary",children:"GemPLAY"})]}),(0,Gt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsxs)("button",{onClick:()=>c(!l),className:"flex items-center space-x-2 px-3 py-2 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg hover:border-opacity-50 transition-colors",children:[(0,Gt.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,Gt.jsx)("span",{className:"font-rajdhani text-white text-sm",children:"Profile"}),(0,Gt.jsx)("svg",{className:"w-4 h-4 text-gray-400 transform transition-transform ".concat(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,Gt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg shadow-lg z-50",children:[w.map((e=>e.adminOnly&&(!s||"ADMIN"!==s.role&&"SUPER_ADMIN"!==s.role&&"MODERATOR"!==s.role)?null:(0,Gt.jsxs)("button",{onClick:()=>{"admin-panel"===e.id?n():a(e.id),c(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-surface-sidebar transition-colors ".concat(t===e.id?"bg-accent-primary bg-opacity-20 text-accent-primary":"text-gray-400 hover:text-white"),children:[e.icon,(0,Gt.jsx)("span",{className:"font-rajdhani font-semibold",children:e.label})]},e.id))),(0,Gt.jsx)("div",{className:"border-t border-border-primary my-1"}),s&&(0,Gt.jsxs)("div",{className:"px-4 py-3 border-t border-border-primary",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Gt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:(0,Gt.jsx)("img",{src:"female"===s.gender?"/Women.svg":"/Men.svg",alt:"User Avatar",className:"w-11 h-11 object-contain"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"font-rajdhani font-semibold text-white text-sm",children:s.username}),(0,Gt.jsxs)("div",{className:"text-green-400 text-xs",children:["Total: $",v?j(v.total.value):i.toFixed(2)]})]})]}),(0,Gt.jsxs)("button",{onClick:o,className:"w-full flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,Gt.jsx)("span",{className:"font-rajdhani font-semibold text-sm",children:"LOGOUT"})]})]})]})]})})]}),x?(0,Gt.jsxs)("div",{className:"flex space-x-2 px-4 py-2 border-b border-border-primary",children:[(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 border border-green-500/20 min-w-0 flex-1",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"h-3 w-12 bg-gray-700 rounded animate-pulse mb-1 mx-auto"}),(0,Gt.jsx)("div",{className:"h-4 w-16 bg-gray-600 rounded animate-pulse mb-1 mx-auto"}),(0,Gt.jsx)("div",{className:"h-3 w-14 bg-gray-700 rounded animate-pulse mx-auto"})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 border border-green-500/20 min-w-0 flex-1",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"h-3 w-8 bg-gray-700 rounded animate-pulse mb-1 mx-auto"}),(0,Gt.jsx)("div",{className:"h-4 w-20 bg-gray-600 rounded animate-pulse mb-1 mx-auto"}),(0,Gt.jsx)("div",{className:"h-3 w-12 bg-gray-700 rounded animate-pulse mx-auto"})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 border border-green-500/20 min-w-0 flex-1",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"h-3 w-10 bg-gray-700 rounded animate-pulse mb-1 mx-auto"}),(0,Gt.jsx)("div",{className:"h-4 w-18 bg-gray-600 rounded animate-pulse mb-1 mx-auto"}),(0,Gt.jsx)("div",{className:"h-3 w-16 bg-gray-700 rounded animate-pulse mx-auto"})]})})]}):v?(0,Gt.jsxs)("div",{className:"flex space-x-2 px-20 py-2 border-b border-border-primary",children:[(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 border border-green-500/20 min-w-0 flex-1",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xs font-semibold text-white mb-0",children:"Balance"}),(0,Gt.jsxs)("div",{className:"font-rajdhani text-xl font-bold text-green-400 break-words whitespace-nowrap",children:["$",j(v.balance.total)]}),v.balance.frozen>0&&(0,Gt.jsxs)("div",{className:"text-xs text-orange-400",children:["Frozen: $",j(v.balance.frozen)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["$",j(v.balance.available)]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 border border-green-500/20 min-w-0 flex-1",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xs font-semibold text-white mb-0",children:"Gems"}),(0,Gt.jsxs)("div",{className:"font-rajdhani text-xl font-bold text-purple-400 break-words whitespace-nowrap",children:[j(v.gems.totalCount),"/",j(v.gems.totalValue)]}),v.gems.frozenCount>0&&(0,Gt.jsxs)("div",{className:"text-xs text-orange-400",children:["Frozen: ",j(v.gems.frozenCount),"/",j(v.gems.frozenValue)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["$",j(v.gems.availableValue)]})]})}),(0,Gt.jsx)("div",{className:"bg-surface-card rounded-lg px-2 py-2 border border-green-500/20 min-w-0 flex-1",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h3",{className:"font-rajdhani text-xs font-semibold text-white mb-0",children:"Total"}),(0,Gt.jsxs)("div",{className:"font-rajdhani text-xl font-bold text-accent-primary break-words whitespace-nowrap",children:["$",j(v.total.value)]}),(0,Gt.jsxs)("div",{className:"text-xs text-text-secondary",children:["$",(()=>{const e=v.balance.frozen+v.gems.frozenValue,t=v.total.value-e;return"".concat(j(t))})()]})]})})]}):null]})},Ou=e=>{let{user:t}=e;const{persistentNotifications:a,unreadCount:s,loading:n,fetchNotifications:o,markAsRead:i,markAllAsRead:l,deleteNotification:c}=Qt(),[d,u]=(0,r.useState)(1),[h,m]=(0,r.useState)("all"),[x,p]=(0,r.useState)("all");(0,r.useEffect)((()=>{o(d,20)}),[d,o]);const f=e=>{switch(e){case"error":return"border-l-red-500 bg-red-500 bg-opacity-5";case"warning":return"border-l-yellow-500 bg-yellow-500 bg-opacity-5";default:return"border-l-accent-primary bg-accent-primary bg-opacity-5"}},g=a.filter((e=>("unread"!==h||!e.is_read)&&(!("read"===h&&!e.is_read)&&("all"===x||e.type===x)))),b=e=>{const a=(e.type||"").toString().toLowerCase(),s=(e.title||"").toString();return"match_result"===a||"Match Result"===s?(0,Gt.jsx)(aa,{notification:e,user:t,onDelete:e=>c(e)}):(0,Gt.jsxs)("div",{className:"p-3",children:[(0,Gt.jsx)("div",{className:"text-white font-rajdhani font-bold text-base",children:e.title||"Notification"}),(0,Gt.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:e.message}),(0,Gt.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:Zt(e.created_at,null===t||void 0===t?void 0:t.timezone_offset)})]})};return(0,Gt.jsx)("div",{className:"min-h-screen bg-surface-primary",children:(0,Gt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Gt.jsx)("div",{className:"mb-8",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h1",{className:"text-3xl font-rajdhani font-bold text-white mb-2",children:"\ud83d\udd14 Notifications"}),(0,Gt.jsx)("p",{className:"text-text-secondary",children:s>0?"You have ".concat(s," unread notifications"):"All notifications are read"})]}),s>0&&(0,Gt.jsx)("button",{onClick:l,className:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary-dark transition-colors",children:"Mark all as read"})]})}),(0,Gt.jsx)("div",{className:"mb-6 bg-surface-card border border-accent-primary border-opacity-30 rounded-lg p-4",children:(0,Gt.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("label",{className:"text-sm text-text-secondary",children:"Status:"}),(0,Gt.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"px-3 py-1 bg-surface-sidebar border border-border-primary rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary",children:[(0,Gt.jsx)("option",{value:"all",children:"All"}),(0,Gt.jsx)("option",{value:"unread",children:"Unread"}),(0,Gt.jsx)("option",{value:"read",children:"Read"})]})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("label",{className:"text-sm text-text-secondary",children:"Type:"}),(0,Gt.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"px-3 py-1 bg-surface-sidebar border border-border-primary rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary",children:[(0,Gt.jsx)("option",{value:"all",children:"All types"}),(0,Gt.jsx)("option",{value:"bet_accepted",children:"Bet Accepted"}),(0,Gt.jsx)("option",{value:"match_result",children:"Match Results"}),(0,Gt.jsx)("option",{value:"commission_freeze",children:"Commission Freeze"}),(0,Gt.jsx)("option",{value:"gem_gift",children:"Gem Gifts"}),(0,Gt.jsx)("option",{value:"system_message",children:"System Messages"}),(0,Gt.jsx)("option",{value:"admin_notification",children:"Admin Notifications"})]})]})]})}),(0,Gt.jsx)("div",{className:"space-y-4",children:n?(0,Gt.jsx)("div",{className:"text-center py-8",children:(0,Gt.jsx)("div",{className:"mx-auto",children:(0,Gt.jsx)(ga,{size:32,ariaLabel:"Loading notifications"})})}):0===g.length?(0,Gt.jsxs)("div",{className:"text-center py-12",children:[(0,Gt.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udced"}),(0,Gt.jsx)("h3",{className:"text-lg font-rajdhani font-bold text-white mb-2",children:"No notifications"}),(0,Gt.jsx)("p",{className:"text-text-secondary",children:"all"===h?"You have no notifications yet":"unread"===h?"All notifications are read":"No read notifications"})]}):g.map((e=>(0,Gt.jsxs)("div",{className:"relative bg-surface-card border border-gray-700 rounded-lg p-0 cursor-pointer hover:bg-surface-sidebar transition-colors border-l-4 ".concat(f(e.priority)," ").concat(e.is_read?"":"ring-1 ring-accent-primary ring-opacity-30"),onClick:t=>(async(e,t)=>{t&&(t.preventDefault(),t.stopPropagation()),e.is_read||await i(e.id)})(e,t),children:[!e.is_read&&(0,Gt.jsx)("span",{className:"absolute top-2 left-2 w-2 h-2 bg-red-500 rounded-full"}),(0,Gt.jsx)("div",{className:"flex items-center pr-10 py-4 min-h-[112px]",children:b(e)}),(0,Gt.jsx)("button",{"aria-label":"Delete notification",className:"absolute bottom-2 right-3 text-gray-500 hover:text-red-400 transition-colors p-1 z-10",onClick:t=>{t.preventDefault(),t.stopPropagation(),c(e.id)},children:(0,Gt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id)))}),g.length>=20&&(0,Gt.jsx)("div",{className:"text-center mt-8",children:(0,Gt.jsx)("button",{onClick:()=>u((e=>e+1)),disabled:n,className:"px-6 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary-dark disabled:opacity-50 transition-colors",children:n?"Loading...":"Load more"})})]})})},Du="https://income-bot-3.preview.emergentagent.com",Ru=e=>{let{onBackToLogin:t}=e;const[a,s]=(0,r.useState)("request"),[n,o]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),y=e=>{f(e),b("")},v=e=>{b(e),f("")},j=async e=>{if(e.preventDefault(),n.trim()){x(!0);try{await Pt.post("".concat(Du,"/auth/request-password-reset"),{email:n.trim()});y("\u0415\u0441\u043b\u0438 email \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043d\u0430 \u043d\u0435\u0433\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0434\u043b\u044f \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"),s("confirm")}catch(g){var t,a;console.error("Password reset request error:",g),v((null===(t=g.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430")}finally{x(!1)}}else v("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email \u0430\u0434\u0440\u0435\u0441")};return"request"===a?(0,Gt.jsx)("div",{className:"min-h-screen bg-surface-primary flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Gt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h1",{className:"text-4xl font-bold text-accent-primary font-rajdhani mb-2",children:"GemPlay"}),(0,Gt.jsx)("h2",{className:"text-2xl font-semibold text-white font-rajdhani mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email \u0430\u0434\u0440\u0435\u0441, \u0438 \u043c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043c \u0432\u0430\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u0434\u043b\u044f \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"})]}),p&&(0,Gt.jsx)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4 mb-4",children:(0,Gt.jsx)("p",{className:"text-green-300 text-sm font-roboto",children:p})}),g&&(0,Gt.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-4",children:(0,Gt.jsx)("p",{className:"text-red-300 text-sm font-roboto",children:g})}),(0,Gt.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email \u0430\u0434\u0440\u0435\u0441"}),(0,Gt.jsx)("input",{id:"email",name:"email",type:"email",value:n,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Email \u0430\u0434\u0440\u0435\u0441",required:!0,disabled:m})]}),(0,Gt.jsx)("div",{children:(0,Gt.jsx)("button",{type:"submit",disabled:m,className:"w-full py-3 px-4 font-bold text-sm font-rajdhani rounded-lg transition-colors ".concat(m?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-accent-primary text-white hover:bg-accent-primary/90"),children:m?"\u041e\u0422\u041f\u0420\u0410\u0412\u041a\u0410...":"\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c \u0421\u0421\u042b\u041b\u041a\u0423"})}),(0,Gt.jsx)("div",{className:"text-center",children:(0,Gt.jsx)("button",{type:"button",onClick:t,className:"text-accent-primary hover:text-accent-primary/80 font-roboto text-sm font-medium",children:"\u2190 \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0432\u0445\u043e\u0434\u0443"})})]})]})}):(0,Gt.jsx)("div",{className:"min-h-screen bg-surface-primary flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Gt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h1",{className:"text-4xl font-bold text-accent-primary font-rajdhani mb-2",children:"GemPlay"}),(0,Gt.jsx)("h2",{className:"text-2xl font-semibold text-white font-rajdhani mb-6",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Gt.jsx)("p",{className:"text-text-secondary text-sm",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430 \u0438 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),p&&(0,Gt.jsx)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4 mb-4",children:(0,Gt.jsx)("p",{className:"text-green-300 text-sm font-roboto",children:p})}),g&&(0,Gt.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-4",children:(0,Gt.jsx)("p",{className:"text-red-300 text-sm font-roboto",children:g})}),(0,Gt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim())if(c)if(c.length<8)v("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");else if(c===u){x(!0);try{await Pt.post("".concat(Du,"/auth/reset-password"),{token:i.trim(),new_password:c});y("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0451\u043d! \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u0441 \u043d\u043e\u0432\u044b\u043c \u043f\u0430\u0440\u043e\u043b\u0435\u043c"),setTimeout((()=>{t()}),2e3)}catch(g){var a,s;console.error("Password reset error:",g),v((null===(a=g.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.detail)||"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0431\u0440\u043e\u0441\u0435 \u043f\u0430\u0440\u043e\u043b\u044f")}finally{x(!1)}}else v("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");else v("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");else v("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430")},className:"space-y-6",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{htmlFor:"token",className:"sr-only",children:"\u0422\u043e\u043a\u0435\u043d \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"}),(0,Gt.jsx)("input",{id:"token",name:"token",type:"text",value:i,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"\u0422\u043e\u043a\u0435\u043d \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",required:!0,disabled:m})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{htmlFor:"new-password",className:"sr-only",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Gt.jsx)("input",{id:"new-password",name:"new-password",type:"password",value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c (\u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",required:!0,disabled:m,minLength:8})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{htmlFor:"confirm-password",className:"sr-only",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),(0,Gt.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",value:u,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,disabled:m,minLength:8})]}),(0,Gt.jsx)("div",{children:(0,Gt.jsx)("button",{type:"submit",disabled:m,className:"w-full py-3 px-4 font-bold text-sm font-rajdhani rounded-lg transition-colors ".concat(m?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-accent-primary text-white hover:bg-accent-primary/90"),children:m?"\u0421\u041e\u0425\u0420\u0410\u041d\u0415\u041d\u0418\u0415...":"\u0418\u0417\u041c\u0415\u041d\u0418\u0422\u042c \u041f\u0410\u0420\u041e\u041b\u042c"})}),(0,Gt.jsxs)("div",{className:"text-center space-y-2",children:[(0,Gt.jsx)("button",{type:"button",onClick:()=>s("request"),className:"block mx-auto text-text-secondary hover:text-white font-roboto text-sm",children:"\u2190 \u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e"}),(0,Gt.jsx)("button",{type:"button",onClick:t,className:"block mx-auto text-accent-primary hover:text-accent-primary/80 font-roboto text-sm font-medium",children:"\u2190 \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0432\u0445\u043e\u0434\u0443"})]})]})]})})},Bu=e=>{let{onLogin:t,onError:a}=e;(0,r.useEffect)((()=>{const e=()=>{console.warn("Google Client ID \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d")};(()=>{if(window.google)return;const t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,t.onload=e,document.head.appendChild(t)})()}),[]);return(0,Gt.jsxs)("button",{type:"button",onClick:()=>{window.google?a("Google \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430"):a("Google Sign-In API \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d")},className:"w-full flex items-center justify-center px-4 py-3 border border-border-primary rounded-lg bg-white hover:bg-gray-50 transition-colors",children:[(0,Gt.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Gt.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Gt.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Gt.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,Gt.jsx)("span",{className:"text-gray-700 font-roboto font-medium",children:"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Google"})]})},Fu="".concat("https://income-bot-3.preview.emergentagent.com","/api"),Wu=e=>{let{onLogin:t,setUser:a,authView:s,setAuthView:n}=e;const[o,i]=(0,r.useState)(!0),[l,c]=(0,r.useState)({email:"",password:"",username:"",gender:"male"}),[u,h]=(0,r.useState)(!1),[m,x]=(0,r.useState)("");if("password-reset"===s)return(0,Gt.jsx)(Ru,{onBackToLogin:()=>n("login")});return(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center p-8 min-h-app",children:(0,Gt.jsxs)("div",{className:"bg-surface-card border border-border-primary rounded-xl p-8 max-w-md w-full",children:[(0,Gt.jsxs)("div",{className:"flex flex-col items-center mb-2",children:[(0,Gt.jsx)("img",{src:"/gems/gem-green.svg",alt:"GemPlay Logo",className:"w-16 h-16 mb-4"}),(0,Gt.jsx)("h1",{className:"font-russo text-3xl text-accent-primary text-center",children:"GemPlay"})]}),(0,Gt.jsx)("p",{className:"font-roboto text-text-secondary text-center mb-6",children:"PvP NFT Gem Battle Game"}),(0,Gt.jsxs)("div",{className:"flex mb-6",children:[(0,Gt.jsx)("button",{onClick:()=>i(!0),className:"flex-1 py-2 px-4 rounded-l-lg font-rajdhani font-bold transition-colors ".concat(o?"bg-accent-primary text-white":"bg-surface-sidebar text-text-secondary"),children:"LOGIN"}),(0,Gt.jsx)("button",{onClick:()=>i(!1),className:"flex-1 py-2 px-4 rounded-r-lg font-rajdhani font-bold transition-colors ".concat(o?"bg-surface-sidebar text-text-secondary":"bg-accent-primary text-white"),children:"REGISTER"})]}),(0,Gt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);try{if(o){const e=await Pt.post("".concat(Fu,"/auth/login"),{email:l.email,password:l.password});localStorage.setItem("token",e.data.access_token),e.data.refresh_token&&localStorage.setItem("refresh_token",e.data.refresh_token),a(e.data.user),t(e.data.user),qt.initializeSounds(e.data.user.role),h(!1),n("login")}else{const e=Wt(l.username);if(!e.isValid)return void alert(e.errors[0]);const a=await Pt.post("".concat(Fu,"/auth/register"),{username:l.username,email:l.email,password:l.password,gender:l.gender});alert("Registration successful! Verification token: ".concat(a.data.verification_token)),await Pt.post("".concat(Fu,"/auth/verify-email"),{token:a.data.verification_token});const s=await Pt.post("".concat(Fu,"/auth/login"),{email:l.email,password:l.password});localStorage.setItem("token",s.data.access_token),s.data.refresh_token&&localStorage.setItem("refresh_token",s.data.refresh_token),t(s.data.user)}}catch(s){s.response?alert("Login failed: ".concat(s.response.data.detail||s.message)):alert("Network error: ".concat(s.message))}finally{h(!1)}},className:"space-y-4",children:[!o&&(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("input",{type:"text",placeholder:"Username",value:l.username,onChange:e=>{Vt(e.target.value,(e=>c(d(d({},l),{},{username:e}))),x)},className:"w-full px-4 py-3 bg-surface-sidebar border rounded-lg text-white font-roboto ".concat(m?"border-red-500":"border-border-primary"),required:!0,autoComplete:"username"}),m&&(0,Gt.jsx)("p",{className:"mt-1 text-xs text-red-400 font-roboto",children:m})]}),(0,Gt.jsxs)("select",{value:l.gender,onChange:e=>c(d(d({},l),{},{gender:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",children:[(0,Gt.jsx)("option",{value:"male",children:"Male"}),(0,Gt.jsx)("option",{value:"female",children:"Female"})]})]}),(0,Gt.jsx)("input",{type:"email",placeholder:"Email",value:l.email,onChange:e=>c(d(d({},l),{},{email:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0,autoComplete:"email"}),(0,Gt.jsx)("input",{type:"password",placeholder:"Password",value:l.password,onChange:e=>c(d(d({},l),{},{password:e.target.value})),className:"w-full px-4 py-3 bg-surface-sidebar border border-border-primary rounded-lg text-white font-roboto",required:!0,autoComplete:o?"current-password":"new-password"}),(0,Gt.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3 bg-gradient-accent text-white font-rajdhani font-bold text-lg rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:u?"LOADING...":o?"LOGIN":"REGISTER"}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Gt.jsx)("div",{className:"w-full border-t border-border-primary"})}),(0,Gt.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Gt.jsx)("span",{className:"px-2 bg-surface-primary text-text-secondary font-roboto",children:"\u0438\u043b\u0438"})})]}),(0,Gt.jsx)("div",{className:"mt-4",children:(0,Gt.jsx)(Bu,{onLogin:t,onError:e=>alert(e)})})]}),o&&(0,Gt.jsx)("div",{className:"text-center mt-4",children:(0,Gt.jsx)("button",{type:"button",onClick:()=>n("password-reset"),className:"text-accent-primary hover:text-accent-primary/80 font-roboto text-sm",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})})]})]})})};const Vu=function(){const[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)("lobby"),[n,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)("login"),[u,h]=(0,r.useState)(!1),m=((0,r.useRef)(0),async()=>{const e=localStorage.getItem("token"),a=localStorage.getItem("refresh_token");if(e)try{const a=await Pt.get("".concat(Fu,"/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data),qt.initializeSounds(a.data.role),l(!1)}catch(n){var s;if(401===(null===(s=n.response)||void 0===s?void 0:s.status)&&a)try{const e=await Pt.post("".concat(Fu,"/auth/refresh"),{refresh_token:a},{headers:{"Content-Type":"application/json"}});return localStorage.setItem("token",e.data.access_token),e.data.refresh_token&&localStorage.setItem("refresh_token",e.data.refresh_token),t(e.data.user),qt.initializeSounds(e.data.user.role),void l(!1)}catch(o){var r;console.error("Token refresh failed:",(null===(r=o.response)||void 0===r?void 0:r.data)||o.message)}localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),l(!1)}else l(!1)});(0,r.useEffect)((()=>{m()}),[]),(0,r.useEffect)((()=>{const e=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};return e(),window.addEventListener("orientationchange",e,{passive:!0}),()=>window.removeEventListener("orientationchange",e)}),[]);const x=e=>{t(e),l(!1)},p=()=>{o(!0)},f=()=>{localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),t(null),s("lobby"),o(!1)};return i?(0,Gt.jsx)("div",{className:"min-h-screen bg-gradient-primary flex items-center justify-center",children:(0,Gt.jsx)("div",{className:"text-white text-xl font-roboto",children:"Loading..."})}):e?(0,Gt.jsx)(Kt,{children:(0,Gt.jsx)(da,{children:n?(0,Gt.jsx)(zu,{user:e,onClose:()=>{o(!1)}}):(0,Gt.jsxs)("div",{className:"min-h-screen bg-gradient-primary flex min-h-app",children:[(0,Gt.jsx)("div",{className:"hidden md:block",children:(0,Gt.jsx)(ra,{currentView:a,setCurrentView:s,user:e,isCollapsed:u,setIsCollapsed:h,onOpenAdminPanel:p,onLogout:f})}),(0,Gt.jsxs)("div",{className:"flex-1 flex flex-col min-h-screen",children:[(0,Gt.jsx)("nav",{className:"sticky top-0 z-40 bg-surface-sidebar border-b border-border-primary p-4 flex-shrink-0 hidden md:block",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Gt.jsx)("div",{className:"block",children:(0,Gt.jsx)("h1",{className:"text-xl font-russo text-text-primary capitalize",children:"notifications"===a?"Notifications":"my-bets"===a?"My Bets":a})}),(0,Gt.jsx)("div",{className:"block",children:(0,Gt.jsx)(Ha,{user:e})})]})}),(0,Gt.jsx)(Iu,{currentView:a,setCurrentView:s,user:e,onOpenAdminPanel:p,onLogout:f,totalBalance:e?(e.virtual_balance||0)+(e.frozen_balance||0):0}),(0,Gt.jsx)("div",{className:"flex-1 overflow-auto pb-20 md:pb-0",children:(0,Gt.jsxs)("div",{className:"min-w-0 px-4 md:px-0",children:["lobby"===a&&(0,Gt.jsx)(Fa,{user:e,onUpdateUser:m,setCurrentView:s}),"my-bets"===a&&(0,Gt.jsx)(Va,{user:e,onUpdateUser:m}),"profile"===a&&(0,Gt.jsx)(Ya,{user:e,onUpdateUser:m,setCurrentView:s,onOpenAdminPanel:p,onLogout:f}),"shop"===a&&(0,Gt.jsx)(Ka,{user:e,onUpdateUser:m}),"inventory"===a&&(0,Gt.jsx)(es,{user:e,onUpdateUser:m}),"history"===a&&(0,Gt.jsx)(as,{user:e,onUpdateUser:m}),"notifications"===a&&(0,Gt.jsx)(Ou,{})]})})]}),(0,Gt.jsx)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-surface-sidebar border-t border-border-primary",children:(0,Gt.jsxs)("div",{className:"flex items-center justify-around py-2 px-4",children:[(0,Gt.jsx)("button",{onClick:()=>s("lobby"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("lobby"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Gt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Gt.jsx)("button",{onClick:()=>s("my-bets"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("my-bets"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Gt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Gt.jsx)("button",{onClick:()=>s("shop"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("shop"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Gt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})})}),(0,Gt.jsx)("button",{onClick:()=>s("inventory"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("inventory"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Gt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Gt.jsx)("button",{onClick:()=>s("leaderboard"),className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all duration-300 ".concat("leaderboard"===a?"text-accent-primary bg-accent-primary/10":"text-gray-400 hover:text-white"),children:(0,Gt.jsx)("svg",{className:"w-6 h-6 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),(0,Gt.jsx)(vu,{})]})})}):(0,Gt.jsx)(Wu,{onLogin:x,setUser:t,authView:c,setAuthView:d})};let Uu=!1,Hu=[];const qu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return e.includes("/auth/login")||e.includes("/auth/register")||e.includes("/auth/refresh")}catch(t){return!1}},Gu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Hu.forEach((a=>{e?a.reject(e):a.resolve(t)})),Hu=[]};Pt.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&!qu(null===e||void 0===e?void 0:e.url)&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),Pt.interceptors.response.use((e=>e),(async e=>{var t,a;const s=e.config||{};if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&qu(s.url)){try{localStorage.removeItem("token"),localStorage.removeItem("refresh_token")}catch(r){}return Promise.reject(e)}if(401===(null===(a=e.response)||void 0===a?void 0:a.status)&&!s._retry){if(Uu)return new Promise(((e,t)=>{Hu.push({resolve:e,reject:t})})).then((e=>(s.headers=s.headers||{},s.headers.Authorization="Bearer ".concat(e),Pt(s)))).catch((e=>Promise.reject(e)));s._retry=!0,Uu=!0;const t=localStorage.getItem("refresh_token");if(!t)return $u(),Promise.reject(e);try{const e=await Pt.post("".concat(Xd,"/auth/refresh"),{refresh_token:t},{headers:{"Content-Type":"application/json"}}),{access_token:a,refresh_token:r}=e.data;return localStorage.setItem("token",a),r&&localStorage.setItem("refresh_token",r),Pt.defaults.headers.common.Authorization="Bearer ".concat(a),Gu(null,a),s.headers=s.headers||{},s.headers.Authorization="Bearer ".concat(a),Pt(s)}catch(n){return Gu(n,null),$u(),Promise.reject(n)}finally{Uu=!1}}return Promise.reject(e)}));const $u=()=>{localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),window.showErrorRU&&window.showErrorRU("Session expired. Please sign in again."),"/"!==window.location.pathname&&window.location.reload()};n.createRoot(document.getElementById("root")).render((0,Gt.jsx)(r.StrictMode,{children:(0,Gt.jsx)(Vu,{})}))})();
//# sourceMappingURL=main.01c64590.js.map